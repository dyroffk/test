/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "//guardtower.vidyard.dev/assets/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 13);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* unknown exports provided */
/* all exports used */
/*!***************************************!*\
  !*** ../~/script-loader/addScript.js ***!
  \***************************************/
/***/ (function(module, exports) {

eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(src) {\r\n\tif (typeof execScript !== \"undefined\")\r\n\t\texecScript(src);\r\n\telse\r\n\t\teval.call(null, src);\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vfi9zY3JpcHQtbG9hZGVyL2FkZFNjcmlwdC5qcz83YWFhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNyYykge1xyXG5cdGlmICh0eXBlb2YgZXhlY1NjcmlwdCAhPT0gXCJ1bmRlZmluZWRcIilcclxuXHRcdGV4ZWNTY3JpcHQoc3JjKTtcclxuXHRlbHNlXHJcblx0XHRldmFsLmNhbGwobnVsbCwgc3JjKTtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 1 */
/* unknown exports provided */
/* all exports used */
/*!********************************************!*\
  !*** ./integrations/adobe/vidyard_main.js ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(/*! jquery */ 6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__video_player__ = __webpack_require__(/*! ./video_player */ 5);\n/*globals Configuration, Vidyard*/\n// We require a Configuration object in the global namespace:\n//  window.Configuration = {\n//    PUBLISHER: 'vidyard',\n//    TRACKING_SERVER: 'cdegroot.d1.sc.omtrdc.net',\n//    HEARTBEAT_TRACKING_SERVER: 'cdegroot.d1.hb.omtrdc.net',\n//    MCID: '7BE808E55293DD780A490D4D@AdobeOrg',\n//    NAMESPACE: 'cdegroot',\n//    CHANNEL: 'vidyard',\n//    RSID: 'cdgvidyard'\n//  };\n//\n// adobe Libraries are located: https://github.com/adobe-Marketing-Cloud/video-heartbeat/tree/master/sdks/js\n\n\n\n\nfunction setupOmniture(player) {\n  // Connect Adobe Omniture events to Vidyard Player callbacks\n  let chapter = -1;\n  let omniturePlayer;\n\n  player.on(\"ready\", function () {\n    omniturePlayer = new __WEBPACK_IMPORTED_MODULE_1__video_player__[\"a\" /* default */](player);\n    console.log(\"Created omniture player\");\n    \n    player.on(\"seek\", function () {\n      omniturePlayer._onSeekComplete();\n    });\n    player.on(\"beforeSeek\", function () {\n      omniturePlayer._onSeekStart();\n    });\n    player.on(\"pause\", function () {\n      omniturePlayer._onPause();\n    });\n    player.on(\"play\", function () {\n      if (chapter !== player.getCurrentChapter()) {\n        if (chapter === -1) {\n          omniturePlayer._startVideo();\n        }\n        omniturePlayer._onChapterStart();\n        chapter += 1;\n      }\n      omniturePlayer._onPlay();\n    });\n    player.on(\"playerComplete\", function () {\n      omniturePlayer._onComplete();\n      chapter = 0;\n    });\n    player.on(\"chapterComplete\", function () {\n      chapter = player.getCurrentChapter() - 1; //this isn't strictly necessary, but would correct if we got into an unusual state\n      omniturePlayer._onChapterComplete();\n    });\n  });\n}\n\n__WEBPACK_IMPORTED_MODULE_0_jquery___default()(() => {\n  // Initialize\n  let videos;\n  let isEmpty = true;\n\n  try {\n    videos = new Vidyard.players();\n  } catch (e) {\n    throw new Error(\"The Vidyard API must be loaded before this script can execute\");\n  }\n\n  for (let i in videos) {\n    if (videos.hasOwnProperty(i)) {\n      setupOmniture(videos[i]);\n      isEmpty = false;\n    }\n  }\n  if (isEmpty) {\n    console.warn(\"No Vidyard Players found. (include this script below player embed codes)\");\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvdmlkeWFyZF9tYWluLmpzP2JhNDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWxzIENvbmZpZ3VyYXRpb24sIFZpZHlhcmQqL1xuLy8gV2UgcmVxdWlyZSBhIENvbmZpZ3VyYXRpb24gb2JqZWN0IGluIHRoZSBnbG9iYWwgbmFtZXNwYWNlOlxuLy8gIHdpbmRvdy5Db25maWd1cmF0aW9uID0ge1xuLy8gICAgUFVCTElTSEVSOiAndmlkeWFyZCcsXG4vLyAgICBUUkFDS0lOR19TRVJWRVI6ICdjZGVncm9vdC5kMS5zYy5vbXRyZGMubmV0Jyxcbi8vICAgIEhFQVJUQkVBVF9UUkFDS0lOR19TRVJWRVI6ICdjZGVncm9vdC5kMS5oYi5vbXRyZGMubmV0Jyxcbi8vICAgIE1DSUQ6ICc3QkU4MDhFNTUyOTNERDc4MEE0OTBENERAQWRvYmVPcmcnLFxuLy8gICAgTkFNRVNQQUNFOiAnY2RlZ3Jvb3QnLFxuLy8gICAgQ0hBTk5FTDogJ3ZpZHlhcmQnLFxuLy8gICAgUlNJRDogJ2NkZ3ZpZHlhcmQnXG4vLyAgfTtcbi8vXG4vLyBhZG9iZSBMaWJyYXJpZXMgYXJlIGxvY2F0ZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hZG9iZS1NYXJrZXRpbmctQ2xvdWQvdmlkZW8taGVhcnRiZWF0L3RyZWUvbWFzdGVyL3Nka3MvanNcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCBWaWRlb1BsYXllciBmcm9tICcuL3ZpZGVvX3BsYXllcic7XG5cbmZ1bmN0aW9uIHNldHVwT21uaXR1cmUocGxheWVyKSB7XG4gIC8vIENvbm5lY3QgQWRvYmUgT21uaXR1cmUgZXZlbnRzIHRvIFZpZHlhcmQgUGxheWVyIGNhbGxiYWNrc1xuICBsZXQgY2hhcHRlciA9IC0xO1xuICBsZXQgb21uaXR1cmVQbGF5ZXI7XG5cbiAgcGxheWVyLm9uKFwicmVhZHlcIiwgZnVuY3Rpb24gKCkge1xuICAgIG9tbml0dXJlUGxheWVyID0gbmV3IFZpZGVvUGxheWVyKHBsYXllcik7XG4gICAgY29uc29sZS5sb2coXCJDcmVhdGVkIG9tbml0dXJlIHBsYXllclwiKTtcbiAgICBcbiAgICBwbGF5ZXIub24oXCJzZWVrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG9tbml0dXJlUGxheWVyLl9vblNlZWtDb21wbGV0ZSgpO1xuICAgIH0pO1xuICAgIHBsYXllci5vbihcImJlZm9yZVNlZWtcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgb21uaXR1cmVQbGF5ZXIuX29uU2Vla1N0YXJ0KCk7XG4gICAgfSk7XG4gICAgcGxheWVyLm9uKFwicGF1c2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgb21uaXR1cmVQbGF5ZXIuX29uUGF1c2UoKTtcbiAgICB9KTtcbiAgICBwbGF5ZXIub24oXCJwbGF5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChjaGFwdGVyICE9PSBwbGF5ZXIuZ2V0Q3VycmVudENoYXB0ZXIoKSkge1xuICAgICAgICBpZiAoY2hhcHRlciA9PT0gLTEpIHtcbiAgICAgICAgICBvbW5pdHVyZVBsYXllci5fc3RhcnRWaWRlbygpO1xuICAgICAgICB9XG4gICAgICAgIG9tbml0dXJlUGxheWVyLl9vbkNoYXB0ZXJTdGFydCgpO1xuICAgICAgICBjaGFwdGVyICs9IDE7XG4gICAgICB9XG4gICAgICBvbW5pdHVyZVBsYXllci5fb25QbGF5KCk7XG4gICAgfSk7XG4gICAgcGxheWVyLm9uKFwicGxheWVyQ29tcGxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgb21uaXR1cmVQbGF5ZXIuX29uQ29tcGxldGUoKTtcbiAgICAgIGNoYXB0ZXIgPSAwO1xuICAgIH0pO1xuICAgIHBsYXllci5vbihcImNoYXB0ZXJDb21wbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGFwdGVyID0gcGxheWVyLmdldEN1cnJlbnRDaGFwdGVyKCkgLSAxOyAvL3RoaXMgaXNuJ3Qgc3RyaWN0bHkgbmVjZXNzYXJ5LCBidXQgd291bGQgY29ycmVjdCBpZiB3ZSBnb3QgaW50byBhbiB1bnVzdWFsIHN0YXRlXG4gICAgICBvbW5pdHVyZVBsYXllci5fb25DaGFwdGVyQ29tcGxldGUoKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbiQoKCkgPT4ge1xuICAvLyBJbml0aWFsaXplXG4gIGxldCB2aWRlb3M7XG4gIGxldCBpc0VtcHR5ID0gdHJ1ZTtcblxuICB0cnkge1xuICAgIHZpZGVvcyA9IG5ldyBWaWR5YXJkLnBsYXllcnMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBWaWR5YXJkIEFQSSBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgdGhpcyBzY3JpcHQgY2FuIGV4ZWN1dGVcIik7XG4gIH1cblxuICBmb3IgKGxldCBpIGluIHZpZGVvcykge1xuICAgIGlmICh2aWRlb3MuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIHNldHVwT21uaXR1cmUodmlkZW9zW2ldKTtcbiAgICAgIGlzRW1wdHkgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzRW1wdHkpIHtcbiAgICBjb25zb2xlLndhcm4oXCJObyBWaWR5YXJkIFBsYXllcnMgZm91bmQuIChpbmNsdWRlIHRoaXMgc2NyaXB0IGJlbG93IHBsYXllciBlbWJlZCBjb2RlcylcIik7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9pbnRlZ3JhdGlvbnMvYWRvYmUvdmlkeWFyZF9tYWluLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */
/* exports provided: default */
/* exports used: default */
/*!********************************************!*\
  !*** ./integrations/adobe/video_player.js ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__(/*! script-loader!./lib/visitor_api-2.4.0.js */ 12)\n__webpack_require__(/*! script-loader!./lib/app_measurement-2.3.0.unmin.js */ 18)\n//require('script-loader!./lib/app_measurement-2.4.0.js')\n__webpack_require__(/*! script-loader!./lib/video_heartbeat-2.0.2.min.js */ 11)\n\nconst ADB = window.ADB;\n\nconst MediaHeartbeat = ADB.va.MediaHeartbeat;\nconst MediaHeartbeatConfig = ADB.va.MediaHeartbeatConfig;\nconst MediaHeartbeatDelegate = ADB.va.MediaHeartbeatDelegate;\n\nclass VidyardMediaHeartbeatDelegate extends MediaHeartbeatDelegate {\n  constructor(player) {\n    super();\n    this._player = player;\n  }\n\n  getCurrentPlaybackTime() {\n    return this._player.getPlayhead();\n  }\n\n  getQoSObject() {\n    // Optional Quality of Service metrics can be sent to Adobe if available\n    // return MediaHeartbeat.createQoSObject(<bitrate>, <startuptime>, <fps>, <droppedFrames>);\n    return null;\n  }\n}\n\nclass VideoPlayer {\n\n  constructor(player) {\n    this.player = player;\n    this.playerName = player.metadata.name;\n    this.videoId = player.uuid;\n    this.streamType = ADB.va.ASSET_TYPE_VOD;\n    this.mediaHeartbeat = null;\n\n    this._videoLoaded = false;\n    this._videoInfo = null;\n\n    this.setupAdobe();\n  }\n\n  setupAdobe() {\n    const visitor = Visitor.getInstance(Configuration.MCID, {\n      trackingServer: Configuration.TRACKING_SERVER,\n      trackingServerSecure: Configuration.SECURE_TRACKING_SERVER || Configuration.TRACKING_SERVER,\n      marketingCloudServer: Configuration.TRACKING_SERVER,\n      marketingCloudServerSecure: Configuration.SECURE_TRACKING_SERVER || Configuration.TRACKING_SERVER,\n      cookieDomain: document.location.hostname,\n    });\n\n    // Media Heartbeat initialization & config\n    const mediaConfig = new MediaHeartbeatConfig();\n    mediaConfig.trackingServer = Configuration.HEARTBEAT_TRACKING_SERVER;\n    mediaConfig.playerName = 'VidyardPlayer';\n    mediaConfig.channel = Configuration.CHANNEL;\n    mediaConfig.appVersion = ADB.va.MediaHeartbeat.version();\n    mediaConfig.ssl = document.location.protocol === 'https:';\n    mediaConfig.ovp = 'Vidyard';    // Online Video Platform\n    mediaConfig.debugLogging = Configuration.DEBUG || false;\n\n    const appMeasurement = s_gi(Configuration.RSID);\n    appMeasurement.account = Configuration.RSID;\n    appMeasurement.trackingServer = Configuration.TRACKING_SERVER;\n    appMeasurement.trackingServerSecure = Configuration.SECURE_TRACKING_SERVER || Configuration.TRACKING_SERVER;\n    appMeasurement.visitorNamespace = Configuration.NAMESPACE;\n    appMeasurement.pageName = document.title || document.location.href;\n    appMeasurement.debugTracking = Configuration.DEBUG || false;\n\n    /*********  VISITOR ID SERVICE CONFIG - requires VisitorAPI.js *********/\n    appMeasurement.visitor = Visitor.getInstance(Configuration.MCID);\n\n    appMeasurement.t();      // Trigger page view\n\n    const mediaDelegate = new VidyardMediaHeartbeatDelegate(this);\n    this.mediaHeartbeat = new MediaHeartbeat(mediaDelegate, mediaConfig, appMeasurement);\n  }\n\n  destroy() {\n    if (this.player) {\n      this.player = null;\n    }\n    if (this.mediaHeartbeat) {\n      this.mediaHeartbeat = null;\n    }\n  }\n\n  getVideoInfo() {\n    this._videoInfo.playhead = this.getPlayhead();\n    return this._videoInfo;\n  }\n\n  getDuration() {\n    return this.player.metadata.length_in_seconds;\n  }\n\n  getChapterOffset(chapter) {\n    let sum = 0;\n    for (let i = 0; i < chapter; i++ ) {\n      sum += this.player.metadata.chapters_attributes[i].video_attributes.length_in_seconds;\n    }\n    return sum;\n  }\n\n  getPlayhead() {\n    const offset = this.getChapterOffset(this.player.getCurrentChapter());\n    return this.player.status.currentTime + offset;\n  }\n\n  getChapterInfo() {\n    const chapter = this.player.getCurrentChapter();\n    return MediaHeartbeat.createChapterObject(\n      this.player.metadata.chapters_attributes[chapter].video_attributes.name,\n      (chapter + 1),\n      this.player.metadata.chapters_attributes[chapter].video_attributes.length_in_seconds,\n      this.getChapterOffset(chapter)\n    );\n  }\n\n  _onPlay(e) {\n    if (!this._videoLoaded) {\n      this._startVideo();\n    }\n    this.mediaHeartbeat.trackPlay();\n  }\n\n  _startVideo() {\n    this._videoInfo = ADB.va.MediaHeartbeat.createMediaObject(\n        this.playerName,\n        this.videoId,\n        this.getDuration(),\n        this.streamType);\n\n    //Start Session\n    this.mediaHeartbeat.trackSessionStart(this._videoInfo, null);\n    this._videoLoaded = true;\n  }\n\n  _onPause() {\n    this.mediaHeartbeat.trackPause();\n  }\n\n  _onSeekStart() {\n    this.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.SeekStart);\n  }\n\n  _onSeekComplete() {\n    this.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.SeekComplete);\n  }\n\n  _onComplete() {\n    this.mediaHeartbeat.trackComplete();\n    this.mediaHeartbeat.trackSessionEnd();\n    this._isLoaded = false;\n  }\n\n  _onChapterStart() {\n    this.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterStart,\n       this.getChapterInfo(), null);\n  }\n\n  _onChapterComplete() {\n    this.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterComplete);\n  }\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = VideoPlayer;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvdmlkZW9fcGxheWVyLmpzPzJlZDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHVCQUF1Qjs7QUFFdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsYUFBYTtBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnc2NyaXB0LWxvYWRlciEuL2xpYi92aXNpdG9yX2FwaS0yLjQuMC5qcycpXG5yZXF1aXJlKCdzY3JpcHQtbG9hZGVyIS4vbGliL2FwcF9tZWFzdXJlbWVudC0yLjMuMC51bm1pbi5qcycpXG4vL3JlcXVpcmUoJ3NjcmlwdC1sb2FkZXIhLi9saWIvYXBwX21lYXN1cmVtZW50LTIuNC4wLmpzJylcbnJlcXVpcmUoJ3NjcmlwdC1sb2FkZXIhLi9saWIvdmlkZW9faGVhcnRiZWF0LTIuMC4yLm1pbi5qcycpXG5cbmNvbnN0IEFEQiA9IHdpbmRvdy5BREI7XG5cbmNvbnN0IE1lZGlhSGVhcnRiZWF0ID0gQURCLnZhLk1lZGlhSGVhcnRiZWF0O1xuY29uc3QgTWVkaWFIZWFydGJlYXRDb25maWcgPSBBREIudmEuTWVkaWFIZWFydGJlYXRDb25maWc7XG5jb25zdCBNZWRpYUhlYXJ0YmVhdERlbGVnYXRlID0gQURCLnZhLk1lZGlhSGVhcnRiZWF0RGVsZWdhdGU7XG5cbmNsYXNzIFZpZHlhcmRNZWRpYUhlYXJ0YmVhdERlbGVnYXRlIGV4dGVuZHMgTWVkaWFIZWFydGJlYXREZWxlZ2F0ZSB7XG4gIGNvbnN0cnVjdG9yKHBsYXllcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fcGxheWVyID0gcGxheWVyO1xuICB9XG5cbiAgZ2V0Q3VycmVudFBsYXliYWNrVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyLmdldFBsYXloZWFkKCk7XG4gIH1cblxuICBnZXRRb1NPYmplY3QoKSB7XG4gICAgLy8gT3B0aW9uYWwgUXVhbGl0eSBvZiBTZXJ2aWNlIG1ldHJpY3MgY2FuIGJlIHNlbnQgdG8gQWRvYmUgaWYgYXZhaWxhYmxlXG4gICAgLy8gcmV0dXJuIE1lZGlhSGVhcnRiZWF0LmNyZWF0ZVFvU09iamVjdCg8Yml0cmF0ZT4sIDxzdGFydHVwdGltZT4sIDxmcHM+LCA8ZHJvcHBlZEZyYW1lcz4pO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZGVvUGxheWVyIHtcblxuICBjb25zdHJ1Y3RvcihwbGF5ZXIpIHtcbiAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcbiAgICB0aGlzLnBsYXllck5hbWUgPSBwbGF5ZXIubWV0YWRhdGEubmFtZTtcbiAgICB0aGlzLnZpZGVvSWQgPSBwbGF5ZXIudXVpZDtcbiAgICB0aGlzLnN0cmVhbVR5cGUgPSBBREIudmEuQVNTRVRfVFlQRV9WT0Q7XG4gICAgdGhpcy5tZWRpYUhlYXJ0YmVhdCA9IG51bGw7XG5cbiAgICB0aGlzLl92aWRlb0xvYWRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3ZpZGVvSW5mbyA9IG51bGw7XG5cbiAgICB0aGlzLnNldHVwQWRvYmUoKTtcbiAgfVxuXG4gIHNldHVwQWRvYmUoKSB7XG4gICAgY29uc3QgdmlzaXRvciA9IFZpc2l0b3IuZ2V0SW5zdGFuY2UoQ29uZmlndXJhdGlvbi5NQ0lELCB7XG4gICAgICB0cmFja2luZ1NlcnZlcjogQ29uZmlndXJhdGlvbi5UUkFDS0lOR19TRVJWRVIsXG4gICAgICB0cmFja2luZ1NlcnZlclNlY3VyZTogQ29uZmlndXJhdGlvbi5TRUNVUkVfVFJBQ0tJTkdfU0VSVkVSIHx8IENvbmZpZ3VyYXRpb24uVFJBQ0tJTkdfU0VSVkVSLFxuICAgICAgbWFya2V0aW5nQ2xvdWRTZXJ2ZXI6IENvbmZpZ3VyYXRpb24uVFJBQ0tJTkdfU0VSVkVSLFxuICAgICAgbWFya2V0aW5nQ2xvdWRTZXJ2ZXJTZWN1cmU6IENvbmZpZ3VyYXRpb24uU0VDVVJFX1RSQUNLSU5HX1NFUlZFUiB8fCBDb25maWd1cmF0aW9uLlRSQUNLSU5HX1NFUlZFUixcbiAgICAgIGNvb2tpZURvbWFpbjogZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgfSk7XG5cbiAgICAvLyBNZWRpYSBIZWFydGJlYXQgaW5pdGlhbGl6YXRpb24gJiBjb25maWdcbiAgICBjb25zdCBtZWRpYUNvbmZpZyA9IG5ldyBNZWRpYUhlYXJ0YmVhdENvbmZpZygpO1xuICAgIG1lZGlhQ29uZmlnLnRyYWNraW5nU2VydmVyID0gQ29uZmlndXJhdGlvbi5IRUFSVEJFQVRfVFJBQ0tJTkdfU0VSVkVSO1xuICAgIG1lZGlhQ29uZmlnLnBsYXllck5hbWUgPSAnVmlkeWFyZFBsYXllcic7XG4gICAgbWVkaWFDb25maWcuY2hhbm5lbCA9IENvbmZpZ3VyYXRpb24uQ0hBTk5FTDtcbiAgICBtZWRpYUNvbmZpZy5hcHBWZXJzaW9uID0gQURCLnZhLk1lZGlhSGVhcnRiZWF0LnZlcnNpb24oKTtcbiAgICBtZWRpYUNvbmZpZy5zc2wgPSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG4gICAgbWVkaWFDb25maWcub3ZwID0gJ1ZpZHlhcmQnOyAgICAvLyBPbmxpbmUgVmlkZW8gUGxhdGZvcm1cbiAgICBtZWRpYUNvbmZpZy5kZWJ1Z0xvZ2dpbmcgPSBDb25maWd1cmF0aW9uLkRFQlVHIHx8IGZhbHNlO1xuXG4gICAgY29uc3QgYXBwTWVhc3VyZW1lbnQgPSBzX2dpKENvbmZpZ3VyYXRpb24uUlNJRCk7XG4gICAgYXBwTWVhc3VyZW1lbnQuYWNjb3VudCA9IENvbmZpZ3VyYXRpb24uUlNJRDtcbiAgICBhcHBNZWFzdXJlbWVudC50cmFja2luZ1NlcnZlciA9IENvbmZpZ3VyYXRpb24uVFJBQ0tJTkdfU0VSVkVSO1xuICAgIGFwcE1lYXN1cmVtZW50LnRyYWNraW5nU2VydmVyU2VjdXJlID0gQ29uZmlndXJhdGlvbi5TRUNVUkVfVFJBQ0tJTkdfU0VSVkVSIHx8IENvbmZpZ3VyYXRpb24uVFJBQ0tJTkdfU0VSVkVSO1xuICAgIGFwcE1lYXN1cmVtZW50LnZpc2l0b3JOYW1lc3BhY2UgPSBDb25maWd1cmF0aW9uLk5BTUVTUEFDRTtcbiAgICBhcHBNZWFzdXJlbWVudC5wYWdlTmFtZSA9IGRvY3VtZW50LnRpdGxlIHx8IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG4gICAgYXBwTWVhc3VyZW1lbnQuZGVidWdUcmFja2luZyA9IENvbmZpZ3VyYXRpb24uREVCVUcgfHwgZmFsc2U7XG5cbiAgICAvKioqKioqKioqICBWSVNJVE9SIElEIFNFUlZJQ0UgQ09ORklHIC0gcmVxdWlyZXMgVmlzaXRvckFQSS5qcyAqKioqKioqKiovXG4gICAgYXBwTWVhc3VyZW1lbnQudmlzaXRvciA9IFZpc2l0b3IuZ2V0SW5zdGFuY2UoQ29uZmlndXJhdGlvbi5NQ0lEKTtcblxuICAgIGFwcE1lYXN1cmVtZW50LnQoKTsgICAgICAvLyBUcmlnZ2VyIHBhZ2Ugdmlld1xuXG4gICAgY29uc3QgbWVkaWFEZWxlZ2F0ZSA9IG5ldyBWaWR5YXJkTWVkaWFIZWFydGJlYXREZWxlZ2F0ZSh0aGlzKTtcbiAgICB0aGlzLm1lZGlhSGVhcnRiZWF0ID0gbmV3IE1lZGlhSGVhcnRiZWF0KG1lZGlhRGVsZWdhdGUsIG1lZGlhQ29uZmlnLCBhcHBNZWFzdXJlbWVudCk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnBsYXllcikge1xuICAgICAgdGhpcy5wbGF5ZXIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZWRpYUhlYXJ0YmVhdCkge1xuICAgICAgdGhpcy5tZWRpYUhlYXJ0YmVhdCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VmlkZW9JbmZvKCkge1xuICAgIHRoaXMuX3ZpZGVvSW5mby5wbGF5aGVhZCA9IHRoaXMuZ2V0UGxheWhlYWQoKTtcbiAgICByZXR1cm4gdGhpcy5fdmlkZW9JbmZvO1xuICB9XG5cbiAgZ2V0RHVyYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGxheWVyLm1ldGFkYXRhLmxlbmd0aF9pbl9zZWNvbmRzO1xuICB9XG5cbiAgZ2V0Q2hhcHRlck9mZnNldChjaGFwdGVyKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFwdGVyOyBpKysgKSB7XG4gICAgICBzdW0gKz0gdGhpcy5wbGF5ZXIubWV0YWRhdGEuY2hhcHRlcnNfYXR0cmlidXRlc1tpXS52aWRlb19hdHRyaWJ1dGVzLmxlbmd0aF9pbl9zZWNvbmRzO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xuICB9XG5cbiAgZ2V0UGxheWhlYWQoKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5nZXRDaGFwdGVyT2Zmc2V0KHRoaXMucGxheWVyLmdldEN1cnJlbnRDaGFwdGVyKCkpO1xuICAgIHJldHVybiB0aGlzLnBsYXllci5zdGF0dXMuY3VycmVudFRpbWUgKyBvZmZzZXQ7XG4gIH1cblxuICBnZXRDaGFwdGVySW5mbygpIHtcbiAgICBjb25zdCBjaGFwdGVyID0gdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudENoYXB0ZXIoKTtcbiAgICByZXR1cm4gTWVkaWFIZWFydGJlYXQuY3JlYXRlQ2hhcHRlck9iamVjdChcbiAgICAgIHRoaXMucGxheWVyLm1ldGFkYXRhLmNoYXB0ZXJzX2F0dHJpYnV0ZXNbY2hhcHRlcl0udmlkZW9fYXR0cmlidXRlcy5uYW1lLFxuICAgICAgKGNoYXB0ZXIgKyAxKSxcbiAgICAgIHRoaXMucGxheWVyLm1ldGFkYXRhLmNoYXB0ZXJzX2F0dHJpYnV0ZXNbY2hhcHRlcl0udmlkZW9fYXR0cmlidXRlcy5sZW5ndGhfaW5fc2Vjb25kcyxcbiAgICAgIHRoaXMuZ2V0Q2hhcHRlck9mZnNldChjaGFwdGVyKVxuICAgICk7XG4gIH1cblxuICBfb25QbGF5KGUpIHtcbiAgICBpZiAoIXRoaXMuX3ZpZGVvTG9hZGVkKSB7XG4gICAgICB0aGlzLl9zdGFydFZpZGVvKCk7XG4gICAgfVxuICAgIHRoaXMubWVkaWFIZWFydGJlYXQudHJhY2tQbGF5KCk7XG4gIH1cblxuICBfc3RhcnRWaWRlbygpIHtcbiAgICB0aGlzLl92aWRlb0luZm8gPSBBREIudmEuTWVkaWFIZWFydGJlYXQuY3JlYXRlTWVkaWFPYmplY3QoXG4gICAgICAgIHRoaXMucGxheWVyTmFtZSxcbiAgICAgICAgdGhpcy52aWRlb0lkLFxuICAgICAgICB0aGlzLmdldER1cmF0aW9uKCksXG4gICAgICAgIHRoaXMuc3RyZWFtVHlwZSk7XG5cbiAgICAvL1N0YXJ0IFNlc3Npb25cbiAgICB0aGlzLm1lZGlhSGVhcnRiZWF0LnRyYWNrU2Vzc2lvblN0YXJ0KHRoaXMuX3ZpZGVvSW5mbywgbnVsbCk7XG4gICAgdGhpcy5fdmlkZW9Mb2FkZWQgPSB0cnVlO1xuICB9XG5cbiAgX29uUGF1c2UoKSB7XG4gICAgdGhpcy5tZWRpYUhlYXJ0YmVhdC50cmFja1BhdXNlKCk7XG4gIH1cblxuICBfb25TZWVrU3RhcnQoKSB7XG4gICAgdGhpcy5tZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KE1lZGlhSGVhcnRiZWF0LkV2ZW50LlNlZWtTdGFydCk7XG4gIH1cblxuICBfb25TZWVrQ29tcGxldGUoKSB7XG4gICAgdGhpcy5tZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KE1lZGlhSGVhcnRiZWF0LkV2ZW50LlNlZWtDb21wbGV0ZSk7XG4gIH1cblxuICBfb25Db21wbGV0ZSgpIHtcbiAgICB0aGlzLm1lZGlhSGVhcnRiZWF0LnRyYWNrQ29tcGxldGUoKTtcbiAgICB0aGlzLm1lZGlhSGVhcnRiZWF0LnRyYWNrU2Vzc2lvbkVuZCgpO1xuICAgIHRoaXMuX2lzTG9hZGVkID0gZmFsc2U7XG4gIH1cblxuICBfb25DaGFwdGVyU3RhcnQoKSB7XG4gICAgdGhpcy5tZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KE1lZGlhSGVhcnRiZWF0LkV2ZW50LkNoYXB0ZXJTdGFydCxcbiAgICAgICB0aGlzLmdldENoYXB0ZXJJbmZvKCksIG51bGwpO1xuICB9XG5cbiAgX29uQ2hhcHRlckNvbXBsZXRlKCkge1xuICAgIHRoaXMubWVkaWFIZWFydGJlYXQudHJhY2tFdmVudChNZWRpYUhlYXJ0YmVhdC5FdmVudC5DaGFwdGVyQ29tcGxldGUpO1xuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2ludGVncmF0aW9ucy9hZG9iZS92aWRlb19wbGF5ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 6 */
/* unknown exports provided */
/* exports used: default */
/*!**********************************!*\
  !*** ../~/jquery/dist/jquery.js ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * jQuery JavaScript Library v1.11.2\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-12-17T15:27Z\n */\n\n(function( global, factory ) {\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// For CommonJS and CommonJS-like environments where a proper window is present,\n\t\t// execute the factory and get jQuery\n\t\t// For environments that do not inherently posses a window with a document\n\t\t// (such as Node.js), expose a jQuery-making factory as module.exports\n\t\t// This accentuates the need for the creation of a real window\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Can't do this because several apps including ASP.NET trace\n// the stack via arguments.caller.callee and Firefox dies if\n// you try to trace through \"use strict\" call chains. (#13335)\n// Support: Firefox 18+\n//\n\nvar deletedIds = [];\n\nvar slice = deletedIds.slice;\n\nvar concat = deletedIds.concat;\n\nvar push = deletedIds.push;\n\nvar indexOf = deletedIds.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar support = {};\n\n\n\nvar\n\tversion = \"1.11.2\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android<4.1, IE<9\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([\\da-z])/gi,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// Start with an empty selector\n\tselector: \"\",\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num != null ?\n\n\t\t\t// Return just the one element from the set\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\n\n\t\t\t// Return all the elements in a clean array\n\t\t\tslice.call( this );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\t\tret.context = this.context;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\t// (You can seed the arguments with an array of args, but this is\n\t// only used internally.)\n\teach: function( callback, args ) {\n\t\treturn jQuery.each( this, callback, args );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t}));\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor(null);\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: deletedIds.sort,\n\tsplice: deletedIds.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar src, copyIsArray, copy, name, options, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n\t\ttarget = {};\n\t}\n\n\t// extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ( (options = arguments[ i ]) != null ) {\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend({\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\t// See test/unit/core.js for details concerning isFunction.\n\t// Since version 1.3, DOM methods and functions like alert\n\t// aren't supported. They return false on IE (#2968).\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type(obj) === \"function\";\n\t},\n\n\tisArray: Array.isArray || function( obj ) {\n\t\treturn jQuery.type(obj) === \"array\";\n\t},\n\n\tisWindow: function( obj ) {\n\t\t/* jshint eqeqeq: false */\n\t\treturn obj != null && obj == obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t// adding 1 corrects loss of precision from parseFloat (#15100)\n\t\treturn !jQuery.isArray( obj ) && (obj - parseFloat( obj ) + 1) >= 0;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\tvar key;\n\n\t\t// Must be an Object.\n\t\t// Because of IE, we also have to check the presence of the constructor property.\n\t\t// Make sure that DOM nodes and window objects don't pass through, as well\n\t\tif ( !obj || jQuery.type(obj) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t// Not own constructor property must be Object\n\t\t\tif ( obj.constructor &&\n\t\t\t\t!hasOwn.call(obj, \"constructor\") &&\n\t\t\t\t!hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\") ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\t// IE8,9 Will throw exceptions on certain host objects #9897\n\t\t\treturn false;\n\t\t}\n\n\t\t// Support: IE<9\n\t\t// Handle iteration over inherited properties before own properties.\n\t\tif ( support.ownLast ) {\n\t\t\tfor ( key in obj ) {\n\t\t\t\treturn hasOwn.call( obj, key );\n\t\t\t}\n\t\t}\n\n\t\t// Own properties are enumerated firstly, so to speed up,\n\t\t// if last one is own, then all properties are own.\n\t\tfor ( key in obj ) {}\n\n\t\treturn key === undefined || hasOwn.call( obj, key );\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call(obj) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\t// Workarounds based on findings by Jim Driscoll\n\t// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\n\tglobalEval: function( data ) {\n\t\tif ( data && jQuery.trim( data ) ) {\n\t\t\t// We use execScript on Internet Explorer\n\t\t\t// We use an anonymous function so that context is window\n\t\t\t// rather than jQuery in Firefox\n\t\t\t( window.execScript || function( data ) {\n\t\t\t\twindow[ \"eval\" ].call( window, data );\n\t\t\t} )( data );\n\t\t}\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\t// args is for internal usage only\n\teach: function( obj, callback, args ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = obj.length,\n\t\t\tisArray = isArraylike( obj );\n\n\t\tif ( args ) {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// A special, fast, case for the most common use of each\n\t\t} else {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android<4.1, IE<9\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArraylike( Object(arr) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\tvar len;\n\n\t\tif ( arr ) {\n\t\t\tif ( indexOf ) {\n\t\t\t\treturn indexOf.call( arr, elem, i );\n\t\t\t}\n\n\t\t\tlen = arr.length;\n\t\t\ti = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t// Skip accessing in sparse arrays\n\t\t\t\tif ( i in arr && arr[ i ] === elem ) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t},\n\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\twhile ( j < len ) {\n\t\t\tfirst[ i++ ] = second[ j++ ];\n\t\t}\n\n\t\t// Support: IE<9\n\t\t// Workaround casting of .length to NaN on otherwise arraylike objects (e.g., NodeLists)\n\t\tif ( len !== len ) {\n\t\t\twhile ( second[j] !== undefined ) {\n\t\t\t\tfirst[ i++ ] = second[ j++ ];\n\t\t\t}\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tisArray = isArraylike( elems ),\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArray ) {\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar args, proxy, tmp;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: function() {\n\t\treturn +( new Date() );\n\t},\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n});\n\n// Populate the class2type map\njQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n});\n\nfunction isArraylike( obj ) {\n\tvar length = obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\tif ( obj.nodeType === 1 && length ) {\n\t\treturn true;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.2.0-pre\n * http://sizzlejs.com/\n *\n * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-12-16\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// General-purpose constants\n\tMAX_NEGATIVE = 1 << 31,\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// http://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\t// http://www.w3.org/TR/css3-syntax/#characters\n\tcharacterEncoding = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\n\n\t// Loosely modeled on CSS identifier characters\n\t// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"w\", \"w*\" ) + \")\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\trescape = /'|\\\\/g,\n\n\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t};\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar match, elem, m, nodeType,\n\t\t// QSA vars\n\t\ti, groups, old, nid, newContext, newSelector;\n\n\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\n\tcontext = context || document;\n\tresults = results || [];\n\tnodeType = context.nodeType;\n\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\tif ( !seed && documentIsHTML ) {\n\n\t\t// Try to shortcut find operations when possible (e.g., not under DocumentFragment)\n\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\t\t\t// Speed-up: Sizzle(\"#ID\")\n\t\t\tif ( (m = match[1]) ) {\n\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\telem = context.getElementById( m );\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document (jQuery #6963)\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\n\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Context is not a document\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\n\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Speed-up: Sizzle(\"TAG\")\n\t\t\t} else if ( match[2] ) {\n\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\treturn results;\n\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\n\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName ) {\n\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\treturn results;\n\t\t\t}\n\t\t}\n\n\t\t// QSA path\n\t\tif ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\t\t\tnid = old = expando;\n\t\t\tnewContext = context;\n\t\t\tnewSelector = nodeType !== 1 && selector;\n\n\t\t\t// qSA works strangely on Element-rooted queries\n\t\t\t// We can work around this by specifying an extra ID on the root\n\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\n\t\t\t// IE 8 doesn't work on object elements\n\t\t\tif ( nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\n\t\t\t\tgroups = tokenize( selector );\n\n\t\t\t\tif ( (old = context.getAttribute(\"id\")) ) {\n\t\t\t\t\tnid = old.replace( rescape, \"\\\\$&\" );\n\t\t\t\t} else {\n\t\t\t\t\tcontext.setAttribute( \"id\", nid );\n\t\t\t\t}\n\t\t\t\tnid = \"[id='\" + nid + \"'] \";\n\n\t\t\t\ti = groups.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tgroups[i] = nid + toSelector( groups[i] );\n\t\t\t\t}\n\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;\n\t\t\t\tnewSelector = groups.join(\",\");\n\t\t\t}\n\n\t\t\tif ( newSelector ) {\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch(qsaError) {\n\t\t\t\t} finally {\n\t\t\t\t\tif ( !old ) {\n\t\t\t\t\t\tcontext.removeAttribute(\"id\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created div and expects a boolean result\n */\nfunction assert( fn ) {\n\tvar div = document.createElement(\"div\");\n\n\ttry {\n\t\treturn !!fn( div );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( div.parentNode ) {\n\t\t\tdiv.parentNode.removeChild( div );\n\t\t}\n\t\t// release memory in IE\n\t\tdiv = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = attrs.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\t( ~b.sourceIndex || MAX_NEGATIVE ) -\n\t\t\t( ~a.sourceIndex || MAX_NEGATIVE );\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, parent,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// If no document and documentElement is available, return\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Set our document\n\tdocument = doc;\n\tdocElem = doc.documentElement;\n\tparent = doc.defaultView;\n\n\t// Support: IE>8\n\t// If iframe document is assigned to \"document\" variable and if iframe has been reloaded,\n\t// IE will throw \"permission denied\" error when accessing \"document\" variable, see jQuery #13936\n\t// IE6-8 do not support the defaultView property so parent will be undefined\n\tif ( parent && parent !== parent.top ) {\n\t\t// IE11 does not have attachEvent, so all must suffer\n\t\tif ( parent.addEventListener ) {\n\t\t\tparent.addEventListener( \"unload\", unloadHandler, false );\n\t\t} else if ( parent.attachEvent ) {\n\t\t\tparent.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Support tests\n\t---------------------------------------------------------------------- */\n\tdocumentIsHTML = !isXML( doc );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( div ) {\n\t\tdiv.className = \"i\";\n\t\treturn !div.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( div ) {\n\t\tdiv.appendChild( doc.createComment(\"\") );\n\t\treturn !div.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( doc.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( div ) {\n\t\tdocElem.appendChild( div ).id = expando;\n\t\treturn !doc.getElementsByName || !doc.getElementsByName( expando ).length;\n\t});\n\n\t// ID find and filter\n\tif ( support.getById ) {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\treturn m && m.parentNode ? [ m ] : [];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t} else {\n\t\t// Support: IE6/7\n\t\t// getElementById is not reliable as a find shortcut\n\t\tdelete Expr.find[\"ID\"];\n\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" && elem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See http://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( div ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// http://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( div ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\f]' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( div.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.2+, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.7+\n\t\t\tif ( !div.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibing-combinator selector` fails\n\t\t\tif ( !div.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( div ) {\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = doc.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tdiv.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( div.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tdiv.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( div ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( div, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully does not implement inclusive descendent\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === doc ? -1 :\n\t\t\t\tb === doc ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn doc;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, diff, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || (parent[ expando ] = {});\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[0] === dirruns && cache[1];\n\t\t\t\t\t\t\tdiff = cache[0] === dirruns && cache[2];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {\n\t\t\t\t\t\t\tdiff = cache[1];\n\n\t\t\t\t\t\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\tif ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {\n\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": function( elem ) {\n\t\t\treturn elem.disabled === false;\n\t\t},\n\n\t\t\"disabled\": function( elem ) {\n\t\t\treturn elem.disabled === true;\n\t\t},\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tcheckNonElements = base && dir === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\t\t\t\t\t\tif ( (oldCache = outerCache[ dir ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ dir ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context !== document && context;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Keep `i` a string if there are no elements so `matchedCount` will be \"00\" below\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\tmatchedCount += i;\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is no seed and only one group\n\tif ( match.length === 1 ) {\n\n\t\t// Take a shortcut and set the context if the root selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\trsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( div1 ) {\n\t// Should return 1, but returns 4 (following)\n\treturn div1.compareDocumentPosition( document.createElement(\"div\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( div ) {\n\tdiv.innerHTML = \"<a href='#'></a>\";\n\treturn div.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( div ) {\n\tdiv.innerHTML = \"<input/>\";\n\tdiv.firstChild.setAttribute( \"value\", \"\" );\n\treturn div.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( div ) {\n\treturn div.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\njQuery.expr[\":\"] = jQuery.expr.pseudos;\njQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\n\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = (/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/);\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\t/* jshint -W018 */\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t});\n\n\t}\n\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t});\n\n\t}\n\n\tif ( typeof qualifier === \"string\" ) {\n\t\tif ( risSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter( qualifier, elements, not );\n\t\t}\n\n\t\tqualifier = jQuery.filter( qualifier, elements );\n\t}\n\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( jQuery.inArray( elem, qualifier ) >= 0 ) !== not;\n\t});\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\treturn elems.length === 1 && elem.nodeType === 1 ?\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t}));\n};\n\njQuery.fn.extend({\n\tfind: function( selector ) {\n\t\tvar i,\n\t\t\tret = [],\n\t\t\tself = this,\n\t\t\tlen = self.length;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter(function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}) );\n\t\t}\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\n\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\n\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\n\t\treturn ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], false) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], true) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n});\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// Use the correct document accordingly with window argument (sandbox)\n\tdocument = window.document,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n\tinit = jQuery.fn.init = function( selector, context ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector.charAt(0) === \"<\" && selector.charAt( selector.length - 1 ) === \">\" && selector.length >= 3 ) {\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && (match[1] || !context) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[1] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\n\n\t\t\t\t\t// scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[1],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[2] );\n\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Handle the case where IE and Opera return items\n\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\tif ( elem.id !== match[2] ) {\n\t\t\t\t\t\t\treturn rootjQuery.find( selector );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Otherwise, we inject the element directly into the jQuery object\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\tthis[0] = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.context = document;\n\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis.context = this[0] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn typeof rootjQuery.ready !== \"undefined\" ?\n\t\t\t\trootjQuery.ready( selector ) :\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\tif ( selector.selector !== undefined ) {\n\t\t\tthis.selector = selector.selector;\n\t\t\tthis.context = selector.context;\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\t// methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.extend({\n\tdir: function( elem, dir, until ) {\n\t\tvar matched = [],\n\t\t\tcur = elem[ dir ];\n\n\t\twhile ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {\n\t\t\tif ( cur.nodeType === 1 ) {\n\t\t\t\tmatched.push( cur );\n\t\t\t}\n\t\t\tcur = cur[dir];\n\t\t}\n\t\treturn matched;\n\t},\n\n\tsibling: function( n, elem ) {\n\t\tvar r = [];\n\n\t\tfor ( ; n; n = n.nextSibling ) {\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\t\tr.push( n );\n\t\t\t}\n\t\t}\n\n\t\treturn r;\n\t}\n});\n\njQuery.fn.extend({\n\thas: function( target ) {\n\t\tvar i,\n\t\t\ttargets = jQuery( target, this ),\n\t\t\tlen = targets.length;\n\n\t\treturn this.filter(function() {\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\n\t\t\t\tjQuery( selectors, context || this.context ) :\n\t\t\t\t0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tfor ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {\n\t\t\t\t// Always skip document fragments\n\t\t\t\tif ( cur.nodeType < 11 && (pos ?\n\t\t\t\t\tpos.index(cur) > -1 :\n\n\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\tjQuery.find.matchesSelector(cur, selectors)) ) {\n\n\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within\n\t// the matched set of elements\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[0] && this[0].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn jQuery.inArray( this[0], jQuery( elem ) );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn jQuery.inArray(\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[0] : elem, this );\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.unique(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\n\t\t);\n\t}\n});\n\nfunction sibling( cur, dir ) {\n\tdo {\n\t\tcur = cur[ dir ];\n\t} while ( cur && cur.nodeType !== 1 );\n\n\treturn cur;\n}\n\njQuery.each({\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn jQuery.dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn jQuery.sibling( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn jQuery.nodeName( elem, \"iframe\" ) ?\n\t\t\telem.contentDocument || elem.contentWindow.document :\n\t\t\tjQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar ret = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tret = jQuery.filter( selector, ret );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tret = jQuery.unique( ret );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tret = ret.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n});\nvar rnotwhite = (/\\S+/g);\n\n\n\n// String to Object options format cache\nvar optionsCache = {};\n\n// Convert String-formatted options into Object-formatted ones and store in cache\nfunction createOptions( options ) {\n\tvar object = optionsCache[ options ] = {};\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t});\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\t\t// Last fire value (for non-forgettable lists)\n\t\tmemory,\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\t\t// Actual callback list\n\t\tlist = [],\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\t\t// Fire callbacks\n\t\tfire = function( data ) {\n\t\t\tmemory = options.memory && data;\n\t\t\tfired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif ( list ) {\n\t\t\t\tif ( stack ) {\n\t\t\t\t\tif ( stack.length ) {\n\t\t\t\t\t\tfire( stack.shift() );\n\t\t\t\t\t}\n\t\t\t\t} else if ( memory ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})( arguments );\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if ( memory ) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire( memory );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\t\tlist.splice( index, 1 );\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tlist = [];\n\t\t\t\tfiringLength = 0;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( list && ( !fired || stack ) ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tstack.push( args );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire( args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\njQuery.extend({\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[1] ](function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[1] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(function() {\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\tdeferred[ tuple[0] ] = function() {\n\t\t\t\tdeferred[ tuple[0] + \"With\" ]( this === deferred ? promise : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\n\t\t});\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\n\t\t\t\t\t} else if ( !(--remaining) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject )\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n});\n\n\n// The deferred used on DOM ready\nvar readyList;\n\njQuery.fn.ready = function( fn ) {\n\t// Add the callback\n\tjQuery.ready.promise().done( fn );\n\n\treturn this;\n};\n\njQuery.extend({\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n\t\tif ( !document.body ) {\n\t\t\treturn setTimeout( jQuery.ready );\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\n\t\t// Trigger any bound ready events\n\t\tif ( jQuery.fn.triggerHandler ) {\n\t\t\tjQuery( document ).triggerHandler( \"ready\" );\n\t\t\tjQuery( document ).off( \"ready\" );\n\t\t}\n\t}\n});\n\n/**\n * Clean-up method for dom ready events\n */\nfunction detach() {\n\tif ( document.addEventListener ) {\n\t\tdocument.removeEventListener( \"DOMContentLoaded\", completed, false );\n\t\twindow.removeEventListener( \"load\", completed, false );\n\n\t} else {\n\t\tdocument.detachEvent( \"onreadystatechange\", completed );\n\t\twindow.detachEvent( \"onload\", completed );\n\t}\n}\n\n/**\n * The ready event handler and self cleanup method\n */\nfunction completed() {\n\t// readyState === \"complete\" is good enough for us to call the dom ready in oldIE\n\tif ( document.addEventListener || event.type === \"load\" || document.readyState === \"complete\" ) {\n\t\tdetach();\n\t\tjQuery.ready();\n\t}\n}\n\njQuery.ready.promise = function( obj ) {\n\tif ( !readyList ) {\n\n\t\treadyList = jQuery.Deferred();\n\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n\t\tif ( document.readyState === \"complete\" ) {\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\tsetTimeout( jQuery.ready );\n\n\t\t// Standards-based browsers support DOMContentLoaded\n\t\t} else if ( document.addEventListener ) {\n\t\t\t// Use the handy event callback\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed, false );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.addEventListener( \"load\", completed, false );\n\n\t\t// If IE event model is used\n\t\t} else {\n\t\t\t// Ensure firing before onload, maybe late but safe also for iframes\n\t\t\tdocument.attachEvent( \"onreadystatechange\", completed );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.attachEvent( \"onload\", completed );\n\n\t\t\t// If IE and not a frame\n\t\t\t// continually check to see if the document is ready\n\t\t\tvar top = false;\n\n\t\t\ttry {\n\t\t\t\ttop = window.frameElement == null && document.documentElement;\n\t\t\t} catch(e) {}\n\n\t\t\tif ( top && top.doScroll ) {\n\t\t\t\t(function doScrollCheck() {\n\t\t\t\t\tif ( !jQuery.isReady ) {\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Use the trick by Diego Perini\n\t\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\n\t\t\t\t\t\t\ttop.doScroll(\"left\");\n\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\treturn setTimeout( doScrollCheck, 50 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// detach all dom ready events\n\t\t\t\t\t\tdetach();\n\n\t\t\t\t\t\t// and execute any waiting functions\n\t\t\t\t\t\tjQuery.ready();\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}\n\treturn readyList.promise( obj );\n};\n\n\nvar strundefined = typeof undefined;\n\n\n\n// Support: IE<9\n// Iteration over object's inherited properties before its own\nvar i;\nfor ( i in jQuery( support ) ) {\n\tbreak;\n}\nsupport.ownLast = i !== \"0\";\n\n// Note: most support tests are defined in their respective modules.\n// false until the test is run\nsupport.inlineBlockNeedsLayout = false;\n\n// Execute ASAP in case we need to set body.style.zoom\njQuery(function() {\n\t// Minified: var a,b,c,d\n\tvar val, div, body, container;\n\n\tbody = document.getElementsByTagName( \"body\" )[ 0 ];\n\tif ( !body || !body.style ) {\n\t\t// Return for frameset docs that don't have a body\n\t\treturn;\n\t}\n\n\t// Setup\n\tdiv = document.createElement( \"div\" );\n\tcontainer = document.createElement( \"div\" );\n\tcontainer.style.cssText = \"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\";\n\tbody.appendChild( container ).appendChild( div );\n\n\tif ( typeof div.style.zoom !== strundefined ) {\n\t\t// Support: IE<8\n\t\t// Check if natively block-level elements act like inline-block\n\t\t// elements when setting their display to 'inline' and giving\n\t\t// them layout\n\t\tdiv.style.cssText = \"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1\";\n\n\t\tsupport.inlineBlockNeedsLayout = val = div.offsetWidth === 3;\n\t\tif ( val ) {\n\t\t\t// Prevent IE 6 from affecting layout for positioned elements #11048\n\t\t\t// Prevent IE from shrinking the body in IE 7 mode #12869\n\t\t\t// Support: IE<8\n\t\t\tbody.style.zoom = 1;\n\t\t}\n\t}\n\n\tbody.removeChild( container );\n});\n\n\n\n\n(function() {\n\tvar div = document.createElement( \"div\" );\n\n\t// Execute the test only if not already executed in another module.\n\tif (support.deleteExpando == null) {\n\t\t// Support: IE<9\n\t\tsupport.deleteExpando = true;\n\t\ttry {\n\t\t\tdelete div.test;\n\t\t} catch( e ) {\n\t\t\tsupport.deleteExpando = false;\n\t\t}\n\t}\n\n\t// Null elements to avoid leaks in IE.\n\tdiv = null;\n})();\n\n\n/**\n * Determines whether an object can have data\n */\njQuery.acceptData = function( elem ) {\n\tvar noData = jQuery.noData[ (elem.nodeName + \" \").toLowerCase() ],\n\t\tnodeType = +elem.nodeType || 1;\n\n\t// Do not set data on non-element DOM nodes because it will not be cleared (#8335).\n\treturn nodeType !== 1 && nodeType !== 9 ?\n\t\tfalse :\n\n\t\t// Nodes accept data unless otherwise specified; rejection can be conditional\n\t\t!noData || noData !== true && elem.getAttribute(\"classid\") === noData;\n};\n\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /([A-Z])/g;\n\nfunction dataAttr( elem, key, data ) {\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\n\t\tvar name = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\n\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\t\tdata === \"false\" ? false :\n\t\t\t\t\tdata === \"null\" ? null :\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tjQuery.data( elem, key, data );\n\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\n\treturn data;\n}\n\n// checks a cache object for emptiness\nfunction isEmptyDataObject( obj ) {\n\tvar name;\n\tfor ( name in obj ) {\n\n\t\t// if the public data object is empty, the private is still empty\n\t\tif ( name === \"data\" && jQuery.isEmptyObject( obj[name] ) ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( name !== \"toJSON\" ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction internalData( elem, name, data, pvt /* Internal Use Only */ ) {\n\tif ( !jQuery.acceptData( elem ) ) {\n\t\treturn;\n\t}\n\n\tvar ret, thisCache,\n\t\tinternalKey = jQuery.expando,\n\n\t\t// We have to handle DOM nodes and JS objects differently because IE6-7\n\t\t// can't GC object references properly across the DOM-JS boundary\n\t\tisNode = elem.nodeType,\n\n\t\t// Only DOM nodes need the global jQuery cache; JS object data is\n\t\t// attached directly to the object so GC can occur automatically\n\t\tcache = isNode ? jQuery.cache : elem,\n\n\t\t// Only defining an ID for JS objects if its cache already exists allows\n\t\t// the code to shortcut on the same path as a DOM node with no cache\n\t\tid = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;\n\n\t// Avoid doing any more work than we need to when trying to get data on an\n\t// object that has no data at all\n\tif ( (!id || !cache[id] || (!pvt && !cache[id].data)) && data === undefined && typeof name === \"string\" ) {\n\t\treturn;\n\t}\n\n\tif ( !id ) {\n\t\t// Only DOM nodes need a new unique ID for each element since their data\n\t\t// ends up in the global cache\n\t\tif ( isNode ) {\n\t\t\tid = elem[ internalKey ] = deletedIds.pop() || jQuery.guid++;\n\t\t} else {\n\t\t\tid = internalKey;\n\t\t}\n\t}\n\n\tif ( !cache[ id ] ) {\n\t\t// Avoid exposing jQuery metadata on plain JS objects when the object\n\t\t// is serialized using JSON.stringify\n\t\tcache[ id ] = isNode ? {} : { toJSON: jQuery.noop };\n\t}\n\n\t// An object can be passed to jQuery.data instead of a key/value pair; this gets\n\t// shallow copied over onto the existing cache\n\tif ( typeof name === \"object\" || typeof name === \"function\" ) {\n\t\tif ( pvt ) {\n\t\t\tcache[ id ] = jQuery.extend( cache[ id ], name );\n\t\t} else {\n\t\t\tcache[ id ].data = jQuery.extend( cache[ id ].data, name );\n\t\t}\n\t}\n\n\tthisCache = cache[ id ];\n\n\t// jQuery data() is stored in a separate object inside the object's internal data\n\t// cache in order to avoid key collisions between internal data and user-defined\n\t// data.\n\tif ( !pvt ) {\n\t\tif ( !thisCache.data ) {\n\t\t\tthisCache.data = {};\n\t\t}\n\n\t\tthisCache = thisCache.data;\n\t}\n\n\tif ( data !== undefined ) {\n\t\tthisCache[ jQuery.camelCase( name ) ] = data;\n\t}\n\n\t// Check for both converted-to-camel and non-converted data property names\n\t// If a data property was specified\n\tif ( typeof name === \"string\" ) {\n\n\t\t// First Try to find as-is property data\n\t\tret = thisCache[ name ];\n\n\t\t// Test for null|undefined property data\n\t\tif ( ret == null ) {\n\n\t\t\t// Try to find the camelCased property\n\t\t\tret = thisCache[ jQuery.camelCase( name ) ];\n\t\t}\n\t} else {\n\t\tret = thisCache;\n\t}\n\n\treturn ret;\n}\n\nfunction internalRemoveData( elem, name, pvt ) {\n\tif ( !jQuery.acceptData( elem ) ) {\n\t\treturn;\n\t}\n\n\tvar thisCache, i,\n\t\tisNode = elem.nodeType,\n\n\t\t// See jQuery.data for more information\n\t\tcache = isNode ? jQuery.cache : elem,\n\t\tid = isNode ? elem[ jQuery.expando ] : jQuery.expando;\n\n\t// If there is already no cache entry for this object, there is no\n\t// purpose in continuing\n\tif ( !cache[ id ] ) {\n\t\treturn;\n\t}\n\n\tif ( name ) {\n\n\t\tthisCache = pvt ? cache[ id ] : cache[ id ].data;\n\n\t\tif ( thisCache ) {\n\n\t\t\t// Support array or space separated string names for data keys\n\t\t\tif ( !jQuery.isArray( name ) ) {\n\n\t\t\t\t// try the string as a key before any manipulation\n\t\t\t\tif ( name in thisCache ) {\n\t\t\t\t\tname = [ name ];\n\t\t\t\t} else {\n\n\t\t\t\t\t// split the camel cased version by spaces unless a key with the spaces exists\n\t\t\t\t\tname = jQuery.camelCase( name );\n\t\t\t\t\tif ( name in thisCache ) {\n\t\t\t\t\t\tname = [ name ];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tname = name.split(\" \");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If \"name\" is an array of keys...\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\n\t\t\t\t// keys will be converted to camelCase.\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\n\t\t\t\t// both plain key and camelCase key. #12786\n\t\t\t\t// This will only penalize the array argument path.\n\t\t\t\tname = name.concat( jQuery.map( name, jQuery.camelCase ) );\n\t\t\t}\n\n\t\t\ti = name.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete thisCache[ name[i] ];\n\t\t\t}\n\n\t\t\t// If there is no data left in the cache, we want to continue\n\t\t\t// and let the cache object itself get destroyed\n\t\t\tif ( pvt ? !isEmptyDataObject(thisCache) : !jQuery.isEmptyObject(thisCache) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\t// See jQuery.data for more information\n\tif ( !pvt ) {\n\t\tdelete cache[ id ].data;\n\n\t\t// Don't destroy the parent cache unless the internal data object\n\t\t// had been the only thing left in it\n\t\tif ( !isEmptyDataObject( cache[ id ] ) ) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// Destroy the cache\n\tif ( isNode ) {\n\t\tjQuery.cleanData( [ elem ], true );\n\n\t// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\n\t/* jshint eqeqeq: false */\n\t} else if ( support.deleteExpando || cache != cache.window ) {\n\t\t/* jshint eqeqeq: true */\n\t\tdelete cache[ id ];\n\n\t// When all else fails, null\n\t} else {\n\t\tcache[ id ] = null;\n\t}\n}\n\njQuery.extend({\n\tcache: {},\n\n\t// The following elements (space-suffixed to avoid Object.prototype collisions)\n\t// throw uncatchable exceptions if you attempt to set expando properties\n\tnoData: {\n\t\t\"applet \": true,\n\t\t\"embed \": true,\n\t\t// ...but Flash objects (which have this classid) *can* handle expandos\n\t\t\"object \": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t},\n\n\thasData: function( elem ) {\n\t\telem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];\n\t\treturn !!elem && !isEmptyDataObject( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn internalData( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\treturn internalRemoveData( elem, name );\n\t},\n\n\t// For internal use only.\n\t_data: function( elem, name, data ) {\n\t\treturn internalData( elem, name, data, true );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\treturn internalRemoveData( elem, name, true );\n\t}\n});\n\njQuery.fn.extend({\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[0],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Special expections of .data basically thwart jQuery.access,\n\t\t// so implement the relevant behavior ourselves\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = jQuery.data( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !jQuery._data( elem, \"parsedAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE11+\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice(5) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tjQuery._data( elem, \"parsedAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each(function() {\n\t\t\t\tjQuery.data( this, key );\n\t\t\t});\n\t\t}\n\n\t\treturn arguments.length > 1 ?\n\n\t\t\t// Sets one value\n\t\t\tthis.each(function() {\n\t\t\t\tjQuery.data( this, key, value );\n\t\t\t}) :\n\n\t\t\t// Gets one value\n\t\t\t// Try to fetch any internally stored data first\n\t\t\telem ? dataAttr( elem, key, jQuery.data( elem, key ) ) : undefined;\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeData( this, key );\n\t\t});\n\t}\n});\n\n\njQuery.extend({\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = jQuery._data( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray(data) ) {\n\t\t\t\t\tqueue = jQuery._data( elem, type, jQuery.makeArray(data) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn jQuery._data( elem, key ) || jQuery._data( elem, key, {\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\n\t\t\t\tjQuery._removeData( elem, type + \"queue\" );\n\t\t\t\tjQuery._removeData( elem, key );\n\t\t\t})\n\t\t});\n\t}\n});\n\njQuery.fn.extend({\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[0], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t});\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t});\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = jQuery._data( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n});\nvar pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHidden = function( elem, el ) {\n\t\t// isHidden might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\t\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\n\t};\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlength = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\tjQuery.access( elems, fn, i, key[i], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tfn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn chainable ?\n\t\telems :\n\n\t\t// Gets\n\t\tbulk ?\n\t\t\tfn.call( elems ) :\n\t\t\tlength ? fn( elems[0], key ) : emptyGet;\n};\nvar rcheckableType = (/^(?:checkbox|radio)$/i);\n\n\n\n(function() {\n\t// Minified: var a,b,c\n\tvar input = document.createElement( \"input\" ),\n\t\tdiv = document.createElement( \"div\" ),\n\t\tfragment = document.createDocumentFragment();\n\n\t// Setup\n\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n\n\t// IE strips leading whitespace when .innerHTML is used\n\tsupport.leadingWhitespace = div.firstChild.nodeType === 3;\n\n\t// Make sure that tbody elements aren't automatically inserted\n\t// IE will insert them into empty tables\n\tsupport.tbody = !div.getElementsByTagName( \"tbody\" ).length;\n\n\t// Make sure that link elements get serialized correctly by innerHTML\n\t// This requires a wrapper element in IE\n\tsupport.htmlSerialize = !!div.getElementsByTagName( \"link\" ).length;\n\n\t// Makes sure cloning an html5 element does not cause problems\n\t// Where outerHTML is undefined, this still works\n\tsupport.html5Clone =\n\t\tdocument.createElement( \"nav\" ).cloneNode( true ).outerHTML !== \"<:nav></:nav>\";\n\n\t// Check if a disconnected checkbox will retain its checked\n\t// value of true after appended to the DOM (IE6/7)\n\tinput.type = \"checkbox\";\n\tinput.checked = true;\n\tfragment.appendChild( input );\n\tsupport.appendChecked = input.checked;\n\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\t// Support: IE6-IE11+\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// #11217 - WebKit loses check when the name is after the checked attribute\n\tfragment.appendChild( div );\n\tdiv.innerHTML = \"<input type='radio' checked='checked' name='t'/>\";\n\n\t// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\n\t// old WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE<9\n\t// Opera does not clone events (and typeof div.attachEvent === undefined).\n\t// IE9-10 clones events bound via attachEvent, but they don't trigger with .click()\n\tsupport.noCloneEvent = true;\n\tif ( div.attachEvent ) {\n\t\tdiv.attachEvent( \"onclick\", function() {\n\t\t\tsupport.noCloneEvent = false;\n\t\t});\n\n\t\tdiv.cloneNode( true ).click();\n\t}\n\n\t// Execute the test only if not already executed in another module.\n\tif (support.deleteExpando == null) {\n\t\t// Support: IE<9\n\t\tsupport.deleteExpando = true;\n\t\ttry {\n\t\t\tdelete div.test;\n\t\t} catch( e ) {\n\t\t\tsupport.deleteExpando = false;\n\t\t}\n\t}\n})();\n\n\n(function() {\n\tvar i, eventName,\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Support: IE<9 (lack submit/change bubble), Firefox 23+ (lack focusin event)\n\tfor ( i in { submit: true, change: true, focusin: true }) {\n\t\teventName = \"on\" + i;\n\n\t\tif ( !(support[ i + \"Bubbles\" ] = eventName in window) ) {\n\t\t\t// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)\n\t\t\tdiv.setAttribute( eventName, \"t\" );\n\t\t\tsupport[ i + \"Bubbles\" ] = div.attributes[ eventName ].expando === false;\n\t\t}\n\t}\n\n\t// Null elements to avoid leaks in IE.\n\tdiv = null;\n})();\n\n\nvar rformElems = /^(?:input|select|textarea)$/i,\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\t\tvar tmp, events, t, handleObjIn,\n\t\t\tspecial, eventHandle, handleObj,\n\t\t\thandlers, type, namespaces, origType,\n\t\t\telemData = jQuery._data( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !(events = elemData.events) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !(eventHandle = elemData.handle) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== strundefined && (!e || jQuery.event.triggered !== e.type) ?\n\t\t\t\t\tjQuery.event.dispatch.apply( eventHandle.elem, arguments ) :\n\t\t\t\t\tundefined;\n\t\t\t};\n\t\t\t// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events\n\t\t\teventHandle.elem = elem;\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend({\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join(\".\")\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !(handlers = events[ type ]) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener/attachEvent if the special events handler returns false\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\t\t\t\t\t// Bind the global event handler to the element\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\n\n\t\t\t\t\t} else if ( elem.attachEvent ) {\n\t\t\t\t\t\telem.attachEvent( \"on\" + type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t\t// Nullify elem to prevent memory leaks in IE\n\t\telem = null;\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\t\tvar j, handleObj, tmp,\n\t\t\torigCount, t, events,\n\t\t\tspecial, handlers, type,\n\t\t\tnamespaces, origType,\n\t\t\telemData = jQuery.hasData( elem ) && jQuery._data( elem );\n\n\t\tif ( !elemData || !(events = elemData.events) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[2] && new RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdelete elemData.handle;\n\n\t\t\t// removeData also checks for emptiness and clears the expando if empty\n\t\t\t// so use it instead of delete\n\t\t\tjQuery._removeData( elem, \"events\" );\n\t\t}\n\t},\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\t\tvar handle, ontype, cur,\n\t\t\tbubbleType, special, tmp, i,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split(\".\") : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf(\".\") >= 0 ) {\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split(\".\");\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join(\".\");\n\t\tevent.namespace_re = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === (elem.ownerDocument || document) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( jQuery._data( cur, \"events\" ) || {} )[ event.type ] && jQuery._data( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && jQuery.acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&\n\t\t\t\tjQuery.acceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t// Can't use an .isFunction() check here because IE6/7 fails that test.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && elem[ type ] && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\ttry {\n\t\t\t\t\t\telem[ type ]();\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t// IE<9 dies on focus/blur to hidden element (#1486,#12518)\n\t\t\t\t\t\t// only reproducible on winXP IE8 native, not IE9 in IE8 mode\n\t\t\t\t\t}\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\tdispatch: function( event ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tevent = jQuery.event.fix( event );\n\n\t\tvar i, ret, handleObj, matched, j,\n\t\t\thandlerQueue = [],\n\t\t\targs = slice.call( arguments ),\n\t\t\thandlers = ( jQuery._data( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[0] = event;\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\n\t\t\t\t\t\t\t.apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( (event.result = ret) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar sel, handleObj, matches, i,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\n\t\tif ( delegateCount && cur.nodeType && (!event.button || event.type !== \"click\") ) {\n\n\t\t\t/* jshint eqeqeq: false */\n\t\t\tfor ( ; cur != this; cur = cur.parentNode || this ) {\n\t\t\t\t/* jshint eqeqeq: true */\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && (cur.disabled !== true || event.type !== \"click\") ) {\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) >= 0 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matches[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\tfix: function( event ) {\n\t\tif ( event[ jQuery.expando ] ) {\n\t\t\treturn event;\n\t\t}\n\n\t\t// Create a writable copy of the event object and normalize some properties\n\t\tvar i, prop, copy,\n\t\t\ttype = event.type,\n\t\t\toriginalEvent = event,\n\t\t\tfixHook = this.fixHooks[ type ];\n\n\t\tif ( !fixHook ) {\n\t\t\tthis.fixHooks[ type ] = fixHook =\n\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\n\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\n\t\t\t\t{};\n\t\t}\n\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\n\n\t\tevent = new jQuery.Event( originalEvent );\n\n\t\ti = copy.length;\n\t\twhile ( i-- ) {\n\t\t\tprop = copy[ i ];\n\t\t\tevent[ prop ] = originalEvent[ prop ];\n\t\t}\n\n\t\t// Support: IE<9\n\t\t// Fix target property (#1925)\n\t\tif ( !event.target ) {\n\t\t\tevent.target = originalEvent.srcElement || document;\n\t\t}\n\n\t\t// Support: Chrome 23+, Safari?\n\t\t// Target should not be a text node (#504, #13143)\n\t\tif ( event.target.nodeType === 3 ) {\n\t\t\tevent.target = event.target.parentNode;\n\t\t}\n\n\t\t// Support: IE<9\n\t\t// For mouse/key events, metaKey==false if it's undefined (#3368, #11328)\n\t\tevent.metaKey = !!event.metaKey;\n\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\n\t},\n\n\t// Includes some event props shared by KeyEvent and MouseEvent\n\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n\tfixHooks: {},\n\n\tkeyHooks: {\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\n\t\t\t// Add which for key events\n\t\t\tif ( event.which == null ) {\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tmouseHooks: {\n\t\tprops: \"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\t\t\tvar body, eventDoc, doc,\n\t\t\t\tbutton = original.button,\n\t\t\t\tfromElement = original.fromElement;\n\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\n\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\n\t\t\t}\n\n\t\t\t// Add relatedTarget, if necessary\n\t\t\tif ( !event.relatedTarget && fromElement ) {\n\t\t\t\tevent.relatedTarget = fromElement === event.target ? original.toElement : fromElement;\n\t\t\t}\n\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t// Note: button is not normalized, so don't use it\n\t\t\tif ( !event.which && button !== undefined ) {\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tspecial: {\n\t\tload: {\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t// Support: IE<9\n\t\t\t\t\t\t// If we error on focus to hidden element (#1486, #12518),\n\t\t\t\t\t\t// let .trigger() run the handlers\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( jQuery.nodeName( this, \"input\" ) && this.type === \"checkbox\" && this.click ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tsimulate: function( type, elem, event, bubble ) {\n\t\t// Piggyback on a donor event to simulate a different one.\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\n\t\t// simulated event prevents default then we do the same on the donor.\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true,\n\t\t\t\toriginalEvent: {}\n\t\t\t}\n\t\t);\n\t\tif ( bubble ) {\n\t\t\tjQuery.event.trigger( e, null, elem );\n\t\t} else {\n\t\t\tjQuery.event.dispatch.call( elem, e );\n\t\t}\n\t\tif ( e.isDefaultPrevented() ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\njQuery.removeEvent = document.removeEventListener ?\n\tfunction( elem, type, handle ) {\n\t\tif ( elem.removeEventListener ) {\n\t\t\telem.removeEventListener( type, handle, false );\n\t\t}\n\t} :\n\tfunction( elem, type, handle ) {\n\t\tvar name = \"on\" + type;\n\n\t\tif ( elem.detachEvent ) {\n\n\t\t\t// #8545, #7054, preventing memory leaks for custom events in IE6-8\n\t\t\t// detachEvent needed property on element, by name of that event, to properly expose it to GC\n\t\t\tif ( typeof elem[ name ] === strundefined ) {\n\t\t\t\telem[ name ] = null;\n\t\t\t}\n\n\t\t\telem.detachEvent( name, handle );\n\t\t}\n\t};\n\njQuery.Event = function( src, props ) {\n\t// Allow instantiation without the 'new' keyword\n\tif ( !(this instanceof jQuery.Event) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\t\t\t\t// Support: IE < 9, Android < 4.0\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\t\tif ( !e ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If preventDefault exists, run it on the original event\n\t\tif ( e.preventDefault ) {\n\t\t\te.preventDefault();\n\n\t\t// Support: IE\n\t\t// Otherwise set the returnValue property of the original event to false\n\t\t} else {\n\t\t\te.returnValue = false;\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\t\tif ( !e ) {\n\t\t\treturn;\n\t\t}\n\t\t// If stopPropagation exists, run it on the original event\n\t\tif ( e.stopPropagation ) {\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\t// Support: IE\n\t\t// Set the cancelBubble property of the original event to true\n\t\te.cancelBubble = true;\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && e.stopImmediatePropagation ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\njQuery.each({\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n});\n\n// IE submit delegation\nif ( !support.submitBubbles ) {\n\n\tjQuery.event.special.submit = {\n\t\tsetup: function() {\n\t\t\t// Only need this for delegated form submit events\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Lazy-add a submit handler when a descendant form may potentially be submitted\n\t\t\tjQuery.event.add( this, \"click._submit keypress._submit\", function( e ) {\n\t\t\t\t// Node name check avoids a VML-related crash in IE (#9807)\n\t\t\t\tvar elem = e.target,\n\t\t\t\t\tform = jQuery.nodeName( elem, \"input\" ) || jQuery.nodeName( elem, \"button\" ) ? elem.form : undefined;\n\t\t\t\tif ( form && !jQuery._data( form, \"submitBubbles\" ) ) {\n\t\t\t\t\tjQuery.event.add( form, \"submit._submit\", function( event ) {\n\t\t\t\t\t\tevent._submit_bubble = true;\n\t\t\t\t\t});\n\t\t\t\t\tjQuery._data( form, \"submitBubbles\", true );\n\t\t\t\t}\n\t\t\t});\n\t\t\t// return undefined since we don't need an event listener\n\t\t},\n\n\t\tpostDispatch: function( event ) {\n\t\t\t// If form was submitted by the user, bubble the event up the tree\n\t\t\tif ( event._submit_bubble ) {\n\t\t\t\tdelete event._submit_bubble;\n\t\t\t\tif ( this.parentNode && !event.isTrigger ) {\n\t\t\t\t\tjQuery.event.simulate( \"submit\", this.parentNode, event, true );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tteardown: function() {\n\t\t\t// Only need this for delegated form submit events\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Remove delegated handlers; cleanData eventually reaps submit handlers attached above\n\t\t\tjQuery.event.remove( this, \"._submit\" );\n\t\t}\n\t};\n}\n\n// IE change delegation and checkbox/radio fix\nif ( !support.changeBubbles ) {\n\n\tjQuery.event.special.change = {\n\n\t\tsetup: function() {\n\n\t\t\tif ( rformElems.test( this.nodeName ) ) {\n\t\t\t\t// IE doesn't fire change on a check/radio until blur; trigger it on click\n\t\t\t\t// after a propertychange. Eat the blur-change in special.change.handle.\n\t\t\t\t// This still fires onchange a second time for check/radio after blur.\n\t\t\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\n\t\t\t\t\tjQuery.event.add( this, \"propertychange._change\", function( event ) {\n\t\t\t\t\t\tif ( event.originalEvent.propertyName === \"checked\" ) {\n\t\t\t\t\t\t\tthis._just_changed = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tjQuery.event.add( this, \"click._change\", function( event ) {\n\t\t\t\t\t\tif ( this._just_changed && !event.isTrigger ) {\n\t\t\t\t\t\t\tthis._just_changed = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Allow triggered, simulated change events (#11500)\n\t\t\t\t\t\tjQuery.event.simulate( \"change\", this, event, true );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Delegated event; lazy-add a change handler on descendant inputs\n\t\t\tjQuery.event.add( this, \"beforeactivate._change\", function( e ) {\n\t\t\t\tvar elem = e.target;\n\n\t\t\t\tif ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, \"changeBubbles\" ) ) {\n\t\t\t\t\tjQuery.event.add( elem, \"change._change\", function( event ) {\n\t\t\t\t\t\tif ( this.parentNode && !event.isSimulated && !event.isTrigger ) {\n\t\t\t\t\t\t\tjQuery.event.simulate( \"change\", this.parentNode, event, true );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tjQuery._data( elem, \"changeBubbles\", true );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\thandle: function( event ) {\n\t\t\tvar elem = event.target;\n\n\t\t\t// Swallow native change events from checkbox/radio, we already triggered them above\n\t\t\tif ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== \"radio\" && elem.type !== \"checkbox\") ) {\n\t\t\t\treturn event.handleObj.handler.apply( this, arguments );\n\t\t\t}\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tjQuery.event.remove( this, \"._change\" );\n\n\t\t\treturn !rformElems.test( this.nodeName );\n\t\t}\n\t};\n}\n\n// Create \"bubbling\" focus and blur events\nif ( !support.focusinBubbles ) {\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\n\t\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = jQuery._data( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tjQuery._data( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = jQuery._data( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tjQuery._removeData( doc, fix );\n\t\t\t\t} else {\n\t\t\t\t\tjQuery._data( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n}\n\njQuery.fn.extend({\n\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\n\t\tvar type, origFn;\n\n\t\t// Types can be a map of types/handlers\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-Object, selector, data )\n\t\t\tif ( typeof selector !== \"string\" ) {\n\t\t\t\t// ( types-Object, data )\n\t\t\t\tdata = data || selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( data == null && fn == null ) {\n\t\t\t// ( types, fn )\n\t\t\tfn = selector;\n\t\t\tdata = selector = undefined;\n\t\t} else if ( fn == null ) {\n\t\t\tif ( typeof selector === \"string\" ) {\n\t\t\t\t// ( types, selector, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = undefined;\n\t\t\t} else {\n\t\t\t\t// ( types, data, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t} else if ( !fn ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( one === 1 ) {\n\t\t\torigFn = fn;\n\t\t\tfn = function( event ) {\n\t\t\t\t// Can use an empty set, since event contains the info\n\t\t\t\tjQuery().off( event );\n\t\t\t\treturn origFn.apply( this, arguments );\n\t\t\t};\n\t\t\t// Use same guid so caller can remove using origFn\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\n\t\t});\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn this.on( types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t});\n\t},\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t});\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[0];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n});\n\n\nfunction createSafeFragment( document ) {\n\tvar list = nodeNames.split( \"|\" ),\n\t\tsafeFrag = document.createDocumentFragment();\n\n\tif ( safeFrag.createElement ) {\n\t\twhile ( list.length ) {\n\t\t\tsafeFrag.createElement(\n\t\t\t\tlist.pop()\n\t\t\t);\n\t\t}\n\t}\n\treturn safeFrag;\n}\n\nvar nodeNames = \"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|\" +\n\t\t\"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",\n\trinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g,\n\trnoshimcache = new RegExp(\"<(?:\" + nodeNames + \")[\\\\s/>]\", \"i\"),\n\trleadingWhitespace = /^\\s+/,\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\n\trtagName = /<([\\w:]+)/,\n\trtbody = /<tbody/i,\n\trhtml = /<|&#?\\w+;/,\n\trnoInnerhtml = /<(?:script|style|link)/i,\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptType = /^$|\\/(?:java|ecma)script/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n\n\t// We have to close these tags to support XHTML (#13200)\n\twrapMap = {\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\t\tlegend: [ 1, \"<fieldset>\", \"</fieldset>\" ],\n\t\tarea: [ 1, \"<map>\", \"</map>\" ],\n\t\tparam: [ 1, \"<object>\", \"</object>\" ],\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\t\tcol: [ 2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\" ],\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t\t// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\n\t\t// unless wrapped in a div with non-breaking characters in front of it.\n\t\t_default: support.htmlSerialize ? [ 0, \"\", \"\" ] : [ 1, \"X<div>\", \"</div>\"  ]\n\t},\n\tsafeFragment = createSafeFragment( document ),\n\tfragmentDiv = safeFragment.appendChild( document.createElement(\"div\") );\n\nwrapMap.optgroup = wrapMap.option;\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\nfunction getAll( context, tag ) {\n\tvar elems, elem,\n\t\ti = 0,\n\t\tfound = typeof context.getElementsByTagName !== strundefined ? context.getElementsByTagName( tag || \"*\" ) :\n\t\t\ttypeof context.querySelectorAll !== strundefined ? context.querySelectorAll( tag || \"*\" ) :\n\t\t\tundefined;\n\n\tif ( !found ) {\n\t\tfor ( found = [], elems = context.childNodes || context; (elem = elems[i]) != null; i++ ) {\n\t\t\tif ( !tag || jQuery.nodeName( elem, tag ) ) {\n\t\t\t\tfound.push( elem );\n\t\t\t} else {\n\t\t\t\tjQuery.merge( found, getAll( elem, tag ) );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\n\t\tjQuery.merge( [ context ], found ) :\n\t\tfound;\n}\n\n// Used in buildFragment, fixes the defaultChecked property\nfunction fixDefaultChecked( elem ) {\n\tif ( rcheckableType.test( elem.type ) ) {\n\t\telem.defaultChecked = elem.checked;\n\t}\n}\n\n// Support: IE<8\n// Manipulating tables requires a tbody\nfunction manipulationTarget( elem, content ) {\n\treturn jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\n\n\t\telem.getElementsByTagName(\"tbody\")[0] ||\n\t\t\telem.appendChild( elem.ownerDocument.createElement(\"tbody\") ) :\n\t\telem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = (jQuery.find.attr( elem, \"type\" ) !== null) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\tif ( match ) {\n\t\telem.type = match[1];\n\t} else {\n\t\telem.removeAttribute(\"type\");\n\t}\n\treturn elem;\n}\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar elem,\n\t\ti = 0;\n\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\t\tjQuery._data( elem, \"globalEval\", !refElements || jQuery._data( refElements[i], \"globalEval\" ) );\n\t}\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\n\tif ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {\n\t\treturn;\n\t}\n\n\tvar type, i, l,\n\t\toldData = jQuery._data( src ),\n\t\tcurData = jQuery._data( dest, oldData ),\n\t\tevents = oldData.events;\n\n\tif ( events ) {\n\t\tdelete curData.handle;\n\t\tcurData.events = {};\n\n\t\tfor ( type in events ) {\n\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t}\n\t\t}\n\t}\n\n\t// make the cloned public data object a copy from the original\n\tif ( curData.data ) {\n\t\tcurData.data = jQuery.extend( {}, curData.data );\n\t}\n}\n\nfunction fixCloneNodeIssues( src, dest ) {\n\tvar nodeName, e, data;\n\n\t// We do not need to do anything for non-Elements\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\tnodeName = dest.nodeName.toLowerCase();\n\n\t// IE6-8 copies events bound via attachEvent when using cloneNode.\n\tif ( !support.noCloneEvent && dest[ jQuery.expando ] ) {\n\t\tdata = jQuery._data( dest );\n\n\t\tfor ( e in data.events ) {\n\t\t\tjQuery.removeEvent( dest, e, data.handle );\n\t\t}\n\n\t\t// Event data gets referenced instead of copied if the expando gets copied too\n\t\tdest.removeAttribute( jQuery.expando );\n\t}\n\n\t// IE blanks contents when cloning scripts, and tries to evaluate newly-set text\n\tif ( nodeName === \"script\" && dest.text !== src.text ) {\n\t\tdisableScript( dest ).text = src.text;\n\t\trestoreScript( dest );\n\n\t// IE6-10 improperly clones children of object elements using classid.\n\t// IE10 throws NoModificationAllowedError if parent is null, #12132.\n\t} else if ( nodeName === \"object\" ) {\n\t\tif ( dest.parentNode ) {\n\t\t\tdest.outerHTML = src.outerHTML;\n\t\t}\n\n\t\t// This path appears unavoidable for IE9. When cloning an object\n\t\t// element in IE9, the outerHTML strategy above is not sufficient.\n\t\t// If the src has innerHTML and the destination does not,\n\t\t// copy the src.innerHTML into the dest.innerHTML. #10324\n\t\tif ( support.html5Clone && ( src.innerHTML && !jQuery.trim(dest.innerHTML) ) ) {\n\t\t\tdest.innerHTML = src.innerHTML;\n\t\t}\n\n\t} else if ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\t// IE6-8 fails to persist the checked state of a cloned checkbox\n\t\t// or radio button. Worse, IE6-7 fail to give the cloned element\n\t\t// a checked appearance if the defaultChecked value isn't also set\n\n\t\tdest.defaultChecked = dest.checked = src.checked;\n\n\t\t// IE6-7 get confused and end up setting the value of a cloned\n\t\t// checkbox/radio button to an empty string instead of \"on\"\n\t\tif ( dest.value !== src.value ) {\n\t\t\tdest.value = src.value;\n\t\t}\n\n\t// IE6-8 fails to return the selected option to the default selected\n\t// state when cloning options\n\t} else if ( nodeName === \"option\" ) {\n\t\tdest.defaultSelected = dest.selected = src.defaultSelected;\n\n\t// IE6-8 fails to set the defaultValue to the correct value when\n\t// cloning other types of input fields\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\njQuery.extend({\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar destElements, node, clone, i, srcElements,\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\tif ( support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test( \"<\" + elem.nodeName + \">\" ) ) {\n\t\t\tclone = elem.cloneNode( true );\n\n\t\t// IE<=8 does not properly clone detached, unknown element nodes\n\t\t} else {\n\t\t\tfragmentDiv.innerHTML = elem.outerHTML;\n\t\t\tfragmentDiv.removeChild( clone = fragmentDiv.firstChild );\n\t\t}\n\n\t\tif ( (!support.noCloneEvent || !support.noCloneChecked) &&\n\t\t\t\t(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\t// Fix all IE cloning issues\n\t\t\tfor ( i = 0; (node = srcElements[i]) != null; ++i ) {\n\t\t\t\t// Ensure that the destination node is not null; Fixes #9587\n\t\t\t\tif ( destElements[i] ) {\n\t\t\t\t\tfixCloneNodeIssues( node, destElements[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0; (node = srcElements[i]) != null; i++ ) {\n\t\t\t\t\tcloneCopyEvent( node, destElements[i] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\tdestElements = srcElements = node = null;\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tbuildFragment: function( elems, context, scripts, selection ) {\n\t\tvar j, elem, contains,\n\t\t\ttmp, tag, tbody, wrap,\n\t\t\tl = elems.length,\n\n\t\t\t// Ensure a safe fragment\n\t\t\tsafe = createSafeFragment( context ),\n\n\t\t\tnodes = [],\n\t\t\ti = 0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\telem = elems[ i ];\n\n\t\t\tif ( elem || elem === 0 ) {\n\n\t\t\t\t// Add nodes directly\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t\t// Convert non-html into a text node\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t\t// Convert html into DOM nodes\n\t\t\t\t} else {\n\t\t\t\t\ttmp = tmp || safe.appendChild( context.createElement(\"div\") );\n\n\t\t\t\t\t// Deserialize a standard representation\n\t\t\t\t\ttag = (rtagName.exec( elem ) || [ \"\", \"\" ])[ 1 ].toLowerCase();\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\n\t\t\t\t\ttmp.innerHTML = wrap[1] + elem.replace( rxhtmlTag, \"<$1></$2>\" ) + wrap[2];\n\n\t\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\t\tj = wrap[0];\n\t\t\t\t\twhile ( j-- ) {\n\t\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Manually add leading whitespace removed by IE\n\t\t\t\t\tif ( !support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {\n\t\t\t\t\t\tnodes.push( context.createTextNode( rleadingWhitespace.exec( elem )[0] ) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove IE's autoinserted <tbody> from table fragments\n\t\t\t\t\tif ( !support.tbody ) {\n\n\t\t\t\t\t\t// String was a <table>, *may* have spurious <tbody>\n\t\t\t\t\t\telem = tag === \"table\" && !rtbody.test( elem ) ?\n\t\t\t\t\t\t\ttmp.firstChild :\n\n\t\t\t\t\t\t\t// String was a bare <thead> or <tfoot>\n\t\t\t\t\t\t\twrap[1] === \"<table>\" && !rtbody.test( elem ) ?\n\t\t\t\t\t\t\t\ttmp :\n\t\t\t\t\t\t\t\t0;\n\n\t\t\t\t\t\tj = elem && elem.childNodes.length;\n\t\t\t\t\t\twhile ( j-- ) {\n\t\t\t\t\t\t\tif ( jQuery.nodeName( (tbody = elem.childNodes[j]), \"tbody\" ) && !tbody.childNodes.length ) {\n\t\t\t\t\t\t\t\telem.removeChild( tbody );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t\t// Fix #12392 for WebKit and IE > 9\n\t\t\t\t\ttmp.textContent = \"\";\n\n\t\t\t\t\t// Fix #12392 for oldIE\n\t\t\t\t\twhile ( tmp.firstChild ) {\n\t\t\t\t\t\ttmp.removeChild( tmp.firstChild );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remember the top-level container for proper cleanup\n\t\t\t\t\ttmp = safe.lastChild;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Fix #11356: Clear elements from fragment\n\t\tif ( tmp ) {\n\t\t\tsafe.removeChild( tmp );\n\t\t}\n\n\t\t// Reset defaultChecked for any radios and checkboxes\n\t\t// about to be appended to the DOM in IE 6/7 (#8060)\n\t\tif ( !support.appendChecked ) {\n\t\t\tjQuery.grep( getAll( nodes, \"input\" ), fixDefaultChecked );\n\t\t}\n\n\t\ti = 0;\n\t\twhile ( (elem = nodes[ i++ ]) ) {\n\n\t\t\t// #4087 - If origin and destination elements are the same, and this is\n\t\t\t// that element, do not do anything\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) !== -1 ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t\t// Append to fragment\n\t\t\ttmp = getAll( safe.appendChild( elem ), \"script\" );\n\n\t\t\t// Preserve script evaluation history\n\t\t\tif ( contains ) {\n\t\t\t\tsetGlobalEval( tmp );\n\t\t\t}\n\n\t\t\t// Capture executables\n\t\t\tif ( scripts ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (elem = tmp[ j++ ]) ) {\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\t\tscripts.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttmp = null;\n\n\t\treturn safe;\n\t},\n\n\tcleanData: function( elems, /* internal */ acceptData ) {\n\t\tvar elem, type, id, data,\n\t\t\ti = 0,\n\t\t\tinternalKey = jQuery.expando,\n\t\t\tcache = jQuery.cache,\n\t\t\tdeleteExpando = support.deleteExpando,\n\t\t\tspecial = jQuery.event.special;\n\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\t\t\tif ( acceptData || jQuery.acceptData( elem ) ) {\n\n\t\t\t\tid = elem[ internalKey ];\n\t\t\t\tdata = id && cache[ id ];\n\n\t\t\t\tif ( data ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove cache only if it was not already removed by jQuery.event.remove\n\t\t\t\t\tif ( cache[ id ] ) {\n\n\t\t\t\t\t\tdelete cache[ id ];\n\n\t\t\t\t\t\t// IE does not allow us to delete expando properties from nodes,\n\t\t\t\t\t\t// nor does it have a removeAttribute function on Document nodes;\n\t\t\t\t\t\t// we must handle all of these cases\n\t\t\t\t\t\tif ( deleteExpando ) {\n\t\t\t\t\t\t\tdelete elem[ internalKey ];\n\n\t\t\t\t\t\t} else if ( typeof elem.removeAttribute !== strundefined ) {\n\t\t\t\t\t\t\telem.removeAttribute( internalKey );\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telem[ internalKey ] = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdeletedIds.push( id );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\njQuery.fn.extend({\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().append( ( this[0] && this[0].ownerDocument || document ).createTextNode( value ) );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t});\n\t},\n\n\tprepend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t});\n\t},\n\n\tbefore: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t});\n\t},\n\n\tafter: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t});\n\t},\n\n\tremove: function( selector, keepData /* Internal Use Only */ ) {\n\t\tvar elem,\n\t\t\telems = selector ? jQuery.filter( selector, this ) : this,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\n\t\t\tif ( !keepData && elem.nodeType === 1 ) {\n\t\t\t\tjQuery.cleanData( getAll( elem ) );\n\t\t\t}\n\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\tif ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\t\tsetGlobalEval( getAll( elem, \"script\" ) );\n\t\t\t\t}\n\t\t\t\telem.parentNode.removeChild( elem );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t}\n\n\t\t\t// Remove any remaining nodes\n\t\t\twhile ( elem.firstChild ) {\n\t\t\t\telem.removeChild( elem.firstChild );\n\t\t\t}\n\n\t\t\t// If this is a select, ensure that it displays empty (#12336)\n\t\t\t// Support: IE<9\n\t\t\tif ( elem.options && jQuery.nodeName( elem, \"select\" ) ) {\n\t\t\t\telem.options.length = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map(function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t});\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined ) {\n\t\t\t\treturn elem.nodeType === 1 ?\n\t\t\t\t\telem.innerHTML.replace( rinlinejQuery, \"\" ) :\n\t\t\t\t\tundefined;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t( support.htmlSerialize || !rnoshimcache.test( value )  ) &&\n\t\t\t\t( support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&\n\t\t\t\t!wrapMap[ (rtagName.exec( value ) || [ \"\", \"\" ])[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (; i < l; i++ ) {\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\telem = this[i] || {};\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar arg = arguments[ 0 ];\n\n\t\t// Make the changes, replacing each context element with the new content\n\t\tthis.domManip( arguments, function( elem ) {\n\t\t\targ = this.parentNode;\n\n\t\t\tjQuery.cleanData( getAll( this ) );\n\n\t\t\tif ( arg ) {\n\t\t\t\targ.replaceChild( elem, this );\n\t\t\t}\n\t\t});\n\n\t\t// Force removal if there was no new content (e.g., from empty arguments)\n\t\treturn arg && (arg.length || arg.nodeType) ? this : this.remove();\n\t},\n\n\tdetach: function( selector ) {\n\t\treturn this.remove( selector, true );\n\t},\n\n\tdomManip: function( args, callback ) {\n\n\t\t// Flatten any nested arrays\n\t\targs = concat.apply( [], args );\n\n\t\tvar first, node, hasScripts,\n\t\t\tscripts, doc, fragment,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tset = this,\n\t\t\tiNoClone = l - 1,\n\t\t\tvalue = args[0],\n\t\t\tisFunction = jQuery.isFunction( value );\n\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\n\t\tif ( isFunction ||\n\t\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\t\treturn this.each(function( index ) {\n\t\t\t\tvar self = set.eq( index );\n\t\t\t\tif ( isFunction ) {\n\t\t\t\t\targs[0] = value.call( this, index, self.html() );\n\t\t\t\t}\n\t\t\t\tself.domManip( args, callback );\n\t\t\t});\n\t\t}\n\n\t\tif ( l ) {\n\t\t\tfragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );\n\t\t\tfirst = fragment.firstChild;\n\n\t\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\t\tfragment = first;\n\t\t\t}\n\n\t\t\tif ( first ) {\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\t\thasScripts = scripts.length;\n\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\tnode = fragment;\n\n\t\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback.call( this[i], node, i );\n\t\t\t\t}\n\n\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t\t// Reenable scripts\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t\t!jQuery._data( node, \"globalEval\" ) && jQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\t\tif ( node.src ) {\n\t\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.globalEval( ( node.text || node.textContent || node.innerHTML || \"\" ).replace( rcleanScript, \"\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Fix #11809: Avoid leaking memory\n\t\t\t\tfragment = first = null;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\njQuery.each({\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\ti = 0,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone(true);\n\t\t\tjQuery( insert[i] )[ original ]( elems );\n\n\t\t\t// Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n});\n\n\nvar iframe,\n\telemdisplay = {};\n\n/**\n * Retrieve the actual display of a element\n * @param {String} name nodeName of the element\n * @param {Object} doc Document object\n */\n// Called only from within defaultDisplay\nfunction actualDisplay( name, doc ) {\n\tvar style,\n\t\telem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\n\n\t\t// getDefaultComputedStyle might be reliably used only on attached element\n\t\tdisplay = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?\n\n\t\t\t// Use of this method is a temporary fix (more like optmization) until something better comes along,\n\t\t\t// since it was removed from specification and supported only in FF\n\t\t\tstyle.display : jQuery.css( elem[ 0 ], \"display\" );\n\n\t// We don't have any data stored on the element,\n\t// so use \"detach\" method as fast way to get rid of the element\n\telem.detach();\n\n\treturn display;\n}\n\n/**\n * Try to determine the default display value of an element\n * @param {String} nodeName\n */\nfunction defaultDisplay( nodeName ) {\n\tvar doc = document,\n\t\tdisplay = elemdisplay[ nodeName ];\n\n\tif ( !display ) {\n\t\tdisplay = actualDisplay( nodeName, doc );\n\n\t\t// If the simple way fails, read from inside an iframe\n\t\tif ( display === \"none\" || !display ) {\n\n\t\t\t// Use the already-created iframe if possible\n\t\t\tiframe = (iframe || jQuery( \"<iframe frameborder='0' width='0' height='0'/>\" )).appendTo( doc.documentElement );\n\n\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n\t\t\tdoc = ( iframe[ 0 ].contentWindow || iframe[ 0 ].contentDocument ).document;\n\n\t\t\t// Support: IE\n\t\t\tdoc.write();\n\t\t\tdoc.close();\n\n\t\t\tdisplay = actualDisplay( nodeName, doc );\n\t\t\tiframe.detach();\n\t\t}\n\n\t\t// Store the correct default display\n\t\telemdisplay[ nodeName ] = display;\n\t}\n\n\treturn display;\n}\n\n\n(function() {\n\tvar shrinkWrapBlocksVal;\n\n\tsupport.shrinkWrapBlocks = function() {\n\t\tif ( shrinkWrapBlocksVal != null ) {\n\t\t\treturn shrinkWrapBlocksVal;\n\t\t}\n\n\t\t// Will be changed later if needed.\n\t\tshrinkWrapBlocksVal = false;\n\n\t\t// Minified: var b,c,d\n\t\tvar div, body, container;\n\n\t\tbody = document.getElementsByTagName( \"body\" )[ 0 ];\n\t\tif ( !body || !body.style ) {\n\t\t\t// Test fired too early or in an unsupported environment, exit.\n\t\t\treturn;\n\t\t}\n\n\t\t// Setup\n\t\tdiv = document.createElement( \"div\" );\n\t\tcontainer = document.createElement( \"div\" );\n\t\tcontainer.style.cssText = \"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\";\n\t\tbody.appendChild( container ).appendChild( div );\n\n\t\t// Support: IE6\n\t\t// Check if elements with layout shrink-wrap their children\n\t\tif ( typeof div.style.zoom !== strundefined ) {\n\t\t\t// Reset CSS: box-sizing; display; margin; border\n\t\t\tdiv.style.cssText =\n\t\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t\t// Vendor-prefix box-sizing\n\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\n\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;\" +\n\t\t\t\t\"padding:1px;width:1px;zoom:1\";\n\t\t\tdiv.appendChild( document.createElement( \"div\" ) ).style.width = \"5px\";\n\t\t\tshrinkWrapBlocksVal = div.offsetWidth !== 3;\n\t\t}\n\n\t\tbody.removeChild( container );\n\n\t\treturn shrinkWrapBlocksVal;\n\t};\n\n})();\nvar rmargin = (/^margin/);\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\n\n\nvar getStyles, curCSS,\n\trposition = /^(top|right|bottom|left)$/;\n\nif ( window.getComputedStyle ) {\n\tgetStyles = function( elem ) {\n\t\t// Support: IE<=11+, Firefox<=30+ (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tif ( elem.ownerDocument.defaultView.opener ) {\n\t\t\treturn elem.ownerDocument.defaultView.getComputedStyle( elem, null );\n\t\t}\n\n\t\treturn window.getComputedStyle( elem, null );\n\t};\n\n\tcurCSS = function( elem, name, computed ) {\n\t\tvar width, minWidth, maxWidth, ret,\n\t\t\tstyle = elem.style;\n\n\t\tcomputed = computed || getStyles( elem );\n\n\t\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\n\t\tret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined;\n\n\t\tif ( computed ) {\n\n\t\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\tret = jQuery.style( elem, name );\n\t\t\t}\n\n\t\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t\t// Chrome < 17 and Safari 5.0 uses \"computed value\" instead of \"used value\" for margin-right\n\t\t\t// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\n\t\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\n\t\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t\t// Remember the original values\n\t\t\t\twidth = style.width;\n\t\t\t\tminWidth = style.minWidth;\n\t\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t\t// Put in the new values to get a computed value out\n\t\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\t\tret = computed.width;\n\n\t\t\t\t// Revert the changed values\n\t\t\t\tstyle.width = width;\n\t\t\t\tstyle.minWidth = minWidth;\n\t\t\t\tstyle.maxWidth = maxWidth;\n\t\t\t}\n\t\t}\n\n\t\t// Support: IE\n\t\t// IE returns zIndex value as an integer.\n\t\treturn ret === undefined ?\n\t\t\tret :\n\t\t\tret + \"\";\n\t};\n} else if ( document.documentElement.currentStyle ) {\n\tgetStyles = function( elem ) {\n\t\treturn elem.currentStyle;\n\t};\n\n\tcurCSS = function( elem, name, computed ) {\n\t\tvar left, rs, rsLeft, ret,\n\t\t\tstyle = elem.style;\n\n\t\tcomputed = computed || getStyles( elem );\n\t\tret = computed ? computed[ name ] : undefined;\n\n\t\t// Avoid setting ret to empty string here\n\t\t// so we don't default to auto\n\t\tif ( ret == null && style && style[ name ] ) {\n\t\t\tret = style[ name ];\n\t\t}\n\n\t\t// From the awesome hack by Dean Edwards\n\t\t// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n\n\t\t// If we're not dealing with a regular pixel number\n\t\t// but a number that has a weird ending, we need to convert it to pixels\n\t\t// but not position css attributes, as those are proportional to the parent element instead\n\t\t// and we can't measure the parent instead because it might trigger a \"stacking dolls\" problem\n\t\tif ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\tleft = style.left;\n\t\t\trs = elem.runtimeStyle;\n\t\t\trsLeft = rs && rs.left;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tif ( rsLeft ) {\n\t\t\t\trs.left = elem.currentStyle.left;\n\t\t\t}\n\t\t\tstyle.left = name === \"fontSize\" ? \"1em\" : ret;\n\t\t\tret = style.pixelLeft + \"px\";\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.left = left;\n\t\t\tif ( rsLeft ) {\n\t\t\t\trs.left = rsLeft;\n\t\t\t}\n\t\t}\n\n\t\t// Support: IE\n\t\t// IE returns zIndex value as an integer.\n\t\treturn ret === undefined ?\n\t\t\tret :\n\t\t\tret + \"\" || \"auto\";\n\t};\n}\n\n\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tvar condition = conditionFn();\n\n\t\t\tif ( condition == null ) {\n\t\t\t\t// The test was not ready at this point; screw the hook this time\n\t\t\t\t// but check again when needed next time.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( condition ) {\n\t\t\t\t// Hook not needed (or it's not possible to use it due to missing dependency),\n\t\t\t\t// remove it.\n\t\t\t\t// Since there are no other hooks for marginRight, remove the whole object.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\n\t\t\treturn (this.get = hookFn).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\n(function() {\n\t// Minified: var b,c,d,e,f,g, h,i\n\tvar div, style, a, pixelPositionVal, boxSizingReliableVal,\n\t\treliableHiddenOffsetsVal, reliableMarginRightVal;\n\n\t// Setup\n\tdiv = document.createElement( \"div\" );\n\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n\ta = div.getElementsByTagName( \"a\" )[ 0 ];\n\tstyle = a && a.style;\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !style ) {\n\t\treturn;\n\t}\n\n\tstyle.cssText = \"float:left;opacity:.5\";\n\n\t// Support: IE<9\n\t// Make sure that element opacity exists (as opposed to filter)\n\tsupport.opacity = style.opacity === \"0.5\";\n\n\t// Verify style float existence\n\t// (IE uses styleFloat instead of cssFloat)\n\tsupport.cssFloat = !!style.cssFloat;\n\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\t// Support: Firefox<29, Android 2.3\n\t// Vendor-prefix box-sizing\n\tsupport.boxSizing = style.boxSizing === \"\" || style.MozBoxSizing === \"\" ||\n\t\tstyle.WebkitBoxSizing === \"\";\n\n\tjQuery.extend(support, {\n\t\treliableHiddenOffsets: function() {\n\t\t\tif ( reliableHiddenOffsetsVal == null ) {\n\t\t\t\tcomputeStyleTests();\n\t\t\t}\n\t\t\treturn reliableHiddenOffsetsVal;\n\t\t},\n\n\t\tboxSizingReliable: function() {\n\t\t\tif ( boxSizingReliableVal == null ) {\n\t\t\t\tcomputeStyleTests();\n\t\t\t}\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\n\t\tpixelPosition: function() {\n\t\t\tif ( pixelPositionVal == null ) {\n\t\t\t\tcomputeStyleTests();\n\t\t\t}\n\t\t\treturn pixelPositionVal;\n\t\t},\n\n\t\t// Support: Android 2.3\n\t\treliableMarginRight: function() {\n\t\t\tif ( reliableMarginRightVal == null ) {\n\t\t\t\tcomputeStyleTests();\n\t\t\t}\n\t\t\treturn reliableMarginRightVal;\n\t\t}\n\t});\n\n\tfunction computeStyleTests() {\n\t\t// Minified: var b,c,d,j\n\t\tvar div, body, container, contents;\n\n\t\tbody = document.getElementsByTagName( \"body\" )[ 0 ];\n\t\tif ( !body || !body.style ) {\n\t\t\t// Test fired too early or in an unsupported environment, exit.\n\t\t\treturn;\n\t\t}\n\n\t\t// Setup\n\t\tdiv = document.createElement( \"div\" );\n\t\tcontainer = document.createElement( \"div\" );\n\t\tcontainer.style.cssText = \"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\";\n\t\tbody.appendChild( container ).appendChild( div );\n\n\t\tdiv.style.cssText =\n\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t// Vendor-prefix box-sizing\n\t\t\t\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;\" +\n\t\t\t\"box-sizing:border-box;display:block;margin-top:1%;top:1%;\" +\n\t\t\t\"border:1px;padding:1px;width:4px;position:absolute\";\n\n\t\t// Support: IE<9\n\t\t// Assume reasonable values in the absence of getComputedStyle\n\t\tpixelPositionVal = boxSizingReliableVal = false;\n\t\treliableMarginRightVal = true;\n\n\t\t// Check for getComputedStyle so that this code is not run in IE<9.\n\t\tif ( window.getComputedStyle ) {\n\t\t\tpixelPositionVal = ( window.getComputedStyle( div, null ) || {} ).top !== \"1%\";\n\t\t\tboxSizingReliableVal =\n\t\t\t\t( window.getComputedStyle( div, null ) || { width: \"4px\" } ).width === \"4px\";\n\n\t\t\t// Support: Android 2.3\n\t\t\t// Div with explicit width and no margin-right incorrectly\n\t\t\t// gets computed margin-right based on width of container (#3333)\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\tcontents = div.appendChild( document.createElement( \"div\" ) );\n\n\t\t\t// Reset CSS: box-sizing; display; margin; border; padding\n\t\t\tcontents.style.cssText = div.style.cssText =\n\t\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t\t// Vendor-prefix box-sizing\n\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\n\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;padding:0\";\n\t\t\tcontents.style.marginRight = contents.style.width = \"0\";\n\t\t\tdiv.style.width = \"1px\";\n\n\t\t\treliableMarginRightVal =\n\t\t\t\t!parseFloat( ( window.getComputedStyle( contents, null ) || {} ).marginRight );\n\n\t\t\tdiv.removeChild( contents );\n\t\t}\n\n\t\t// Support: IE8\n\t\t// Check if table cells still have offsetWidth/Height when they are set\n\t\t// to display:none and there are still other visible table cells in a\n\t\t// table row; if so, offsetWidth/Height are not reliable for use when\n\t\t// determining if an element has been hidden directly using\n\t\t// display:none (it is still safe to use offsets if a parent element is\n\t\t// hidden; don safety goggles and see bug #4512 for more information).\n\t\tdiv.innerHTML = \"<table><tr><td></td><td>t</td></tr></table>\";\n\t\tcontents = div.getElementsByTagName( \"td\" );\n\t\tcontents[ 0 ].style.cssText = \"margin:0;border:0;padding:0;display:none\";\n\t\treliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;\n\t\tif ( reliableHiddenOffsetsVal ) {\n\t\t\tcontents[ 0 ].style.display = \"\";\n\t\t\tcontents[ 1 ].style.display = \"none\";\n\t\t\treliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;\n\t\t}\n\n\t\tbody.removeChild( container );\n\t}\n\n})();\n\n\n// A method for quickly swapping in/out CSS properties to get correct calculations.\njQuery.swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar\n\t\tralpha = /alpha\\([^)]*\\)/i,\n\tropacity = /opacity\\s*=\\s*([^)]*)/,\n\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trnumsplit = new RegExp( \"^(\" + pnum + \")(.*)$\", \"i\" ),\n\trrelNum = new RegExp( \"^([+-])=(\" + pnum + \")\", \"i\" ),\n\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ];\n\n\n// return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( style, name ) {\n\n\t// shortcut for names that are not vendor prefixed\n\tif ( name in style ) {\n\t\treturn name;\n\t}\n\n\t// check for vendor prefixed names\n\tvar capName = name.charAt(0).toUpperCase() + name.slice(1),\n\t\torigName = name,\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in style ) {\n\t\t\treturn name;\n\t\t}\n\t}\n\n\treturn origName;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem, hidden,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\" );\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\t\t\t// Reset the inline display of this element to learn if it is\n\t\t\t// being hidden by cascaded rules or not\n\t\t\tif ( !values[ index ] && display === \"none\" ) {\n\t\t\t\telem.style.display = \"\";\n\t\t\t}\n\n\t\t\t// Set elements which have been overridden with display: none\n\t\t\t// in a stylesheet to whatever the default browser style is\n\t\t\t// for such an element\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\n\t\t\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\", defaultDisplay(elem.nodeName) );\n\t\t\t}\n\t\t} else {\n\t\t\thidden = isHidden( elem );\n\n\t\t\tif ( display && display !== \"none\" || !hidden ) {\n\t\t\t\tjQuery._data( elem, \"olddisplay\", hidden ? display : jQuery.css( elem, \"display\" ) );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of most of the elements in a second loop\n\t// to avoid the constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\n\t\t}\n\t}\n\n\treturn elements;\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\tvar matches = rnumsplit.exec( value );\n\treturn matches ?\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\n\t\tval = 0;\n\n\tfor ( ; i < 4; i += 2 ) {\n\t\t// both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// at this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\t\t\t// at this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// at this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar valueIsBorderBox = true,\n\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = support.boxSizing && jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test(val) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// we need the check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox && ( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend({\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t// normalize float css property\n\t\t\"float\": support.cssFloat ? \"cssFloat\" : \"styleFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set. See: #7116\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\n\t\t\t\tvalue += \"px\";\n\t\t\t}\n\n\t\t\t// Fixes #8908, it can be done more correctly by specifing setters in cssHooks,\n\t\t\t// but it would mean to define eight (for every problematic property) identical functions\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf(\"background\") === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\n\n\t\t\t\t// Support: IE\n\t\t\t\t// Swallow errors from 'invalid' CSS values (#5509)\n\t\t\t\ttry {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\n\t\t} else {\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar num, val, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t//convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || jQuery.isNumeric( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t}\n});\n\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\t\t\t\t// certain elements can have dimension info if we invisibly show them\n\t\t\t\t// however, it must have a current display style that would benefit from this\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) && elem.offsetWidth === 0 ?\n\t\t\t\t\tjQuery.swap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t}) :\n\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar styles = extra && getStyles( elem );\n\t\t\treturn setPositiveNumber( elem, value, extra ?\n\t\t\t\taugmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tsupport.boxSizing && jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t) : 0\n\t\t\t);\n\t\t}\n\t};\n});\n\nif ( !support.opacity ) {\n\tjQuery.cssHooks.opacity = {\n\t\tget: function( elem, computed ) {\n\t\t\t// IE uses filters for opacity\n\t\t\treturn ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || \"\" ) ?\n\t\t\t\t( 0.01 * parseFloat( RegExp.$1 ) ) + \"\" :\n\t\t\t\tcomputed ? \"1\" : \"\";\n\t\t},\n\n\t\tset: function( elem, value ) {\n\t\t\tvar style = elem.style,\n\t\t\t\tcurrentStyle = elem.currentStyle,\n\t\t\t\topacity = jQuery.isNumeric( value ) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\n\t\t\t\tfilter = currentStyle && currentStyle.filter || style.filter || \"\";\n\n\t\t\t// IE has trouble with opacity if it does not have layout\n\t\t\t// Force it by setting the zoom level\n\t\t\tstyle.zoom = 1;\n\n\t\t\t// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652\n\t\t\t// if value === \"\", then remove inline opacity #12685\n\t\t\tif ( ( value >= 1 || value === \"\" ) &&\n\t\t\t\t\tjQuery.trim( filter.replace( ralpha, \"\" ) ) === \"\" &&\n\t\t\t\t\tstyle.removeAttribute ) {\n\n\t\t\t\t// Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\n\t\t\t\t// if \"filter:\" is present at all, clearType is disabled, we want to avoid this\n\t\t\t\t// style.removeAttribute is IE Only, but so apparently is this code path...\n\t\t\t\tstyle.removeAttribute( \"filter\" );\n\n\t\t\t\t// if there is no filter style applied in a css rule or unset inline opacity, we are done\n\t\t\t\tif ( value === \"\" || currentStyle && !currentStyle.filter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// otherwise, set new filter values\n\t\t\tstyle.filter = ralpha.test( filter ) ?\n\t\t\t\tfilter.replace( ralpha, opacity ) :\n\t\t\t\tfilter + \" \" + opacity;\n\t\t}\n\t};\n}\n\njQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t// Work around by temporarily setting element display to inline-block\n\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" },\n\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each({\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n});\n\njQuery.fn.extend({\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t},\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( isHidden( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t});\n\t}\n});\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || \"swing\";\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\n\t\t\t// available and use plain properties where available\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9\n// Panic based approach to setting things on disconnected nodes\n\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t}\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back Compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trfxnum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" ),\n\trrun = /queueHooks$/,\n\tanimationPrefilters = [ defaultPrefilter ],\n\ttweeners = {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value ),\n\t\t\t\ttarget = tween.cur(),\n\t\t\t\tparts = rfxnum.exec( value ),\n\t\t\t\tunit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t\t\t// Starting value computation is required for potential unit mismatches\n\t\t\t\tstart = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +target ) &&\n\t\t\t\t\trfxnum.exec( jQuery.css( tween.elem, prop ) ),\n\t\t\t\tscale = 1,\n\t\t\t\tmaxIterations = 20;\n\n\t\t\tif ( start && start[ 3 ] !== unit ) {\n\t\t\t\t// Trust units reported by jQuery.css\n\t\t\t\tunit = unit || start[ 3 ];\n\n\t\t\t\t// Make sure we update the tween properties later on\n\t\t\t\tparts = parts || [];\n\n\t\t\t\t// Iteratively approximate from a nonzero starting point\n\t\t\t\tstart = +target || 1;\n\n\t\t\t\tdo {\n\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\n\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\n\t\t\t\t\tscale = scale || \".5\";\n\n\t\t\t\t\t// Adjust and apply\n\t\t\t\t\tstart = start / scale;\n\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\n\n\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t\t\t// And breaking the loop if scale is unchanged or perfect, or if we've just had enough\n\t\t\t\t} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );\n\t\t\t}\n\n\t\t\t// Update tween properties\n\t\t\tif ( parts ) {\n\t\t\t\tstart = tween.start = +start || +target || 0;\n\t\t\t\ttween.unit = unit;\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\n\t\t\t\ttween.end = parts[ 1 ] ?\n\t\t\t\t\tstart + ( parts[ 1 ] + 1 ) * parts[ 2 ] :\n\t\t\t\t\t+parts[ 2 ];\n\t\t\t}\n\n\t\t\treturn tween;\n\t\t} ]\n\t};\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\tsetTimeout(function() {\n\t\tfxNow = undefined;\n\t});\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\tattrs = { height: type },\n\t\ti = 0;\n\n\t// if we include width, step value is 1 to do all cssExpand values,\n\t// if we don't include width, step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( (tween = collection[ index ].call( animation, prop, value )) ) {\n\n\t\t\t// we're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\t/* jshint validthis: true */\n\tvar prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHidden( elem ),\n\t\tdataShow = jQuery._data( elem, \"fxshow\" );\n\n\t// handle queue: false promises\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always(function() {\n\t\t\t// doing this makes sure that the complete handler will be called\n\t\t\t// before this completes\n\t\t\tanim.always(function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// height/width overflow pass\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\n\t\t// Make sure that nothing sneaks out\n\t\t// Record all 3 overflow attributes because IE does not\n\t\t// change the overflow attribute when overflowX and\n\t\t// overflowY are set to the same value\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Set display property to inline-block for height/width\n\t\t// animations on inline elements that are having width/height animated\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\n\t\t// Test default display if display is currently \"none\"\n\t\tcheckDisplay = display === \"none\" ?\n\t\t\tjQuery._data( elem, \"olddisplay\" ) || defaultDisplay( elem.nodeName ) : display;\n\n\t\tif ( checkDisplay === \"inline\" && jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t// inline-level elements accept inline-block;\n\t\t\t// block-level elements need to be inline with layout\n\t\t\tif ( !support.inlineBlockNeedsLayout || defaultDisplay( elem.nodeName ) === \"inline\" ) {\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t} else {\n\t\t\t\tstyle.zoom = 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tif ( !support.shrinkWrapBlocks() ) {\n\t\t\tanim.always(function() {\n\t\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t\t});\n\t\t}\n\t}\n\n\t// show/hide pass\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.exec( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\n\t\t// Any non-fx value stops us from restoring the original display value\n\t\t} else {\n\t\t\tdisplay = undefined;\n\t\t}\n\t}\n\n\tif ( !jQuery.isEmptyObject( orig ) ) {\n\t\tif ( dataShow ) {\n\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\thidden = dataShow.hidden;\n\t\t\t}\n\t\t} else {\n\t\t\tdataShow = jQuery._data( elem, \"fxshow\", {} );\n\t\t}\n\n\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\n\t\tif ( toggle ) {\n\t\t\tdataShow.hidden = !hidden;\n\t\t}\n\t\tif ( hidden ) {\n\t\t\tjQuery( elem ).show();\n\t\t} else {\n\t\t\tanim.done(function() {\n\t\t\t\tjQuery( elem ).hide();\n\t\t\t});\n\t\t}\n\t\tanim.done(function() {\n\t\t\tvar prop;\n\t\t\tjQuery._removeData( elem, \"fxshow\" );\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t}\n\t\t});\n\t\tfor ( prop in orig ) {\n\t\t\ttween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\n\t\t\tif ( !( prop in dataShow ) ) {\n\t\t\t\tdataShow[ prop ] = tween.start;\n\t\t\t\tif ( hidden ) {\n\t\t\t\t\ttween.end = tween.start;\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t// If this is a noop like .hide().hide(), restore an overwritten display value\n\t} else if ( (display === \"none\" ? defaultDisplay( elem.nodeName ) : display) === \"inline\" ) {\n\t\tstyle.display = display;\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = animationPrefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\t\t\t// don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t}),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\t\t\t\t// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise({\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// resolve when we played the last frame\n\t\t\t\t// otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length ; index++ ) {\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t})\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.split(\" \");\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length ; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\n\t\t\ttweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tanimationPrefilters.unshift( callback );\n\t\t} else {\n\t\t\tanimationPrefilters.push( callback );\n\t\t}\n\t}\n});\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\n\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend({\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\n\n\t\t\t// animate to the value specified\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || jQuery._data( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = jQuery._data( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// start the next in the queue if the last step wasn't forced\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\n\t\t\t// but only if they were gotoEnd\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t});\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tvar index,\n\t\t\t\tdata = jQuery._data( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t});\n\t}\n});\n\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n});\n\n// Generate shortcuts for custom animations\njQuery.each({\n\tslideDown: genFx(\"show\"),\n\tslideUp: genFx(\"hide\"),\n\tslideToggle: genFx(\"toggle\"),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n});\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ttimers = jQuery.timers,\n\t\ti = 0;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tif ( timer() ) {\n\t\tjQuery.fx.start();\n\t} else {\n\t\tjQuery.timers.pop();\n\t}\n};\n\njQuery.fx.interval = 13;\n\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\tclearInterval( timerId );\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\tclearTimeout( timeout );\n\t\t};\n\t});\n};\n\n\n(function() {\n\t// Minified: var a,b,c,d,e\n\tvar input, div, select, a, opt;\n\n\t// Setup\n\tdiv = document.createElement( \"div\" );\n\tdiv.setAttribute( \"className\", \"t\" );\n\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n\ta = div.getElementsByTagName(\"a\")[ 0 ];\n\n\t// First batch of tests.\n\tselect = document.createElement(\"select\");\n\topt = select.appendChild( document.createElement(\"option\") );\n\tinput = div.getElementsByTagName(\"input\")[ 0 ];\n\n\ta.style.cssText = \"top:1px\";\n\n\t// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)\n\tsupport.getSetAttribute = div.className !== \"t\";\n\n\t// Get the style information from getAttribute\n\t// (IE uses .cssText instead)\n\tsupport.style = /top/.test( a.getAttribute(\"style\") );\n\n\t// Make sure that URLs aren't manipulated\n\t// (IE normalizes it by default)\n\tsupport.hrefNormalized = a.getAttribute(\"href\") === \"/a\";\n\n\t// Check the default checkbox/radio value (\"\" on WebKit; \"on\" elsewhere)\n\tsupport.checkOn = !!input.value;\n\n\t// Make sure that a selected-by-default option has a working selected property.\n\t// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\n\tsupport.optSelected = opt.selected;\n\n\t// Tests for enctype support on a form (#6743)\n\tsupport.enctype = !!document.createElement(\"form\").enctype;\n\n\t// Make sure that the options inside disabled selects aren't marked as disabled\n\t// (WebKit marks them as disabled)\n\tselect.disabled = true;\n\tsupport.optDisabled = !opt.disabled;\n\n\t// Support: IE8 only\n\t// Check if we can trust getAttribute(\"value\")\n\tinput = document.createElement( \"input\" );\n\tinput.setAttribute( \"value\", \"\" );\n\tsupport.input = input.getAttribute( \"value\" ) === \"\";\n\n\t// Check if an input maintains its value after becoming a radio\n\tinput.value = \"t\";\n\tinput.setAttribute( \"type\", \"radio\" );\n\tsupport.radioValue = input.value === \"t\";\n})();\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend({\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[0];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\t\t\t\t\t// handle most common string cases\n\t\t\t\t\tret.replace(rreturn, \"\") :\n\t\t\t\t\t// handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each(function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\t\t\t\t\t// Support: IE10-11+\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length,\n\t\t\t\t\ti = index < 0 ?\n\t\t\t\t\t\tmax :\n\t\t\t\t\t\tone ? index : 0;\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// oldIE doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t( support.optDisabled ? !option.disabled : option.getAttribute(\"disabled\") === null ) &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\tif ( jQuery.inArray( jQuery.valHooks.option.get( option ), values ) >= 0 ) {\n\n\t\t\t\t\t\t// Support: IE6\n\t\t\t\t\t\t// When new option element is added to select box we need to\n\t\t\t\t\t\t// force reflow of newly added node in order to workaround delay\n\t\t\t\t\t\t// of initialization properties\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\toption.selected = optionSet = true;\n\n\t\t\t\t\t\t} catch ( _ ) {\n\n\t\t\t\t\t\t\t// Will be executed only in IE6\n\t\t\t\t\t\t\toption.scrollHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\toption.selected = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\n\t\t\t\treturn options;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Radios and checkboxes getter/setter\njQuery.each([ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\t// Support: Webkit\n\t\t\t// \"\" is returned instead of \"on\" if a value isn't specified\n\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n\t\t};\n\t}\n});\n\n\n\n\nvar nodeHook, boolHook,\n\tattrHandle = jQuery.expr.attrHandle,\n\truseDefault = /^(?:checked|selected)$/i,\n\tgetSetAttribute = support.getSetAttribute,\n\tgetSetInput = support.input;\n\njQuery.fn.extend({\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tattr: function( elem, name, value ) {\n\t\tvar hooks, ret,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set attributes on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === strundefined ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// All attributes are lowercase\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\tname = name.toLowerCase();\n\t\t\thooks = jQuery.attrHooks[ name ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\n\t\t\t} else if ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t} else if ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\treturn ret;\n\n\t\t} else {\n\t\t\tret = jQuery.find.attr( elem, name );\n\n\t\t\t// Non-existent attributes return null, we normalize to undefined\n\t\t\treturn ret == null ?\n\t\t\t\tundefined :\n\t\t\t\tret;\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name, propName,\n\t\t\ti = 0,\n\t\t\tattrNames = value && value.match( rnotwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( (name = attrNames[i++]) ) {\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\n\n\t\t\t\t// Boolean attributes get special treatment (#10870)\n\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\n\t\t\t\t\t// Set corresponding property to false\n\t\t\t\t\tif ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {\n\t\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t\t// Support: IE<9\n\t\t\t\t\t// Also clear defaultChecked/defaultSelected (if appropriate)\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem[ jQuery.camelCase( \"default-\" + name ) ] =\n\t\t\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t\t}\n\n\t\t\t\t// See #9699 for explanation of this approach (setting first, then removal)\n\t\t\t\t} else {\n\t\t\t\t\tjQuery.attr( elem, name, \"\" );\n\t\t\t\t}\n\n\t\t\t\telem.removeAttribute( getSetAttribute ? name : propName );\n\t\t\t}\n\t\t}\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" && jQuery.nodeName(elem, \"input\") ) {\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\n\t\t\t\t\t// Reset value to default in case type is set after value during creation\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Hook for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {\n\t\t\t// IE<8 needs the *property* name\n\t\t\telem.setAttribute( !getSetAttribute && jQuery.propFix[ name ] || name, name );\n\n\t\t// Use defaultChecked and defaultSelected for oldIE\n\t\t} else {\n\t\t\telem[ jQuery.camelCase( \"default-\" + name ) ] = elem[ name ] = true;\n\t\t}\n\n\t\treturn name;\n\t}\n};\n\n// Retrieve booleans specially\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = getSetInput && getSetAttribute || !ruseDefault.test( name ) ?\n\t\tfunction( elem, name, isXML ) {\n\t\t\tvar ret, handle;\n\t\t\tif ( !isXML ) {\n\t\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\t\thandle = attrHandle[ name ];\n\t\t\t\tattrHandle[ name ] = ret;\n\t\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\t\tname.toLowerCase() :\n\t\t\t\t\tnull;\n\t\t\t\tattrHandle[ name ] = handle;\n\t\t\t}\n\t\t\treturn ret;\n\t\t} :\n\t\tfunction( elem, name, isXML ) {\n\t\t\tif ( !isXML ) {\n\t\t\t\treturn elem[ jQuery.camelCase( \"default-\" + name ) ] ?\n\t\t\t\t\tname.toLowerCase() :\n\t\t\t\t\tnull;\n\t\t\t}\n\t\t};\n});\n\n// fix oldIE attroperties\nif ( !getSetInput || !getSetAttribute ) {\n\tjQuery.attrHooks.value = {\n\t\tset: function( elem, value, name ) {\n\t\t\tif ( jQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t// Does not return so that setAttribute is also used\n\t\t\t\telem.defaultValue = value;\n\t\t\t} else {\n\t\t\t\t// Use nodeHook if defined (#1954); otherwise setAttribute is fine\n\t\t\t\treturn nodeHook && nodeHook.set( elem, value, name );\n\t\t\t}\n\t\t}\n\t};\n}\n\n// IE6/7 do not support getting/setting some attributes with get/setAttribute\nif ( !getSetAttribute ) {\n\n\t// Use this for any attribute in IE6/7\n\t// This fixes almost every IE6/7 issue\n\tnodeHook = {\n\t\tset: function( elem, value, name ) {\n\t\t\t// Set the existing or create a new attribute node\n\t\t\tvar ret = elem.getAttributeNode( name );\n\t\t\tif ( !ret ) {\n\t\t\t\telem.setAttributeNode(\n\t\t\t\t\t(ret = elem.ownerDocument.createAttribute( name ))\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tret.value = value += \"\";\n\n\t\t\t// Break association with cloned elements by also using setAttribute (#9646)\n\t\t\tif ( name === \"value\" || value === elem.getAttribute( name ) ) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t};\n\n\t// Some attributes are constructed with empty-string values when not defined\n\tattrHandle.id = attrHandle.name = attrHandle.coords =\n\t\tfunction( elem, name, isXML ) {\n\t\t\tvar ret;\n\t\t\tif ( !isXML ) {\n\t\t\t\treturn (ret = elem.getAttributeNode( name )) && ret.value !== \"\" ?\n\t\t\t\t\tret.value :\n\t\t\t\t\tnull;\n\t\t\t}\n\t\t};\n\n\t// Fixing value retrieval on a button requires this module\n\tjQuery.valHooks.button = {\n\t\tget: function( elem, name ) {\n\t\t\tvar ret = elem.getAttributeNode( name );\n\t\t\tif ( ret && ret.specified ) {\n\t\t\t\treturn ret.value;\n\t\t\t}\n\t\t},\n\t\tset: nodeHook.set\n\t};\n\n\t// Set contenteditable to false on removals(#10429)\n\t// Setting to empty string throws an error as an invalid value\n\tjQuery.attrHooks.contenteditable = {\n\t\tset: function( elem, value, name ) {\n\t\t\tnodeHook.set( elem, value === \"\" ? false : value, name );\n\t\t}\n\t};\n\n\t// Set width and height to auto instead of 0 on empty string( Bug #8150 )\n\t// This is for removals\n\tjQuery.each([ \"width\", \"height\" ], function( i, name ) {\n\t\tjQuery.attrHooks[ name ] = {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\telem.setAttribute( name, \"auto\" );\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n}\n\nif ( !support.style ) {\n\tjQuery.attrHooks.style = {\n\t\tget: function( elem ) {\n\t\t\t// Return undefined in the case of empty string\n\t\t\t// Note: IE uppercases css property names, but if we were to .toLowerCase()\n\t\t\t// .cssText, that would destroy case senstitivity in URL's, like in \"background\"\n\t\t\treturn elem.style.cssText || undefined;\n\t\t},\n\t\tset: function( elem, value ) {\n\t\t\treturn ( elem.style.cssText = value + \"\" );\n\t\t}\n\t};\n}\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button|object)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend({\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\tname = jQuery.propFix[ name ] || name;\n\t\treturn this.each(function() {\n\t\t\t// try/catch handles cases where IE balks (such as removing a property on window)\n\t\t\ttry {\n\t\t\t\tthis[ name ] = undefined;\n\t\t\t\tdelete this[ name ];\n\t\t\t} catch( e ) {}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t},\n\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set properties on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\tif ( notxml ) {\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\treturn hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?\n\t\t\t\tret :\n\t\t\t\t( elem[ name ] = value );\n\n\t\t} else {\n\t\t\treturn hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ?\n\t\t\t\tret :\n\t\t\t\telem[ name ];\n\t\t}\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\t\t\t\t// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n\t\t\t\t// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\treturn tabindex ?\n\t\t\t\t\tparseInt( tabindex, 10 ) :\n\t\t\t\t\trfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?\n\t\t\t\t\t\t0 :\n\t\t\t\t\t\t-1;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Some attributes require a special call on IE\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !support.hrefNormalized ) {\n\t// href/src property should get the full normalized URL (#10299/#12915)\n\tjQuery.each([ \"href\", \"src\" ], function( i, name ) {\n\t\tjQuery.propHooks[ name ] = {\n\t\t\tget: function( elem ) {\n\t\t\t\treturn elem.getAttribute( name, 4 );\n\t\t\t}\n\t\t};\n\t});\n}\n\n// Support: Safari, IE9+\n// mis-reports the default selected property of an option\n// Accessing the parent's selectedIndex property fixes it\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\t// Make sure that it also works with optgroups, see #5701\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t};\n}\n\njQuery.each([\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n});\n\n// IE6/7 call enctype encoding\nif ( !support.enctype ) {\n\tjQuery.propFix.enctype = \"encoding\";\n}\n\n\n\n\nvar rclass = /[\\t\\r\\n\\f]/g;\n\njQuery.fn.extend({\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\ti = 0,\n\t\t\tlen = this.length,\n\t\t\tproceed = typeof value === \"string\" && value;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\n\t\tif ( proceed ) {\n\t\t\t// The disjunction here is for better compressibility (see removeClass)\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\" \"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\ti = 0,\n\t\t\tlen = this.length,\n\t\t\tproceed = arguments.length === 0 || typeof value === \"string\" && value;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\t\tif ( proceed ) {\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) >= 0 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = value ? jQuery.trim( cur ) : \"\";\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( type === \"string\" ) {\n\t\t\t\t// toggle individual class names\n\t\t\t\tvar className,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tself = jQuery( this ),\n\t\t\t\t\tclassNames = value.match( rnotwhite ) || [];\n\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\n\t\t\t\t\t// check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( type === strundefined || type === \"boolean\" ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\t// store className if set\n\t\t\t\t\tjQuery._data( this, \"__className__\", this.className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed \"false\",\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tthis.className = this.className || value === false ? \"\" : jQuery._data( this, \"__className__\" ) || \"\";\n\t\t\t}\n\t\t});\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className = \" \" + selector + \" \",\n\t\t\ti = 0,\n\t\t\tl = this.length;\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) >= 0 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n});\n\njQuery.fn.extend({\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t},\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\n\t}\n});\n\n\nvar nonce = jQuery.now();\n\nvar rquery = (/\\?/);\n\n\n\nvar rvalidtokens = /(,)|(\\[|{)|(}|])|\"(?:[^\"\\\\\\r\\n]|\\\\[\"\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*\"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;\n\njQuery.parseJSON = function( data ) {\n\t// Attempt to parse using the native JSON parser first\n\tif ( window.JSON && window.JSON.parse ) {\n\t\t// Support: Android 2.3\n\t\t// Workaround failure to string-cast null input\n\t\treturn window.JSON.parse( data + \"\" );\n\t}\n\n\tvar requireNonComma,\n\t\tdepth = null,\n\t\tstr = jQuery.trim( data + \"\" );\n\n\t// Guard against invalid (and possibly dangerous) input by ensuring that nothing remains\n\t// after removing valid tokens\n\treturn str && !jQuery.trim( str.replace( rvalidtokens, function( token, comma, open, close ) {\n\n\t\t// Force termination if we see a misplaced comma\n\t\tif ( requireNonComma && comma ) {\n\t\t\tdepth = 0;\n\t\t}\n\n\t\t// Perform no more replacements after returning to outermost depth\n\t\tif ( depth === 0 ) {\n\t\t\treturn token;\n\t\t}\n\n\t\t// Commas must not follow \"[\", \"{\", or \",\"\n\t\trequireNonComma = open || comma;\n\n\t\t// Determine new depth\n\t\t// array/object open (\"[\" or \"{\"): depth += true - false (increment)\n\t\t// array/object close (\"]\" or \"}\"): depth += false - true (decrement)\n\t\t// other cases (\",\" or primitive): depth += true - true (numeric cast)\n\t\tdepth += !close - !open;\n\n\t\t// Remove this token\n\t\treturn \"\";\n\t}) ) ?\n\t\t( Function( \"return \" + str ) )() :\n\t\tjQuery.error( \"Invalid JSON: \" + data );\n};\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, tmp;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\ttry {\n\t\tif ( window.DOMParser ) { // Standard\n\t\t\ttmp = new DOMParser();\n\t\t\txml = tmp.parseFromString( data, \"text/xml\" );\n\t\t} else { // IE\n\t\t\txml = new ActiveXObject( \"Microsoft.XMLDOM\" );\n\t\t\txml.async = \"false\";\n\t\t\txml.loadXML( data );\n\t\t}\n\t} catch( e ) {\n\t\txml = undefined;\n\t}\n\tif ( !xml || !xml.documentElement || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\t// Document location\n\tajaxLocParts,\n\tajaxLocation,\n\n\trhash = /#.*$/,\n\trts = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg, // IE leaves an \\r character at EOL\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\trurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat(\"*\");\n\n// #8138, IE may throw an exception when accessing\n// a field from window.location if document.domain has been set\ntry {\n\tajaxLocation = location.href;\n} catch( e ) {\n\t// Use the href attribute of an A element\n\t// since IE will modify it given document.location\n\tajaxLocation = document.createElement( \"a\" );\n\tajaxLocation.href = \"\";\n\tajaxLocation = ajaxLocation.href;\n}\n\n// Segment location into parts\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( (dataType = dataTypes[i++]) ) {\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType.charAt( 0 ) === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t});\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar deep, key,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\tvar firstDataType, ct, finalDataType, type,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s[ \"throws\" ] ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend({\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: ajaxLocation,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /xml/,\n\t\t\thtml: /html/,\n\t\t\tjson: /json/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar // Cross-domain detection vars\n\t\t\tparts,\n\t\t\t// Loop variable\n\t\t\ti,\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\t\t\t// Response headers as string\n\t\t\tresponseHeadersString,\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\ttransport,\n\t\t\t// Response headers\n\t\t\tresponseHeaders,\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks(\"once memory\"),\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( state === 2 ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( (match = rheaders.exec( responseHeadersString )) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\n\t\tjqXHR.success = jqXHR.done;\n\t\tjqXHR.error = jqXHR.fail;\n\n\t\t// Remove hash character (#7531: and string promotion)\n\t\t// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" ).replace( rhash, \"\" ).replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\n\t\tif ( s.crossDomain == null ) {\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\n\t\t\ts.crossDomain = !!( parts &&\n\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) !==\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) )\n\t\t\t);\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( state === 2 ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger(\"ajaxStart\");\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\tcacheURL = s.url;\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add anti-cache in url if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\ts.url = rts.test( cacheURL ) ?\n\n\t\t\t\t\t// If there is already a '_' parameter, set its value\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\n\n\t\t\t\t\t// Otherwise add one to the end\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\n\t\t\t}\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\n\t\t\tjqXHR[ i ]( s[ i ] );\n\t\t}\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = setTimeout(function() {\n\t\t\t\t\tjqXHR.abort(\"timeout\");\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tstate = 1;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\t\t\t\t// Propagate exception as error if not done\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tdone( -1, e );\n\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Called once\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// State is \"done\" now\n\t\t\tstate = 2;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\tclearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// We extract error from statusText\n\t\t\t\t// then normalize statusText and status for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n});\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\t\t// shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\treturn jQuery.ajax({\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t});\n\t};\n});\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax({\n\t\turl: url,\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t});\n};\n\n\njQuery.fn.extend({\n\twrapAll: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function(i) {\n\t\t\t\tjQuery(this).wrapAll( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\tif ( this[0] ) {\n\t\t\t// The elements to wrap the target around\n\t\t\tvar wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);\n\n\t\t\tif ( this[0].parentNode ) {\n\t\t\t\twrap.insertBefore( this[0] );\n\t\t\t}\n\n\t\t\twrap.map(function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstChild && elem.firstChild.nodeType === 1 ) {\n\t\t\t\t\telem = elem.firstChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t}).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function(i) {\n\t\t\t\tjQuery(this).wrapInner( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t});\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each(function(i) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\n\t\t});\n\t},\n\n\tunwrap: function() {\n\t\treturn this.parent().each(function() {\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t\t}\n\t\t}).end();\n\t}\n});\n\n\njQuery.expr.filters.hidden = function( elem ) {\n\t// Support: Opera <= 12.12\n\t// Opera reports offsetWidths and offsetHeights less than zero on some elements\n\treturn elem.offsetWidth <= 0 && elem.offsetHeight <= 0 ||\n\t\t(!support.reliableHiddenOffsets() &&\n\t\t\t((elem.style && elem.style.display) || jQuery.css( elem, \"display\" )) === \"none\");\n};\n\njQuery.expr.filters.visible = function( elem ) {\n\treturn !jQuery.expr.filters.hidden( elem );\n};\n\n\n\n\nvar r20 = /%20/g,\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\n\t\t\t}\n\t\t});\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, value ) {\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t};\n\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\tif ( traditional === undefined ) {\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t});\n\n\t} else {\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\n};\n\njQuery.fn.extend({\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map(function() {\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t})\n\t\t.filter(function() {\n\t\t\tvar type = this.type;\n\t\t\t// Use .is(\":disabled\") so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t})\n\t\t.map(function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val ) {\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t}) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t}).get();\n\t}\n});\n\n\n// Create the request object\n// (This is still attached to ajaxSettings for backward compatibility)\njQuery.ajaxSettings.xhr = window.ActiveXObject !== undefined ?\n\t// Support: IE6+\n\tfunction() {\n\n\t\t// XHR cannot access local files, always use ActiveX for that case\n\t\treturn !this.isLocal &&\n\n\t\t\t// Support: IE7-8\n\t\t\t// oldIE XHR does not support non-RFC2616 methods (#13240)\n\t\t\t// See http://msdn.microsoft.com/en-us/library/ie/ms536648(v=vs.85).aspx\n\t\t\t// and http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9\n\t\t\t// Although this check for six methods instead of eight\n\t\t\t// since IE also does not support \"trace\" and \"connect\"\n\t\t\t/^(get|post|head|put|delete|options)$/i.test( this.type ) &&\n\n\t\t\tcreateStandardXHR() || createActiveXHR();\n\t} :\n\t// For all other browsers, use the standard XMLHttpRequest object\n\tcreateStandardXHR;\n\nvar xhrId = 0,\n\txhrCallbacks = {},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\n// Support: IE<10\n// Open requests must be manually aborted on unload (#5280)\n// See https://support.microsoft.com/kb/2856746 for more info\nif ( window.attachEvent ) {\n\twindow.attachEvent( \"onunload\", function() {\n\t\tfor ( var key in xhrCallbacks ) {\n\t\t\txhrCallbacks[ key ]( undefined, true );\n\t\t}\n\t});\n}\n\n// Determine support properties\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nxhrSupported = support.ajax = !!xhrSupported;\n\n// Create transport if the browser can provide an xhr\nif ( xhrSupported ) {\n\n\tjQuery.ajaxTransport(function( options ) {\n\t\t// Cross domain only allowed if supported through XMLHttpRequest\n\t\tif ( !options.crossDomain || support.cors ) {\n\n\t\t\tvar callback;\n\n\t\t\treturn {\n\t\t\t\tsend: function( headers, complete ) {\n\t\t\t\t\tvar i,\n\t\t\t\t\t\txhr = options.xhr(),\n\t\t\t\t\t\tid = ++xhrId;\n\n\t\t\t\t\t// Open the socket\n\t\t\t\t\txhr.open( options.type, options.url, options.async, options.username, options.password );\n\n\t\t\t\t\t// Apply custom fields if provided\n\t\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Override mime type if needed\n\t\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t\t}\n\n\t\t\t\t\t// X-Requested-With header\n\t\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\t\tif ( !options.crossDomain && !headers[\"X-Requested-With\"] ) {\n\t\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set headers\n\t\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\t\t// Support: IE<9\n\t\t\t\t\t\t// IE's ActiveXObject throws a 'Type Mismatch' exception when setting\n\t\t\t\t\t\t// request header to a null-value.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To keep consistent with other XHR implementations, cast the value\n\t\t\t\t\t\t// to string and ignore `undefined`.\n\t\t\t\t\t\tif ( headers[ i ] !== undefined ) {\n\t\t\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] + \"\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do send the request\n\t\t\t\t\t// This may raise an exception which is actually\n\t\t\t\t\t// handled in jQuery.ajax (so no try/catch here)\n\t\t\t\t\txhr.send( ( options.hasContent && options.data ) || null );\n\n\t\t\t\t\t// Listener\n\t\t\t\t\tcallback = function( _, isAbort ) {\n\t\t\t\t\t\tvar status, statusText, responses;\n\n\t\t\t\t\t\t// Was never called and is aborted or complete\n\t\t\t\t\t\tif ( callback && ( isAbort || xhr.readyState === 4 ) ) {\n\t\t\t\t\t\t\t// Clean up\n\t\t\t\t\t\t\tdelete xhrCallbacks[ id ];\n\t\t\t\t\t\t\tcallback = undefined;\n\t\t\t\t\t\t\txhr.onreadystatechange = jQuery.noop;\n\n\t\t\t\t\t\t\t// Abort manually if needed\n\t\t\t\t\t\t\tif ( isAbort ) {\n\t\t\t\t\t\t\t\tif ( xhr.readyState !== 4 ) {\n\t\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresponses = {};\n\t\t\t\t\t\t\t\tstatus = xhr.status;\n\n\t\t\t\t\t\t\t\t// Support: IE<10\n\t\t\t\t\t\t\t\t// Accessing binary-data responseText throws an exception\n\t\t\t\t\t\t\t\t// (#11426)\n\t\t\t\t\t\t\t\tif ( typeof xhr.responseText === \"string\" ) {\n\t\t\t\t\t\t\t\t\tresponses.text = xhr.responseText;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Firefox throws an exception when accessing\n\t\t\t\t\t\t\t\t// statusText for faulty cross-domain requests\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tstatusText = xhr.statusText;\n\t\t\t\t\t\t\t\t} catch( e ) {\n\t\t\t\t\t\t\t\t\t// We normalize with Webkit giving an empty statusText\n\t\t\t\t\t\t\t\t\tstatusText = \"\";\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Filter status for non standard behaviors\n\n\t\t\t\t\t\t\t\t// If the request is local and we have data: assume a success\n\t\t\t\t\t\t\t\t// (success with no data won't get notified, that's the best we\n\t\t\t\t\t\t\t\t// can do given current implementations)\n\t\t\t\t\t\t\t\tif ( !status && options.isLocal && !options.crossDomain ) {\n\t\t\t\t\t\t\t\t\tstatus = responses.text ? 200 : 404;\n\t\t\t\t\t\t\t\t// IE - #1450: sometimes returns 1223 when it should be 204\n\t\t\t\t\t\t\t\t} else if ( status === 1223 ) {\n\t\t\t\t\t\t\t\t\tstatus = 204;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Call complete if needed\n\t\t\t\t\t\tif ( responses ) {\n\t\t\t\t\t\t\tcomplete( status, statusText, responses, xhr.getAllResponseHeaders() );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( !options.async ) {\n\t\t\t\t\t\t// if we're in sync mode we fire the callback\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t} else if ( xhr.readyState === 4 ) {\n\t\t\t\t\t\t// (IE6 & IE7) if it's in cache and has been\n\t\t\t\t\t\t// retrieved directly we need to fire the callback\n\t\t\t\t\t\tsetTimeout( callback );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Add to the list of active xhr callbacks\n\t\t\t\t\t\txhr.onreadystatechange = xhrCallbacks[ id ] = callback;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tabort: function() {\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tcallback( undefined, true );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n}\n\n// Functions to create xhrs\nfunction createStandardXHR() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch( e ) {}\n}\n\nfunction createActiveXHR() {\n\ttry {\n\t\treturn new window.ActiveXObject( \"Microsoft.XMLHTTP\" );\n\t} catch( e ) {}\n}\n\n\n\n\n// Install script dataType\njQuery.ajaxSetup({\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /(?:java|ecma)script/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n});\n\n// Handle cache's special case and global\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t\ts.global = false;\n\t}\n});\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function(s) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\n\t\tvar script,\n\t\t\thead = document.head || jQuery(\"head\")[0] || document.documentElement;\n\n\t\treturn {\n\n\t\t\tsend: function( _, callback ) {\n\n\t\t\t\tscript = document.createElement(\"script\");\n\n\t\t\t\tscript.async = true;\n\n\t\t\t\tif ( s.scriptCharset ) {\n\t\t\t\t\tscript.charset = s.scriptCharset;\n\t\t\t\t}\n\n\t\t\t\tscript.src = s.url;\n\n\t\t\t\t// Attach handlers for all browsers\n\t\t\t\tscript.onload = script.onreadystatechange = function( _, isAbort ) {\n\n\t\t\t\t\tif ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {\n\n\t\t\t\t\t\t// Handle memory leak in IE\n\t\t\t\t\t\tscript.onload = script.onreadystatechange = null;\n\n\t\t\t\t\t\t// Remove the script\n\t\t\t\t\t\tif ( script.parentNode ) {\n\t\t\t\t\t\t\tscript.parentNode.removeChild( script );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Dereference the script\n\t\t\t\t\t\tscript = null;\n\n\t\t\t\t\t\t// Callback if not abort\n\t\t\t\t\t\tif ( !isAbort ) {\n\t\t\t\t\t\t\tcallback( 200, \"success\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\thead.insertBefore( script, head.firstChild );\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( script ) {\n\t\t\t\t\tscript.onload( undefined, true );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup({\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n});\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" && !( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[\"script json\"] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always(function() {\n\t\t\t// Restore preexisting value\n\t\t\twindow[ callbackName ] = overwritten;\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\t\t\t\t// make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t});\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n});\n\n\n\n\n// data: string of html\n// context (optional): If specified, the fragment will be created in this context, defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\tcontext = context || document;\n\n\tvar parsed = rsingleTag.exec( data ),\n\t\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[1] ) ];\n\t}\n\n\tparsed = jQuery.buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n// Keep a copy of the old load method\nvar _load = jQuery.fn.load;\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tif ( typeof url !== \"string\" && _load ) {\n\t\treturn _load.apply( this, arguments );\n\t}\n\n\tvar selector, response, type,\n\t\tself = this,\n\t\toff = url.indexOf(\" \");\n\n\tif ( off >= 0 ) {\n\t\tselector = jQuery.trim( url.slice( off, url.length ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax({\n\t\t\turl: url,\n\n\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\n\t\t\ttype: type,\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t}).done(function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery(\"<div>\").append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t}).complete( callback && function( jqXHR, status ) {\n\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t});\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [ \"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\" ], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n});\n\n\n\n\njQuery.expr.filters.animated = function( elem ) {\n\treturn jQuery.grep(jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t}).length;\n};\n\n\n\n\n\nvar docElem = window.document.documentElement;\n\n/**\n * Gets a window from an element\n */\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ?\n\t\telem :\n\t\telem.nodeType === 9 ?\n\t\t\telem.defaultView || elem.parentWindow :\n\t\t\tfalse;\n}\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\tjQuery.inArray(\"auto\", [ curCSSTop, curCSSLeft ] ) > -1;\n\n\t\t// need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\t\t\toptions = options.call( elem, i, curOffset );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend({\n\toffset: function( options ) {\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each(function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t});\n\t\t}\n\n\t\tvar docElem, win,\n\t\t\tbox = { top: 0, left: 0 },\n\t\t\telem = this[ 0 ],\n\t\t\tdoc = elem && elem.ownerDocument;\n\n\t\tif ( !doc ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdocElem = doc.documentElement;\n\n\t\t// Make sure it's not a disconnected DOM node\n\t\tif ( !jQuery.contains( docElem, elem ) ) {\n\t\t\treturn box;\n\t\t}\n\n\t\t// If we don't have gBCR, just use 0,0 rather than error\n\t\t// BlackBerry 5, iOS 3 (original iPhone)\n\t\tif ( typeof elem.getBoundingClientRect !== strundefined ) {\n\t\t\tbox = elem.getBoundingClientRect();\n\t\t}\n\t\twin = getWindow( doc );\n\t\treturn {\n\t\t\ttop: box.top  + ( win.pageYOffset || docElem.scrollTop )  - ( docElem.clientTop  || 0 ),\n\t\t\tleft: box.left + ( win.pageXOffset || docElem.scrollLeft ) - ( docElem.clientLeft || 0 )\n\t\t};\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\tparentOffset = { top: 0, left: 0 },\n\t\t\telem = this[ 0 ];\n\n\t\t// fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\t\t\t// we assume that getBoundingClientRect is available when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\t\t} else {\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset.top  += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\n\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\t// note: when an element has margin: auto the offsetLeft and marginLeft\n\t\t// are the same in Safari causing offset.left to incorrectly be 0\n\t\treturn {\n\t\t\ttop:  offset.top  - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true)\n\t\t};\n\t},\n\n\toffsetParent: function() {\n\t\treturn this.map(function() {\n\t\t\tvar offsetParent = this.offsetParent || docElem;\n\n\t\t\twhile ( offsetParent && ( !jQuery.nodeName( offsetParent, \"html\" ) && jQuery.css( offsetParent, \"position\" ) === \"static\" ) ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\t\t\treturn offsetParent || docElem;\n\t\t});\n\t}\n});\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = /Y/.test( prop );\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? (prop in win) ? win[ prop ] :\n\t\t\t\t\twin.document.documentElement[ method ] :\n\t\t\t\t\telem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : jQuery( win ).scrollLeft(),\n\t\t\t\t\ttop ? val : jQuery( win ).scrollTop()\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length, null );\n\t};\n});\n\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// getComputedStyle returns percent when specified for top/left/bottom/right\n// rather than make the css module depend on the offset module, we just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\t\t\t\t// if curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n});\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\n\t\t// margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest\n\t\t\t\t\t// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\n\t\t};\n\t});\n});\n\n\n// The number of elements contained in the matched element set\njQuery.fn.size = function() {\n\treturn this.length;\n};\n\njQuery.fn.andSelf = jQuery.fn.addBack;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( true ) {\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\treturn jQuery;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n\n\n\n\nvar\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in\n// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === strundefined ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vfi9qcXVlcnkvZGlzdC9qcXVlcnkuanM/NjEyOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFlBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUYsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLFlBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQSxnQkFBZ0IsSUFBSTs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLElBQUk7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsZUFBZTs7QUFFZixTQUFTOztBQUVUO0FBQ0EsUUFBUSxpQ0FBaUM7QUFDekMsUUFBUSxvQkFBb0I7QUFDNUIsUUFBUSxzQ0FBc0M7QUFDOUMsUUFBUTtBQUNSLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhLEVBQUU7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyx5RUFBeUU7QUFDaEY7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxVQUFVO0FBQzNFLHNDQUFzQywyQkFBMkI7QUFDakU7QUFDQSxnQ0FBZ0MsTUFBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFVBQVUsVUFBVTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxVQUFVLGNBQWM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxZQUFZLHVFQUF1RTtBQUNuRjtBQUNBO0FBQ0EsWUFBWSw0QkFBNEI7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxTQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsU0FBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGlEQUFpRDtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELFVBQVUsd0NBQXdDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQSxDQUFDOzs7O0FBSUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTs7QUFFQTs7OztBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQSxTQUFTLEdBQUc7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLE9BQU87QUFDaEIsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsZ0RBQWdEO0FBQ2hELEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvQ0FBb0M7QUFDOUM7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsT0FBTztBQUNQO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhDQUE4QztBQUM5QyxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsU0FBUyxRQUFRLFNBQVMsTUFBTTtBQUM5RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFNBQVMsU0FBUyxZQUFZLFVBQVU7O0FBRTlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrREFBa0Q7QUFDbEQ7QUFDQTs7O0FBR0Esb0JBQW9CLFNBQVM7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaURBQWlEO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLElBQUk7QUFDL0I7O0FBRUEsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsNENBQTRDO0FBQ3pEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0JBQWdCO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEtBQUs7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsOERBQThEO0FBQzlEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsYUFBYTtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwrQkFBK0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQix3REFBd0Q7QUFDOUU7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBLGFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0MsY0FBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLHFDQUFxQzs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMERBQTBELDJCQUEyQjtBQUNyRjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkJBQTJCO0FBQ25DO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLE9BQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGlDQUFpQztBQUNoRCxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixpQ0FBaUM7QUFDakQ7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsU0FBUyxPQUFPO0FBQ2hCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUywyQkFBMkI7QUFDcEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7O0FBRUEsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsMkJBQTJCOztBQUVwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLDBCQUEwQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsV0FBVztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxTQUFTLFFBQVEsU0FBUyxNQUFNO0FBQy9FOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTLFFBQVE7QUFDN0M7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDRCQUE0QjtBQUNoRSw0QkFBNEIsY0FBYyxTQUFTLFNBQVM7QUFDNUQsaUJBQWlCLFVBQVU7QUFDM0I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEOztBQUVBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxTQUFTLFFBQVEsU0FBUyxNQUFNO0FBQy9FOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyQkFBMkI7QUFDN0QsMEJBQTBCLGNBQWMsY0FBYyxPQUFPO0FBQzdELGVBQWUsWUFBWSxVQUFVOztBQUVyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0EsK0NBQStDLGVBQWU7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCLFNBQVMsUUFBUSxRQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw0QkFBNEI7QUFDaEUsNEJBQTRCLGNBQWMsU0FBUyxTQUFTO0FBQzVEO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0U7O0FBRWxFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLDBDQUEwQyxTQUFTLFVBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLCtEQUErRDtBQUMzRTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxnQkFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFFBQVEsT0FBTztBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw0QkFBNEI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUEsVUFBVSxPQUFPO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFFBQVE7QUFDaEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdCQUFnQjtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDhDQUE4QztBQUM5Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsaUJBQWlCO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQiwrQkFBK0Isa0JBQWtCLEVBQUU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQSxRQUFRLGlCQUFpQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFNBQVMsaUJBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQixTQUFTO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQixTQUFTO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQkFBa0I7QUFDNUIsV0FBVyxrQkFBa0I7QUFDN0IsY0FBYztBQUNkLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxtQkFBbUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx5REFBeUQ7QUFDekQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUEsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIOztBQUVBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxPQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEOztBQUVBOzs7O0FBSUEsNkJBQTZCLElBQUksZ0RBQWdELEVBQUU7O0FBRW5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DOztBQUVBO0FBQ0EsaUNBQWlDO0FBQ2pDLGtDQUFrQztBQUNsQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsR0FBRyxPQUFPO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOztBQUVoQixnREFBZ0Q7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxzQkFBc0I7QUFDdEIsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRjtBQUNuRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWMsb0NBQW9DO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsTUFBTTtBQUNOLE1BQU07QUFDTixHQUFHO0FBQ0g7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7Ozs7OztBQU1BOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFVBQVUsa0JBQWtCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixrQkFBa0I7QUFDckM7O0FBRUEsNERBQTRELGVBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGNBQWMsc0RBQXNEO0FBQ3BFOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQSxjQUFjLG1DQUFtQztBQUNqRCxlQUFlLDZEQUE2RDtBQUM1RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7QUFDRixDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQUE7QUFDRjs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7O0FBRUEsQ0FBQyIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYxLjExLjJcbiAqIGh0dHA6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cDovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgMjAwNSwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE0LTEyLTE3VDE1OjI3WlxuICovXG5cbihmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuXG5cdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciB3aW5kb3cgaXMgcHJlc2VudCxcblx0XHQvLyBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5XG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBpbmhlcmVudGx5IHBvc3NlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgalF1ZXJ5LW1ha2luZyBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzXG5cdFx0Ly8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCB3aW5kb3dcblx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0Ly8gU2VlIHRpY2tldCAjMTQ1NDkgZm9yIG1vcmUgaW5mb1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIENhbid0IGRvIHRoaXMgYmVjYXVzZSBzZXZlcmFsIGFwcHMgaW5jbHVkaW5nIEFTUC5ORVQgdHJhY2Vcbi8vIHRoZSBzdGFjayB2aWEgYXJndW1lbnRzLmNhbGxlci5jYWxsZWUgYW5kIEZpcmVmb3ggZGllcyBpZlxuLy8geW91IHRyeSB0byB0cmFjZSB0aHJvdWdoIFwidXNlIHN0cmljdFwiIGNhbGwgY2hhaW5zLiAoIzEzMzM1KVxuLy8gU3VwcG9ydDogRmlyZWZveCAxOCtcbi8vXG5cbnZhciBkZWxldGVkSWRzID0gW107XG5cbnZhciBzbGljZSA9IGRlbGV0ZWRJZHMuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBkZWxldGVkSWRzLmNvbmNhdDtcblxudmFyIHB1c2ggPSBkZWxldGVkSWRzLnB1c2g7XG5cbnZhciBpbmRleE9mID0gZGVsZXRlZElkcy5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIHN1cHBvcnQgPSB7fTtcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIxLjExLjJcIixcblxuXHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuXHRqUXVlcnkgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG5cdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4xLCBJRTw5XG5cdC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuXHRydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcblxuXHQvLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcblx0cm1zUHJlZml4ID0gL14tbXMtLyxcblx0cmRhc2hBbHBoYSA9IC8tKFtcXGRhLXpdKS9naSxcblxuXHQvLyBVc2VkIGJ5IGpRdWVyeS5jYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5cdGZjYW1lbENhc2UgPSBmdW5jdGlvbiggYWxsLCBsZXR0ZXIgKSB7XG5cdFx0cmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xuXHR9O1xuXG5qUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFN0YXJ0IHdpdGggYW4gZW1wdHkgc2VsZWN0b3Jcblx0c2VsZWN0b3I6IFwiXCIsXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHJldHVybiBudW0gIT0gbnVsbCA/XG5cblx0XHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRcdCggbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXSApIDpcblxuXHRcdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdFx0c2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcblx0Ly8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXG5cdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXG5cdFx0Ly8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXRcblx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cblx0XHQvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxuXHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblx0XHRyZXQuY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuXHRcdC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHQvLyAoWW91IGNhbiBzZWVkIHRoZSBhcmd1bWVudHMgd2l0aCBhbiBhcnJheSBvZiBhcmdzLCBidXQgdGhpcyBpc1xuXHQvLyBvbmx5IHVzZWQgaW50ZXJuYWxseS4pXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjaywgYXJncyApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrLCBhcmdzICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcblx0XHR9KSk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1tqXSBdIDogW10gKTtcblx0fSxcblxuXHRlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcihudWxsKTtcblx0fSxcblxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuXHRwdXNoOiBwdXNoLFxuXHRzb3J0OiBkZWxldGVkSWRzLnNvcnQsXG5cdHNwbGljZTogZGVsZXRlZElkcy5zcGxpY2Vcbn07XG5cbmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzcmMsIGNvcHlJc0FycmF5LCBjb3B5LCBuYW1lLCBvcHRpb25zLCBjbG9uZSxcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBza2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24odGFyZ2V0KSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIGV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoIChvcHRpb25zID0gYXJndW1lbnRzWyBpIF0pICE9IG51bGwgKSB7XG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdChjb3B5KSB8fCAoY29weUlzQXJyYXkgPSBqUXVlcnkuaXNBcnJheShjb3B5KSkgKSApIHtcblx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGpRdWVyeS5pc0FycmF5KHNyYykgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKHtcblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0Ly8gU2VlIHRlc3QvdW5pdC9jb3JlLmpzIGZvciBkZXRhaWxzIGNvbmNlcm5pbmcgaXNGdW5jdGlvbi5cblx0Ly8gU2luY2UgdmVyc2lvbiAxLjMsIERPTSBtZXRob2RzIGFuZCBmdW5jdGlvbnMgbGlrZSBhbGVydFxuXHQvLyBhcmVuJ3Qgc3VwcG9ydGVkLiBUaGV5IHJldHVybiBmYWxzZSBvbiBJRSAoIzI5NjgpLlxuXHRpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBqUXVlcnkudHlwZShvYmopID09PSBcImZ1bmN0aW9uXCI7XG5cdH0sXG5cblx0aXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBqUXVlcnkudHlwZShvYmopID09PSBcImFycmF5XCI7XG5cdH0sXG5cblx0aXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0LyoganNoaW50IGVxZXFlcTogZmFsc2UgKi9cblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09IG9iai53aW5kb3c7XG5cdH0sXG5cblx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChudWxsfHRydWV8ZmFsc2V8XCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0Ly8gYWRkaW5nIDEgY29ycmVjdHMgbG9zcyBvZiBwcmVjaXNpb24gZnJvbSBwYXJzZUZsb2F0ICgjMTUxMDApXG5cdFx0cmV0dXJuICFqUXVlcnkuaXNBcnJheSggb2JqICkgJiYgKG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICsgMSkgPj0gMDtcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBuYW1lO1xuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBrZXk7XG5cblx0XHQvLyBNdXN0IGJlIGFuIE9iamVjdC5cblx0XHQvLyBCZWNhdXNlIG9mIElFLCB3ZSBhbHNvIGhhdmUgdG8gY2hlY2sgdGhlIHByZXNlbmNlIG9mIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0eS5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCBET00gbm9kZXMgYW5kIHdpbmRvdyBvYmplY3RzIGRvbid0IHBhc3MgdGhyb3VnaCwgYXMgd2VsbFxuXHRcdGlmICggIW9iaiB8fCBqUXVlcnkudHlwZShvYmopICE9PSBcIm9iamVjdFwiIHx8IG9iai5ub2RlVHlwZSB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XG5cdFx0XHRpZiAoIG9iai5jb25zdHJ1Y3RvciAmJlxuXHRcdFx0XHQhaGFzT3duLmNhbGwob2JqLCBcImNvbnN0cnVjdG9yXCIpICYmXG5cdFx0XHRcdCFoYXNPd24uY2FsbChvYmouY29uc3RydWN0b3IucHJvdG90eXBlLCBcImlzUHJvdG90eXBlT2ZcIikgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdC8vIElFOCw5IFdpbGwgdGhyb3cgZXhjZXB0aW9ucyBvbiBjZXJ0YWluIGhvc3Qgb2JqZWN0cyAjOTg5N1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBIYW5kbGUgaXRlcmF0aW9uIG92ZXIgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVmb3JlIG93biBwcm9wZXJ0aWVzLlxuXHRcdGlmICggc3VwcG9ydC5vd25MYXN0ICkge1xuXHRcdFx0Zm9yICgga2V5IGluIG9iaiApIHtcblx0XHRcdFx0cmV0dXJuIGhhc093bi5jYWxsKCBvYmosIGtleSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE93biBwcm9wZXJ0aWVzIGFyZSBlbnVtZXJhdGVkIGZpcnN0bHksIHNvIHRvIHNwZWVkIHVwLFxuXHRcdC8vIGlmIGxhc3Qgb25lIGlzIG93biwgdGhlbiBhbGwgcHJvcGVydGllcyBhcmUgb3duLlxuXHRcdGZvciAoIGtleSBpbiBvYmogKSB7fVxuXG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IGhhc093bi5jYWxsKCBvYmosIGtleSApO1xuXHR9LFxuXG5cdHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBvYmogKyBcIlwiO1xuXHRcdH1cblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbChvYmopIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0XHR0eXBlb2Ygb2JqO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdC8vIFdvcmthcm91bmRzIGJhc2VkIG9uIGZpbmRpbmdzIGJ5IEppbSBEcmlzY29sbFxuXHQvLyBodHRwOi8vd2VibG9ncy5qYXZhLm5ldC9ibG9nL2RyaXNjb2xsL2FyY2hpdmUvMjAwOS8wOS8wOC9ldmFsLWphdmFzY3JpcHQtZ2xvYmFsLWNvbnRleHRcblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0aWYgKCBkYXRhICYmIGpRdWVyeS50cmltKCBkYXRhICkgKSB7XG5cdFx0XHQvLyBXZSB1c2UgZXhlY1NjcmlwdCBvbiBJbnRlcm5ldCBFeHBsb3JlclxuXHRcdFx0Ly8gV2UgdXNlIGFuIGFub255bW91cyBmdW5jdGlvbiBzbyB0aGF0IGNvbnRleHQgaXMgd2luZG93XG5cdFx0XHQvLyByYXRoZXIgdGhhbiBqUXVlcnkgaW4gRmlyZWZveFxuXHRcdFx0KCB3aW5kb3cuZXhlY1NjcmlwdCB8fCBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcdFx0d2luZG93WyBcImV2YWxcIiBdLmNhbGwoIHdpbmRvdywgZGF0YSApO1xuXHRcdFx0fSApKCBkYXRhICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcblx0Ly8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuXHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG5cdH0sXG5cblx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9LFxuXG5cdC8vIGFyZ3MgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdFx0dmFyIHZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoLFxuXHRcdFx0aXNBcnJheSA9IGlzQXJyYXlsaWtlKCBvYmogKTtcblxuXHRcdGlmICggYXJncyApIHtcblx0XHRcdGlmICggaXNBcnJheSApIHtcblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjay5hcHBseSggb2JqWyBpIF0sIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrLmFwcGx5KCBvYmpbIGkgXSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEEgc3BlY2lhbCwgZmFzdCwgY2FzZSBmb3IgdGhlIG1vc3QgY29tbW9uIHVzZSBvZiBlYWNoXG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggaXNBcnJheSApIHtcblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKTtcblxuXHRcdFx0XHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4xLCBJRTw5XG5cdHRyaW06IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdHJldHVybiB0ZXh0ID09IG51bGwgP1xuXHRcdFx0XCJcIiA6XG5cdFx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcblx0fSxcblxuXHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcblx0XHR2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcblxuXHRcdGlmICggYXJyICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGlzQXJyYXlsaWtlKCBPYmplY3QoYXJyKSApICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHR0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHZhciBsZW47XG5cblx0XHRpZiAoIGFyciApIHtcblx0XHRcdGlmICggaW5kZXhPZiApIHtcblx0XHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGxlbiA9IGFyci5sZW5ndGg7XG5cdFx0XHRpID0gaSA/IGkgPCAwID8gTWF0aC5tYXgoIDAsIGxlbiArIGkgKSA6IGkgOiAwO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Ly8gU2tpcCBhY2Nlc3NpbmcgaW4gc3BhcnNlIGFycmF5c1xuXHRcdFx0XHRpZiAoIGkgaW4gYXJyICYmIGFyclsgaSBdID09PSBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIC0xO1xuXHR9LFxuXG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHR3aGlsZSAoIGogPCBsZW4gKSB7XG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGorKyBdO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBXb3JrYXJvdW5kIGNhc3Rpbmcgb2YgLmxlbmd0aCB0byBOYU4gb24gb3RoZXJ3aXNlIGFycmF5bGlrZSBvYmplY3RzIChlLmcuLCBOb2RlTGlzdHMpXG5cdFx0aWYgKCBsZW4gIT09IGxlbiApIHtcblx0XHRcdHdoaWxlICggc2Vjb25kW2pdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaisrIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0aXNBcnJheSA9IGlzQXJyYXlsaWtlKCBlbGVtcyApLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheSApIHtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG5cdC8vIGFyZ3VtZW50cy5cblx0cHJveHk6IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0XHR2YXIgYXJncywgcHJveHksIHRtcDtcblxuXHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdFx0Y29udGV4dCA9IGZuO1xuXHRcdFx0Zm4gPSB0bXA7XG5cdFx0fVxuXG5cdFx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0XHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCBmbiApICkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBTaW11bGF0ZWQgYmluZFxuXHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0XHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdFx0fTtcblxuXHRcdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRcdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuXG5cdFx0cmV0dXJuIHByb3h5O1xuXHR9LFxuXG5cdG5vdzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICsoIG5ldyBEYXRlKCkgKTtcblx0fSxcblxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0Ly8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cblx0c3VwcG9ydDogc3VwcG9ydFxufSk7XG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yXCIuc3BsaXQoXCIgXCIpLCBmdW5jdGlvbihpLCBuYW1lKSB7XG5cdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xufSk7XG5cbmZ1bmN0aW9uIGlzQXJyYXlsaWtlKCBvYmogKSB7XG5cdHZhciBsZW5ndGggPSBvYmoubGVuZ3RoLFxuXHRcdHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cblx0aWYgKCB0eXBlID09PSBcImZ1bmN0aW9uXCIgfHwgalF1ZXJ5LmlzV2luZG93KCBvYmogKSApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIG9iai5ub2RlVHlwZSA9PT0gMSAmJiBsZW5ndGggKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gdHlwZSA9PT0gXCJhcnJheVwiIHx8IGxlbmd0aCA9PT0gMCB8fFxuXHRcdHR5cGVvZiBsZW5ndGggPT09IFwibnVtYmVyXCIgJiYgbGVuZ3RoID4gMCAmJiAoIGxlbmd0aCAtIDEgKSBpbiBvYmo7XG59XG52YXIgU2l6emxlID1cbi8qIVxuICogU2l6emxlIENTUyBTZWxlY3RvciBFbmdpbmUgdjIuMi4wLXByZVxuICogaHR0cDovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE0LTEyLTE2XG4gKi9cbihmdW5jdGlvbiggd2luZG93ICkge1xuXG52YXIgaSxcblx0c3VwcG9ydCxcblx0RXhwcixcblx0Z2V0VGV4dCxcblx0aXNYTUwsXG5cdHRva2VuaXplLFxuXHRjb21waWxlLFxuXHRzZWxlY3QsXG5cdG91dGVybW9zdENvbnRleHQsXG5cdHNvcnRJbnB1dCxcblx0aGFzRHVwbGljYXRlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0c2V0RG9jdW1lbnQsXG5cdGRvY3VtZW50LFxuXHRkb2NFbGVtLFxuXHRkb2N1bWVudElzSFRNTCxcblx0cmJ1Z2d5UVNBLFxuXHRyYnVnZ3lNYXRjaGVzLFxuXHRtYXRjaGVzLFxuXHRjb250YWlucyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXG5cdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gMDtcblx0fSxcblxuXHQvLyBHZW5lcmFsLXB1cnBvc2UgY29uc3RhbnRzXG5cdE1BWF9ORUdBVElWRSA9IDEgPDwgMzEsXG5cblx0Ly8gSW5zdGFuY2UgbWV0aG9kc1xuXHRoYXNPd24gPSAoe30pLmhhc093blByb3BlcnR5LFxuXHRhcnIgPSBbXSxcblx0cG9wID0gYXJyLnBvcCxcblx0cHVzaF9uYXRpdmUgPSBhcnIucHVzaCxcblx0cHVzaCA9IGFyci5wdXNoLFxuXHRzbGljZSA9IGFyci5zbGljZSxcblx0Ly8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdC8vIGh0dHA6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRpZiAoIGxpc3RbaV0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIFdoaXRlc3BhY2UgY2hhcmFjdGVycyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jd2hpdGVzcGFjZVxuXHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXN5bnRheC8jY2hhcmFjdGVyc1xuXHRjaGFyYWN0ZXJFbmNvZGluZyA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsXG5cblx0Ly8gTG9vc2VseSBtb2RlbGVkIG9uIENTUyBpZGVudGlmaWVyIGNoYXJhY3RlcnNcblx0Ly8gQW4gdW5xdW90ZWQgdmFsdWUgc2hvdWxkIGJlIGEgQ1NTIGlkZW50aWZpZXIgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0Ly8gUHJvcGVyIHN5bnRheDogaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXG5cdGlkZW50aWZpZXIgPSBjaGFyYWN0ZXJFbmNvZGluZy5yZXBsYWNlKCBcIndcIiwgXCJ3I1wiICksXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXG5cdFx0XCIqKFsqXiR8IX5dPz0pXCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBcIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV0gb3Igc3RyaW5ncyBbY2FwdHVyZSAzIG9yIGNhcHR1cmUgNF1cIlxuXHRcdFwiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIgKyBpZGVudGlmaWVyICsgXCIpKXwpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcIipcXFxcXVwiLFxuXG5cdHBzZXVkb3MgPSBcIjooXCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArIFwiKSg/OlxcXFwoKFwiICtcblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIilcIiApLFxuXHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArIFwiKVwiICksXG5cdFx0XCJUQUdcIjogbmV3IFJlZ0V4cCggXCJeKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcucmVwbGFjZSggXCJ3XCIsIFwidypcIiApICsgXCIpXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cdHJlc2NhcGUgPSAvJ3xcXFxcL2csXG5cblx0Ly8gQ1NTIGVzY2FwZXMgaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9O1xuXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxudHJ5IHtcblx0cHVzaC5hcHBseShcblx0XHQoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHRhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlO1xufSBjYXRjaCAoIGUgKSB7XG5cdHB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID9cblxuXHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0cHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7XG5cdFx0fSA6XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHQvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcblx0XHRcdHdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge31cblx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBtYXRjaCwgZWxlbSwgbSwgbm9kZVR5cGUsXG5cdFx0Ly8gUVNBIHZhcnNcblx0XHRpLCBncm91cHMsIG9sZCwgbmlkLCBuZXdDb250ZXh0LCBuZXdTZWxlY3RvcjtcblxuXHRpZiAoICggY29udGV4dCA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogcHJlZmVycmVkRG9jICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblxuXHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cdG5vZGVUeXBlID0gY29udGV4dC5ub2RlVHlwZTtcblxuXHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcblx0XHRub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7XG5cblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXG5cdGlmICggIXNlZWQgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIHdoZW4gcG9zc2libGUgKGUuZy4sIG5vdCB1bmRlciBEb2N1bWVudEZyYWdtZW50KVxuXHRcdGlmICggbm9kZVR5cGUgIT09IDExICYmIChtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSkgKSB7XG5cdFx0XHQvLyBTcGVlZC11cDogU2l6emxlKFwiI0lEXCIpXG5cdFx0XHRpZiAoIChtID0gbWF0Y2hbMV0pICkge1xuXHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICk7XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgcGFyZW50Tm9kZSB0byBjYXRjaCB3aGVuIEJsYWNrYmVycnkgNC42IHJldHVybnNcblx0XHRcdFx0XHQvLyBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdGhlIGRvY3VtZW50IChqUXVlcnkgIzY5NjMpXG5cdFx0XHRcdFx0aWYgKCBlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBJRSwgT3BlcmEsIGFuZCBXZWJraXQgcmV0dXJuIGl0ZW1zXG5cdFx0XHRcdFx0XHQvLyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gQ29udGV4dCBpcyBub3QgYSBkb2N1bWVudFxuXHRcdFx0XHRcdGlmICggY29udGV4dC5vd25lckRvY3VtZW50ICYmIChlbGVtID0gY29udGV4dC5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtICkpICYmXG5cdFx0XHRcdFx0XHRjb250YWlucyggY29udGV4dCwgZWxlbSApICYmIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBTcGVlZC11cDogU2l6emxlKFwiVEFHXCIpXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gU3BlZWQtdXA6IFNpenpsZShcIi5DTEFTU1wiKVxuXHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApO1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBRU0EgcGF0aFxuXHRcdGlmICggc3VwcG9ydC5xc2EgJiYgKCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcblx0XHRcdG5pZCA9IG9sZCA9IGV4cGFuZG87XG5cdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdG5ld1NlbGVjdG9yID0gbm9kZVR5cGUgIT09IDEgJiYgc2VsZWN0b3I7XG5cblx0XHRcdC8vIHFTQSB3b3JrcyBzdHJhbmdlbHkgb24gRWxlbWVudC1yb290ZWQgcXVlcmllc1xuXHRcdFx0Ly8gV2UgY2FuIHdvcmsgYXJvdW5kIHRoaXMgYnkgc3BlY2lmeWluZyBhbiBleHRyYSBJRCBvbiB0aGUgcm9vdFxuXHRcdFx0Ly8gYW5kIHdvcmtpbmcgdXAgZnJvbSB0aGVyZSAoVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoZSB0ZWNobmlxdWUpXG5cdFx0XHQvLyBJRSA4IGRvZXNuJ3Qgd29yayBvbiBvYmplY3QgZWxlbWVudHNcblx0XHRcdGlmICggbm9kZVR5cGUgPT09IDEgJiYgY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xuXHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblxuXHRcdFx0XHRpZiAoIChvbGQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZShcImlkXCIpKSApIHtcblx0XHRcdFx0XHRuaWQgPSBvbGQucmVwbGFjZSggcmVzY2FwZSwgXCJcXFxcJCZcIiApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsIG5pZCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5pZCA9IFwiW2lkPSdcIiArIG5pZCArIFwiJ10gXCI7XG5cblx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGdyb3Vwc1tpXSA9IG5pZCArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0O1xuXHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKFwiLFwiKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBuZXdTZWxlY3RvciApIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fSBjYXRjaChxc2FFcnJvcikge1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGlmICggIW9sZCApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtGdW5jdGlvbihzdHJpbmcsIE9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZGl2IGFuZCBleHBlY3RzIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZGl2ICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBkaXYucGFyZW50Tm9kZSApIHtcblx0XHRcdGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBkaXYgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRkaXYgPSBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xuICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG4gKi9cbmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdHZhciBhcnIgPSBhdHRycy5zcGxpdChcInxcIiksXG5cdFx0aSA9IGF0dHJzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHQoIH5iLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApIC1cblx0XHRcdCggfmEuc291cmNlSW5kZXggfHwgTUFYX05FR0FUSVZFICk7XG5cblx0Ly8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzXG5cdGlmICggZGlmZiApIHtcblx0XHRyZXR1cm4gZGlmZjtcblx0fVxuXG5cdC8vIENoZWNrIGlmIGIgZm9sbG93cyBhXG5cdGlmICggY3VyICkge1xuXHRcdHdoaWxlICggKGN1ciA9IGN1ci5uZXh0U2libGluZykgKSB7XG5cdFx0XHRpZiAoIGN1ciA9PT0gYiApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhID8gMSA6IC0xO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gKG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHR2YXIgaixcblx0XHRcdFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcblx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cblx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggc2VlZFsgKGogPSBtYXRjaEluZGV4ZXNbaV0pIF0gKSB7XG5cdFx0XHRcdFx0c2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblxuLyoqXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcbiAqL1xuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0Ly8gZG9jdW1lbnRFbGVtZW50IGlzIHZlcmlmaWVkIGZvciBjYXNlcyB3aGVyZSBpdCBkb2Vzbid0IHlldCBleGlzdFxuXHQvLyAoc3VjaCBhcyBsb2FkaW5nIGlmcmFtZXMgaW4gSUUgLSAjNDgzMylcblx0dmFyIGRvY3VtZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7XG5cdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiIDogZmFsc2U7XG59O1xuXG4vKipcbiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcblx0dmFyIGhhc0NvbXBhcmUsIHBhcmVudCxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cblx0Ly8gSWYgbm8gZG9jdW1lbnQgYW5kIGRvY3VtZW50RWxlbWVudCBpcyBhdmFpbGFibGUsIHJldHVyblxuXHRpZiAoIGRvYyA9PT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuXHRcdHJldHVybiBkb2N1bWVudDtcblx0fVxuXG5cdC8vIFNldCBvdXIgZG9jdW1lbnRcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRwYXJlbnQgPSBkb2MuZGVmYXVsdFZpZXc7XG5cblx0Ly8gU3VwcG9ydDogSUU+OFxuXHQvLyBJZiBpZnJhbWUgZG9jdW1lbnQgaXMgYXNzaWduZWQgdG8gXCJkb2N1bWVudFwiIHZhcmlhYmxlIGFuZCBpZiBpZnJhbWUgaGFzIGJlZW4gcmVsb2FkZWQsXG5cdC8vIElFIHdpbGwgdGhyb3cgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gYWNjZXNzaW5nIFwiZG9jdW1lbnRcIiB2YXJpYWJsZSwgc2VlIGpRdWVyeSAjMTM5MzZcblx0Ly8gSUU2LTggZG8gbm90IHN1cHBvcnQgdGhlIGRlZmF1bHRWaWV3IHByb3BlcnR5IHNvIHBhcmVudCB3aWxsIGJlIHVuZGVmaW5lZFxuXHRpZiAoIHBhcmVudCAmJiBwYXJlbnQgIT09IHBhcmVudC50b3AgKSB7XG5cdFx0Ly8gSUUxMSBkb2VzIG5vdCBoYXZlIGF0dGFjaEV2ZW50LCBzbyBhbGwgbXVzdCBzdWZmZXJcblx0XHRpZiAoIHBhcmVudC5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0cGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XG5cdFx0fSBlbHNlIGlmICggcGFyZW50LmF0dGFjaEV2ZW50ICkge1xuXHRcdFx0cGFyZW50LmF0dGFjaEV2ZW50KCBcIm9udW5sb2FkXCIsIHVubG9hZEhhbmRsZXIgKTtcblx0XHR9XG5cdH1cblxuXHQvKiBTdXBwb3J0IHRlc3RzXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvYyApO1xuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFkaXYuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gU3VwcG9ydDogSUU8OVxuXHRzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBybmF0aXZlLnRlc3QoIGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1hdGljYWxseS1zZXQgbmFtZXMsXG5cdC8vIHNvIHVzZSBhIHJvdW5kYWJvdXQgZ2V0RWxlbWVudHNCeU5hbWUgdGVzdFxuXHRzdXBwb3J0LmdldEJ5SWQgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBkaXYgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2MuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvYy5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gSUQgZmluZCBhbmQgZmlsdGVyXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmluZFtcIklEXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXHRcdFx0XHQvLyBDaGVjayBwYXJlbnROb2RlIHRvIGNhdGNoIHdoZW4gQmxhY2tiZXJyeSA0LjYgcmV0dXJuc1xuXHRcdFx0XHQvLyBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdGhlIGRvY3VtZW50ICM2OTYzXG5cdFx0XHRcdHJldHVybiBtICYmIG0ucGFyZW50Tm9kZSA/IFsgbSBdIDogW107XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0Ly8gU3VwcG9ydDogSUU2Lzdcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0ZGVsZXRlIEV4cHIuZmluZFtcIklEXCJdO1xuXG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9ICBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmIGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXG5cdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdHJidWdneU1hdGNoZXMgPSBbXTtcblxuXHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3Jcblx0Ly8gd2hlbmV2ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZVxuXHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHQvLyBTZWUgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvYy5xdWVyeVNlbGVjdG9yQWxsICkpICkge1xuXHRcdC8vIEJ1aWxkIFFTQSByZWdleFxuXHRcdC8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmlcblx0XHRhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0Ly8gc2V0dGluZyBhIGJvb2xlYW4gY29udGVudCBhdHRyaWJ1dGUsXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGRpdiApLmlubmVySFRNTCA9IFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcZl0nIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHQvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcblx0XHRcdC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9oaDQ2NTM4OC5hc3B4I2F0dHJpYnV0ZV9zZWN0aW9uXG5cdFx0XHRpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJbKl4kXT1cIiArIHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjIrLCBTYWZhcmk8Ny4wKywgaU9TPDcuMCssIFBoYW50b21KUzwxLjkuNytcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIn49XCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZWJraXQvT3BlcmEgLSA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIHNlbGVjdGVkIG9wdGlvbiBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2MuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZGl2LCBcImRpdlwiICk7XG5cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdC8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWRcblx0XHRcdG1hdGNoZXMuY2FsbCggZGl2LCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0pO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IGRvZXMgbm90IGltcGxlbWVudCBpbmNsdXNpdmUgZGVzY2VuZGVudFxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2MgfHwgYS5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBhKSApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBiID09PSBkb2MgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXVwID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdGJwID0gWyBiIF07XG5cblx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdGlmICggIWF1cCB8fCAhYnVwICkge1xuXHRcdFx0cmV0dXJuIGEgPT09IGRvYyA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jID8gMSA6XG5cdFx0XHRcdGF1cCA/IC0xIDpcblx0XHRcdFx0YnVwID8gMSA6XG5cdFx0XHRcdHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblxuXHRcdC8vIElmIHRoZSBub2RlcyBhcmUgc2libGluZ3MsIHdlIGNhbiBkbyBhIHF1aWNrIGNoZWNrXG5cdFx0fSBlbHNlIGlmICggYXVwID09PSBidXAgKSB7XG5cdFx0XHRyZXR1cm4gc2libGluZ0NoZWNrKCBhLCBiICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlIHdlIG5lZWQgZnVsbCBsaXN0cyBvZiB0aGVpciBhbmNlc3RvcnMgZm9yIGNvbXBhcmlzb25cblx0XHRjdXIgPSBhO1xuXHRcdHdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHtcblx0XHRcdGFwLnVuc2hpZnQoIGN1ciApO1xuXHRcdH1cblx0XHRjdXIgPSBiO1xuXHRcdHdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHtcblx0XHRcdGJwLnVuc2hpZnQoIGN1ciApO1xuXHRcdH1cblxuXHRcdC8vIFdhbGsgZG93biB0aGUgdHJlZSBsb29raW5nIGZvciBhIGRpc2NyZXBhbmN5XG5cdFx0d2hpbGUgKCBhcFtpXSA9PT0gYnBbaV0gKSB7XG5cdFx0XHRpKys7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGkgP1xuXHRcdFx0Ly8gRG8gYSBzaWJsaW5nIGNoZWNrIGlmIHRoZSBub2RlcyBoYXZlIGEgY29tbW9uIGFuY2VzdG9yXG5cdFx0XHRzaWJsaW5nQ2hlY2soIGFwW2ldLCBicFtpXSApIDpcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIG5vZGVzIGluIG91ciBkb2N1bWVudCBzb3J0IGZpcnN0XG5cdFx0XHRhcFtpXSA9PT0gcHJlZmVycmVkRG9jID8gLTEgOlxuXHRcdFx0YnBbaV0gPT09IHByZWZlcnJlZERvYyA/IDEgOlxuXHRcdFx0MDtcblx0fTtcblxuXHRyZXR1cm4gZG9jO1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRleHByID0gZXhwci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCBcIj0nJDEnXVwiICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7fVxuXHR9XG5cblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHQvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NiB4IG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHQqL1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzFdLnNsaWNlKCAwLCAzICkgPT09IFwibnRoXCIgKSB7XG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdG1hdGNoWzVdID0gKyggKCBtYXRjaFs3XSArIG1hdGNoWzhdICkgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xuXG5cdFx0XHRpZiAoIG1hdGNoRXhwcltcIkNISUxEXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0bWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQocGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkpICYmXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgXCIgXCIgKSArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBhcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCBvdXRlckNhY2hlLCBub2RlLCBkaWZmLCBub2RlSW5kZXgsIHN0YXJ0LFxuXHRcdFx0XHRcdFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIixcblx0XHRcdFx0XHRcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdG5hbWUgPSBvZlR5cGUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdFx0dXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGU7XG5cblx0XHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gOihmaXJzdHxsYXN0fG9ubHkpLShjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHRcdFx0aWYgKCBzaW1wbGUgKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggZGlyICkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IHBhcmVudFsgZXhwYW5kbyBdIHx8IChwYXJlbnRbIGV4cGFuZG8gXSA9IHt9KTtcblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSBvdXRlckNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdO1xuXHRcdFx0XHRcdFx0XHRkaWZmID0gY2FjaGVbMF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbMl07XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBGYWxsYmFjayB0byBzZWVraW5nIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gV2hlbiBmb3VuZCwgY2FjaGUgaW5kZXhlcyBvbiBgcGFyZW50YCBhbmQgYnJlYWtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKytkaWZmICYmIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdXNlQ2FjaGUgJiYgKGNhY2hlID0gKGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pKVsgdHlwZSBdKSAmJiBjYWNoZVswXSA9PT0gZGlycnVucyApIHtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IGNhY2hlWzFdO1xuXG5cdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID8gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDogbm9kZS5ub2RlVHlwZSA9PT0gMSApICYmICsrZGlmZiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdChub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KSlbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFswXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKSAmJiAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRcImRpc2FibGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbXCJlbXB0eVwiXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9KSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9KSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQobWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkpKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0Y2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYgZGlyID09PSBcInBhcmVudE5vZGVcIixcblx0XHRkb25lTmFtZSA9IGRvbmUrKztcblxuXHRyZXR1cm4gY29tYmluYXRvci5maXJzdCA/XG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gOlxuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBvbGRDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGRpciBjYWNoaW5nXG5cdFx0XHRpZiAoIHhtbCApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTtcblx0XHRcdFx0XHRcdGlmICggKG9sZENhY2hlID0gb3V0ZXJDYWNoZVsgZGlyIF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGVbIGRpciBdID0gbmV3Q2FjaGU7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXG5cdFx0XHRcdFx0XHRcdGlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSA6XG5cdFx0bWF0Y2hlcnNbMF07XG59XG5cbmZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0U2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0dmFyIGVsZW0sXG5cdFx0bmV3VW5tYXRjaGVkID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRtYXBwZWQgPSBtYXAgIT0gbnVsbDtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRpZiAoIG1hcHBlZCApIHtcblx0XHRcdFx0XHRtYXAucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcbn1cblxuZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xuXHRpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmlsdGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbHRlciApO1xuXHR9XG5cdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTtcblx0fVxuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIHRlbXAsIGksIGVsZW0sXG5cdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsXG5cblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRlbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IgfHwgXCIqXCIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksXG5cblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0bWF0Y2hlckluID0gcHJlRmlsdGVyICYmICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0ZWxlbXMsXG5cblx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcblx0XHRcdFx0cG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xuXG5cdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0W10gOlxuXG5cdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdFx0cmVzdWx0cyA6XG5cdFx0XHRcdG1hdGNoZXJJbjtcblxuXHRcdC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG5cdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXG5cdFx0aWYgKCBwb3N0RmlsdGVyICkge1xuXHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XG5cblx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIChlbGVtID0gdGVtcFtpXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFtpXSBdID0gIShtYXRjaGVySW5bIHBvc3RNYXBbaV0gXSA9IGVsZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdHRlbXAgPSBbXTtcblx0XHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXG5cdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXG5cdFx0XHRcdFx0XHQodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbaV0pID4gLTEgKSB7XG5cblx0XHRcdFx0XHRcdHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuXHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0KTtcblx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cblx0XHRcdFx0XHRtYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cdFx0XHQvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdGNoZWNrQ29udGV4dCA9IG51bGw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gXTtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7XG5cdFx0XHRtYXRjaGVycyA9IFsgYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlcikgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdC8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZ1xuXHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbIHRva2Vuc1tqXS50eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0aSA+IDEgJiYgdG9TZWxlY3Rvcihcblx0XHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0XHR0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9KVxuXHRcdFx0XHRcdCkucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLFxuXHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0aSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiBtYXRjaGVyRnJvbVRva2VucyggKHRva2VucyA9IHRva2Vucy5zbGljZSggaiApKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXHRcdFx0XHQvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0XG5cdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kW1wiVEFHXCJdKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdGRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLFxuXHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCAhPT0gZG9jdW1lbnQgJiYgY29udGV4dDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHNcblx0XHRcdC8vIEtlZXAgYGlgIGEgc3RyaW5nIGlmIHRoZXJlIGFyZSBubyBlbGVtZW50cyBzbyBgbWF0Y2hlZENvdW50YCB3aWxsIGJlIFwiMDBcIiBiZWxvd1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnNcblx0XHRcdFx0aWYgKCBieVNldCApIHtcblx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0pICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdHVubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuXHRcdFx0bWF0Y2hlZENvdW50ICs9IGk7XG5cdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBzZXRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAhKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRNYXRjaGVkW2ldID0gcG9wLmNhbGwoIHJlc3VsdHMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERpc2NhcmQgaW5kZXggcGxhY2Vob2xkZXIgdmFsdWVzIHRvIGdldCBvbmx5IGFjdHVhbCBtYXRjaGVzXG5cdFx0XHRcdFx0c2V0TWF0Y2hlZCA9IGNvbmRlbnNlKCBzZXRNYXRjaGVkICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzXG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNldE1hdGNoZWQgKTtcblxuXHRcdFx0XHQvLyBTZWVkbGVzcyBzZXQgbWF0Y2hlcyBzdWNjZWVkaW5nIG11bHRpcGxlIHN1Y2Nlc3NmdWwgbWF0Y2hlcnMgc3RpcHVsYXRlIHNvcnRpbmdcblx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0KCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7XG5cblx0XHRcdFx0XHRTaXp6bGUudW5pcXVlU29ydCggcmVzdWx0cyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE92ZXJyaWRlIG1hbmlwdWxhdGlvbiBvZiBnbG9iYWxzIGJ5IG5lc3RlZCBtYXRjaGVyc1xuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVubWF0Y2hlZDtcblx0XHR9O1xuXG5cdHJldHVybiBieVNldCA/XG5cdFx0bWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6XG5cdFx0c3VwZXJNYXRjaGVyO1xufVxuXG5jb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHR2YXIgaSxcblx0XHRzZXRNYXRjaGVycyA9IFtdLFxuXHRcdGVsZW1lbnRNYXRjaGVycyA9IFtdLFxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoICFjYWNoZWQgKSB7XG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0aWYgKCAhbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdH1cblx0XHRpID0gbWF0Y2gubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoW2ldICk7XG5cdFx0XHRpZiAoIGNhY2hlZFsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlKCBzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTtcblxuXHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHR9XG5cdHJldHVybiBjYWNoZWQ7XG59O1xuXG4vKipcbiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0XG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cbiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG4gKi9cbnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxuXHRcdGNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgc2VsZWN0b3IsXG5cdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IpICk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgbm8gc2VlZCBhbmQgb25seSBvbmUgZ3JvdXBcblx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XG5cblx0XHQvLyBUYWtlIGEgc2hvcnRjdXQgYW5kIHNldCB0aGUgY29udGV4dCBpZiB0aGUgcm9vdCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdHRva2VucyA9IG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAgKTtcblx0XHRpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICh0b2tlbiA9IHRva2Vuc1swXSkudHlwZSA9PT0gXCJJRFwiICYmXG5cdFx0XHRcdHN1cHBvcnQuZ2V0QnlJZCAmJiBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmXG5cdFx0XHRcdEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcblx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdGkgPSBtYXRjaEV4cHJbXCJuZWVkc0NvbnRleHRcIl0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG9rZW4gPSB0b2tlbnNbaV07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoIChzZWVkID0gZmluZChcblx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdFx0XHQpKSApIHtcblxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdHRva2Vucy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHQoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoXG5cdFx0c2VlZCxcblx0XHRjb250ZXh0LFxuXHRcdCFkb2N1bWVudElzSFRNTCxcblx0XHRyZXN1bHRzLFxuXHRcdHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0KTtcblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXG4vLyBTb3J0IHN0YWJpbGl0eVxuc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZGl2MSApIHtcblx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG5cdHJldHVybiBkaXYxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpICkgJiAxO1xufSk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG4vLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0ZGl2LmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZGl2LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInR5cGVcIiA/IDEgOiAyICk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0ZGl2LmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0ZGl2LmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0cmV0dXJuIGRpdi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PSBudWxsO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggYm9vbGVhbnMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgdmFsO1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6XG5cdFx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSk7XG59XG5cbnJldHVybiBTaXp6bGU7XG5cbn0pKCB3aW5kb3cgKTtcblxuXG5cbmpRdWVyeS5maW5kID0gU2l6emxlO1xualF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xualF1ZXJ5LmV4cHJbXCI6XCJdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5cblxuXG52YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblxudmFyIHJzaW5nbGVUYWcgPSAoL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvKTtcblxuXG5cbnZhciByaXNTaW1wbGUgPSAvXi5bXjojXFxbXFwuLF0qJC87XG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBlbGVtID09PSBxdWFsaWZpZXIgKSAhPT0gbm90O1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdFx0fVxuXG5cdFx0cXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICggalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHF1YWxpZmllciApID49IDAgKSAhPT0gbm90O1xuXHR9KTtcbn1cblxualF1ZXJ5LmZpbHRlciA9IGZ1bmN0aW9uKCBleHByLCBlbGVtcywgbm90ICkge1xuXHR2YXIgZWxlbSA9IGVsZW1zWyAwIF07XG5cblx0aWYgKCBub3QgKSB7XG5cdFx0ZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcblx0fVxuXG5cdHJldHVybiBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSA/XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdIDpcblx0XHRqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdFx0fSkpO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0c2VsZiA9IHRoaXMsXG5cdFx0XHRsZW4gPSBzZWxmLmxlbmd0aDtcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCBzZWxmWyBpIF0sIHRoaXMgKSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSkgKTtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xuXHRcdH1cblxuXHRcdC8vIE5lZWRlZCBiZWNhdXNlICQoIHNlbGVjdG9yLCBjb250ZXh0ICkgYmVjb21lcyAkKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKVxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZSggcmV0ICkgOiByZXQgKTtcblx0XHRyZXQuc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yID8gdGhpcy5zZWxlY3RvciArIFwiIFwiICsgc2VsZWN0b3IgOiBzZWxlY3Rvcjtcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyh0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UpICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0pO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBVc2UgdGhlIGNvcnJlY3QgZG9jdW1lbnQgYWNjb3JkaW5nbHkgd2l0aCB3aW5kb3cgYXJndW1lbnQgKHNhbmRib3gpXG5cdGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxuXG5cdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yLmNoYXJBdCgwKSA9PT0gXCI8XCIgJiYgc2VsZWN0b3IuY2hhckF0KCBzZWxlY3Rvci5sZW5ndGggLSAxICkgPT09IFwiPlwiICYmIHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcblx0XHRcdGlmICggbWF0Y2ggJiYgKG1hdGNoWzFdIHx8ICFjb250ZXh0KSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsxXSApIHtcblx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbMF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbMV0sXG5cdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdCkgKTtcblxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcblx0XHRcdFx0XHRpZiAoIHJzaW5nbGVUYWcudGVzdCggbWF0Y2hbMV0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbMl0gKTtcblxuXHRcdFx0XHRcdC8vIENoZWNrIHBhcmVudE5vZGUgdG8gY2F0Y2ggd2hlbiBCbGFja2JlcnJ5IDQuNiByZXR1cm5zXG5cdFx0XHRcdFx0Ly8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAjNjk2M1xuXHRcdFx0XHRcdGlmICggZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgSUUgYW5kIE9wZXJhIHJldHVybiBpdGVtc1xuXHRcdFx0XHRcdFx0Ly8gYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgIT09IG1hdGNoWzJdICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcm9vdGpRdWVyeS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIHdlIGluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRcdFx0XHR0aGlzWzBdID0gZWxlbTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLmNvbnRleHQgPSBkb2N1bWVudDtcblx0XHRcdFx0XHR0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3RqUXVlcnkgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzLmNvbnRleHQgPSB0aGlzWzBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcblx0XHRcdHJldHVybiB0eXBlb2Ygcm9vdGpRdWVyeS5yZWFkeSAhPT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdHJvb3RqUXVlcnkucmVhZHkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHQvLyBFeGVjdXRlIGltbWVkaWF0ZWx5IGlmIHJlYWR5IGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdHNlbGVjdG9yKCBqUXVlcnkgKTtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yLnNlbGVjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3Iuc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmNvbnRleHQgPSBzZWxlY3Rvci5jb250ZXh0O1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cdC8vIG1ldGhvZHMgZ3VhcmFudGVlZCB0byBwcm9kdWNlIGEgdW5pcXVlIHNldCB3aGVuIHN0YXJ0aW5nIGZyb20gYSB1bmlxdWUgc2V0XG5cdGd1YXJhbnRlZWRVbmlxdWUgPSB7XG5cdFx0Y2hpbGRyZW46IHRydWUsXG5cdFx0Y29udGVudHM6IHRydWUsXG5cdFx0bmV4dDogdHJ1ZSxcblx0XHRwcmV2OiB0cnVlXG5cdH07XG5cbmpRdWVyeS5leHRlbmQoe1xuXHRkaXI6IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xuXHRcdHZhciBtYXRjaGVkID0gW10sXG5cdFx0XHRjdXIgPSBlbGVtWyBkaXIgXTtcblxuXHRcdHdoaWxlICggY3VyICYmIGN1ci5ub2RlVHlwZSAhPT0gOSAmJiAodW50aWwgPT09IHVuZGVmaW5lZCB8fCBjdXIubm9kZVR5cGUgIT09IDEgfHwgIWpRdWVyeSggY3VyICkuaXMoIHVudGlsICkpICkge1xuXHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdG1hdGNoZWQucHVzaCggY3VyICk7XG5cdFx0XHR9XG5cdFx0XHRjdXIgPSBjdXJbZGlyXTtcblx0XHR9XG5cdFx0cmV0dXJuIG1hdGNoZWQ7XG5cdH0sXG5cblx0c2libGluZzogZnVuY3Rpb24oIG4sIGVsZW0gKSB7XG5cdFx0dmFyIHIgPSBbXTtcblxuXHRcdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdFx0ci5wdXNoKCBuICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHI7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0aGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0dGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXG5cdFx0XHRsZW4gPSB0YXJnZXRzLmxlbmd0aDtcblxuXHRcdHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzW2ldICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRjbG9zZXN0OiBmdW5jdGlvbiggc2VsZWN0b3JzLCBjb250ZXh0ICkge1xuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSB0aGlzLmxlbmd0aCxcblx0XHRcdG1hdGNoZWQgPSBbXSxcblx0XHRcdHBvcyA9IHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgfHwgdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3JzLCBjb250ZXh0IHx8IHRoaXMuY29udGV4dCApIDpcblx0XHRcdFx0MDtcblxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdGZvciAoIGN1ciA9IHRoaXNbaV07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAocG9zID9cblx0XHRcdFx0XHRwb3MuaW5kZXgoY3VyKSA+IC0xIDpcblxuXHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGN1ciwgc2VsZWN0b3JzKSkgKSB7XG5cblx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlKCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdH0sXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpblxuXHQvLyB0aGUgbWF0Y2hlZCBzZXQgb2YgZWxlbWVudHNcblx0aW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRleCBpbiBwYXJlbnRcblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuICggdGhpc1swXSAmJiB0aGlzWzBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gaW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5pbkFycmF5KCB0aGlzWzBdLCBqUXVlcnkoIGVsZW0gKSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBqUXVlcnkuaW5BcnJheShcblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWzBdIDogZWxlbSwgdGhpcyApO1xuXHR9LFxuXG5cdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdGpRdWVyeS51bmlxdWUoXG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlcihzZWxlY3Rvcilcblx0XHQpO1xuXHR9XG59KTtcblxuZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7XG5cdGRvIHtcblx0XHRjdXIgPSBjdXJbIGRpciBdO1xuXHR9IHdoaWxlICggY3VyICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApO1xuXG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKHtcblx0cGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XG5cdH0sXG5cdHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBqUXVlcnkuZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0c2libGluZ3M6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBqUXVlcnkuc2libGluZyggKCBlbGVtLnBhcmVudE5vZGUgfHwge30gKS5maXJzdENoaWxkLCBlbGVtICk7XG5cdH0sXG5cdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnNpYmxpbmcoIGVsZW0uZmlyc3RDaGlsZCApO1xuXHR9LFxuXHRjb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpZnJhbWVcIiApID9cblx0XHRcdGVsZW0uY29udGVudERvY3VtZW50IHx8IGVsZW0uY29udGVudFdpbmRvdy5kb2N1bWVudCA6XG5cdFx0XHRqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIHJldCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0cmV0ID0galF1ZXJ5LnVuaXF1ZSggcmV0ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdHJldCA9IHJldC5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcblx0fTtcbn0pO1xudmFyIHJub3R3aGl0ZSA9ICgvXFxTKy9nKTtcblxuXG5cbi8vIFN0cmluZyB0byBPYmplY3Qgb3B0aW9ucyBmb3JtYXQgY2FjaGVcbnZhciBvcHRpb25zQ2FjaGUgPSB7fTtcblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXMgYW5kIHN0b3JlIGluIGNhY2hlXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0gb3B0aW9uc0NhY2hlWyBvcHRpb25zIF0gPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdLCBmdW5jdGlvbiggXywgZmxhZyApIHtcblx0XHRvYmplY3RbIGZsYWcgXSA9IHRydWU7XG5cdH0pO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdCggb3B0aW9uc0NhY2hlWyBvcHRpb25zIF0gfHwgY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApICkgOlxuXHRcdGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XG5cblx0dmFyIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmdcblx0XHRmaXJpbmcsXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIChmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzKVxuXHRcdG1lbW9yeSxcblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXHRcdC8vIEVuZCBvZiB0aGUgbG9vcCB3aGVuIGZpcmluZ1xuXHRcdGZpcmluZ0xlbmd0aCxcblx0XHQvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSByZW1vdmUgaWYgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4LFxuXHRcdC8vIEZpcnN0IGNhbGxiYWNrIHRvIGZpcmUgKHVzZWQgaW50ZXJuYWxseSBieSBhZGQgYW5kIGZpcmVXaXRoKVxuXHRcdGZpcmluZ1N0YXJ0LFxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXHRcdC8vIFN0YWNrIG9mIGZpcmUgY2FsbHMgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRzdGFjayA9ICFvcHRpb25zLm9uY2UgJiYgW10sXG5cdFx0Ly8gRmlyZSBjYWxsYmFja3Ncblx0XHRmaXJlID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHRtZW1vcnkgPSBvcHRpb25zLm1lbW9yeSAmJiBkYXRhO1xuXHRcdFx0ZmlyZWQgPSB0cnVlO1xuXHRcdFx0ZmlyaW5nSW5kZXggPSBmaXJpbmdTdGFydCB8fCAwO1xuXHRcdFx0ZmlyaW5nU3RhcnQgPSAwO1xuXHRcdFx0ZmlyaW5nTGVuZ3RoID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBsaXN0ICYmIGZpcmluZ0luZGV4IDwgZmlyaW5nTGVuZ3RoOyBmaXJpbmdJbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIGRhdGFbIDAgXSwgZGF0YVsgMSBdICkgPT09IGZhbHNlICYmIG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XG5cdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7IC8vIFRvIHByZXZlbnQgZnVydGhlciBjYWxscyB1c2luZyBhZGRcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZmlyaW5nID0gZmFsc2U7XG5cdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdGlmICggc3RhY2sgKSB7XG5cdFx0XHRcdFx0aWYgKCBzdGFjay5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCBzdGFjay5zaGlmdCgpICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuZGlzYWJsZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuXHRcdHNlbGYgPSB7XG5cdFx0XHQvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0Ly8gRmlyc3QsIHdlIHNhdmUgdGhlIGN1cnJlbnQgbGVuZ3RoXG5cdFx0XHRcdFx0dmFyIHN0YXJ0ID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0KGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucHVzaCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KSggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0Ly8gRG8gd2UgbmVlZCB0byBhZGQgdGhlIGNhbGxiYWNrcyB0byB0aGVcblx0XHRcdFx0XHQvLyBjdXJyZW50IGZpcmluZyBiYXRjaD9cblx0XHRcdFx0XHRpZiAoIGZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmluZ0xlbmd0aCA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0XHRcdC8vIFdpdGggbWVtb3J5LCBpZiB3ZSdyZSBub3QgZmlyaW5nIHRoZW5cblx0XHRcdFx0XHQvLyB3ZSBzaG91bGQgY2FsbCByaWdodCBhd2F5XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggbWVtb3J5ICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nU3RhcnQgPSBzdGFydDtcblx0XHRcdFx0XHRcdGZpcmUoIG1lbW9yeSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHQvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0XG5cdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdHZhciBpbmRleDtcblx0XHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRcdGlmICggZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nTGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlyaW5nTGVuZ3RoLS07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gPyBqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDogISEoIGxpc3QgJiYgbGlzdC5sZW5ndGggKTtcblx0XHRcdH0sXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0ZmlyaW5nTGVuZ3RoID0gMDtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gSGF2ZSB0aGUgbGlzdCBkbyBub3RoaW5nIGFueW1vcmVcblx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsaXN0ID0gc3RhY2sgPSBtZW1vcnkgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdC8vIElzIGl0IGRpc2FibGVkP1xuXHRcdFx0ZGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gIWxpc3Q7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gTG9jayB0aGUgbGlzdCBpbiBpdHMgY3VycmVudCBzdGF0ZVxuXHRcdFx0bG9jazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHN0YWNrID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgKSB7XG5cdFx0XHRcdFx0c2VsZi5kaXNhYmxlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gSXMgaXQgbG9ja2VkP1xuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFzdGFjaztcblx0XHRcdH0sXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggbGlzdCAmJiAoICFmaXJlZCB8fCBzdGFjayApICkge1xuXHRcdFx0XHRcdGFyZ3MgPSBhcmdzIHx8IFtdO1xuXHRcdFx0XHRcdGFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07XG5cdFx0XHRcdFx0aWYgKCBmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRzdGFjay5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZpcmUoIGFyZ3MgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmpRdWVyeS5leHRlbmQoe1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgbGlzdGVuZXIgbGlzdCwgZmluYWwgc3RhdGVcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgXCJyZWplY3RlZFwiIF0sXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKFwibWVtb3J5XCIpIF1cblx0XHRcdF0sXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxuXHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZChmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIGkgXSApICYmIGZuc1sgaSBdO1xuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZFsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdIGZvciBmb3J3YXJkaW5nIGFjdGlvbnMgdG8gbmV3RGVmZXJcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWzFdIF0oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oIHRoaXMgPT09IHByb21pc2UgPyBuZXdEZWZlci5wcm9taXNlKCkgOiB0aGlzLCBmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdHByb21pc2UucGlwZSA9IHByb21pc2UudGhlbjtcblxuXHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXG5cdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDMgXTtcblxuXHRcdFx0Ly8gcHJvbWlzZVsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdID0gbGlzdC5hZGRcblx0XHRcdHByb21pc2VbIHR1cGxlWzFdIF0gPSBsaXN0LmFkZDtcblxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXG5cdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRsaXN0LmFkZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQvLyBzdGF0ZSA9IFsgcmVzb2x2ZWQgfCByZWplY3RlZCBdXG5cdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblxuXHRcdFx0XHQvLyBbIHJlamVjdF9saXN0IHwgcmVzb2x2ZV9saXN0IF0uZGlzYWJsZTsgcHJvZ3Jlc3NfbGlzdC5sb2NrXG5cdFx0XHRcdH0sIHR1cGxlc1sgaSBeIDEgXVsgMiBdLmRpc2FibGUsIHR1cGxlc1sgMiBdWyAyIF0ubG9jayApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBkZWZlcnJlZFsgcmVzb2x2ZSB8IHJlamVjdCB8IG5vdGlmeSBdXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbMF0gXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbMF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHByb21pc2UgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWzBdICsgXCJXaXRoXCIgXSA9IGxpc3QuZmlyZVdpdGg7XG5cdFx0fSk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzdWJvcmRpbmF0ZSAvKiAsIC4uLiwgc3Vib3JkaW5hdGVOICovICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblx0XHRcdGxlbmd0aCA9IHJlc29sdmVWYWx1ZXMubGVuZ3RoLFxuXG5cdFx0XHQvLyB0aGUgY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBsZW5ndGggIT09IDEgfHwgKCBzdWJvcmRpbmF0ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggc3Vib3JkaW5hdGUucHJvbWlzZSApICkgPyBsZW5ndGggOiAwLFxuXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkLiBJZiByZXNvbHZlVmFsdWVzIGNvbnNpc3Qgb2Ygb25seSBhIHNpbmdsZSBEZWZlcnJlZCwganVzdCB1c2UgdGhhdC5cblx0XHRcdGRlZmVycmVkID0gcmVtYWluaW5nID09PSAxID8gc3Vib3JkaW5hdGUgOiBqUXVlcnkuRGVmZXJyZWQoKSxcblxuXHRcdFx0Ly8gVXBkYXRlIGZ1bmN0aW9uIGZvciBib3RoIHJlc29sdmUgYW5kIHByb2dyZXNzIHZhbHVlc1xuXHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpLCBjb250ZXh0cywgdmFsdWVzICkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdGNvbnRleHRzWyBpIF0gPSB0aGlzO1xuXHRcdFx0XHRcdHZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggdmFsdWVzID09PSBwcm9ncmVzc1ZhbHVlcyApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGNvbnRleHRzLCB2YWx1ZXMgKTtcblxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICEoLS1yZW1haW5pbmcpICkge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNvbnRleHRzLCB2YWx1ZXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXG5cdFx0XHRwcm9ncmVzc1ZhbHVlcywgcHJvZ3Jlc3NDb250ZXh0cywgcmVzb2x2ZUNvbnRleHRzO1xuXG5cdFx0Ly8gYWRkIGxpc3RlbmVycyB0byBEZWZlcnJlZCBzdWJvcmRpbmF0ZXM7IHRyZWF0IG90aGVycyBhcyByZXNvbHZlZFxuXHRcdGlmICggbGVuZ3RoID4gMSApIHtcblx0XHRcdHByb2dyZXNzVmFsdWVzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdHByb2dyZXNzQ29udGV4dHMgPSBuZXcgQXJyYXkoIGxlbmd0aCApO1xuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0ucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHQuZG9uZSggdXBkYXRlRnVuYyggaSwgcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICkgKVxuXHRcdFx0XHRcdFx0LmZhaWwoIGRlZmVycmVkLnJlamVjdCApXG5cdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIHVwZGF0ZUZ1bmMoIGksIHByb2dyZXNzQ29udGV4dHMsIHByb2dyZXNzVmFsdWVzICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQtLXJlbWFpbmluZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGlmIHdlJ3JlIG5vdCB3YWl0aW5nIG9uIGFueXRoaW5nLCByZXNvbHZlIHRoZSBtYXN0ZXJcblx0XHRpZiAoICFyZW1haW5pbmcgKSB7XG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcblx0fVxufSk7XG5cblxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG52YXIgcmVhZHlMaXN0O1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cdC8vIEFkZCB0aGUgY2FsbGJhY2tcblx0alF1ZXJ5LnJlYWR5LnByb21pc2UoKS5kb25lKCBmbiApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCh7XG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhvbGQgKG9yIHJlbGVhc2UpIHRoZSByZWFkeSBldmVudFxuXHRob2xkUmVhZHk6IGZ1bmN0aW9uKCBob2xkICkge1xuXHRcdGlmICggaG9sZCApIHtcblx0XHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSBib2R5IGV4aXN0cywgYXQgbGVhc3QsIGluIGNhc2UgSUUgZ2V0cyBhIGxpdHRsZSBvdmVyemVhbG91cyAodGlja2V0ICM1NDQzKS5cblx0XHRpZiAoICFkb2N1bWVudC5ib2R5ICkge1xuXHRcdFx0cmV0dXJuIHNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblxuXHRcdC8vIFRyaWdnZXIgYW55IGJvdW5kIHJlYWR5IGV2ZW50c1xuXHRcdGlmICggalF1ZXJ5LmZuLnRyaWdnZXJIYW5kbGVyICkge1xuXHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLnRyaWdnZXJIYW5kbGVyKCBcInJlYWR5XCIgKTtcblx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS5vZmYoIFwicmVhZHlcIiApO1xuXHRcdH1cblx0fVxufSk7XG5cbi8qKlxuICogQ2xlYW4tdXAgbWV0aG9kIGZvciBkb20gcmVhZHkgZXZlbnRzXG4gKi9cbmZ1bmN0aW9uIGRldGFjaCgpIHtcblx0aWYgKCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQsIGZhbHNlICk7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQsIGZhbHNlICk7XG5cblx0fSBlbHNlIHtcblx0XHRkb2N1bWVudC5kZXRhY2hFdmVudCggXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiwgY29tcGxldGVkICk7XG5cdFx0d2luZG93LmRldGFjaEV2ZW50KCBcIm9ubG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG4gKi9cbmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0Ly8gcmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIGlzIGdvb2QgZW5vdWdoIGZvciB1cyB0byBjYWxsIHRoZSBkb20gcmVhZHkgaW4gb2xkSUVcblx0aWYgKCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyIHx8IGV2ZW50LnR5cGUgPT09IFwibG9hZFwiIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiApIHtcblx0XHRkZXRhY2goKTtcblx0XHRqUXVlcnkucmVhZHkoKTtcblx0fVxufVxuXG5qUXVlcnkucmVhZHkucHJvbWlzZSA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cdGlmICggIXJlYWR5TGlzdCApIHtcblxuXHRcdHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5cdFx0Ly8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG5cdFx0Ly8gd2Ugb25jZSB0cmllZCB0byB1c2UgcmVhZHlTdGF0ZSBcImludGVyYWN0aXZlXCIgaGVyZSwgYnV0IGl0IGNhdXNlZCBpc3N1ZXMgbGlrZSB0aGUgb25lXG5cdFx0Ly8gZGlzY292ZXJlZCBieSBDaHJpc1MgaGVyZTogaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIyODIjY29tbWVudDoxNVxuXHRcdGlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiICkge1xuXHRcdFx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdFx0XHRzZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxuXHRcdC8vIFN0YW5kYXJkcy1iYXNlZCBicm93c2VycyBzdXBwb3J0IERPTUNvbnRlbnRMb2FkZWRcblx0XHR9IGVsc2UgaWYgKCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCwgZmFsc2UgKTtcblxuXHRcdFx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkLCBmYWxzZSApO1xuXG5cdFx0Ly8gSWYgSUUgZXZlbnQgbW9kZWwgaXMgdXNlZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFbnN1cmUgZmlyaW5nIGJlZm9yZSBvbmxvYWQsIG1heWJlIGxhdGUgYnV0IHNhZmUgYWxzbyBmb3IgaWZyYW1lc1xuXHRcdFx0ZG9jdW1lbnQuYXR0YWNoRXZlbnQoIFwib25yZWFkeXN0YXRlY2hhbmdlXCIsIGNvbXBsZXRlZCApO1xuXG5cdFx0XHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHRcdFx0d2luZG93LmF0dGFjaEV2ZW50KCBcIm9ubG9hZFwiLCBjb21wbGV0ZWQgKTtcblxuXHRcdFx0Ly8gSWYgSUUgYW5kIG5vdCBhIGZyYW1lXG5cdFx0XHQvLyBjb250aW51YWxseSBjaGVjayB0byBzZWUgaWYgdGhlIGRvY3VtZW50IGlzIHJlYWR5XG5cdFx0XHR2YXIgdG9wID0gZmFsc2U7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRvcCA9IHdpbmRvdy5mcmFtZUVsZW1lbnQgPT0gbnVsbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR9IGNhdGNoKGUpIHt9XG5cblx0XHRcdGlmICggdG9wICYmIHRvcC5kb1Njcm9sbCApIHtcblx0XHRcdFx0KGZ1bmN0aW9uIGRvU2Nyb2xsQ2hlY2soKSB7XG5cdFx0XHRcdFx0aWYgKCAhalF1ZXJ5LmlzUmVhZHkgKSB7XG5cblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgdHJpY2sgYnkgRGllZ28gUGVyaW5pXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHA6Ly9qYXZhc2NyaXB0Lm53Ym94LmNvbS9JRUNvbnRlbnRMb2FkZWQvXG5cdFx0XHRcdFx0XHRcdHRvcC5kb1Njcm9sbChcImxlZnRcIik7XG5cdFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldFRpbWVvdXQoIGRvU2Nyb2xsQ2hlY2ssIDUwICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIGRldGFjaCBhbGwgZG9tIHJlYWR5IGV2ZW50c1xuXHRcdFx0XHRcdFx0ZGV0YWNoKCk7XG5cblx0XHRcdFx0XHRcdC8vIGFuZCBleGVjdXRlIGFueSB3YWl0aW5nIGZ1bmN0aW9uc1xuXHRcdFx0XHRcdFx0alF1ZXJ5LnJlYWR5KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVhZHlMaXN0LnByb21pc2UoIG9iaiApO1xufTtcblxuXG52YXIgc3RydW5kZWZpbmVkID0gdHlwZW9mIHVuZGVmaW5lZDtcblxuXG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIEl0ZXJhdGlvbiBvdmVyIG9iamVjdCdzIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlZm9yZSBpdHMgb3duXG52YXIgaTtcbmZvciAoIGkgaW4galF1ZXJ5KCBzdXBwb3J0ICkgKSB7XG5cdGJyZWFrO1xufVxuc3VwcG9ydC5vd25MYXN0ID0gaSAhPT0gXCIwXCI7XG5cbi8vIE5vdGU6IG1vc3Qgc3VwcG9ydCB0ZXN0cyBhcmUgZGVmaW5lZCBpbiB0aGVpciByZXNwZWN0aXZlIG1vZHVsZXMuXG4vLyBmYWxzZSB1bnRpbCB0aGUgdGVzdCBpcyBydW5cbnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dCA9IGZhbHNlO1xuXG4vLyBFeGVjdXRlIEFTQVAgaW4gY2FzZSB3ZSBuZWVkIHRvIHNldCBib2R5LnN0eWxlLnpvb21cbmpRdWVyeShmdW5jdGlvbigpIHtcblx0Ly8gTWluaWZpZWQ6IHZhciBhLGIsYyxkXG5cdHZhciB2YWwsIGRpdiwgYm9keSwgY29udGFpbmVyO1xuXG5cdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJib2R5XCIgKVsgMCBdO1xuXHRpZiAoICFib2R5IHx8ICFib2R5LnN0eWxlICkge1xuXHRcdC8vIFJldHVybiBmb3IgZnJhbWVzZXQgZG9jcyB0aGF0IGRvbid0IGhhdmUgYSBib2R5XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU2V0dXBcblx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweFwiO1xuXHRib2R5LmFwcGVuZENoaWxkKCBjb250YWluZXIgKS5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0aWYgKCB0eXBlb2YgZGl2LnN0eWxlLnpvb20gIT09IHN0cnVuZGVmaW5lZCApIHtcblx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0Ly8gQ2hlY2sgaWYgbmF0aXZlbHkgYmxvY2stbGV2ZWwgZWxlbWVudHMgYWN0IGxpa2UgaW5saW5lLWJsb2NrXG5cdFx0Ly8gZWxlbWVudHMgd2hlbiBzZXR0aW5nIHRoZWlyIGRpc3BsYXkgdG8gJ2lubGluZScgYW5kIGdpdmluZ1xuXHRcdC8vIHRoZW0gbGF5b3V0XG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPSBcImRpc3BsYXk6aW5saW5lO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjFcIjtcblxuXHRcdHN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dCA9IHZhbCA9IGRpdi5vZmZzZXRXaWR0aCA9PT0gMztcblx0XHRpZiAoIHZhbCApIHtcblx0XHRcdC8vIFByZXZlbnQgSUUgNiBmcm9tIGFmZmVjdGluZyBsYXlvdXQgZm9yIHBvc2l0aW9uZWQgZWxlbWVudHMgIzExMDQ4XG5cdFx0XHQvLyBQcmV2ZW50IElFIGZyb20gc2hyaW5raW5nIHRoZSBib2R5IGluIElFIDcgbW9kZSAjMTI4Njlcblx0XHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHRcdGJvZHkuc3R5bGUuem9vbSA9IDE7XG5cdFx0fVxuXHR9XG5cblx0Ym9keS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG59KTtcblxuXG5cblxuKGZ1bmN0aW9uKCkge1xuXHR2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEV4ZWN1dGUgdGhlIHRlc3Qgb25seSBpZiBub3QgYWxyZWFkeSBleGVjdXRlZCBpbiBhbm90aGVyIG1vZHVsZS5cblx0aWYgKHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9PSBudWxsKSB7XG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9IHRydWU7XG5cdFx0dHJ5IHtcblx0XHRcdGRlbGV0ZSBkaXYudGVzdDtcblx0XHR9IGNhdGNoKCBlICkge1xuXHRcdFx0c3VwcG9ydC5kZWxldGVFeHBhbmRvID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0Ly8gTnVsbCBlbGVtZW50cyB0byBhdm9pZCBsZWFrcyBpbiBJRS5cblx0ZGl2ID0gbnVsbDtcbn0pKCk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gb2JqZWN0IGNhbiBoYXZlIGRhdGFcbiAqL1xualF1ZXJ5LmFjY2VwdERhdGEgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vRGF0YSA9IGpRdWVyeS5ub0RhdGFbIChlbGVtLm5vZGVOYW1lICsgXCIgXCIpLnRvTG93ZXJDYXNlKCkgXSxcblx0XHRub2RlVHlwZSA9ICtlbGVtLm5vZGVUeXBlIHx8IDE7XG5cblx0Ly8gRG8gbm90IHNldCBkYXRhIG9uIG5vbi1lbGVtZW50IERPTSBub2RlcyBiZWNhdXNlIGl0IHdpbGwgbm90IGJlIGNsZWFyZWQgKCM4MzM1KS5cblx0cmV0dXJuIG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ID9cblx0XHRmYWxzZSA6XG5cblx0XHQvLyBOb2RlcyBhY2NlcHQgZGF0YSB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZDsgcmVqZWN0aW9uIGNhbiBiZSBjb25kaXRpb25hbFxuXHRcdCFub0RhdGEgfHwgbm9EYXRhICE9PSB0cnVlICYmIGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NpZFwiKSA9PT0gbm9EYXRhO1xufTtcblxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gLyhbQS1aXSkvZztcblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdHZhciBuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQxXCIgKS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0YSA9IGRhdGEgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6XG5cdFx0XHRcdFx0ZGF0YSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOlxuXHRcdFx0XHRcdGRhdGEgPT09IFwibnVsbFwiID8gbnVsbCA6XG5cdFx0XHRcdFx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0XHRcdFx0XHQrZGF0YSArIFwiXCIgPT09IGRhdGEgPyArZGF0YSA6XG5cdFx0XHRcdFx0cmJyYWNlLnRlc3QoIGRhdGEgKSA/IGpRdWVyeS5wYXJzZUpTT04oIGRhdGEgKSA6XG5cdFx0XHRcdFx0ZGF0YTtcblx0XHRcdH0gY2F0Y2goIGUgKSB7fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcblx0XHRcdGpRdWVyeS5kYXRhKCBlbGVtLCBrZXksIGRhdGEgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkYXRhO1xufVxuXG4vLyBjaGVja3MgYSBjYWNoZSBvYmplY3QgZm9yIGVtcHRpbmVzc1xuZnVuY3Rpb24gaXNFbXB0eURhdGFPYmplY3QoIG9iaiApIHtcblx0dmFyIG5hbWU7XG5cdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXG5cdFx0Ly8gaWYgdGhlIHB1YmxpYyBkYXRhIG9iamVjdCBpcyBlbXB0eSwgdGhlIHByaXZhdGUgaXMgc3RpbGwgZW1wdHlcblx0XHRpZiAoIG5hbWUgPT09IFwiZGF0YVwiICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvYmpbbmFtZV0gKSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRpZiAoIG5hbWUgIT09IFwidG9KU09OXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsRGF0YSggZWxlbSwgbmFtZSwgZGF0YSwgcHZ0IC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHRpZiAoICFqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciByZXQsIHRoaXNDYWNoZSxcblx0XHRpbnRlcm5hbEtleSA9IGpRdWVyeS5leHBhbmRvLFxuXG5cdFx0Ly8gV2UgaGF2ZSB0byBoYW5kbGUgRE9NIG5vZGVzIGFuZCBKUyBvYmplY3RzIGRpZmZlcmVudGx5IGJlY2F1c2UgSUU2LTdcblx0XHQvLyBjYW4ndCBHQyBvYmplY3QgcmVmZXJlbmNlcyBwcm9wZXJseSBhY3Jvc3MgdGhlIERPTS1KUyBib3VuZGFyeVxuXHRcdGlzTm9kZSA9IGVsZW0ubm9kZVR5cGUsXG5cblx0XHQvLyBPbmx5IERPTSBub2RlcyBuZWVkIHRoZSBnbG9iYWwgalF1ZXJ5IGNhY2hlOyBKUyBvYmplY3QgZGF0YSBpc1xuXHRcdC8vIGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBvYmplY3Qgc28gR0MgY2FuIG9jY3VyIGF1dG9tYXRpY2FsbHlcblx0XHRjYWNoZSA9IGlzTm9kZSA/IGpRdWVyeS5jYWNoZSA6IGVsZW0sXG5cblx0XHQvLyBPbmx5IGRlZmluaW5nIGFuIElEIGZvciBKUyBvYmplY3RzIGlmIGl0cyBjYWNoZSBhbHJlYWR5IGV4aXN0cyBhbGxvd3Ncblx0XHQvLyB0aGUgY29kZSB0byBzaG9ydGN1dCBvbiB0aGUgc2FtZSBwYXRoIGFzIGEgRE9NIG5vZGUgd2l0aCBubyBjYWNoZVxuXHRcdGlkID0gaXNOb2RlID8gZWxlbVsgaW50ZXJuYWxLZXkgXSA6IGVsZW1bIGludGVybmFsS2V5IF0gJiYgaW50ZXJuYWxLZXk7XG5cblx0Ly8gQXZvaWQgZG9pbmcgYW55IG1vcmUgd29yayB0aGFuIHdlIG5lZWQgdG8gd2hlbiB0cnlpbmcgdG8gZ2V0IGRhdGEgb24gYW5cblx0Ly8gb2JqZWN0IHRoYXQgaGFzIG5vIGRhdGEgYXQgYWxsXG5cdGlmICggKCFpZCB8fCAhY2FjaGVbaWRdIHx8ICghcHZ0ICYmICFjYWNoZVtpZF0uZGF0YSkpICYmIGRhdGEgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoICFpZCApIHtcblx0XHQvLyBPbmx5IERPTSBub2RlcyBuZWVkIGEgbmV3IHVuaXF1ZSBJRCBmb3IgZWFjaCBlbGVtZW50IHNpbmNlIHRoZWlyIGRhdGFcblx0XHQvLyBlbmRzIHVwIGluIHRoZSBnbG9iYWwgY2FjaGVcblx0XHRpZiAoIGlzTm9kZSApIHtcblx0XHRcdGlkID0gZWxlbVsgaW50ZXJuYWxLZXkgXSA9IGRlbGV0ZWRJZHMucG9wKCkgfHwgalF1ZXJ5Lmd1aWQrKztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWQgPSBpbnRlcm5hbEtleTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICFjYWNoZVsgaWQgXSApIHtcblx0XHQvLyBBdm9pZCBleHBvc2luZyBqUXVlcnkgbWV0YWRhdGEgb24gcGxhaW4gSlMgb2JqZWN0cyB3aGVuIHRoZSBvYmplY3Rcblx0XHQvLyBpcyBzZXJpYWxpemVkIHVzaW5nIEpTT04uc3RyaW5naWZ5XG5cdFx0Y2FjaGVbIGlkIF0gPSBpc05vZGUgPyB7fSA6IHsgdG9KU09OOiBqUXVlcnkubm9vcCB9O1xuXHR9XG5cblx0Ly8gQW4gb2JqZWN0IGNhbiBiZSBwYXNzZWQgdG8galF1ZXJ5LmRhdGEgaW5zdGVhZCBvZiBhIGtleS92YWx1ZSBwYWlyOyB0aGlzIGdldHNcblx0Ly8gc2hhbGxvdyBjb3BpZWQgb3ZlciBvbnRvIHRoZSBleGlzdGluZyBjYWNoZVxuXHRpZiAoIHR5cGVvZiBuYW1lID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0aWYgKCBwdnQgKSB7XG5cdFx0XHRjYWNoZVsgaWQgXSA9IGpRdWVyeS5leHRlbmQoIGNhY2hlWyBpZCBdLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhY2hlWyBpZCBdLmRhdGEgPSBqUXVlcnkuZXh0ZW5kKCBjYWNoZVsgaWQgXS5kYXRhLCBuYW1lICk7XG5cdFx0fVxuXHR9XG5cblx0dGhpc0NhY2hlID0gY2FjaGVbIGlkIF07XG5cblx0Ly8galF1ZXJ5IGRhdGEoKSBpcyBzdG9yZWQgaW4gYSBzZXBhcmF0ZSBvYmplY3QgaW5zaWRlIHRoZSBvYmplY3QncyBpbnRlcm5hbCBkYXRhXG5cdC8vIGNhY2hlIGluIG9yZGVyIHRvIGF2b2lkIGtleSBjb2xsaXNpb25zIGJldHdlZW4gaW50ZXJuYWwgZGF0YSBhbmQgdXNlci1kZWZpbmVkXG5cdC8vIGRhdGEuXG5cdGlmICggIXB2dCApIHtcblx0XHRpZiAoICF0aGlzQ2FjaGUuZGF0YSApIHtcblx0XHRcdHRoaXNDYWNoZS5kYXRhID0ge307XG5cdFx0fVxuXG5cdFx0dGhpc0NhY2hlID0gdGhpc0NhY2hlLmRhdGE7XG5cdH1cblxuXHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHR0aGlzQ2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSBdID0gZGF0YTtcblx0fVxuXG5cdC8vIENoZWNrIGZvciBib3RoIGNvbnZlcnRlZC10by1jYW1lbCBhbmQgbm9uLWNvbnZlcnRlZCBkYXRhIHByb3BlcnR5IG5hbWVzXG5cdC8vIElmIGEgZGF0YSBwcm9wZXJ0eSB3YXMgc3BlY2lmaWVkXG5cdGlmICggdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHQvLyBGaXJzdCBUcnkgdG8gZmluZCBhcy1pcyBwcm9wZXJ0eSBkYXRhXG5cdFx0cmV0ID0gdGhpc0NhY2hlWyBuYW1lIF07XG5cblx0XHQvLyBUZXN0IGZvciBudWxsfHVuZGVmaW5lZCBwcm9wZXJ0eSBkYXRhXG5cdFx0aWYgKCByZXQgPT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gVHJ5IHRvIGZpbmQgdGhlIGNhbWVsQ2FzZWQgcHJvcGVydHlcblx0XHRcdHJldCA9IHRoaXNDYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApIF07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJldCA9IHRoaXNDYWNoZTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsUmVtb3ZlRGF0YSggZWxlbSwgbmFtZSwgcHZ0ICkge1xuXHRpZiAoICFqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciB0aGlzQ2FjaGUsIGksXG5cdFx0aXNOb2RlID0gZWxlbS5ub2RlVHlwZSxcblxuXHRcdC8vIFNlZSBqUXVlcnkuZGF0YSBmb3IgbW9yZSBpbmZvcm1hdGlvblxuXHRcdGNhY2hlID0gaXNOb2RlID8galF1ZXJ5LmNhY2hlIDogZWxlbSxcblx0XHRpZCA9IGlzTm9kZSA/IGVsZW1bIGpRdWVyeS5leHBhbmRvIF0gOiBqUXVlcnkuZXhwYW5kbztcblxuXHQvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IG5vIGNhY2hlIGVudHJ5IGZvciB0aGlzIG9iamVjdCwgdGhlcmUgaXMgbm9cblx0Ly8gcHVycG9zZSBpbiBjb250aW51aW5nXG5cdGlmICggIWNhY2hlWyBpZCBdICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmICggbmFtZSApIHtcblxuXHRcdHRoaXNDYWNoZSA9IHB2dCA/IGNhY2hlWyBpZCBdIDogY2FjaGVbIGlkIF0uZGF0YTtcblxuXHRcdGlmICggdGhpc0NhY2hlICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgbmFtZXMgZm9yIGRhdGEga2V5c1xuXHRcdFx0aWYgKCAhalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcblxuXHRcdFx0XHQvLyB0cnkgdGhlIHN0cmluZyBhcyBhIGtleSBiZWZvcmUgYW55IG1hbmlwdWxhdGlvblxuXHRcdFx0XHRpZiAoIG5hbWUgaW4gdGhpc0NhY2hlICkge1xuXHRcdFx0XHRcdG5hbWUgPSBbIG5hbWUgXTtcblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIHNwbGl0IHRoZSBjYW1lbCBjYXNlZCB2ZXJzaW9uIGJ5IHNwYWNlcyB1bmxlc3MgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0c1xuXHRcdFx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICk7XG5cdFx0XHRcdFx0aWYgKCBuYW1lIGluIHRoaXNDYWNoZSApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSBbIG5hbWUgXTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bmFtZSA9IG5hbWUuc3BsaXQoXCIgXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSWYgXCJuYW1lXCIgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXaGVuIGRhdGEgaXMgaW5pdGlhbGx5IGNyZWF0ZWQsIHZpYSAoXCJrZXlcIiwgXCJ2YWxcIikgc2lnbmF0dXJlLFxuXHRcdFx0XHQvLyBrZXlzIHdpbGwgYmUgY29udmVydGVkIHRvIGNhbWVsQ2FzZS5cblx0XHRcdFx0Ly8gU2luY2UgdGhlcmUgaXMgbm8gd2F5IHRvIHRlbGwgX2hvd18gYSBrZXkgd2FzIGFkZGVkLCByZW1vdmVcblx0XHRcdFx0Ly8gYm90aCBwbGFpbiBrZXkgYW5kIGNhbWVsQ2FzZSBrZXkuICMxMjc4NlxuXHRcdFx0XHQvLyBUaGlzIHdpbGwgb25seSBwZW5hbGl6ZSB0aGUgYXJyYXkgYXJndW1lbnQgcGF0aC5cblx0XHRcdFx0bmFtZSA9IG5hbWUuY29uY2F0KCBqUXVlcnkubWFwKCBuYW1lLCBqUXVlcnkuY2FtZWxDYXNlICkgKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IG5hbWUubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzQ2FjaGVbIG5hbWVbaV0gXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlcmUgaXMgbm8gZGF0YSBsZWZ0IGluIHRoZSBjYWNoZSwgd2Ugd2FudCB0byBjb250aW51ZVxuXHRcdFx0Ly8gYW5kIGxldCB0aGUgY2FjaGUgb2JqZWN0IGl0c2VsZiBnZXQgZGVzdHJveWVkXG5cdFx0XHRpZiAoIHB2dCA/ICFpc0VtcHR5RGF0YU9iamVjdCh0aGlzQ2FjaGUpIDogIWpRdWVyeS5pc0VtcHR5T2JqZWN0KHRoaXNDYWNoZSkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZWUgalF1ZXJ5LmRhdGEgZm9yIG1vcmUgaW5mb3JtYXRpb25cblx0aWYgKCAhcHZ0ICkge1xuXHRcdGRlbGV0ZSBjYWNoZVsgaWQgXS5kYXRhO1xuXG5cdFx0Ly8gRG9uJ3QgZGVzdHJveSB0aGUgcGFyZW50IGNhY2hlIHVubGVzcyB0aGUgaW50ZXJuYWwgZGF0YSBvYmplY3Rcblx0XHQvLyBoYWQgYmVlbiB0aGUgb25seSB0aGluZyBsZWZ0IGluIGl0XG5cdFx0aWYgKCAhaXNFbXB0eURhdGFPYmplY3QoIGNhY2hlWyBpZCBdICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0Ly8gRGVzdHJveSB0aGUgY2FjaGVcblx0aWYgKCBpc05vZGUgKSB7XG5cdFx0alF1ZXJ5LmNsZWFuRGF0YSggWyBlbGVtIF0sIHRydWUgKTtcblxuXHQvLyBVc2UgZGVsZXRlIHdoZW4gc3VwcG9ydGVkIGZvciBleHBhbmRvcyBvciBgY2FjaGVgIGlzIG5vdCBhIHdpbmRvdyBwZXIgaXNXaW5kb3cgKCMxMDA4MClcblx0LyoganNoaW50IGVxZXFlcTogZmFsc2UgKi9cblx0fSBlbHNlIGlmICggc3VwcG9ydC5kZWxldGVFeHBhbmRvIHx8IGNhY2hlICE9IGNhY2hlLndpbmRvdyApIHtcblx0XHQvKiBqc2hpbnQgZXFlcWVxOiB0cnVlICovXG5cdFx0ZGVsZXRlIGNhY2hlWyBpZCBdO1xuXG5cdC8vIFdoZW4gYWxsIGVsc2UgZmFpbHMsIG51bGxcblx0fSBlbHNlIHtcblx0XHRjYWNoZVsgaWQgXSA9IG51bGw7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCh7XG5cdGNhY2hlOiB7fSxcblxuXHQvLyBUaGUgZm9sbG93aW5nIGVsZW1lbnRzIChzcGFjZS1zdWZmaXhlZCB0byBhdm9pZCBPYmplY3QucHJvdG90eXBlIGNvbGxpc2lvbnMpXG5cdC8vIHRocm93IHVuY2F0Y2hhYmxlIGV4Y2VwdGlvbnMgaWYgeW91IGF0dGVtcHQgdG8gc2V0IGV4cGFuZG8gcHJvcGVydGllc1xuXHRub0RhdGE6IHtcblx0XHRcImFwcGxldCBcIjogdHJ1ZSxcblx0XHRcImVtYmVkIFwiOiB0cnVlLFxuXHRcdC8vIC4uLmJ1dCBGbGFzaCBvYmplY3RzICh3aGljaCBoYXZlIHRoaXMgY2xhc3NpZCkgKmNhbiogaGFuZGxlIGV4cGFuZG9zXG5cdFx0XCJvYmplY3QgXCI6IFwiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwXCJcblx0fSxcblxuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRlbGVtID0gZWxlbS5ub2RlVHlwZSA/IGpRdWVyeS5jYWNoZVsgZWxlbVtqUXVlcnkuZXhwYW5kb10gXSA6IGVsZW1bIGpRdWVyeS5leHBhbmRvIF07XG5cdFx0cmV0dXJuICEhZWxlbSAmJiAhaXNFbXB0eURhdGFPYmplY3QoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gaW50ZXJuYWxEYXRhKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0cmV0dXJuIGludGVybmFsUmVtb3ZlRGF0YSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBpbnRlcm5hbERhdGEoIGVsZW0sIG5hbWUsIGRhdGEsIHRydWUgKTtcblx0fSxcblxuXHRfcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0cmV0dXJuIGludGVybmFsUmVtb3ZlRGF0YSggZWxlbSwgbmFtZSwgdHJ1ZSApO1xuXHR9XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbMF0sXG5cdFx0XHRhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzO1xuXG5cdFx0Ly8gU3BlY2lhbCBleHBlY3Rpb25zIG9mIC5kYXRhIGJhc2ljYWxseSB0aHdhcnQgalF1ZXJ5LmFjY2Vzcyxcblx0XHQvLyBzbyBpbXBsZW1lbnQgdGhlIHJlbGV2YW50IGJlaGF2aW9yIG91cnNlbHZlc1xuXG5cdFx0Ly8gR2V0cyBhbGwgdmFsdWVzXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRcdGRhdGEgPSBqUXVlcnkuZGF0YSggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhalF1ZXJ5Ll9kYXRhKCBlbGVtLCBcInBhcnNlZEF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTExK1xuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSg1KSApO1xuXHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRqUXVlcnkuX2RhdGEoIGVsZW0sIFwicGFyc2VkQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRhdGEoIHRoaXMsIGtleSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID9cblxuXHRcdFx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRhdGEoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0pIDpcblxuXHRcdFx0Ly8gR2V0cyBvbmUgdmFsdWVcblx0XHRcdC8vIFRyeSB0byBmZXRjaCBhbnkgaW50ZXJuYWxseSBzdG9yZWQgZGF0YSBmaXJzdFxuXHRcdFx0ZWxlbSA/IGRhdGFBdHRyKCBlbGVtLCBrZXksIGpRdWVyeS5kYXRhKCBlbGVtLCBrZXkgKSApIDogdW5kZWZpbmVkO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVEYXRhKCB0aGlzLCBrZXkgKTtcblx0XHR9KTtcblx0fVxufSk7XG5cblxualF1ZXJ5LmV4dGVuZCh7XG5cdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgcXVldWU7XG5cblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0cXVldWUgPSBqUXVlcnkuX2RhdGEoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBqUXVlcnkuaXNBcnJheShkYXRhKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGpRdWVyeS5fZGF0YSggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheShkYXRhKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGRhdGEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHF1ZXVlIHx8IFtdO1xuXHRcdH1cblx0fSxcblxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpLFxuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcblx0XHRcdH07XG5cblx0XHQvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG5cdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRzdGFydExlbmd0aC0tO1xuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcblx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIG5vdCBpbnRlbmRlZCBmb3IgcHVibGljIGNvbnN1bXB0aW9uIC0gZ2VuZXJhdGVzIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybnMgdGhlIGN1cnJlbnQgb25lXG5cdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdHJldHVybiBqUXVlcnkuX2RhdGEoIGVsZW0sIGtleSApIHx8IGpRdWVyeS5fZGF0YSggZWxlbSwga2V5LCB7XG5cdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5Ll9yZW1vdmVEYXRhKCBlbGVtLCB0eXBlICsgXCJxdWV1ZVwiICk7XG5cdFx0XHRcdGpRdWVyeS5fcmVtb3ZlRGF0YSggZWxlbSwga2V5ICk7XG5cdFx0XHR9KVxuXHRcdH0pO1xuXHR9XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWzBdLCB0eXBlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzIDpcblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gZW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbMF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9KTtcblx0fSxcblx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHR9LFxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGpRdWVyeS5fZGF0YSggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSk7XG52YXIgcG51bSA9ICgvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLykuc291cmNlO1xuXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cbnZhciBpc0hpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblx0XHQvLyBpc0hpZGRlbiBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIiB8fCAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblx0fTtcblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0galF1ZXJ5LmFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0alF1ZXJ5LmFjY2VzcyggZWxlbXMsIGZuLCBpLCBrZXlbaV0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGZuKCBlbGVtc1tpXSwga2V5LCByYXcgPyB2YWx1ZSA6IHZhbHVlLmNhbGwoIGVsZW1zW2ldLCBpLCBmbiggZWxlbXNbaV0sIGtleSApICkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY2hhaW5hYmxlID9cblx0XHRlbGVtcyA6XG5cblx0XHQvLyBHZXRzXG5cdFx0YnVsayA/XG5cdFx0XHRmbi5jYWxsKCBlbGVtcyApIDpcblx0XHRcdGxlbmd0aCA/IGZuKCBlbGVtc1swXSwga2V5ICkgOiBlbXB0eUdldDtcbn07XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoL14oPzpjaGVja2JveHxyYWRpbykkL2kpO1xuXG5cblxuKGZ1bmN0aW9uKCkge1xuXHQvLyBNaW5pZmllZDogdmFyIGEsYixjXG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuXHQvLyBTZXR1cFxuXHRkaXYuaW5uZXJIVE1MID0gXCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIjtcblxuXHQvLyBJRSBzdHJpcHMgbGVhZGluZyB3aGl0ZXNwYWNlIHdoZW4gLmlubmVySFRNTCBpcyB1c2VkXG5cdHN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UgPSBkaXYuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gMztcblxuXHQvLyBNYWtlIHN1cmUgdGhhdCB0Ym9keSBlbGVtZW50cyBhcmVuJ3QgYXV0b21hdGljYWxseSBpbnNlcnRlZFxuXHQvLyBJRSB3aWxsIGluc2VydCB0aGVtIGludG8gZW1wdHkgdGFibGVzXG5cdHN1cHBvcnQudGJvZHkgPSAhZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKS5sZW5ndGg7XG5cblx0Ly8gTWFrZSBzdXJlIHRoYXQgbGluayBlbGVtZW50cyBnZXQgc2VyaWFsaXplZCBjb3JyZWN0bHkgYnkgaW5uZXJIVE1MXG5cdC8vIFRoaXMgcmVxdWlyZXMgYSB3cmFwcGVyIGVsZW1lbnQgaW4gSUVcblx0c3VwcG9ydC5odG1sU2VyaWFsaXplID0gISFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwibGlua1wiICkubGVuZ3RoO1xuXG5cdC8vIE1ha2VzIHN1cmUgY2xvbmluZyBhbiBodG1sNSBlbGVtZW50IGRvZXMgbm90IGNhdXNlIHByb2JsZW1zXG5cdC8vIFdoZXJlIG91dGVySFRNTCBpcyB1bmRlZmluZWQsIHRoaXMgc3RpbGwgd29ya3Ncblx0c3VwcG9ydC5odG1sNUNsb25lID1cblx0XHRkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm5hdlwiICkuY2xvbmVOb2RlKCB0cnVlICkub3V0ZXJIVE1MICE9PSBcIjw6bmF2PjwvOm5hdj5cIjtcblxuXHQvLyBDaGVjayBpZiBhIGRpc2Nvbm5lY3RlZCBjaGVja2JveCB3aWxsIHJldGFpbiBpdHMgY2hlY2tlZFxuXHQvLyB2YWx1ZSBvZiB0cnVlIGFmdGVyIGFwcGVuZGVkIHRvIHRoZSBET00gKElFNi83KVxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXHRpbnB1dC5jaGVja2VkID0gdHJ1ZTtcblx0ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cdHN1cHBvcnQuYXBwZW5kQ2hlY2tlZCA9IGlucHV0LmNoZWNrZWQ7XG5cblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0Ly8gU3VwcG9ydDogSUU2LUlFMTErXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG5cblx0Ly8gIzExMjE3IC0gV2ViS2l0IGxvc2VzIGNoZWNrIHdoZW4gdGhlIG5hbWUgaXMgYWZ0ZXIgdGhlIGNoZWNrZWQgYXR0cmlidXRlXG5cdGZyYWdtZW50LmFwcGVuZENoaWxkKCBkaXYgKTtcblx0ZGl2LmlubmVySFRNTCA9IFwiPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+XCI7XG5cblx0Ly8gU3VwcG9ydDogU2FmYXJpIDUuMSwgaU9TIDUuMSwgQW5kcm9pZCA0LngsIEFuZHJvaWQgMi4zXG5cdC8vIG9sZCBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcblx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0Ly8gT3BlcmEgZG9lcyBub3QgY2xvbmUgZXZlbnRzIChhbmQgdHlwZW9mIGRpdi5hdHRhY2hFdmVudCA9PT0gdW5kZWZpbmVkKS5cblx0Ly8gSUU5LTEwIGNsb25lcyBldmVudHMgYm91bmQgdmlhIGF0dGFjaEV2ZW50LCBidXQgdGhleSBkb24ndCB0cmlnZ2VyIHdpdGggLmNsaWNrKClcblx0c3VwcG9ydC5ub0Nsb25lRXZlbnQgPSB0cnVlO1xuXHRpZiAoIGRpdi5hdHRhY2hFdmVudCApIHtcblx0XHRkaXYuYXR0YWNoRXZlbnQoIFwib25jbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHN1cHBvcnQubm9DbG9uZUV2ZW50ID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xpY2soKTtcblx0fVxuXG5cdC8vIEV4ZWN1dGUgdGhlIHRlc3Qgb25seSBpZiBub3QgYWxyZWFkeSBleGVjdXRlZCBpbiBhbm90aGVyIG1vZHVsZS5cblx0aWYgKHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9PSBudWxsKSB7XG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdHN1cHBvcnQuZGVsZXRlRXhwYW5kbyA9IHRydWU7XG5cdFx0dHJ5IHtcblx0XHRcdGRlbGV0ZSBkaXYudGVzdDtcblx0XHR9IGNhdGNoKCBlICkge1xuXHRcdFx0c3VwcG9ydC5kZWxldGVFeHBhbmRvID0gZmFsc2U7XG5cdFx0fVxuXHR9XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblx0dmFyIGksIGV2ZW50TmFtZSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8OSAobGFjayBzdWJtaXQvY2hhbmdlIGJ1YmJsZSksIEZpcmVmb3ggMjMrIChsYWNrIGZvY3VzaW4gZXZlbnQpXG5cdGZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIGNoYW5nZTogdHJ1ZSwgZm9jdXNpbjogdHJ1ZSB9KSB7XG5cdFx0ZXZlbnROYW1lID0gXCJvblwiICsgaTtcblxuXHRcdGlmICggIShzdXBwb3J0WyBpICsgXCJCdWJibGVzXCIgXSA9IGV2ZW50TmFtZSBpbiB3aW5kb3cpICkge1xuXHRcdFx0Ly8gQmV3YXJlIG9mIENTUCByZXN0cmljdGlvbnMgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL1NlY3VyaXR5L0NTUClcblx0XHRcdGRpdi5zZXRBdHRyaWJ1dGUoIGV2ZW50TmFtZSwgXCJ0XCIgKTtcblx0XHRcdHN1cHBvcnRbIGkgKyBcIkJ1YmJsZXNcIiBdID0gZGl2LmF0dHJpYnV0ZXNbIGV2ZW50TmFtZSBdLmV4cGFuZG8gPT09IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdC8vIE51bGwgZWxlbWVudHMgdG8gYXZvaWQgbGVha3MgaW4gSUUuXG5cdGRpdiA9IG51bGw7XG59KSgpO1xuXG5cbnZhciByZm9ybUVsZW1zID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLFxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sXG5cdHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KSQvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblx0XHR2YXIgdG1wLCBldmVudHMsIHQsIGhhbmRsZU9iakluLFxuXHRcdFx0c3BlY2lhbCwgZXZlbnRIYW5kbGUsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0galF1ZXJ5Ll9kYXRhKCBlbGVtICk7XG5cblx0XHQvLyBEb24ndCBhdHRhY2ggZXZlbnRzIHRvIG5vRGF0YSBvciB0ZXh0L2NvbW1lbnQgbm9kZXMgKGJ1dCBhbGxvdyBwbGFpbiBvYmplY3RzKVxuXHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggIShldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSkgKSB7XG5cdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBzdHJ1bmRlZmluZWQgJiYgKCFlIHx8IGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSkgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZXZlbnRIYW5kbGUuZWxlbSwgYXJndW1lbnRzICkgOlxuXHRcdFx0XHRcdHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0XHQvLyBBZGQgZWxlbSBhcyBhIHByb3BlcnR5IG9mIHRoZSBoYW5kbGUgZm4gdG8gcHJldmVudCBhIG1lbW9yeSBsZWFrIHdpdGggSUUgbm9uLW5hdGl2ZSBldmVudHNcblx0XHRcdGV2ZW50SGFuZGxlLmVsZW0gPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbdF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsxXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsyXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oXCIuXCIpXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0pICkge1xuXHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXG5cdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIvYXR0YWNoRXZlbnQgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8IHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0Ly8gQmluZCB0aGUgZ2xvYmFsIGV2ZW50IGhhbmRsZXIgdG8gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUsIGZhbHNlICk7XG5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBlbGVtLmF0dGFjaEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hdHRhY2hFdmVudCggXCJvblwiICsgdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBOdWxsaWZ5IGVsZW0gdG8gcHJldmVudCBtZW1vcnkgbGVha3MgaW4gSUVcblx0XHRlbGVtID0gbnVsbDtcblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblx0XHR2YXIgaiwgaGFuZGxlT2JqLCB0bXAsXG5cdFx0XHRvcmlnQ291bnQsIHQsIGV2ZW50cyxcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLFxuXHRcdFx0bmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGpRdWVyeS5oYXNEYXRhKCBlbGVtICkgJiYgalF1ZXJ5Ll9kYXRhKCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cykgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1t0XSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWzFdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWzJdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdHRtcCA9IHRtcFsyXSAmJiBuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gXCIqKlwiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXG5cdFx0XHRcdFx0aWYgKCBoYW5kbGVPYmouc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggc3BlY2lhbC5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxuXHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8IHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdGRlbGV0ZSBlbGVtRGF0YS5oYW5kbGU7XG5cblx0XHRcdC8vIHJlbW92ZURhdGEgYWxzbyBjaGVja3MgZm9yIGVtcHRpbmVzcyBhbmQgY2xlYXJzIHRoZSBleHBhbmRvIGlmIGVtcHR5XG5cdFx0XHQvLyBzbyB1c2UgaXQgaW5zdGVhZCBvZiBkZWxldGVcblx0XHRcdGpRdWVyeS5fcmVtb3ZlRGF0YSggZWxlbSwgXCJldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblx0XHR2YXIgaGFuZGxlLCBvbnR5cGUsIGN1cixcblx0XHRcdGJ1YmJsZVR5cGUsIHNwZWNpYWwsIHRtcCwgaSxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdChcIi5cIikgOiBbXTtcblxuXHRcdGN1ciA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlLmluZGV4T2YoXCIuXCIpID49IDAgKSB7XG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdChcIi5cIik7XG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0fVxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZihcIjpcIikgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbihcIi5cIik7XG5cdFx0ZXZlbnQubmFtZXNwYWNlX3JlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09IChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQpICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKGN1ciA9IGV2ZW50UGF0aFtpKytdKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9ICggalF1ZXJ5Ll9kYXRhKCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiYgalF1ZXJ5Ll9kYXRhKCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgalF1ZXJ5LmFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICghc3BlY2lhbC5fZGVmYXVsdCB8fCBzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UpICYmXG5cdFx0XHRcdGpRdWVyeS5hY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBDYW4ndCB1c2UgYW4gLmlzRnVuY3Rpb24oKSBjaGVjayBoZXJlIGJlY2F1c2UgSUU2LzcgZmFpbHMgdGhhdCB0ZXN0LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGVsZW1bIHR5cGUgXSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRlbGVtWyB0eXBlIF0oKTtcblx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdC8vIElFPDkgZGllcyBvbiBmb2N1cy9ibHVyIHRvIGhpZGRlbiBlbGVtZW50ICgjMTQ4NiwjMTI1MTgpXG5cdFx0XHRcdFx0XHQvLyBvbmx5IHJlcHJvZHVjaWJsZSBvbiB3aW5YUCBJRTggbmF0aXZlLCBub3QgSUU5IGluIElFOCBtb2RlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKTtcblxuXHRcdHZhciBpLCByZXQsIGhhbmRsZU9iaiwgbWF0Y2hlZCwgaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxuXHRcdFx0aGFuZGxlcnMgPSAoIGpRdWVyeS5fZGF0YSggdGhpcywgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWzBdID0gZXZlbnQ7XG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAobWF0Y2hlZCA9IGhhbmRsZXJRdWV1ZVsgaSsrIF0pICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoIChoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSkgJiYgIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cblx0XHRcdFx0Ly8gVHJpZ2dlcmVkIGV2ZW50IG11c3QgZWl0aGVyIDEpIGhhdmUgbm8gbmFtZXNwYWNlLCBvclxuXHRcdFx0XHQvLyAyKSBoYXZlIG5hbWVzcGFjZShzKSBhIHN1YnNldCBvciBlcXVhbCB0byB0aG9zZSBpbiB0aGUgYm91bmQgZXZlbnQgKGJvdGggY2FuIGhhdmUgbm8gbmFtZXNwYWNlKS5cblx0XHRcdFx0aWYgKCAhZXZlbnQubmFtZXNwYWNlX3JlIHx8IGV2ZW50Lm5hbWVzcGFjZV9yZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XG5cblx0XHRcdFx0XHRldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7XG5cdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuXG5cdFx0XHRcdFx0cmV0ID0gKCAoalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhhbmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9KS5oYW5kbGUgfHwgaGFuZGxlT2JqLmhhbmRsZXIgKVxuXHRcdFx0XHRcdFx0XHQuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKGV2ZW50LnJlc3VsdCA9IHJldCkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBwb3N0RGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlXG5cdFx0aWYgKCBzcGVjaWFsLnBvc3REaXNwYXRjaCApIHtcblx0XHRcdHNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHRoYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgc2VsLCBoYW5kbGVPYmosIG1hdGNoZXMsIGksXG5cdFx0XHRoYW5kbGVyUXVldWUgPSBbXSxcblx0XHRcdGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LFxuXHRcdFx0Y3VyID0gZXZlbnQudGFyZ2V0O1xuXG5cdFx0Ly8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuXHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICgjMTMxODApXG5cdFx0Ly8gQXZvaWQgbm9uLWxlZnQtY2xpY2sgYnViYmxpbmcgaW4gRmlyZWZveCAoIzM4NjEpXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50ICYmIGN1ci5ub2RlVHlwZSAmJiAoIWV2ZW50LmJ1dHRvbiB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIpICkge1xuXG5cdFx0XHQvKiBqc2hpbnQgZXFlcWVxOiBmYWxzZSAqL1xuXHRcdFx0Zm9yICggOyBjdXIgIT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblx0XHRcdFx0LyoganNoaW50IGVxZXFlcTogdHJ1ZSAqL1xuXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxuXHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgKGN1ci5kaXNhYmxlZCAhPT0gdHJ1ZSB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIpICkge1xuXHRcdFx0XHRcdG1hdGNoZXMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICgjMTMyMDMpXG5cdFx0XHRcdFx0XHRzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcblxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVzWyBzZWwgXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID49IDAgOlxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVzIH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRoYW5kbGVyUXVldWUucHVzaCh7IGVsZW06IHRoaXMsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSApIHtcblx0XHRcdHJldHVybiBldmVudDtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgYSB3cml0YWJsZSBjb3B5IG9mIHRoZSBldmVudCBvYmplY3QgYW5kIG5vcm1hbGl6ZSBzb21lIHByb3BlcnRpZXNcblx0XHR2YXIgaSwgcHJvcCwgY29weSxcblx0XHRcdHR5cGUgPSBldmVudC50eXBlLFxuXHRcdFx0b3JpZ2luYWxFdmVudCA9IGV2ZW50LFxuXHRcdFx0Zml4SG9vayA9IHRoaXMuZml4SG9va3NbIHR5cGUgXTtcblxuXHRcdGlmICggIWZpeEhvb2sgKSB7XG5cdFx0XHR0aGlzLmZpeEhvb2tzWyB0eXBlIF0gPSBmaXhIb29rID1cblx0XHRcdFx0cm1vdXNlRXZlbnQudGVzdCggdHlwZSApID8gdGhpcy5tb3VzZUhvb2tzIDpcblx0XHRcdFx0cmtleUV2ZW50LnRlc3QoIHR5cGUgKSA/IHRoaXMua2V5SG9va3MgOlxuXHRcdFx0XHR7fTtcblx0XHR9XG5cdFx0Y29weSA9IGZpeEhvb2sucHJvcHMgPyB0aGlzLnByb3BzLmNvbmNhdCggZml4SG9vay5wcm9wcyApIDogdGhpcy5wcm9wcztcblxuXHRcdGV2ZW50ID0gbmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXG5cdFx0aSA9IGNvcHkubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0cHJvcCA9IGNvcHlbIGkgXTtcblx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnaW5hbEV2ZW50WyBwcm9wIF07XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIEZpeCB0YXJnZXQgcHJvcGVydHkgKCMxOTI1KVxuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IG9yaWdpbmFsRXZlbnQuc3JjRWxlbWVudCB8fCBkb2N1bWVudDtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgMjMrLCBTYWZhcmk/XG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKCM1MDQsICMxMzE0Mylcblx0XHRpZiAoIGV2ZW50LnRhcmdldC5ub2RlVHlwZSA9PT0gMyApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBGb3IgbW91c2Uva2V5IGV2ZW50cywgbWV0YUtleT09ZmFsc2UgaWYgaXQncyB1bmRlZmluZWQgKCMzMzY4LCAjMTEzMjgpXG5cdFx0ZXZlbnQubWV0YUtleSA9ICEhZXZlbnQubWV0YUtleTtcblxuXHRcdHJldHVybiBmaXhIb29rLmZpbHRlciA/IGZpeEhvb2suZmlsdGVyKCBldmVudCwgb3JpZ2luYWxFdmVudCApIDogZXZlbnQ7XG5cdH0sXG5cblx0Ly8gSW5jbHVkZXMgc29tZSBldmVudCBwcm9wcyBzaGFyZWQgYnkgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnRcblx0cHJvcHM6IFwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoXCIuc3BsaXQoXCIgXCIpLFxuXG5cdGZpeEhvb2tzOiB7fSxcblxuXHRrZXlIb29rczoge1xuXHRcdHByb3BzOiBcImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGVcIi5zcGxpdChcIiBcIiksXG5cdFx0ZmlsdGVyOiBmdW5jdGlvbiggZXZlbnQsIG9yaWdpbmFsICkge1xuXG5cdFx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRcdGlmICggZXZlbnQud2hpY2ggPT0gbnVsbCApIHtcblx0XHRcdFx0ZXZlbnQud2hpY2ggPSBvcmlnaW5hbC5jaGFyQ29kZSAhPSBudWxsID8gb3JpZ2luYWwuY2hhckNvZGUgOiBvcmlnaW5hbC5rZXlDb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZXZlbnQ7XG5cdFx0fVxuXHR9LFxuXG5cdG1vdXNlSG9va3M6IHtcblx0XHRwcm9wczogXCJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnRcIi5zcGxpdChcIiBcIiksXG5cdFx0ZmlsdGVyOiBmdW5jdGlvbiggZXZlbnQsIG9yaWdpbmFsICkge1xuXHRcdFx0dmFyIGJvZHksIGV2ZW50RG9jLCBkb2MsXG5cdFx0XHRcdGJ1dHRvbiA9IG9yaWdpbmFsLmJ1dHRvbixcblx0XHRcdFx0ZnJvbUVsZW1lbnQgPSBvcmlnaW5hbC5mcm9tRWxlbWVudDtcblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIHBhZ2VYL1kgaWYgbWlzc2luZyBhbmQgY2xpZW50WC9ZIGF2YWlsYWJsZVxuXHRcdFx0aWYgKCBldmVudC5wYWdlWCA9PSBudWxsICYmIG9yaWdpbmFsLmNsaWVudFggIT0gbnVsbCApIHtcblx0XHRcdFx0ZXZlbnREb2MgPSBldmVudC50YXJnZXQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcblx0XHRcdFx0ZG9jID0gZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0XHRib2R5ID0gZXZlbnREb2MuYm9keTtcblxuXHRcdFx0XHRldmVudC5wYWdlWCA9IG9yaWdpbmFsLmNsaWVudFggKyAoIGRvYyAmJiBkb2Muc2Nyb2xsTGVmdCB8fCBib2R5ICYmIGJvZHkuc2Nyb2xsTGVmdCB8fCAwICkgLSAoIGRvYyAmJiBkb2MuY2xpZW50TGVmdCB8fCBib2R5ICYmIGJvZHkuY2xpZW50TGVmdCB8fCAwICk7XG5cdFx0XHRcdGV2ZW50LnBhZ2VZID0gb3JpZ2luYWwuY2xpZW50WSArICggZG9jICYmIGRvYy5zY3JvbGxUb3AgIHx8IGJvZHkgJiYgYm9keS5zY3JvbGxUb3AgIHx8IDAgKSAtICggZG9jICYmIGRvYy5jbGllbnRUb3AgIHx8IGJvZHkgJiYgYm9keS5jbGllbnRUb3AgIHx8IDAgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHJlbGF0ZWRUYXJnZXQsIGlmIG5lY2Vzc2FyeVxuXHRcdFx0aWYgKCAhZXZlbnQucmVsYXRlZFRhcmdldCAmJiBmcm9tRWxlbWVudCApIHtcblx0XHRcdFx0ZXZlbnQucmVsYXRlZFRhcmdldCA9IGZyb21FbGVtZW50ID09PSBldmVudC50YXJnZXQgPyBvcmlnaW5hbC50b0VsZW1lbnQgOiBmcm9tRWxlbWVudDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxuXHRcdFx0Ly8gTm90ZTogYnV0dG9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyBkb24ndCB1c2UgaXRcblx0XHRcdGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRldmVudC53aGljaCA9ICggYnV0dG9uICYgMSA/IDEgOiAoIGJ1dHRvbiAmIDIgPyAzIDogKCBidXR0b24gJiA0ID8gMiA6IDAgKSApICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBldmVudDtcblx0XHR9XG5cdH0sXG5cblx0c3BlY2lhbDoge1xuXHRcdGxvYWQ6IHtcblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRmb2N1czoge1xuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHRcdFx0XHRcdC8vIElmIHdlIGVycm9yIG9uIGZvY3VzIHRvIGhpZGRlbiBlbGVtZW50ICgjMTQ4NiwgIzEyNTE4KSxcblx0XHRcdFx0XHRcdC8vIGxldCAudHJpZ2dlcigpIHJ1biB0aGUgaGFuZGxlcnNcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWxlZ2F0ZVR5cGU6IFwiZm9jdXNpblwiXG5cdFx0fSxcblx0XHRibHVyOiB7XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuYmx1ciApIHtcblx0XHRcdFx0XHR0aGlzLmJsdXIoKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWxlZ2F0ZVR5cGU6IFwiZm9jdXNvdXRcIlxuXHRcdH0sXG5cdFx0Y2xpY2s6IHtcblx0XHRcdC8vIEZvciBjaGVja2JveCwgZmlyZSBuYXRpdmUgZXZlbnQgc28gY2hlY2tlZCBzdGF0ZSB3aWxsIGJlIHJpZ2h0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICYmIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiICYmIHRoaXMuY2xpY2sgKSB7XG5cdFx0XHRcdFx0dGhpcy5jbGljaygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIGRvbid0IGZpcmUgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKCBldmVudC50YXJnZXQsIFwiYVwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJlZm9yZXVubG9hZDoge1xuXHRcdFx0cG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcblx0XHRcdFx0Ly8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50LCBidWJibGUgKSB7XG5cdFx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lLlxuXHRcdC8vIEZha2Ugb3JpZ2luYWxFdmVudCB0byBhdm9pZCBkb25vcidzIHN0b3BQcm9wYWdhdGlvbiwgYnV0IGlmIHRoZVxuXHRcdC8vIHNpbXVsYXRlZCBldmVudCBwcmV2ZW50cyBkZWZhdWx0IHRoZW4gd2UgZG8gdGhlIHNhbWUgb24gdGhlIGRvbm9yLlxuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZSxcblx0XHRcdFx0b3JpZ2luYWxFdmVudDoge31cblx0XHRcdH1cblx0XHQpO1xuXHRcdGlmICggYnViYmxlICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmNhbGwoIGVsZW0sIGUgKTtcblx0XHR9XG5cdFx0aWYgKCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIgP1xuXHRmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXHRcdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUsIGZhbHNlICk7XG5cdFx0fVxuXHR9IDpcblx0ZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcblx0XHR2YXIgbmFtZSA9IFwib25cIiArIHR5cGU7XG5cblx0XHRpZiAoIGVsZW0uZGV0YWNoRXZlbnQgKSB7XG5cblx0XHRcdC8vICM4NTQ1LCAjNzA1NCwgcHJldmVudGluZyBtZW1vcnkgbGVha3MgZm9yIGN1c3RvbSBldmVudHMgaW4gSUU2LThcblx0XHRcdC8vIGRldGFjaEV2ZW50IG5lZWRlZCBwcm9wZXJ0eSBvbiBlbGVtZW50LCBieSBuYW1lIG9mIHRoYXQgZXZlbnQsIHRvIHByb3Blcmx5IGV4cG9zZSBpdCB0byBHQ1xuXHRcdFx0aWYgKCB0eXBlb2YgZWxlbVsgbmFtZSBdID09PSBzdHJ1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGVsZW1bIG5hbWUgXSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uZGV0YWNoRXZlbnQoIG5hbWUsIGhhbmRsZSApO1xuXHRcdH1cblx0fTtcblxualF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEodGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCkgKSB7XG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIEV2ZW50IG9iamVjdFxuXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG5cdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuXHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8IDksIEFuZHJvaWQgPCA0LjBcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblx0XHRpZiAoICFlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHByZXZlbnREZWZhdWx0IGV4aXN0cywgcnVuIGl0IG9uIHRoZSBvcmlnaW5hbCBldmVudFxuXHRcdGlmICggZS5wcmV2ZW50RGVmYXVsdCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFXG5cdFx0Ly8gT3RoZXJ3aXNlIHNldCB0aGUgcmV0dXJuVmFsdWUgcHJvcGVydHkgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHRvIGZhbHNlXG5cdFx0fSBlbHNlIHtcblx0XHRcdGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblx0XHRpZiAoICFlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHQvLyBJZiBzdG9wUHJvcGFnYXRpb24gZXhpc3RzLCBydW4gaXQgb24gdGhlIG9yaWdpbmFsIGV2ZW50XG5cdFx0aWYgKCBlLnN0b3BQcm9wYWdhdGlvbiApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUVcblx0XHQvLyBTZXQgdGhlIGNhbmNlbEJ1YmJsZSBwcm9wZXJ0eSBvZiB0aGUgb3JpZ2luYWwgZXZlbnQgdG8gdHJ1ZVxuXHRcdGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3NcbmpRdWVyeS5lYWNoKHtcblx0bW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcblx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcblx0cG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxufSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHtcblx0XHRkZWxlZ2F0ZVR5cGU6IGZpeCxcblx0XHRiaW5kVHlwZTogZml4LFxuXG5cdFx0aGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHR0YXJnZXQgPSB0aGlzLFxuXHRcdFx0XHRyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCxcblx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXG5cdFx0XHQvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApKSApIHtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcblx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRldmVudC50eXBlID0gZml4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH07XG59KTtcblxuLy8gSUUgc3VibWl0IGRlbGVnYXRpb25cbmlmICggIXN1cHBvcnQuc3VibWl0QnViYmxlcyApIHtcblxuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbC5zdWJtaXQgPSB7XG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gT25seSBuZWVkIHRoaXMgZm9yIGRlbGVnYXRlZCBmb3JtIHN1Ym1pdCBldmVudHNcblx0XHRcdGlmICggalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcImZvcm1cIiApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExhenktYWRkIGEgc3VibWl0IGhhbmRsZXIgd2hlbiBhIGRlc2NlbmRhbnQgZm9ybSBtYXkgcG90ZW50aWFsbHkgYmUgc3VibWl0dGVkXG5cdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCBcImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdFwiLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0Ly8gTm9kZSBuYW1lIGNoZWNrIGF2b2lkcyBhIFZNTC1yZWxhdGVkIGNyYXNoIGluIElFICgjOTgwNylcblx0XHRcdFx0dmFyIGVsZW0gPSBlLnRhcmdldCxcblx0XHRcdFx0XHRmb3JtID0galF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSB8fCBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiYnV0dG9uXCIgKSA/IGVsZW0uZm9ybSA6IHVuZGVmaW5lZDtcblx0XHRcdFx0aWYgKCBmb3JtICYmICFqUXVlcnkuX2RhdGEoIGZvcm0sIFwic3VibWl0QnViYmxlc1wiICkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZm9ybSwgXCJzdWJtaXQuX3N1Ym1pdFwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRldmVudC5fc3VibWl0X2J1YmJsZSA9IHRydWU7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0alF1ZXJ5Ll9kYXRhKCBmb3JtLCBcInN1Ym1pdEJ1YmJsZXNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdC8vIHJldHVybiB1bmRlZmluZWQgc2luY2Ugd2UgZG9uJ3QgbmVlZCBhbiBldmVudCBsaXN0ZW5lclxuXHRcdH0sXG5cblx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdC8vIElmIGZvcm0gd2FzIHN1Ym1pdHRlZCBieSB0aGUgdXNlciwgYnViYmxlIHRoZSBldmVudCB1cCB0aGUgdHJlZVxuXHRcdFx0aWYgKCBldmVudC5fc3VibWl0X2J1YmJsZSApIHtcblx0XHRcdFx0ZGVsZXRlIGV2ZW50Ll9zdWJtaXRfYnViYmxlO1xuXHRcdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSAmJiAhZXZlbnQuaXNUcmlnZ2VyICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggXCJzdWJtaXRcIiwgdGhpcy5wYXJlbnROb2RlLCBldmVudCwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdC8vIE9ubHkgbmVlZCB0aGlzIGZvciBkZWxlZ2F0ZWQgZm9ybSBzdWJtaXQgZXZlbnRzXG5cdFx0XHRpZiAoIGpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJmb3JtXCIgKSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZGVsZWdhdGVkIGhhbmRsZXJzOyBjbGVhbkRhdGEgZXZlbnR1YWxseSByZWFwcyBzdWJtaXQgaGFuZGxlcnMgYXR0YWNoZWQgYWJvdmVcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIFwiLl9zdWJtaXRcIiApO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gSUUgY2hhbmdlIGRlbGVnYXRpb24gYW5kIGNoZWNrYm94L3JhZGlvIGZpeFxuaWYgKCAhc3VwcG9ydC5jaGFuZ2VCdWJibGVzICkge1xuXG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsLmNoYW5nZSA9IHtcblxuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYgKCByZm9ybUVsZW1zLnRlc3QoIHRoaXMubm9kZU5hbWUgKSApIHtcblx0XHRcdFx0Ly8gSUUgZG9lc24ndCBmaXJlIGNoYW5nZSBvbiBhIGNoZWNrL3JhZGlvIHVudGlsIGJsdXI7IHRyaWdnZXIgaXQgb24gY2xpY2tcblx0XHRcdFx0Ly8gYWZ0ZXIgYSBwcm9wZXJ0eWNoYW5nZS4gRWF0IHRoZSBibHVyLWNoYW5nZSBpbiBzcGVjaWFsLmNoYW5nZS5oYW5kbGUuXG5cdFx0XHRcdC8vIFRoaXMgc3RpbGwgZmlyZXMgb25jaGFuZ2UgYSBzZWNvbmQgdGltZSBmb3IgY2hlY2svcmFkaW8gYWZ0ZXIgYmx1ci5cblx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCB0aGlzLnR5cGUgPT09IFwicmFkaW9cIiApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCBcInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2VcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0aWYgKCBldmVudC5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZSA9PT0gXCJjaGVja2VkXCIgKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2p1c3RfY2hhbmdlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgXCJjbGljay5fY2hhbmdlXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRcdGlmICggdGhpcy5fanVzdF9jaGFuZ2VkICYmICFldmVudC5pc1RyaWdnZXIgKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2p1c3RfY2hhbmdlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gQWxsb3cgdHJpZ2dlcmVkLCBzaW11bGF0ZWQgY2hhbmdlIGV2ZW50cyAoIzExNTAwKVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBcImNoYW5nZVwiLCB0aGlzLCBldmVudCwgdHJ1ZSApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdC8vIERlbGVnYXRlZCBldmVudDsgbGF6eS1hZGQgYSBjaGFuZ2UgaGFuZGxlciBvbiBkZXNjZW5kYW50IGlucHV0c1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgXCJiZWZvcmVhY3RpdmF0ZS5fY2hhbmdlXCIsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IGUudGFyZ2V0O1xuXG5cdFx0XHRcdGlmICggcmZvcm1FbGVtcy50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiYgIWpRdWVyeS5fZGF0YSggZWxlbSwgXCJjaGFuZ2VCdWJibGVzXCIgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBlbGVtLCBcImNoYW5nZS5fY2hhbmdlXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICYmICFldmVudC5pc1NpbXVsYXRlZCAmJiAhZXZlbnQuaXNUcmlnZ2VyICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIFwiY2hhbmdlXCIsIHRoaXMucGFyZW50Tm9kZSwgZXZlbnQsIHRydWUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRqUXVlcnkuX2RhdGEoIGVsZW0sIFwiY2hhbmdlQnViYmxlc1wiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBlbGVtID0gZXZlbnQudGFyZ2V0O1xuXG5cdFx0XHQvLyBTd2FsbG93IG5hdGl2ZSBjaGFuZ2UgZXZlbnRzIGZyb20gY2hlY2tib3gvcmFkaW8sIHdlIGFscmVhZHkgdHJpZ2dlcmVkIHRoZW0gYWJvdmVcblx0XHRcdGlmICggdGhpcyAhPT0gZWxlbSB8fCBldmVudC5pc1NpbXVsYXRlZCB8fCBldmVudC5pc1RyaWdnZXIgfHwgKGVsZW0udHlwZSAhPT0gXCJyYWRpb1wiICYmIGVsZW0udHlwZSAhPT0gXCJjaGVja2JveFwiKSApIHtcblx0XHRcdFx0cmV0dXJuIGV2ZW50LmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgXCIuX2NoYW5nZVwiICk7XG5cblx0XHRcdHJldHVybiAhcmZvcm1FbGVtcy50ZXN0KCB0aGlzLm5vZGVOYW1lICk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBDcmVhdGUgXCJidWJibGluZ1wiIGZvY3VzIGFuZCBibHVyIGV2ZW50c1xuaWYgKCAhc3VwcG9ydC5mb2N1c2luQnViYmxlcyApIHtcblx0alF1ZXJ5LmVhY2goeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXG5cdFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSwgdHJ1ZSApO1xuXHRcdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0galF1ZXJ5Ll9kYXRhKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0alF1ZXJ5Ll9kYXRhKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBqUXVlcnkuX2RhdGEoIGRvYywgZml4ICkgLSAxO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdFx0alF1ZXJ5Ll9yZW1vdmVEYXRhKCBkb2MsIGZpeCApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGpRdWVyeS5fZGF0YSggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAvKklOVEVSTkFMKi8gb25lICkge1xuXHRcdHZhciB0eXBlLCBvcmlnRm47XG5cblx0XHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0Ly8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuXHRcdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9uKCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXHRcdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRcdGZuID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0XHRvcmlnRm4gPSBmbjtcblx0XHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cblx0XHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH07XG5cdFx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHRcdH0pO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgPyBoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOiBoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9KTtcblx0fSxcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9KTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1swXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNhZmVGcmFnbWVudCggZG9jdW1lbnQgKSB7XG5cdHZhciBsaXN0ID0gbm9kZU5hbWVzLnNwbGl0KCBcInxcIiApLFxuXHRcdHNhZmVGcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG5cdGlmICggc2FmZUZyYWcuY3JlYXRlRWxlbWVudCApIHtcblx0XHR3aGlsZSAoIGxpc3QubGVuZ3RoICkge1xuXHRcdFx0c2FmZUZyYWcuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0bGlzdC5wb3AoKVxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHNhZmVGcmFnO1xufVxuXG52YXIgbm9kZU5hbWVzID0gXCJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfFwiICtcblx0XHRcImhlYWRlcnxoZ3JvdXB8bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHByb2dyZXNzfHNlY3Rpb258c3VtbWFyeXx0aW1lfHZpZGVvXCIsXG5cdHJpbmxpbmVqUXVlcnkgPSAvIGpRdWVyeVxcZCs9XCIoPzpudWxsfFxcZCspXCIvZyxcblx0cm5vc2hpbWNhY2hlID0gbmV3IFJlZ0V4cChcIjwoPzpcIiArIG5vZGVOYW1lcyArIFwiKVtcXFxccy8+XVwiLCBcImlcIiksXG5cdHJsZWFkaW5nV2hpdGVzcGFjZSA9IC9eXFxzKy8sXG5cdHJ4aHRtbFRhZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naSxcblx0cnRhZ05hbWUgPSAvPChbXFx3Ol0rKS8sXG5cdHJ0Ym9keSA9IC88dGJvZHkvaSxcblx0cmh0bWwgPSAvPHwmIz9cXHcrOy8sXG5cdHJub0lubmVyaHRtbCA9IC88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksXG5cdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRyY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXG5cdHJzY3JpcHRUeXBlID0gL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxcblx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nLFxuXG5cdC8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG5cdHdyYXBNYXAgPSB7XG5cdFx0b3B0aW9uOiBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF0sXG5cdFx0bGVnZW5kOiBbIDEsIFwiPGZpZWxkc2V0PlwiLCBcIjwvZmllbGRzZXQ+XCIgXSxcblx0XHRhcmVhOiBbIDEsIFwiPG1hcD5cIiwgXCI8L21hcD5cIiBdLFxuXHRcdHBhcmFtOiBbIDEsIFwiPG9iamVjdD5cIiwgXCI8L29iamVjdD5cIiBdLFxuXHRcdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0XHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdFx0Y29sOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcblx0XHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cblx0XHQvLyBJRTYtOCBjYW4ndCBzZXJpYWxpemUgbGluaywgc2NyaXB0LCBzdHlsZSwgb3IgYW55IGh0bWw1IChOb1Njb3BlKSB0YWdzLFxuXHRcdC8vIHVubGVzcyB3cmFwcGVkIGluIGEgZGl2IHdpdGggbm9uLWJyZWFraW5nIGNoYXJhY3RlcnMgaW4gZnJvbnQgb2YgaXQuXG5cdFx0X2RlZmF1bHQ6IHN1cHBvcnQuaHRtbFNlcmlhbGl6ZSA/IFsgMCwgXCJcIiwgXCJcIiBdIDogWyAxLCBcIlg8ZGl2PlwiLCBcIjwvZGl2PlwiICBdXG5cdH0sXG5cdHNhZmVGcmFnbWVudCA9IGNyZWF0ZVNhZmVGcmFnbWVudCggZG9jdW1lbnQgKSxcblx0ZnJhZ21lbnREaXYgPSBzYWZlRnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgKTtcblxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5mdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHtcblx0dmFyIGVsZW1zLCBlbGVtLFxuXHRcdGkgPSAwLFxuXHRcdGZvdW5kID0gdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IHN0cnVuZGVmaW5lZCA/IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IHN0cnVuZGVmaW5lZCA/IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdGlmICggIWZvdW5kICkge1xuXHRcdGZvciAoIGZvdW5kID0gW10sIGVsZW1zID0gY29udGV4dC5jaGlsZE5vZGVzIHx8IGNvbnRleHQ7IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggIXRhZyB8fCBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIHRhZyApICkge1xuXHRcdFx0XHRmb3VuZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIGZvdW5kLCBnZXRBbGwoIGVsZW0sIHRhZyApICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBqUXVlcnkubm9kZU5hbWUoIGNvbnRleHQsIHRhZyApID9cblx0XHRqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCBmb3VuZCApIDpcblx0XHRmb3VuZDtcbn1cblxuLy8gVXNlZCBpbiBidWlsZEZyYWdtZW50LCBmaXhlcyB0aGUgZGVmYXVsdENoZWNrZWQgcHJvcGVydHlcbmZ1bmN0aW9uIGZpeERlZmF1bHRDaGVja2VkKCBlbGVtICkge1xuXHRpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsZW0udHlwZSApICkge1xuXHRcdGVsZW0uZGVmYXVsdENoZWNrZWQgPSBlbGVtLmNoZWNrZWQ7XG5cdH1cbn1cblxuLy8gU3VwcG9ydDogSUU8OFxuLy8gTWFuaXB1bGF0aW5nIHRhYmxlcyByZXF1aXJlcyBhIHRib2R5XG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0alF1ZXJ5Lm5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApID9cblxuXHRcdGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXSB8fFxuXHRcdFx0ZWxlbS5hcHBlbmRDaGlsZCggZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSApIDpcblx0XHRlbGVtO1xufVxuXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xuXHRlbGVtLnR5cGUgPSAoalF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ0eXBlXCIgKSAhPT0gbnVsbCkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0cmV0dXJuIGVsZW07XG59XG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHR2YXIgbWF0Y2ggPSByc2NyaXB0VHlwZU1hc2tlZC5leGVjKCBlbGVtLnR5cGUgKTtcblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsxXTtcblx0fSBlbHNlIHtcblx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIik7XG5cdH1cblx0cmV0dXJuIGVsZW07XG59XG5cbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRpID0gMDtcblx0Zm9yICggOyAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0alF1ZXJ5Ll9kYXRhKCBlbGVtLCBcImdsb2JhbEV2YWxcIiwgIXJlZkVsZW1lbnRzIHx8IGpRdWVyeS5fZGF0YSggcmVmRWxlbWVudHNbaV0sIFwiZ2xvYmFsRXZhbFwiICkgKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkge1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSB8fCAhalF1ZXJ5Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciB0eXBlLCBpLCBsLFxuXHRcdG9sZERhdGEgPSBqUXVlcnkuX2RhdGEoIHNyYyApLFxuXHRcdGN1ckRhdGEgPSBqUXVlcnkuX2RhdGEoIGRlc3QsIG9sZERhdGEgKSxcblx0XHRldmVudHMgPSBvbGREYXRhLmV2ZW50cztcblxuXHRpZiAoIGV2ZW50cyApIHtcblx0XHRkZWxldGUgY3VyRGF0YS5oYW5kbGU7XG5cdFx0Y3VyRGF0YS5ldmVudHMgPSB7fTtcblxuXHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBtYWtlIHRoZSBjbG9uZWQgcHVibGljIGRhdGEgb2JqZWN0IGEgY29weSBmcm9tIHRoZSBvcmlnaW5hbFxuXHRpZiAoIGN1ckRhdGEuZGF0YSApIHtcblx0XHRjdXJEYXRhLmRhdGEgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgY3VyRGF0YS5kYXRhICk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZml4Q2xvbmVOb2RlSXNzdWVzKCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSwgZSwgZGF0YTtcblxuXHQvLyBXZSBkbyBub3QgbmVlZCB0byBkbyBhbnl0aGluZyBmb3Igbm9uLUVsZW1lbnRzXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBJRTYtOCBjb3BpZXMgZXZlbnRzIGJvdW5kIHZpYSBhdHRhY2hFdmVudCB3aGVuIHVzaW5nIGNsb25lTm9kZS5cblx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lRXZlbnQgJiYgZGVzdFsgalF1ZXJ5LmV4cGFuZG8gXSApIHtcblx0XHRkYXRhID0galF1ZXJ5Ll9kYXRhKCBkZXN0ICk7XG5cblx0XHRmb3IgKCBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBkZXN0LCBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdH1cblxuXHRcdC8vIEV2ZW50IGRhdGEgZ2V0cyByZWZlcmVuY2VkIGluc3RlYWQgb2YgY29waWVkIGlmIHRoZSBleHBhbmRvIGdldHMgY29waWVkIHRvb1xuXHRcdGRlc3QucmVtb3ZlQXR0cmlidXRlKCBqUXVlcnkuZXhwYW5kbyApO1xuXHR9XG5cblx0Ly8gSUUgYmxhbmtzIGNvbnRlbnRzIHdoZW4gY2xvbmluZyBzY3JpcHRzLCBhbmQgdHJpZXMgdG8gZXZhbHVhdGUgbmV3bHktc2V0IHRleHRcblx0aWYgKCBub2RlTmFtZSA9PT0gXCJzY3JpcHRcIiAmJiBkZXN0LnRleHQgIT09IHNyYy50ZXh0ICkge1xuXHRcdGRpc2FibGVTY3JpcHQoIGRlc3QgKS50ZXh0ID0gc3JjLnRleHQ7XG5cdFx0cmVzdG9yZVNjcmlwdCggZGVzdCApO1xuXG5cdC8vIElFNi0xMCBpbXByb3Blcmx5IGNsb25lcyBjaGlsZHJlbiBvZiBvYmplY3QgZWxlbWVudHMgdXNpbmcgY2xhc3NpZC5cblx0Ly8gSUUxMCB0aHJvd3MgTm9Nb2RpZmljYXRpb25BbGxvd2VkRXJyb3IgaWYgcGFyZW50IGlzIG51bGwsICMxMjEzMi5cblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0aWYgKCBkZXN0LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRkZXN0Lm91dGVySFRNTCA9IHNyYy5vdXRlckhUTUw7XG5cdFx0fVxuXG5cdFx0Ly8gVGhpcyBwYXRoIGFwcGVhcnMgdW5hdm9pZGFibGUgZm9yIElFOS4gV2hlbiBjbG9uaW5nIGFuIG9iamVjdFxuXHRcdC8vIGVsZW1lbnQgaW4gSUU5LCB0aGUgb3V0ZXJIVE1MIHN0cmF0ZWd5IGFib3ZlIGlzIG5vdCBzdWZmaWNpZW50LlxuXHRcdC8vIElmIHRoZSBzcmMgaGFzIGlubmVySFRNTCBhbmQgdGhlIGRlc3RpbmF0aW9uIGRvZXMgbm90LFxuXHRcdC8vIGNvcHkgdGhlIHNyYy5pbm5lckhUTUwgaW50byB0aGUgZGVzdC5pbm5lckhUTUwuICMxMDMyNFxuXHRcdGlmICggc3VwcG9ydC5odG1sNUNsb25lICYmICggc3JjLmlubmVySFRNTCAmJiAhalF1ZXJ5LnRyaW0oZGVzdC5pbm5lckhUTUwpICkgKSB7XG5cdFx0XHRkZXN0LmlubmVySFRNTCA9IHNyYy5pbm5lckhUTUw7XG5cdFx0fVxuXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdCggc3JjLnR5cGUgKSApIHtcblx0XHQvLyBJRTYtOCBmYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94XG5cdFx0Ly8gb3IgcmFkaW8gYnV0dG9uLiBXb3JzZSwgSUU2LTcgZmFpbCB0byBnaXZlIHRoZSBjbG9uZWQgZWxlbWVudFxuXHRcdC8vIGEgY2hlY2tlZCBhcHBlYXJhbmNlIGlmIHRoZSBkZWZhdWx0Q2hlY2tlZCB2YWx1ZSBpc24ndCBhbHNvIHNldFxuXG5cdFx0ZGVzdC5kZWZhdWx0Q2hlY2tlZCA9IGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdFx0Ly8gSUU2LTcgZ2V0IGNvbmZ1c2VkIGFuZCBlbmQgdXAgc2V0dGluZyB0aGUgdmFsdWUgb2YgYSBjbG9uZWRcblx0XHQvLyBjaGVja2JveC9yYWRpbyBidXR0b24gdG8gYW4gZW1wdHkgc3RyaW5nIGluc3RlYWQgb2YgXCJvblwiXG5cdFx0aWYgKCBkZXN0LnZhbHVlICE9PSBzcmMudmFsdWUgKSB7XG5cdFx0XHRkZXN0LnZhbHVlID0gc3JjLnZhbHVlO1xuXHRcdH1cblxuXHQvLyBJRTYtOCBmYWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3RlZFxuXHQvLyBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9uc1xuXHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJvcHRpb25cIiApIHtcblx0XHRkZXN0LmRlZmF1bHRTZWxlY3RlZCA9IGRlc3Quc2VsZWN0ZWQgPSBzcmMuZGVmYXVsdFNlbGVjdGVkO1xuXG5cdC8vIElFNi04IGZhaWxzIHRvIHNldCB0aGUgZGVmYXVsdFZhbHVlIHRvIHRoZSBjb3JyZWN0IHZhbHVlIHdoZW5cblx0Ly8gY2xvbmluZyBvdGhlciB0eXBlcyBvZiBpbnB1dCBmaWVsZHNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5qUXVlcnkuZXh0ZW5kKHtcblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgZGVzdEVsZW1lbnRzLCBub2RlLCBjbG9uZSwgaSwgc3JjRWxlbWVudHMsXG5cdFx0XHRpblBhZ2UgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0aWYgKCBzdXBwb3J0Lmh0bWw1Q2xvbmUgfHwgalF1ZXJ5LmlzWE1MRG9jKGVsZW0pIHx8ICFybm9zaGltY2FjaGUudGVzdCggXCI8XCIgKyBlbGVtLm5vZGVOYW1lICsgXCI+XCIgKSApIHtcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKTtcblxuXHRcdC8vIElFPD04IGRvZXMgbm90IHByb3Blcmx5IGNsb25lIGRldGFjaGVkLCB1bmtub3duIGVsZW1lbnQgbm9kZXNcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZnJhZ21lbnREaXYuaW5uZXJIVE1MID0gZWxlbS5vdXRlckhUTUw7XG5cdFx0XHRmcmFnbWVudERpdi5yZW1vdmVDaGlsZCggY2xvbmUgPSBmcmFnbWVudERpdi5maXJzdENoaWxkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAoIXN1cHBvcnQubm9DbG9uZUV2ZW50IHx8ICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkKSAmJlxuXHRcdFx0XHQoZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSkgJiYgIWpRdWVyeS5pc1hNTERvYyhlbGVtKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcblx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cblx0XHRcdC8vIEZpeCBhbGwgSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRcdGZvciAoIGkgPSAwOyAobm9kZSA9IHNyY0VsZW1lbnRzW2ldKSAhPSBudWxsOyArK2kgKSB7XG5cdFx0XHRcdC8vIEVuc3VyZSB0aGF0IHRoZSBkZXN0aW5hdGlvbiBub2RlIGlzIG5vdCBudWxsOyBGaXhlcyAjOTU4N1xuXHRcdFx0XHRpZiAoIGRlc3RFbGVtZW50c1tpXSApIHtcblx0XHRcdFx0XHRmaXhDbG9uZU5vZGVJc3N1ZXMoIG5vZGUsIGRlc3RFbGVtZW50c1tpXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDA7IChub2RlID0gc3JjRWxlbWVudHNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggbm9kZSwgZGVzdEVsZW1lbnRzW2ldICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdGRlc3RFbGVtZW50cyA9IHNyY0VsZW1lbnRzID0gbm9kZSA9IG51bGw7XG5cblx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0YnVpbGRGcmFnbWVudDogZnVuY3Rpb24oIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24gKSB7XG5cdFx0dmFyIGosIGVsZW0sIGNvbnRhaW5zLFxuXHRcdFx0dG1wLCB0YWcsIHRib2R5LCB3cmFwLFxuXHRcdFx0bCA9IGVsZW1zLmxlbmd0aCxcblxuXHRcdFx0Ly8gRW5zdXJlIGEgc2FmZSBmcmFnbWVudFxuXHRcdFx0c2FmZSA9IGNyZWF0ZVNhZmVGcmFnbWVudCggY29udGV4dCApLFxuXG5cdFx0XHRub2RlcyA9IFtdLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wIHx8IHNhZmUuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudChcImRpdlwiKSApO1xuXG5cdFx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHRcdHRhZyA9IChydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0pWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblxuXHRcdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWzFdICsgZWxlbS5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKSArIHdyYXBbMl07XG5cblx0XHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0XHRqID0gd3JhcFswXTtcblx0XHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTWFudWFsbHkgYWRkIGxlYWRpbmcgd2hpdGVzcGFjZSByZW1vdmVkIGJ5IElFXG5cdFx0XHRcdFx0aWYgKCAhc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSAmJiBybGVhZGluZ1doaXRlc3BhY2UudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggcmxlYWRpbmdXaGl0ZXNwYWNlLmV4ZWMoIGVsZW0gKVswXSApICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIElFJ3MgYXV0b2luc2VydGVkIDx0Ym9keT4gZnJvbSB0YWJsZSBmcmFnbWVudHNcblx0XHRcdFx0XHRpZiAoICFzdXBwb3J0LnRib2R5ICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdHJpbmcgd2FzIGEgPHRhYmxlPiwgKm1heSogaGF2ZSBzcHVyaW91cyA8dGJvZHk+XG5cdFx0XHRcdFx0XHRlbGVtID0gdGFnID09PSBcInRhYmxlXCIgJiYgIXJ0Ym9keS50ZXN0KCBlbGVtICkgP1xuXHRcdFx0XHRcdFx0XHR0bXAuZmlyc3RDaGlsZCA6XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3RyaW5nIHdhcyBhIGJhcmUgPHRoZWFkPiBvciA8dGZvb3Q+XG5cdFx0XHRcdFx0XHRcdHdyYXBbMV0gPT09IFwiPHRhYmxlPlwiICYmICFydGJvZHkudGVzdCggZWxlbSApID9cblx0XHRcdFx0XHRcdFx0XHR0bXAgOlxuXHRcdFx0XHRcdFx0XHRcdDA7XG5cblx0XHRcdFx0XHRcdGogPSBlbGVtICYmIGVsZW0uY2hpbGROb2Rlcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkubm9kZU5hbWUoICh0Ym9keSA9IGVsZW0uY2hpbGROb2Rlc1tqXSksIFwidGJvZHlcIiApICYmICF0Ym9keS5jaGlsZE5vZGVzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRlbGVtLnJlbW92ZUNoaWxkKCB0Ym9keSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHRcdC8vIEZpeCAjMTIzOTIgZm9yIFdlYktpdCBhbmQgSUUgPiA5XG5cdFx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRcdFx0XHRcdC8vIEZpeCAjMTIzOTIgZm9yIG9sZElFXG5cdFx0XHRcdFx0d2hpbGUgKCB0bXAuZmlyc3RDaGlsZCApIHtcblx0XHRcdFx0XHRcdHRtcC5yZW1vdmVDaGlsZCggdG1wLmZpcnN0Q2hpbGQgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lciBmb3IgcHJvcGVyIGNsZWFudXBcblx0XHRcdFx0XHR0bXAgPSBzYWZlLmxhc3RDaGlsZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpeCAjMTEzNTY6IENsZWFyIGVsZW1lbnRzIGZyb20gZnJhZ21lbnRcblx0XHRpZiAoIHRtcCApIHtcblx0XHRcdHNhZmUucmVtb3ZlQ2hpbGQoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIFJlc2V0IGRlZmF1bHRDaGVja2VkIGZvciBhbnkgcmFkaW9zIGFuZCBjaGVja2JveGVzXG5cdFx0Ly8gYWJvdXQgdG8gYmUgYXBwZW5kZWQgdG8gdGhlIERPTSBpbiBJRSA2LzcgKCM4MDYwKVxuXHRcdGlmICggIXN1cHBvcnQuYXBwZW5kQ2hlY2tlZCApIHtcblx0XHRcdGpRdWVyeS5ncmVwKCBnZXRBbGwoIG5vZGVzLCBcImlucHV0XCIgKSwgZml4RGVmYXVsdENoZWNrZWQgKTtcblx0XHR9XG5cblx0XHRpID0gMDtcblx0XHR3aGlsZSAoIChlbGVtID0gbm9kZXNbIGkrKyBdKSApIHtcblxuXHRcdFx0Ly8gIzQwODcgLSBJZiBvcmlnaW4gYW5kIGRlc3RpbmF0aW9uIGVsZW1lbnRzIGFyZSB0aGUgc2FtZSwgYW5kIHRoaXMgaXNcblx0XHRcdC8vIHRoYXQgZWxlbWVudCwgZG8gbm90IGRvIGFueXRoaW5nXG5cdFx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgIT09IC0xICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHRcdHRtcCA9IGdldEFsbCggc2FmZS5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRcdGlmICggY29udGFpbnMgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG5cdFx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRcdGogPSAwO1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gdG1wWyBqKysgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dG1wID0gbnVsbDtcblxuXHRcdHJldHVybiBzYWZlO1xuXHR9LFxuXG5cdGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zLCAvKiBpbnRlcm5hbCAqLyBhY2NlcHREYXRhICkge1xuXHRcdHZhciBlbGVtLCB0eXBlLCBpZCwgZGF0YSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0aW50ZXJuYWxLZXkgPSBqUXVlcnkuZXhwYW5kbyxcblx0XHRcdGNhY2hlID0galF1ZXJ5LmNhY2hlLFxuXHRcdFx0ZGVsZXRlRXhwYW5kbyA9IHN1cHBvcnQuZGVsZXRlRXhwYW5kbyxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbDtcblxuXHRcdGZvciAoIDsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhIHx8IGpRdWVyeS5hY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0aWQgPSBlbGVtWyBpbnRlcm5hbEtleSBdO1xuXHRcdFx0XHRkYXRhID0gaWQgJiYgY2FjaGVbIGlkIF07XG5cblx0XHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFJlbW92ZSBjYWNoZSBvbmx5IGlmIGl0IHdhcyBub3QgYWxyZWFkeSByZW1vdmVkIGJ5IGpRdWVyeS5ldmVudC5yZW1vdmVcblx0XHRcdFx0XHRpZiAoIGNhY2hlWyBpZCBdICkge1xuXG5cdFx0XHRcdFx0XHRkZWxldGUgY2FjaGVbIGlkIF07XG5cblx0XHRcdFx0XHRcdC8vIElFIGRvZXMgbm90IGFsbG93IHVzIHRvIGRlbGV0ZSBleHBhbmRvIHByb3BlcnRpZXMgZnJvbSBub2Rlcyxcblx0XHRcdFx0XHRcdC8vIG5vciBkb2VzIGl0IGhhdmUgYSByZW1vdmVBdHRyaWJ1dGUgZnVuY3Rpb24gb24gRG9jdW1lbnQgbm9kZXM7XG5cdFx0XHRcdFx0XHQvLyB3ZSBtdXN0IGhhbmRsZSBhbGwgb2YgdGhlc2UgY2FzZXNcblx0XHRcdFx0XHRcdGlmICggZGVsZXRlRXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdFx0ZGVsZXRlIGVsZW1bIGludGVybmFsS2V5IF07XG5cblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiBlbGVtLnJlbW92ZUF0dHJpYnV0ZSAhPT0gc3RydW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggaW50ZXJuYWxLZXkgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZWxlbVsgaW50ZXJuYWxLZXkgXSA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGRlbGV0ZWRJZHMucHVzaCggaWQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoICggdGhpc1swXSAmJiB0aGlzWzBdLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKS5jcmVhdGVUZXh0Tm9kZSggdmFsdWUgKSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdHByZXBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tTWFuaXAoIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdHJlbW92ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCBrZWVwRGF0YSAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdGVsZW1zID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgdGhpcyApIDogdGhpcyxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cblx0XHRcdGlmICggIWtlZXBEYXRhICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSApICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKGVsZW0gPSB0aGlzW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RDaGlsZCApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVDaGlsZCggZWxlbS5maXJzdENoaWxkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBzZWxlY3QsIGVuc3VyZSB0aGF0IGl0IGRpc3BsYXlzIGVtcHR5ICgjMTIzMzYpXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0XHRpZiAoIGVsZW0ub3B0aW9ucyAmJiBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwic2VsZWN0XCIgKSApIHtcblx0XHRcdFx0ZWxlbS5vcHRpb25zLmxlbmd0aCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxID9cblx0XHRcdFx0XHRlbGVtLmlubmVySFRNTC5yZXBsYWNlKCByaW5saW5lalF1ZXJ5LCBcIlwiICkgOlxuXHRcdFx0XHRcdHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCggc3VwcG9ydC5odG1sU2VyaWFsaXplIHx8ICFybm9zaGltY2FjaGUudGVzdCggdmFsdWUgKSAgKSAmJlxuXHRcdFx0XHQoIHN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UgfHwgIXJsZWFkaW5nV2hpdGVzcGFjZS50ZXN0KCB2YWx1ZSApICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbIChydGFnTmFtZS5leGVjKCB2YWx1ZSApIHx8IFsgXCJcIiwgXCJcIiBdKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoIHJ4aHRtbFRhZywgXCI8JDE+PC8kMj5cIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGVsZW0gPSB0aGlzW2ldIHx8IHt9O1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtID0gMDtcblxuXHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0fSBjYXRjaChlKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1sgMCBdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0dGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGFyZyA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblxuXHRcdFx0aWYgKCBhcmcgKSB7XG5cdFx0XHRcdGFyZy5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEZvcmNlIHJlbW92YWwgaWYgdGhlcmUgd2FzIG5vIG5ldyBjb250ZW50IChlLmcuLCBmcm9tIGVtcHR5IGFyZ3VtZW50cylcblx0XHRyZXR1cm4gYXJnICYmIChhcmcubGVuZ3RoIHx8IGFyZy5ub2RlVHlwZSkgPyB0aGlzIDogdGhpcy5yZW1vdmUoKTtcblx0fSxcblxuXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5yZW1vdmUoIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0ZG9tTWFuaXA6IGZ1bmN0aW9uKCBhcmdzLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXG5cdFx0dmFyIGZpcnN0LCBub2RlLCBoYXNTY3JpcHRzLFxuXHRcdFx0c2NyaXB0cywgZG9jLCBmcmFnbWVudCxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2V0ID0gdGhpcyxcblx0XHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0XHR2YWx1ZSA9IGFyZ3NbMF0sXG5cdFx0XHRpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHQvLyBXZSBjYW4ndCBjbG9uZU5vZGUgZnJhZ21lbnRzIHRoYXQgY29udGFpbiBjaGVja2VkLCBpbiBXZWJLaXRcblx0XHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0XHQhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QoIHZhbHVlICkgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0XHR2YXIgc2VsZiA9IHNldC5lcSggaW5kZXggKTtcblx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHRcdGFyZ3NbMF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLmRvbU1hbmlwKCBhcmdzLCBjYWxsYmFjayApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCBsICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBqUXVlcnkuYnVpbGRGcmFnbWVudCggYXJncywgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCB0aGlzICk7XG5cdFx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdGlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZmlyc3QgKSB7XG5cdFx0XHRcdHNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCBcInNjcmlwdFwiICksIGRpc2FibGVTY3JpcHQgKTtcblx0XHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW0gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG5cdFx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cblx0XHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG5cdFx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKCB0aGlzW2ldLCBub2RlLCBpICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHRcdC8vIFJlZW5hYmxlIHNjcmlwdHNcblx0XHRcdFx0XHRqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7XG5cblx0XHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gc2NyaXB0c1sgaSBdO1xuXHRcdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHRcdCFqUXVlcnkuX2RhdGEoIG5vZGUsIFwiZ2xvYmFsRXZhbFwiICkgJiYgalF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCAoIG5vZGUudGV4dCB8fCBub2RlLnRleHRDb250ZW50IHx8IG5vZGUuaW5uZXJIVE1MIHx8IFwiXCIgKS5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRml4ICMxMTgwOTogQXZvaWQgbGVha2luZyBtZW1vcnlcblx0XHRcdFx0ZnJhZ21lbnQgPSBmaXJzdCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZWFjaCh7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRpID0gMCxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKHRydWUpO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbaV0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gTW9kZXJuIGJyb3dzZXJzIGNhbiBhcHBseSBqUXVlcnkgY29sbGVjdGlvbnMgYXMgYXJyYXlzLCBidXQgb2xkSUUgbmVlZHMgYSAuZ2V0KClcblx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHR9O1xufSk7XG5cblxudmFyIGlmcmFtZSxcblx0ZWxlbWRpc3BsYXkgPSB7fTtcblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgYWN0dWFsIGRpc3BsYXkgb2YgYSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBub2RlTmFtZSBvZiB0aGUgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IGRvYyBEb2N1bWVudCBvYmplY3RcbiAqL1xuLy8gQ2FsbGVkIG9ubHkgZnJvbSB3aXRoaW4gZGVmYXVsdERpc3BsYXlcbmZ1bmN0aW9uIGFjdHVhbERpc3BsYXkoIG5hbWUsIGRvYyApIHtcblx0dmFyIHN0eWxlLFxuXHRcdGVsZW0gPSBqUXVlcnkoIGRvYy5jcmVhdGVFbGVtZW50KCBuYW1lICkgKS5hcHBlbmRUbyggZG9jLmJvZHkgKSxcblxuXHRcdC8vIGdldERlZmF1bHRDb21wdXRlZFN0eWxlIG1pZ2h0IGJlIHJlbGlhYmx5IHVzZWQgb25seSBvbiBhdHRhY2hlZCBlbGVtZW50XG5cdFx0ZGlzcGxheSA9IHdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSAmJiAoIHN0eWxlID0gd2luZG93LmdldERlZmF1bHRDb21wdXRlZFN0eWxlKCBlbGVtWyAwIF0gKSApID9cblxuXHRcdFx0Ly8gVXNlIG9mIHRoaXMgbWV0aG9kIGlzIGEgdGVtcG9yYXJ5IGZpeCAobW9yZSBsaWtlIG9wdG1pemF0aW9uKSB1bnRpbCBzb21ldGhpbmcgYmV0dGVyIGNvbWVzIGFsb25nLFxuXHRcdFx0Ly8gc2luY2UgaXQgd2FzIHJlbW92ZWQgZnJvbSBzcGVjaWZpY2F0aW9uIGFuZCBzdXBwb3J0ZWQgb25seSBpbiBGRlxuXHRcdFx0c3R5bGUuZGlzcGxheSA6IGpRdWVyeS5jc3MoIGVsZW1bIDAgXSwgXCJkaXNwbGF5XCIgKTtcblxuXHQvLyBXZSBkb24ndCBoYXZlIGFueSBkYXRhIHN0b3JlZCBvbiB0aGUgZWxlbWVudCxcblx0Ly8gc28gdXNlIFwiZGV0YWNoXCIgbWV0aG9kIGFzIGZhc3Qgd2F5IHRvIGdldCByaWQgb2YgdGhlIGVsZW1lbnRcblx0ZWxlbS5kZXRhY2goKTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuLyoqXG4gKiBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBkZWZhdWx0IGRpc3BsYXkgdmFsdWUgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IG5vZGVOYW1lXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHREaXNwbGF5KCBub2RlTmFtZSApIHtcblx0dmFyIGRvYyA9IGRvY3VtZW50LFxuXHRcdGRpc3BsYXkgPSBlbGVtZGlzcGxheVsgbm9kZU5hbWUgXTtcblxuXHRpZiAoICFkaXNwbGF5ICkge1xuXHRcdGRpc3BsYXkgPSBhY3R1YWxEaXNwbGF5KCBub2RlTmFtZSwgZG9jICk7XG5cblx0XHQvLyBJZiB0aGUgc2ltcGxlIHdheSBmYWlscywgcmVhZCBmcm9tIGluc2lkZSBhbiBpZnJhbWVcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiIHx8ICFkaXNwbGF5ICkge1xuXG5cdFx0XHQvLyBVc2UgdGhlIGFscmVhZHktY3JlYXRlZCBpZnJhbWUgaWYgcG9zc2libGVcblx0XHRcdGlmcmFtZSA9IChpZnJhbWUgfHwgalF1ZXJ5KCBcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIiApKS5hcHBlbmRUbyggZG9jLmRvY3VtZW50RWxlbWVudCApO1xuXG5cdFx0XHQvLyBBbHdheXMgd3JpdGUgYSBuZXcgSFRNTCBza2VsZXRvbiBzbyBXZWJraXQgYW5kIEZpcmVmb3ggZG9uJ3QgY2hva2Ugb24gcmV1c2Vcblx0XHRcdGRvYyA9ICggaWZyYW1lWyAwIF0uY29udGVudFdpbmRvdyB8fCBpZnJhbWVbIDAgXS5jb250ZW50RG9jdW1lbnQgKS5kb2N1bWVudDtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUVcblx0XHRcdGRvYy53cml0ZSgpO1xuXHRcdFx0ZG9jLmNsb3NlKCk7XG5cblx0XHRcdGRpc3BsYXkgPSBhY3R1YWxEaXNwbGF5KCBub2RlTmFtZSwgZG9jICk7XG5cdFx0XHRpZnJhbWUuZGV0YWNoKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdGhlIGNvcnJlY3QgZGVmYXVsdCBkaXNwbGF5XG5cdFx0ZWxlbWRpc3BsYXlbIG5vZGVOYW1lIF0gPSBkaXNwbGF5O1xuXHR9XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG5cblxuKGZ1bmN0aW9uKCkge1xuXHR2YXIgc2hyaW5rV3JhcEJsb2Nrc1ZhbDtcblxuXHRzdXBwb3J0LnNocmlua1dyYXBCbG9ja3MgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHNocmlua1dyYXBCbG9ja3NWYWwgIT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBzaHJpbmtXcmFwQmxvY2tzVmFsO1xuXHRcdH1cblxuXHRcdC8vIFdpbGwgYmUgY2hhbmdlZCBsYXRlciBpZiBuZWVkZWQuXG5cdFx0c2hyaW5rV3JhcEJsb2Nrc1ZhbCA9IGZhbHNlO1xuXG5cdFx0Ly8gTWluaWZpZWQ6IHZhciBiLGMsZFxuXHRcdHZhciBkaXYsIGJvZHksIGNvbnRhaW5lcjtcblxuXHRcdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJib2R5XCIgKVsgMCBdO1xuXHRcdGlmICggIWJvZHkgfHwgIWJvZHkuc3R5bGUgKSB7XG5cdFx0XHQvLyBUZXN0IGZpcmVkIHRvbyBlYXJseSBvciBpbiBhbiB1bnN1cHBvcnRlZCBlbnZpcm9ubWVudCwgZXhpdC5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTZXR1cFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCI7XG5cdFx0Ym9keS5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUU2XG5cdFx0Ly8gQ2hlY2sgaWYgZWxlbWVudHMgd2l0aCBsYXlvdXQgc2hyaW5rLXdyYXAgdGhlaXIgY2hpbGRyZW5cblx0XHRpZiAoIHR5cGVvZiBkaXYuc3R5bGUuem9vbSAhPT0gc3RydW5kZWZpbmVkICkge1xuXHRcdFx0Ly8gUmVzZXQgQ1NTOiBib3gtc2l6aW5nOyBkaXNwbGF5OyBtYXJnaW47IGJvcmRlclxuXHRcdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuXHRcdFx0XHQvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcblx0XHRcdFx0XCItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O1wiICtcblx0XHRcdFx0XCJib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7XCIgK1xuXHRcdFx0XHRcInBhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjFcIjtcblx0XHRcdGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICkuc3R5bGUud2lkdGggPSBcIjVweFwiO1xuXHRcdFx0c2hyaW5rV3JhcEJsb2Nrc1ZhbCA9IGRpdi5vZmZzZXRXaWR0aCAhPT0gMztcblx0XHR9XG5cblx0XHRib2R5LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdHJldHVybiBzaHJpbmtXcmFwQmxvY2tzVmFsO1xuXHR9O1xuXG59KSgpO1xudmFyIHJtYXJnaW4gPSAoL15tYXJnaW4vKTtcblxudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG5cblxudmFyIGdldFN0eWxlcywgY3VyQ1NTLFxuXHRycG9zaXRpb24gPSAvXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87XG5cbmlmICggd2luZG93LmdldENvbXB1dGVkU3R5bGUgKSB7XG5cdGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdC8vIFN1cHBvcnQ6IElFPD0xMSssIEZpcmVmb3g8PTMwKyAoIzE1MDk4LCAjMTQxNTApXG5cdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0Ly8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG5cdFx0aWYgKCBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcub3BlbmVyICkge1xuXHRcdFx0cmV0dXJuIGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtLCBudWxsICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtLCBudWxsICk7XG5cdH07XG5cblx0Y3VyQ1NTID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuXHRcdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHRjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuXG5cdFx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgaW4gSUU5LCBzZWUgIzEyNTM3XG5cdFx0cmV0ID0gY29tcHV0ZWQgPyBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXSA6IHVuZGVmaW5lZDtcblxuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdFx0Ly8gQ2hyb21lIDwgMTcgYW5kIFNhZmFyaSA1LjAgdXNlcyBcImNvbXB1dGVkIHZhbHVlXCIgaW5zdGVhZCBvZiBcInVzZWQgdmFsdWVcIiBmb3IgbWFyZ2luLXJpZ2h0XG5cdFx0XHQvLyBTYWZhcmkgNS4xLjcgKGF0IGxlYXN0KSByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIGEgbGFyZ2VyIHNldCBvZiB2YWx1ZXMsIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHNcblx0XHRcdC8vIHRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzogaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3Nzb20vI3Jlc29sdmVkLXZhbHVlc1xuXHRcdFx0aWYgKCBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcm1hcmdpbi50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXHRcdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0XHRtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xuXG5cdFx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0XHRyZXQgPSBjb21wdXRlZC53aWR0aDtcblxuXHRcdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUVcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldHVybiByZXQgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRyZXQgOlxuXHRcdFx0cmV0ICsgXCJcIjtcblx0fTtcbn0gZWxzZSBpZiAoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUgKSB7XG5cdGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLmN1cnJlbnRTdHlsZTtcblx0fTtcblxuXHRjdXJDU1MgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdFx0dmFyIGxlZnQsIHJzLCByc0xlZnQsIHJldCxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0cmV0ID0gY29tcHV0ZWQgPyBjb21wdXRlZFsgbmFtZSBdIDogdW5kZWZpbmVkO1xuXG5cdFx0Ly8gQXZvaWQgc2V0dGluZyByZXQgdG8gZW1wdHkgc3RyaW5nIGhlcmVcblx0XHQvLyBzbyB3ZSBkb24ndCBkZWZhdWx0IHRvIGF1dG9cblx0XHRpZiAoIHJldCA9PSBudWxsICYmIHN0eWxlICYmIHN0eWxlWyBuYW1lIF0gKSB7XG5cdFx0XHRyZXQgPSBzdHlsZVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIEZyb20gdGhlIGF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcblx0XHQvLyBodHRwOi8vZXJpay5lYWUubmV0L2FyY2hpdmVzLzIwMDcvMDcvMjcvMTguNTQuMTUvI2NvbW1lbnQtMTAyMjkxXG5cblx0XHQvLyBJZiB3ZSdyZSBub3QgZGVhbGluZyB3aXRoIGEgcmVndWxhciBwaXhlbCBudW1iZXJcblx0XHQvLyBidXQgYSBudW1iZXIgdGhhdCBoYXMgYSB3ZWlyZCBlbmRpbmcsIHdlIG5lZWQgdG8gY29udmVydCBpdCB0byBwaXhlbHNcblx0XHQvLyBidXQgbm90IHBvc2l0aW9uIGNzcyBhdHRyaWJ1dGVzLCBhcyB0aG9zZSBhcmUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwYXJlbnQgZWxlbWVudCBpbnN0ZWFkXG5cdFx0Ly8gYW5kIHdlIGNhbid0IG1lYXN1cmUgdGhlIHBhcmVudCBpbnN0ZWFkIGJlY2F1c2UgaXQgbWlnaHQgdHJpZ2dlciBhIFwic3RhY2tpbmcgZG9sbHNcIiBwcm9ibGVtXG5cdFx0aWYgKCBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgIXJwb3NpdGlvbi50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdGxlZnQgPSBzdHlsZS5sZWZ0O1xuXHRcdFx0cnMgPSBlbGVtLnJ1bnRpbWVTdHlsZTtcblx0XHRcdHJzTGVmdCA9IHJzICYmIHJzLmxlZnQ7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdGlmICggcnNMZWZ0ICkge1xuXHRcdFx0XHRycy5sZWZ0ID0gZWxlbS5jdXJyZW50U3R5bGUubGVmdDtcblx0XHRcdH1cblx0XHRcdHN0eWxlLmxlZnQgPSBuYW1lID09PSBcImZvbnRTaXplXCIgPyBcIjFlbVwiIDogcmV0O1xuXHRcdFx0cmV0ID0gc3R5bGUucGl4ZWxMZWZ0ICsgXCJweFwiO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS5sZWZ0ID0gbGVmdDtcblx0XHRcdGlmICggcnNMZWZ0ICkge1xuXHRcdFx0XHRycy5sZWZ0ID0gcnNMZWZ0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFXG5cdFx0Ly8gSUUgcmV0dXJucyB6SW5kZXggdmFsdWUgYXMgYW4gaW50ZWdlci5cblx0XHRyZXR1cm4gcmV0ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0cmV0IDpcblx0XHRcdHJldCArIFwiXCIgfHwgXCJhdXRvXCI7XG5cdH07XG59XG5cblxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNvbmRpdGlvbiA9IGNvbmRpdGlvbkZuKCk7XG5cblx0XHRcdGlmICggY29uZGl0aW9uID09IG51bGwgKSB7XG5cdFx0XHRcdC8vIFRoZSB0ZXN0IHdhcyBub3QgcmVhZHkgYXQgdGhpcyBwb2ludDsgc2NyZXcgdGhlIGhvb2sgdGhpcyB0aW1lXG5cdFx0XHRcdC8vIGJ1dCBjaGVjayBhZ2FpbiB3aGVuIG5lZWRlZCBuZXh0IHRpbWUuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBjb25kaXRpb24gKSB7XG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZSB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLFxuXHRcdFx0XHQvLyByZW1vdmUgaXQuXG5cdFx0XHRcdC8vIFNpbmNlIHRoZXJlIGFyZSBubyBvdGhlciBob29rcyBmb3IgbWFyZ2luUmlnaHQsIHJlbW92ZSB0aGUgd2hvbGUgb2JqZWN0LlxuXHRcdFx0XHRkZWxldGUgdGhpcy5nZXQ7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXG5cblx0XHRcdHJldHVybiAodGhpcy5nZXQgPSBob29rRm4pLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdH07XG59XG5cblxuKGZ1bmN0aW9uKCkge1xuXHQvLyBNaW5pZmllZDogdmFyIGIsYyxkLGUsZixnLCBoLGlcblx0dmFyIGRpdiwgc3R5bGUsIGEsIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLFxuXHRcdHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbCwgcmVsaWFibGVNYXJnaW5SaWdodFZhbDtcblxuXHQvLyBTZXR1cFxuXHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cdGRpdi5pbm5lckhUTUwgPSBcIiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPlwiO1xuXHRhID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcImFcIiApWyAwIF07XG5cdHN0eWxlID0gYSAmJiBhLnN0eWxlO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIXN0eWxlICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHN0eWxlLmNzc1RleHQgPSBcImZsb2F0OmxlZnQ7b3BhY2l0eTouNVwiO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0Ly8gTWFrZSBzdXJlIHRoYXQgZWxlbWVudCBvcGFjaXR5IGV4aXN0cyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXIpXG5cdHN1cHBvcnQub3BhY2l0eSA9IHN0eWxlLm9wYWNpdHkgPT09IFwiMC41XCI7XG5cblx0Ly8gVmVyaWZ5IHN0eWxlIGZsb2F0IGV4aXN0ZW5jZVxuXHQvLyAoSUUgdXNlcyBzdHlsZUZsb2F0IGluc3RlYWQgb2YgY3NzRmxvYXQpXG5cdHN1cHBvcnQuY3NzRmxvYXQgPSAhIXN0eWxlLmNzc0Zsb2F0O1xuXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHQvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuXHQvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcblx0c3VwcG9ydC5ib3hTaXppbmcgPSBzdHlsZS5ib3hTaXppbmcgPT09IFwiXCIgfHwgc3R5bGUuTW96Qm94U2l6aW5nID09PSBcIlwiIHx8XG5cdFx0c3R5bGUuV2Via2l0Qm94U2l6aW5nID09PSBcIlwiO1xuXG5cdGpRdWVyeS5leHRlbmQoc3VwcG9ydCwge1xuXHRcdHJlbGlhYmxlSGlkZGVuT2Zmc2V0czogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbDtcblx0XHR9LFxuXG5cdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBib3hTaXppbmdSZWxpYWJsZVZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdH0sXG5cblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggcGl4ZWxQb3NpdGlvblZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0fSxcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0cmVsaWFibGVNYXJnaW5SaWdodDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHJlbGlhYmxlTWFyZ2luUmlnaHRWYWwgPT0gbnVsbCApIHtcblx0XHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZWxpYWJsZU1hcmdpblJpZ2h0VmFsO1xuXHRcdH1cblx0fSk7XG5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cdFx0Ly8gTWluaWZpZWQ6IHZhciBiLGMsZCxqXG5cdFx0dmFyIGRpdiwgYm9keSwgY29udGFpbmVyLCBjb250ZW50cztcblxuXHRcdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJib2R5XCIgKVsgMCBdO1xuXHRcdGlmICggIWJvZHkgfHwgIWJvZHkuc3R5bGUgKSB7XG5cdFx0XHQvLyBUZXN0IGZpcmVkIHRvbyBlYXJseSBvciBpbiBhbiB1bnN1cHBvcnRlZCBlbnZpcm9ubWVudCwgZXhpdC5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTZXR1cFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCI7XG5cdFx0Ym9keS5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveDwyOSwgQW5kcm9pZCAyLjNcblx0XHRcdC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xuXHRcdFx0XCItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO1wiICtcblx0XHRcdFwiYm9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGVcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBBc3N1bWUgcmVhc29uYWJsZSB2YWx1ZXMgaW4gdGhlIGFic2VuY2Ugb2YgZ2V0Q29tcHV0ZWRTdHlsZVxuXHRcdHBpeGVsUG9zaXRpb25WYWwgPSBib3hTaXppbmdSZWxpYWJsZVZhbCA9IGZhbHNlO1xuXHRcdHJlbGlhYmxlTWFyZ2luUmlnaHRWYWwgPSB0cnVlO1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIGdldENvbXB1dGVkU3R5bGUgc28gdGhhdCB0aGlzIGNvZGUgaXMgbm90IHJ1biBpbiBJRTw5LlxuXHRcdGlmICggd2luZG93LmdldENvbXB1dGVkU3R5bGUgKSB7XG5cdFx0XHRwaXhlbFBvc2l0aW9uVmFsID0gKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2LCBudWxsICkgfHwge30gKS50b3AgIT09IFwiMSVcIjtcblx0XHRcdGJveFNpemluZ1JlbGlhYmxlVmFsID1cblx0XHRcdFx0KCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2LCBudWxsICkgfHwgeyB3aWR0aDogXCI0cHhcIiB9ICkud2lkdGggPT09IFwiNHB4XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHQvLyBEaXYgd2l0aCBleHBsaWNpdCB3aWR0aCBhbmQgbm8gbWFyZ2luLXJpZ2h0IGluY29ycmVjdGx5XG5cdFx0XHQvLyBnZXRzIGNvbXB1dGVkIG1hcmdpbi1yaWdodCBiYXNlZCBvbiB3aWR0aCBvZiBjb250YWluZXIgKCMzMzMzKVxuXHRcdFx0Ly8gV2ViS2l0IEJ1ZyAxMzM0MyAtIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyB3cm9uZyB2YWx1ZSBmb3IgbWFyZ2luLXJpZ2h0XG5cdFx0XHRjb250ZW50cyA9IGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdC8vIFJlc2V0IENTUzogYm94LXNpemluZzsgZGlzcGxheTsgbWFyZ2luOyBib3JkZXI7IHBhZGRpbmdcblx0XHRcdGNvbnRlbnRzLnN0eWxlLmNzc1RleHQgPSBkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjksIEFuZHJvaWQgMi4zXG5cdFx0XHRcdC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xuXHRcdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7XCIgK1xuXHRcdFx0XHRcImJveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIjtcblx0XHRcdGNvbnRlbnRzLnN0eWxlLm1hcmdpblJpZ2h0ID0gY29udGVudHMuc3R5bGUud2lkdGggPSBcIjBcIjtcblx0XHRcdGRpdi5zdHlsZS53aWR0aCA9IFwiMXB4XCI7XG5cblx0XHRcdHJlbGlhYmxlTWFyZ2luUmlnaHRWYWwgPVxuXHRcdFx0XHQhcGFyc2VGbG9hdCggKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggY29udGVudHMsIG51bGwgKSB8fCB7fSApLm1hcmdpblJpZ2h0ICk7XG5cblx0XHRcdGRpdi5yZW1vdmVDaGlsZCggY29udGVudHMgKTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHQvLyBDaGVjayBpZiB0YWJsZSBjZWxscyBzdGlsbCBoYXZlIG9mZnNldFdpZHRoL0hlaWdodCB3aGVuIHRoZXkgYXJlIHNldFxuXHRcdC8vIHRvIGRpc3BsYXk6bm9uZSBhbmQgdGhlcmUgYXJlIHN0aWxsIG90aGVyIHZpc2libGUgdGFibGUgY2VsbHMgaW4gYVxuXHRcdC8vIHRhYmxlIHJvdzsgaWYgc28sIG9mZnNldFdpZHRoL0hlaWdodCBhcmUgbm90IHJlbGlhYmxlIGZvciB1c2Ugd2hlblxuXHRcdC8vIGRldGVybWluaW5nIGlmIGFuIGVsZW1lbnQgaGFzIGJlZW4gaGlkZGVuIGRpcmVjdGx5IHVzaW5nXG5cdFx0Ly8gZGlzcGxheTpub25lIChpdCBpcyBzdGlsbCBzYWZlIHRvIHVzZSBvZmZzZXRzIGlmIGEgcGFyZW50IGVsZW1lbnQgaXNcblx0XHQvLyBoaWRkZW47IGRvbiBzYWZldHkgZ29nZ2xlcyBhbmQgc2VlIGJ1ZyAjNDUxMiBmb3IgbW9yZSBpbmZvcm1hdGlvbikuXG5cdFx0ZGl2LmlubmVySFRNTCA9IFwiPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPlwiO1xuXHRcdGNvbnRlbnRzID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRkXCIgKTtcblx0XHRjb250ZW50c1sgMCBdLnN0eWxlLmNzc1RleHQgPSBcIm1hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MDtkaXNwbGF5Om5vbmVcIjtcblx0XHRyZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPSBjb250ZW50c1sgMCBdLm9mZnNldEhlaWdodCA9PT0gMDtcblx0XHRpZiAoIHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbCApIHtcblx0XHRcdGNvbnRlbnRzWyAwIF0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRjb250ZW50c1sgMSBdLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbCA9IGNvbnRlbnRzWyAwIF0ub2Zmc2V0SGVpZ2h0ID09PSAwO1xuXHRcdH1cblxuXHRcdGJvZHkucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXHR9XG5cbn0pKCk7XG5cblxuLy8gQSBtZXRob2QgZm9yIHF1aWNrbHkgc3dhcHBpbmcgaW4vb3V0IENTUyBwcm9wZXJ0aWVzIHRvIGdldCBjb3JyZWN0IGNhbGN1bGF0aW9ucy5cbmpRdWVyeS5zd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xuXHR2YXIgcmV0LCBuYW1lLFxuXHRcdG9sZCA9IHt9O1xuXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHR9XG5cblx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxudmFyXG5cdFx0cmFscGhhID0gL2FscGhhXFwoW14pXSpcXCkvaSxcblx0cm9wYWNpdHkgPSAvb3BhY2l0eVxccyo9XFxzKihbXildKikvLFxuXG5cdC8vIHN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGUgZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIHNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cdHJudW1zcGxpdCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoLiopJFwiLCBcImlcIiApLFxuXHRycmVsTnVtID0gbmV3IFJlZ0V4cCggXCJeKFsrLV0pPShcIiArIHBudW0gKyBcIilcIiwgXCJpXCIgKSxcblxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJPXCIsIFwiTW96XCIsIFwibXNcIiBdO1xuXG5cbi8vIHJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBzdHlsZSwgbmFtZSApIHtcblxuXHQvLyBzaG9ydGN1dCBmb3IgbmFtZXMgdGhhdCBhcmUgbm90IHZlbmRvciBwcmVmaXhlZFxuXHRpZiAoIG5hbWUgaW4gc3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblxuXHQvLyBjaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksXG5cdFx0b3JpZ05hbWUgPSBuYW1lLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBzdHlsZSApIHtcblx0XHRcdHJldHVybiBuYW1lO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBvcmlnTmFtZTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSwgaGlkZGVuLFxuXHRcdHZhbHVlcyA9IFtdLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdHZhbHVlc1sgaW5kZXggXSA9IGpRdWVyeS5fZGF0YSggZWxlbSwgXCJvbGRkaXNwbGF5XCIgKTtcblx0XHRkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xuXHRcdGlmICggc2hvdyApIHtcblx0XHRcdC8vIFJlc2V0IHRoZSBpbmxpbmUgZGlzcGxheSBvZiB0aGlzIGVsZW1lbnQgdG8gbGVhcm4gaWYgaXQgaXNcblx0XHRcdC8vIGJlaW5nIGhpZGRlbiBieSBjYXNjYWRlZCBydWxlcyBvciBub3Rcblx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSAmJiBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGVsZW1lbnRzIHdoaWNoIGhhdmUgYmVlbiBvdmVycmlkZGVuIHdpdGggZGlzcGxheTogbm9uZVxuXHRcdFx0Ly8gaW4gYSBzdHlsZXNoZWV0IHRvIHdoYXRldmVyIHRoZSBkZWZhdWx0IGJyb3dzZXIgc3R5bGUgaXNcblx0XHRcdC8vIGZvciBzdWNoIGFuIGVsZW1lbnRcblx0XHRcdGlmICggZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmIGlzSGlkZGVuKCBlbGVtICkgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGpRdWVyeS5fZGF0YSggZWxlbSwgXCJvbGRkaXNwbGF5XCIsIGRlZmF1bHREaXNwbGF5KGVsZW0ubm9kZU5hbWUpICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZGRlbiA9IGlzSGlkZGVuKCBlbGVtICk7XG5cblx0XHRcdGlmICggZGlzcGxheSAmJiBkaXNwbGF5ICE9PSBcIm5vbmVcIiB8fCAhaGlkZGVuICkge1xuXHRcdFx0XHRqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiLCBoaWRkZW4gPyBkaXNwbGF5IDogalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgZGlzcGxheSBvZiBtb3N0IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wXG5cdC8vIHRvIGF2b2lkIHRoZSBjb25zdGFudCByZWZsb3dcblx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRpZiAoICFzaG93IHx8IGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHwgZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/IHZhbHVlc1sgaW5kZXggXSB8fCBcIlwiIDogXCJub25lXCI7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRzO1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXHR2YXIgbWF0Y2hlcyA9IHJudW1zcGxpdC5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3Ncblx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMSBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMiBdIHx8IFwicHhcIiApIDpcblx0XHR2YWx1ZTtcbn1cblxuZnVuY3Rpb24gYXVnbWVudFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhLCBpc0JvcmRlckJveCwgc3R5bGVzICkge1xuXHR2YXIgaSA9IGV4dHJhID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgP1xuXHRcdC8vIElmIHdlIGFscmVhZHkgaGF2ZSB0aGUgcmlnaHQgbWVhc3VyZW1lbnQsIGF2b2lkIGF1Z21lbnRhdGlvblxuXHRcdDQgOlxuXHRcdC8vIE90aGVyd2lzZSBpbml0aWFsaXplIGZvciBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHByb3BlcnRpZXNcblx0XHRuYW1lID09PSBcIndpZHRoXCIgPyAxIDogMCxcblxuXHRcdHZhbCA9IDA7XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXHRcdC8vIGJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpbiwgc28gYWRkIGl0IGlmIHdlIHdhbnQgaXRcblx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIGV4dHJhICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdGlmICggaXNCb3JkZXJCb3ggKSB7XG5cdFx0XHQvLyBib3JkZXItYm94IGluY2x1ZGVzIHBhZGRpbmcsIHNvIHJlbW92ZSBpdCBpZiB3ZSB3YW50IGNvbnRlbnRcblx0XHRcdGlmICggZXh0cmEgPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gYXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCwgc28gYWRkIHBhZGRpbmdcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gYXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCBub3IgcGFkZGluZywgc28gYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJwYWRkaW5nXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggb2Zmc2V0IHByb3BlcnR5LCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBib3JkZXItYm94IHZhbHVlXG5cdHZhciB2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZSxcblx0XHR2YWwgPSBuYW1lID09PSBcIndpZHRoXCIgPyBlbGVtLm9mZnNldFdpZHRoIDogZWxlbS5vZmZzZXRIZWlnaHQsXG5cdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cdFx0aXNCb3JkZXJCb3ggPSBzdXBwb3J0LmJveFNpemluZyAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiO1xuXG5cdC8vIHNvbWUgbm9uLWh0bWwgZWxlbWVudHMgcmV0dXJuIHVuZGVmaW5lZCBmb3Igb2Zmc2V0V2lkdGgsIHNvIGNoZWNrIGZvciBudWxsL3VuZGVmaW5lZFxuXHQvLyBzdmcgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02NDkyODVcblx0Ly8gTWF0aE1MIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NDkxNjY4XG5cdGlmICggdmFsIDw9IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0Ly8gRmFsbCBiYWNrIHRvIGNvbXB1dGVkIHRoZW4gdW5jb21wdXRlZCBjc3MgaWYgbmVjZXNzYXJ5XG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRpZiAoIHZhbCA8IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0XHR2YWwgPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gQ29tcHV0ZWQgdW5pdCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi5cblx0XHRpZiAoIHJudW1ub25weC50ZXN0KHZhbCkgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblxuXHRcdC8vIHdlIG5lZWQgdGhlIGNoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCAmJiAoIHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCB2YWwgPT09IGVsZW0uc3R5bGVbIG5hbWUgXSApO1xuXG5cdFx0Ly8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuXHRcdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cdH1cblxuXHQvLyB1c2UgdGhlIGFjdGl2ZSBib3gtc2l6aW5nIG1vZGVsIHRvIGFkZC9zdWJ0cmFjdCBpcnJlbGV2YW50IHN0eWxlc1xuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0ZWxlbSxcblx0XHRcdG5hbWUsXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5qUXVlcnkuZXh0ZW5kKHtcblx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuXHRjc3NIb29rczoge1xuXHRcdG9wYWNpdHk6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFwiZmlsbE9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcImZsZXhHcm93XCI6IHRydWUsXG5cdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XCJmb250V2VpZ2h0XCI6IHRydWUsXG5cdFx0XCJsaW5lSGVpZ2h0XCI6IHRydWUsXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFwib3JwaGFuc1wiOiB0cnVlLFxuXHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcInpvb21cIjogdHJ1ZVxuXHR9LFxuXG5cdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRjc3NQcm9wczoge1xuXHRcdC8vIG5vcm1hbGl6ZSBmbG9hdCBjc3MgcHJvcGVydHlcblx0XHRcImZsb2F0XCI6IHN1cHBvcnQuY3NzRmxvYXQgPyBcImNzc0Zsb2F0XCIgOiBcInN0eWxlRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdHZhciByZXQsIHR5cGUsIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHRuYW1lID0galF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdIHx8ICggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIHN0eWxlLCBvcmlnTmFtZSApICk7XG5cblx0XHQvLyBnZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uXG5cdFx0Ly8gZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgdmVyc2lvblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UncmUgc2V0dGluZyBhIHZhbHVlXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdFx0Ly8gY29udmVydCByZWxhdGl2ZSBudW1iZXIgc3RyaW5ncyAoKz0gb3IgLT0pIHRvIHJlbGF0aXZlIG51bWJlcnMuICM3MzQ1XG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKHJldCA9IHJyZWxOdW0uZXhlYyggdmFsdWUgKSkgKSB7XG5cdFx0XHRcdHZhbHVlID0gKCByZXRbMV0gKyAxICkgKiByZXRbMl0gKyBwYXJzZUZsb2F0KCBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICkgKTtcblx0XHRcdFx0Ly8gRml4ZXMgYnVnICM5MjM3XG5cdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQuIFNlZTogIzcxMTZcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkICdweCcgdG8gdGhlIChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgJiYgIWpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gKSB7XG5cdFx0XHRcdHZhbHVlICs9IFwicHhcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRml4ZXMgIzg5MDgsIGl0IGNhbiBiZSBkb25lIG1vcmUgY29ycmVjdGx5IGJ5IHNwZWNpZmluZyBzZXR0ZXJzIGluIGNzc0hvb2tzLFxuXHRcdFx0Ly8gYnV0IGl0IHdvdWxkIG1lYW4gdG8gZGVmaW5lIGVpZ2h0IChmb3IgZXZlcnkgcHJvYmxlbWF0aWMgcHJvcGVydHkpIGlkZW50aWNhbCBmdW5jdGlvbnNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZihcImJhY2tncm91bmRcIikgPT09IDAgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSBcImluaGVyaXRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKFwic2V0XCIgaW4gaG9va3MpIHx8ICh2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkpICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUVcblx0XHRcdFx0Ly8gU3dhbGxvdyBlcnJvcnMgZnJvbSAnaW52YWxpZCcgQ1NTIHZhbHVlcyAoIzU1MDkpXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHt9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkpICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgbnVtLCB2YWwsIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHRuYW1lID0galF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdIHx8ICggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIGVsZW0uc3R5bGUsIG9yaWdOYW1lICkgKTtcblxuXHRcdC8vIGdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb25cblx0XHQvLyBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vY29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4sIGNvbnZlcnRpbmcgdG8gbnVtYmVyIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGpRdWVyeS5pc051bWVyaWMoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZWFjaChbIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Ly8gY2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGhvd2V2ZXIsIGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXQgZnJvbSB0aGlzXG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmIGVsZW0ub2Zmc2V0V2lkdGggPT09IDAgP1xuXHRcdFx0XHRcdGpRdWVyeS5zd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHR2YXIgc3R5bGVzID0gZXh0cmEgJiYgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBleHRyYSA/XG5cdFx0XHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRzdXBwb3J0LmJveFNpemluZyAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpIDogMFxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59KTtcblxuaWYgKCAhc3VwcG9ydC5vcGFjaXR5ICkge1xuXHRqUXVlcnkuY3NzSG9va3Mub3BhY2l0eSA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdC8vIElFIHVzZXMgZmlsdGVycyBmb3Igb3BhY2l0eVxuXHRcdFx0cmV0dXJuIHJvcGFjaXR5LnRlc3QoIChjb21wdXRlZCAmJiBlbGVtLmN1cnJlbnRTdHlsZSA/IGVsZW0uY3VycmVudFN0eWxlLmZpbHRlciA6IGVsZW0uc3R5bGUuZmlsdGVyKSB8fCBcIlwiICkgP1xuXHRcdFx0XHQoIDAuMDEgKiBwYXJzZUZsb2F0KCBSZWdFeHAuJDEgKSApICsgXCJcIiA6XG5cdFx0XHRcdGNvbXB1dGVkID8gXCIxXCIgOiBcIlwiO1xuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdHZhciBzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0XHRcdGN1cnJlbnRTdHlsZSA9IGVsZW0uY3VycmVudFN0eWxlLFxuXHRcdFx0XHRvcGFjaXR5ID0galF1ZXJ5LmlzTnVtZXJpYyggdmFsdWUgKSA/IFwiYWxwaGEob3BhY2l0eT1cIiArIHZhbHVlICogMTAwICsgXCIpXCIgOiBcIlwiLFxuXHRcdFx0XHRmaWx0ZXIgPSBjdXJyZW50U3R5bGUgJiYgY3VycmVudFN0eWxlLmZpbHRlciB8fCBzdHlsZS5maWx0ZXIgfHwgXCJcIjtcblxuXHRcdFx0Ly8gSUUgaGFzIHRyb3VibGUgd2l0aCBvcGFjaXR5IGlmIGl0IGRvZXMgbm90IGhhdmUgbGF5b3V0XG5cdFx0XHQvLyBGb3JjZSBpdCBieSBzZXR0aW5nIHRoZSB6b29tIGxldmVsXG5cdFx0XHRzdHlsZS56b29tID0gMTtcblxuXHRcdFx0Ly8gaWYgc2V0dGluZyBvcGFjaXR5IHRvIDEsIGFuZCBubyBvdGhlciBmaWx0ZXJzIGV4aXN0IC0gYXR0ZW1wdCB0byByZW1vdmUgZmlsdGVyIGF0dHJpYnV0ZSAjNjY1MlxuXHRcdFx0Ly8gaWYgdmFsdWUgPT09IFwiXCIsIHRoZW4gcmVtb3ZlIGlubGluZSBvcGFjaXR5ICMxMjY4NVxuXHRcdFx0aWYgKCAoIHZhbHVlID49IDEgfHwgdmFsdWUgPT09IFwiXCIgKSAmJlxuXHRcdFx0XHRcdGpRdWVyeS50cmltKCBmaWx0ZXIucmVwbGFjZSggcmFscGhhLCBcIlwiICkgKSA9PT0gXCJcIiAmJlxuXHRcdFx0XHRcdHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSApIHtcblxuXHRcdFx0XHQvLyBTZXR0aW5nIHN0eWxlLmZpbHRlciB0byBudWxsLCBcIlwiICYgXCIgXCIgc3RpbGwgbGVhdmUgXCJmaWx0ZXI6XCIgaW4gdGhlIGNzc1RleHRcblx0XHRcdFx0Ly8gaWYgXCJmaWx0ZXI6XCIgaXMgcHJlc2VudCBhdCBhbGwsIGNsZWFyVHlwZSBpcyBkaXNhYmxlZCwgd2Ugd2FudCB0byBhdm9pZCB0aGlzXG5cdFx0XHRcdC8vIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSBpcyBJRSBPbmx5LCBidXQgc28gYXBwYXJlbnRseSBpcyB0aGlzIGNvZGUgcGF0aC4uLlxuXHRcdFx0XHRzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoIFwiZmlsdGVyXCIgKTtcblxuXHRcdFx0XHQvLyBpZiB0aGVyZSBpcyBubyBmaWx0ZXIgc3R5bGUgYXBwbGllZCBpbiBhIGNzcyBydWxlIG9yIHVuc2V0IGlubGluZSBvcGFjaXR5LCB3ZSBhcmUgZG9uZVxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcIlwiIHx8IGN1cnJlbnRTdHlsZSAmJiAhY3VycmVudFN0eWxlLmZpbHRlciApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gb3RoZXJ3aXNlLCBzZXQgbmV3IGZpbHRlciB2YWx1ZXNcblx0XHRcdHN0eWxlLmZpbHRlciA9IHJhbHBoYS50ZXN0KCBmaWx0ZXIgKSA/XG5cdFx0XHRcdGZpbHRlci5yZXBsYWNlKCByYWxwaGEsIG9wYWNpdHkgKSA6XG5cdFx0XHRcdGZpbHRlciArIFwiIFwiICsgb3BhY2l0eTtcblx0XHR9XG5cdH07XG59XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5SaWdodCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0LFxuXHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdC8vIFdlYktpdCBCdWcgMTMzNDMgLSBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgd3JvbmcgdmFsdWUgZm9yIG1hcmdpbi1yaWdodFxuXHRcdFx0Ly8gV29yayBhcm91bmQgYnkgdGVtcG9yYXJpbHkgc2V0dGluZyBlbGVtZW50IGRpc3BsYXkgdG8gaW5saW5lLWJsb2NrXG5cdFx0XHRyZXR1cm4galF1ZXJ5LnN3YXAoIGVsZW0sIHsgXCJkaXNwbGF5XCI6IFwiaW5saW5lLWJsb2NrXCIgfSxcblx0XHRcdFx0Y3VyQ1NTLCBbIGVsZW0sIFwibWFyZ2luUmlnaHRcIiBdICk7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCh7XG5cdG1hcmdpbjogXCJcIixcblx0cGFkZGluZzogXCJcIixcblx0Ym9yZGVyOiBcIldpZHRoXCJcbn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXSA9IHtcblx0XHRleHBhbmQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0ZXhwYW5kZWQgPSB7fSxcblxuXHRcdFx0XHQvLyBhc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcblx0XHRcdFx0cGFydHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS5zcGxpdChcIiBcIikgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNIaWRkZW4oIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59KTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgXCJzd2luZ1wiO1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcblx0XHR0aGlzLmVuZCA9IGVuZDtcblx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHR9LFxuXHRjdXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cblx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTtcblx0fSxcblx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHR2YXIgZWFzZWQsXG5cdFx0XHRob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKFxuXHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdH1cblx0XHR0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgaG9va3Muc2V0ICkge1xuXHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn07XG5cblR3ZWVuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTtcblxuVHdlZW4ucHJvcEhvb2tzID0ge1xuXHRfZGVmYXVsdDoge1xuXHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJlxuXHRcdFx0XHQoIXR3ZWVuLmVsZW0uc3R5bGUgfHwgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwpICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHNcblx0XHRcdC8vIHNvLCBzaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdC5cblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMgaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHQvLyB1c2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdCAtIHVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZSAtIHVzZSAuc3R5bGUgaWYgaXRzXG5cdFx0XHQvLyBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZVxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5zdHlsZSAmJiAoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fCBqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OVxuLy8gUGFuaWMgYmFzZWQgYXBwcm9hY2ggdG8gc2V0dGluZyB0aGluZ3Mgb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9XG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBDb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgdGltZXJJZCxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJmeG51bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICksXG5cdHJydW4gPSAvcXVldWVIb29rcyQvLFxuXHRhbmltYXRpb25QcmVmaWx0ZXJzID0gWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cdHR3ZWVuZXJzID0ge1xuXHRcdFwiKlwiOiBbIGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHtcblx0XHRcdHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICksXG5cdFx0XHRcdHRhcmdldCA9IHR3ZWVuLmN1cigpLFxuXHRcdFx0XHRwYXJ0cyA9IHJmeG51bS5leGVjKCB2YWx1ZSApLFxuXHRcdFx0XHR1bml0ID0gcGFydHMgJiYgcGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblxuXHRcdFx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdFx0XHRzdGFydCA9ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiArdGFyZ2V0ICkgJiZcblx0XHRcdFx0XHRyZnhudW0uZXhlYyggalF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgcHJvcCApICksXG5cdFx0XHRcdHNjYWxlID0gMSxcblx0XHRcdFx0bWF4SXRlcmF0aW9ucyA9IDIwO1xuXG5cdFx0XHRpZiAoIHN0YXJ0ICYmIHN0YXJ0WyAzIF0gIT09IHVuaXQgKSB7XG5cdFx0XHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHRcdFx0dW5pdCA9IHVuaXQgfHwgc3RhcnRbIDMgXTtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0XHRcdHBhcnRzID0gcGFydHMgfHwgW107XG5cblx0XHRcdFx0Ly8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcblx0XHRcdFx0c3RhcnQgPSArdGFyZ2V0IHx8IDE7XG5cblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqXG5cdFx0XHRcdFx0Ly8gVXNlIGEgc3RyaW5nIGZvciBkb3VibGluZyBmYWN0b3Igc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdFx0XHRzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcblxuXHRcdFx0XHRcdC8vIEFkanVzdCBhbmQgYXBwbHlcblx0XHRcdFx0XHRzdGFydCA9IHN0YXJ0IC8gc2NhbGU7XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCBwcm9wLCBzdGFydCArIHVuaXQgKTtcblxuXHRcdFx0XHQvLyBVcGRhdGUgc2NhbGUsIHRvbGVyYXRpbmcgemVybyBvciBOYU4gZnJvbSB0d2Vlbi5jdXIoKVxuXHRcdFx0XHQvLyBBbmQgYnJlYWtpbmcgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaFxuXHRcdFx0XHR9IHdoaWxlICggc2NhbGUgIT09IChzY2FsZSA9IHR3ZWVuLmN1cigpIC8gdGFyZ2V0KSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXBkYXRlIHR3ZWVuIHByb3BlcnRpZXNcblx0XHRcdGlmICggcGFydHMgKSB7XG5cdFx0XHRcdHN0YXJ0ID0gdHdlZW4uc3RhcnQgPSArc3RhcnQgfHwgK3RhcmdldCB8fCAwO1xuXHRcdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdFx0Ly8gSWYgYSArPS8tPSB0b2tlbiB3YXMgcHJvdmlkZWQsIHdlJ3JlIGRvaW5nIGEgcmVsYXRpdmUgYW5pbWF0aW9uXG5cdFx0XHRcdHR3ZWVuLmVuZCA9IHBhcnRzWyAxIF0gP1xuXHRcdFx0XHRcdHN0YXJ0ICsgKCBwYXJ0c1sgMSBdICsgMSApICogcGFydHNbIDIgXSA6XG5cdFx0XHRcdFx0K3BhcnRzWyAyIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9IF1cblx0fTtcblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0pO1xuXHRyZXR1cm4gKCBmeE5vdyA9IGpRdWVyeS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfSxcblx0XHRpID0gMDtcblxuXHQvLyBpZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIGlmIHdlIGRvbid0IGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdGZvciAoIDsgaSA8IDQgOyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0fVxuXG5cdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG5cdH1cblxuXHRyZXR1cm4gYXR0cnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkge1xuXHR2YXIgdHdlZW4sXG5cdFx0Y29sbGVjdGlvbiA9ICggdHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggdHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAodHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSkgKSB7XG5cblx0XHRcdC8vIHdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHQvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCB0d2VlbiwgaG9va3MsIG9sZGZpcmUsIGRpc3BsYXksIGNoZWNrRGlzcGxheSxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW4oIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGpRdWVyeS5fZGF0YSggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIGhhbmRsZSBxdWV1ZTogZmFsc2UgcHJvbWlzZXNcblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gZG9pbmcgdGhpcyBtYWtlcyBzdXJlIHRoYXQgdGhlIGNvbXBsZXRlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWRcblx0XHRcdC8vIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBoZWlnaHQvd2lkdGggb3ZlcmZsb3cgcGFzc1xuXHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcImhlaWdodFwiIGluIHByb3BzIHx8IFwid2lkdGhcIiBpbiBwcm9wcyApICkge1xuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG5vdGhpbmcgc25lYWtzIG91dFxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3Rcblx0XHQvLyBjaGFuZ2UgdGhlIG92ZXJmbG93IGF0dHJpYnV0ZSB3aGVuIG92ZXJmbG93WCBhbmRcblx0XHQvLyBvdmVyZmxvd1kgYXJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZVxuXHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXG5cdFx0Ly8gU2V0IGRpc3BsYXkgcHJvcGVydHkgdG8gaW5saW5lLWJsb2NrIGZvciBoZWlnaHQvd2lkdGhcblx0XHQvLyBhbmltYXRpb25zIG9uIGlubGluZSBlbGVtZW50cyB0aGF0IGFyZSBoYXZpbmcgd2lkdGgvaGVpZ2h0IGFuaW1hdGVkXG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cblx0XHQvLyBUZXN0IGRlZmF1bHQgZGlzcGxheSBpZiBkaXNwbGF5IGlzIGN1cnJlbnRseSBcIm5vbmVcIlxuXHRcdGNoZWNrRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID9cblx0XHRcdGpRdWVyeS5fZGF0YSggZWxlbSwgXCJvbGRkaXNwbGF5XCIgKSB8fCBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApIDogZGlzcGxheTtcblxuXHRcdGlmICggY2hlY2tEaXNwbGF5ID09PSBcImlubGluZVwiICYmIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblxuXHRcdFx0Ly8gaW5saW5lLWxldmVsIGVsZW1lbnRzIGFjY2VwdCBpbmxpbmUtYmxvY2s7XG5cdFx0XHQvLyBibG9jay1sZXZlbCBlbGVtZW50cyBuZWVkIHRvIGJlIGlubGluZSB3aXRoIGxheW91dFxuXHRcdFx0aWYgKCAhc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0IHx8IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgPT09IFwiaW5saW5lXCIgKSB7XG5cdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3R5bGUuem9vbSA9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRpZiAoICFzdXBwb3J0LnNocmlua1dyYXBCbG9ja3MoKSApIHtcblx0XHRcdGFuaW0uYWx3YXlzKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvLyBzaG93L2hpZGUgcGFzc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLmV4ZWMoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGRhdGFTaG93IGxlZnQgb3ZlciBmcm9tIGEgc3RvcHBlZCBoaWRlIG9yIHNob3cgYW5kIHdlIGFyZSBnb2luZyB0byBwcm9jZWVkIHdpdGggc2hvdywgd2Ugc2hvdWxkIHByZXRlbmQgdG8gYmUgaGlkZGVuXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXG5cdFx0Ly8gQW55IG5vbi1meCB2YWx1ZSBzdG9wcyB1cyBmcm9tIHJlc3RvcmluZyB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXNwbGF5ID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhU2hvdyA9IGpRdWVyeS5fZGF0YSggZWxlbSwgXCJmeHNob3dcIiwge30gKTtcblx0XHR9XG5cblx0XHQvLyBzdG9yZSBzdGF0ZSBpZiBpdHMgdG9nZ2xlIC0gZW5hYmxlcyAuc3RvcCgpLnRvZ2dsZSgpIHRvIFwicmV2ZXJzZVwiXG5cdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdH1cblx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdGpRdWVyeSggZWxlbSApLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YW5pbS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5oaWRlKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0YW5pbS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHByb3A7XG5cdFx0XHRqUXVlcnkuX3JlbW92ZURhdGEoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHR0d2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXG5cdFx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0XHR0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydDtcblx0XHRcdFx0XHR0d2Vlbi5zdGFydCA9IHByb3AgPT09IFwid2lkdGhcIiB8fCBwcm9wID09PSBcImhlaWdodFwiID8gMSA6IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0Ly8gSWYgdGhpcyBpcyBhIG5vb3AgbGlrZSAuaGlkZSgpLmhpZGUoKSwgcmVzdG9yZSBhbiBvdmVyd3JpdHRlbiBkaXNwbGF5IHZhbHVlXG5cdH0gZWxzZSBpZiAoIChkaXNwbGF5ID09PSBcIm5vbmVcIiA/IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgOiBkaXNwbGF5KSA9PT0gXCJpbmxpbmVcIiApIHtcblx0XHRzdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcblx0fVxufVxuXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0dmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcblxuXHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0Zm9yICggaW5kZXggaW4gcHJvcHMgKSB7XG5cdFx0bmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIGluZGV4ICk7XG5cdFx0ZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdO1xuXHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF07XG5cdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gbm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbnQgb3ZlcndyaXRlIGtleXMgYWxyZWFkeSBwcmVzZW50LlxuXHRcdFx0Ly8gYWxzbyAtIHJldXNpbmcgJ2luZGV4JyBmcm9tIGFib3ZlIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gYW5pbWF0aW9uUHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gZG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0pLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXHRcdFx0XHQvLyBhcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgMSAtICggMC41IHx8IDAgKSAoIzEyNDk3KVxuXHRcdFx0XHR0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXG5cdFx0XHRcdHBlcmNlbnQgPSAxIC0gdGVtcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcblxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSk7XG5cblx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gcmVtYWluaW5nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSh7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7IHNwZWNpYWxFYXNpbmc6IHt9IH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXHRcdFx0XHRcdC8vIGlmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHJlc29sdmUgd2hlbiB3ZSBwbGF5ZWQgdGhlIGxhc3QgZnJhbWVcblx0XHRcdFx0Ly8gb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0pLFxuXHRcdHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xuXG5cdHByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gYW5pbWF0aW9uUHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdGlmICggcmVzdWx0ICkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdH1cblxuXHRqUXVlcnkuZngudGltZXIoXG5cdFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuXHRcdH0pXG5cdCk7XG5cblx0Ly8gYXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0cmV0dXJuIGFuaW1hdGlvbi5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5zcGxpdChcIiBcIik7XG5cdFx0fVxuXG5cdFx0dmFyIHByb3AsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdHR3ZWVuZXJzWyBwcm9wIF0gPSB0d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0dHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH1cblx0fSxcblxuXHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRhbmltYXRpb25QcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFuaW1hdGlvblByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuXHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5vZmYgPyAwIDogdHlwZW9mIG9wdC5kdXJhdGlvbiA9PT0gXCJudW1iZXJcIiA/IG9wdC5kdXJhdGlvbiA6XG5cdFx0b3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgPyBqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXSA6IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0Ly8gbm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gc2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbiApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcblxuXHRcdFx0Ly8gYW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHQuZW5kKCkuYW5pbWF0ZSh7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3Rcblx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXG5cdFx0XHRcdC8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZpbmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseVxuXHRcdFx0XHRpZiAoIGVtcHR5IHx8IGpRdWVyeS5fZGF0YSggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG5cblx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxuXHRcdFx0dGhpcy5xdWV1ZSggb3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbiApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcblx0XHR2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkge1xuXHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRzdG9wKCBnb3RvRW5kICk7XG5cdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBjbGVhclF1ZXVlICYmIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0galF1ZXJ5Ll9kYXRhKCB0aGlzICk7XG5cblx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XG5cdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJiAodHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSkgKSB7XG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggZ290b0VuZCApO1xuXHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWRcblx0XHRcdC8vIHRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2ggd2lsbCBkZXF1ZXVlXG5cdFx0XHQvLyBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZFxuXHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBqUXVlcnkuX2RhdGEoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gZW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBlbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGxvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZWFjaChbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0pO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCh7XG5cdHNsaWRlRG93bjogZ2VuRngoXCJzaG93XCIpLFxuXHRzbGlkZVVwOiBnZW5GeChcImhpZGVcIiksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeChcInRvZ2dsZVwiKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59KTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0aSA9IDA7XG5cblx0ZnhOb3cgPSBqUXVlcnkubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0aWYgKCB0aW1lcigpICkge1xuXHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS50aW1lcnMucG9wKCk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xuXG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhdGltZXJJZCApIHtcblx0XHR0aW1lcklkID0gc2V0SW50ZXJ2YWwoIGpRdWVyeS5meC50aWNrLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0fVxufTtcblxualF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHtcblx0Y2xlYXJJbnRlcnZhbCggdGltZXJJZCApO1xuXHR0aW1lcklkID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXHQvLyBEZWZhdWx0IHNwZWVkXG5cdF9kZWZhdWx0OiA0MDBcbn07XG5cblxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuLy8gaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdGNsZWFyVGltZW91dCggdGltZW91dCApO1xuXHRcdH07XG5cdH0pO1xufTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cdC8vIE1pbmlmaWVkOiB2YXIgYSxiLGMsZCxlXG5cdHZhciBpbnB1dCwgZGl2LCBzZWxlY3QsIGEsIG9wdDtcblxuXHQvLyBTZXR1cFxuXHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cdGRpdi5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NOYW1lXCIsIFwidFwiICk7XG5cdGRpdi5pbm5lckhUTUwgPSBcIiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPlwiO1xuXHRhID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVsgMCBdO1xuXG5cdC8vIEZpcnN0IGJhdGNoIG9mIHRlc3RzLlxuXHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuXHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikgKTtcblx0aW5wdXQgPSBkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKVsgMCBdO1xuXG5cdGEuc3R5bGUuY3NzVGV4dCA9IFwidG9wOjFweFwiO1xuXG5cdC8vIFRlc3Qgc2V0QXR0cmlidXRlIG9uIGNhbWVsQ2FzZSBjbGFzcy4gSWYgaXQgd29ya3MsIHdlIG5lZWQgYXR0ckZpeGVzIHdoZW4gZG9pbmcgZ2V0L3NldEF0dHJpYnV0ZSAoaWU2LzcpXG5cdHN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlID0gZGl2LmNsYXNzTmFtZSAhPT0gXCJ0XCI7XG5cblx0Ly8gR2V0IHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmcm9tIGdldEF0dHJpYnV0ZVxuXHQvLyAoSUUgdXNlcyAuY3NzVGV4dCBpbnN0ZWFkKVxuXHRzdXBwb3J0LnN0eWxlID0gL3RvcC8udGVzdCggYS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSApO1xuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IFVSTHMgYXJlbid0IG1hbmlwdWxhdGVkXG5cdC8vIChJRSBub3JtYWxpemVzIGl0IGJ5IGRlZmF1bHQpXG5cdHN1cHBvcnQuaHJlZk5vcm1hbGl6ZWQgPSBhLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiL2FcIjtcblxuXHQvLyBDaGVjayB0aGUgZGVmYXVsdCBjaGVja2JveC9yYWRpbyB2YWx1ZSAoXCJcIiBvbiBXZWJLaXQ7IFwib25cIiBlbHNld2hlcmUpXG5cdHN1cHBvcnQuY2hlY2tPbiA9ICEhaW5wdXQudmFsdWU7XG5cblx0Ly8gTWFrZSBzdXJlIHRoYXQgYSBzZWxlY3RlZC1ieS1kZWZhdWx0IG9wdGlvbiBoYXMgYSB3b3JraW5nIHNlbGVjdGVkIHByb3BlcnR5LlxuXHQvLyAoV2ViS2l0IGRlZmF1bHRzIHRvIGZhbHNlIGluc3RlYWQgb2YgdHJ1ZSwgSUUgdG9vLCBpZiBpdCdzIGluIGFuIG9wdGdyb3VwKVxuXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXG5cdC8vIFRlc3RzIGZvciBlbmN0eXBlIHN1cHBvcnQgb24gYSBmb3JtICgjNjc0Mylcblx0c3VwcG9ydC5lbmN0eXBlID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKS5lbmN0eXBlO1xuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBvcHRpb25zIGluc2lkZSBkaXNhYmxlZCBzZWxlY3RzIGFyZW4ndCBtYXJrZWQgYXMgZGlzYWJsZWRcblx0Ly8gKFdlYktpdCBtYXJrcyB0aGVtIGFzIGRpc2FibGVkKVxuXHRzZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuXHRzdXBwb3J0Lm9wdERpc2FibGVkID0gIW9wdC5kaXNhYmxlZDtcblxuXHQvLyBTdXBwb3J0OiBJRTggb25seVxuXHQvLyBDaGVjayBpZiB3ZSBjYW4gdHJ1c3QgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0c3VwcG9ydC5pbnB1dCA9IGlucHV0LmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG5cblx0Ly8gQ2hlY2sgaWYgYW4gaW5wdXQgbWFpbnRhaW5zIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XG59KSgpO1xuXG5cbnZhciBycmV0dXJuID0gL1xcci9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1swXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0ID0gZWxlbS52YWx1ZTtcblxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIHJldCA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0Ly8gaGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRcdHJldC5yZXBsYWNlKHJyZXR1cm4sIFwiXCIpIDpcblx0XHRcdFx0XHQvLyBoYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0XHRyZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHQvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xuXHRcdFx0aWYgKCAhaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufSk7XG5cbmpRdWVyeS5leHRlbmQoe1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUxMC0xMStcblx0XHRcdFx0XHQvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAoIzE0Njg2LCAjMTQ4NTgpXG5cdFx0XHRcdFx0alF1ZXJ5LnRyaW0oIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNlbGVjdDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiIHx8IGluZGV4IDwgMCxcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGgsXG5cdFx0XHRcdFx0aSA9IGluZGV4IDwgMCA/XG5cdFx0XHRcdFx0XHRtYXggOlxuXHRcdFx0XHRcdFx0b25lID8gaW5kZXggOiAwO1xuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gb2xkSUUgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0KCBzdXBwb3J0Lm9wdERpc2FibGVkID8gIW9wdGlvbi5kaXNhYmxlZCA6IG9wdGlvbi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PT0gbnVsbCApICYmXG5cdFx0XHRcdFx0XHRcdCggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8ICFqUXVlcnkubm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgb3B0aW9uU2V0LCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdGkgPSBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID49IDAgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFNlxuXHRcdFx0XHRcdFx0Ly8gV2hlbiBuZXcgb3B0aW9uIGVsZW1lbnQgaXMgYWRkZWQgdG8gc2VsZWN0IGJveCB3ZSBuZWVkIHRvXG5cdFx0XHRcdFx0XHQvLyBmb3JjZSByZWZsb3cgb2YgbmV3bHkgYWRkZWQgbm9kZSBpbiBvcmRlciB0byB3b3JrYXJvdW5kIGRlbGF5XG5cdFx0XHRcdFx0XHQvLyBvZiBpbml0aWFsaXphdGlvbiBwcm9wZXJ0aWVzXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSBvcHRpb25TZXQgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHR9IGNhdGNoICggXyApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBXaWxsIGJlIGV4ZWN1dGVkIG9ubHkgaW4gSUU2XG5cdFx0XHRcdFx0XHRcdG9wdGlvbi5zY3JvbGxIZWlnaHQ7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0aWYgKCAhb3B0aW9uU2V0ICkge1xuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG9wdGlvbnM7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeShlbGVtKS52YWwoKSwgdmFsdWUgKSA+PSAwICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBTdXBwb3J0OiBXZWJraXRcblx0XHRcdC8vIFwiXCIgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBcIm9uXCIgaWYgYSB2YWx1ZSBpc24ndCBzcGVjaWZpZWRcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59KTtcblxuXG5cblxudmFyIG5vZGVIb29rLCBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGUsXG5cdHJ1c2VEZWZhdWx0ID0gL14oPzpjaGVja2VkfHNlbGVjdGVkKSQvaSxcblx0Z2V0U2V0QXR0cmlidXRlID0gc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGUsXG5cdGdldFNldElucHV0ID0gc3VwcG9ydC5pbnB1dDtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZXh0ZW5kKHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gZG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gc3RydW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBhdHRyaWJ1dGVzIGFyZSBsb3dlcmNhc2Vcblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogbm9kZUhvb2sgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHR9IGVsc2UgaWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/XG5cdFx0XHRcdHVuZGVmaW5lZCA6XG5cdFx0XHRcdHJldDtcblx0XHR9XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdHZhciBuYW1lLCBwcm9wTmFtZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKG5hbWUgPSBhdHRyTmFtZXNbaSsrXSkgKSB7XG5cdFx0XHRcdHByb3BOYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXG5cdFx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBnZXQgc3BlY2lhbCB0cmVhdG1lbnQgKCMxMDg3MClcblx0XHRcdFx0aWYgKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0XHQvLyBTZXQgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB0byBmYWxzZVxuXHRcdFx0XHRcdGlmICggZ2V0U2V0SW5wdXQgJiYgZ2V0U2V0QXR0cmlidXRlIHx8ICFydXNlRGVmYXVsdC50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdFx0XHRcdC8vIEFsc28gY2xlYXIgZGVmYXVsdENoZWNrZWQvZGVmYXVsdFNlbGVjdGVkIChpZiBhcHByb3ByaWF0ZSlcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWxlbVsgalF1ZXJ5LmNhbWVsQ2FzZSggXCJkZWZhdWx0LVwiICsgbmFtZSApIF0gPVxuXHRcdFx0XHRcdFx0XHRlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFNlZSAjOTY5OSBmb3IgZXhwbGFuYXRpb24gb2YgdGhpcyBhcHByb2FjaCAoc2V0dGluZyBmaXJzdCwgdGhlbiByZW1vdmFsKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGpRdWVyeS5hdHRyKCBlbGVtLCBuYW1lLCBcIlwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggZ2V0U2V0QXR0cmlidXRlID8gbmFtZSA6IHByb3BOYW1lICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJiBqUXVlcnkubm9kZU5hbWUoZWxlbSwgXCJpbnB1dFwiKSApIHtcblx0XHRcdFx0XHQvLyBTZXR0aW5nIHRoZSB0eXBlIG9uIGEgcmFkaW8gYnV0dG9uIGFmdGVyIHRoZSB2YWx1ZSByZXNldHMgdGhlIHZhbHVlIGluIElFNi05XG5cdFx0XHRcdFx0Ly8gUmVzZXQgdmFsdWUgdG8gZGVmYXVsdCBpbiBjYXNlIHR5cGUgaXMgc2V0IGFmdGVyIHZhbHVlIGR1cmluZyBjcmVhdGlvblxuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbi8vIEhvb2sgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXHRcdFx0Ly8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZVxuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBnZXRTZXRJbnB1dCAmJiBnZXRTZXRBdHRyaWJ1dGUgfHwgIXJ1c2VEZWZhdWx0LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdC8vIElFPDggbmVlZHMgdGhlICpwcm9wZXJ0eSogbmFtZVxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoICFnZXRTZXRBdHRyaWJ1dGUgJiYgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lLCBuYW1lICk7XG5cblx0XHQvLyBVc2UgZGVmYXVsdENoZWNrZWQgYW5kIGRlZmF1bHRTZWxlY3RlZCBmb3Igb2xkSUVcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbVsgalF1ZXJ5LmNhbWVsQ2FzZSggXCJkZWZhdWx0LVwiICsgbmFtZSApIF0gPSBlbGVtWyBuYW1lIF0gPSB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG4vLyBSZXRyaWV2ZSBib29sZWFucyBzcGVjaWFsbHlcbmpRdWVyeS5lYWNoKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCggL1xcdysvZyApLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZ2V0U2V0SW5wdXQgJiYgZ2V0U2V0QXR0cmlidXRlIHx8ICFydXNlRGVmYXVsdC50ZXN0KCBuYW1lICkgP1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRcdHZhciByZXQsIGhhbmRsZTtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIG5hbWUgXTtcblx0XHRcdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gcmV0O1xuXHRcdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdFx0bmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0XHRudWxsO1xuXHRcdFx0XHRhdHRySGFuZGxlWyBuYW1lIF0gPSBoYW5kbGU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbVsgalF1ZXJ5LmNhbWVsQ2FzZSggXCJkZWZhdWx0LVwiICsgbmFtZSApIF0gP1xuXHRcdFx0XHRcdG5hbWUudG9Mb3dlckNhc2UoKSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHRcdH1cblx0XHR9O1xufSk7XG5cbi8vIGZpeCBvbGRJRSBhdHRyb3BlcnRpZXNcbmlmICggIWdldFNldElucHV0IHx8ICFnZXRTZXRBdHRyaWJ1dGUgKSB7XG5cdGpRdWVyeS5hdHRySG9va3MudmFsdWUgPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdC8vIERvZXMgbm90IHJldHVybiBzbyB0aGF0IHNldEF0dHJpYnV0ZSBpcyBhbHNvIHVzZWRcblx0XHRcdFx0ZWxlbS5kZWZhdWx0VmFsdWUgPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFVzZSBub2RlSG9vayBpZiBkZWZpbmVkICgjMTk1NCk7IG90aGVyd2lzZSBzZXRBdHRyaWJ1dGUgaXMgZmluZVxuXHRcdFx0XHRyZXR1cm4gbm9kZUhvb2sgJiYgbm9kZUhvb2suc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gSUU2LzcgZG8gbm90IHN1cHBvcnQgZ2V0dGluZy9zZXR0aW5nIHNvbWUgYXR0cmlidXRlcyB3aXRoIGdldC9zZXRBdHRyaWJ1dGVcbmlmICggIWdldFNldEF0dHJpYnV0ZSApIHtcblxuXHQvLyBVc2UgdGhpcyBmb3IgYW55IGF0dHJpYnV0ZSBpbiBJRTYvN1xuXHQvLyBUaGlzIGZpeGVzIGFsbW9zdCBldmVyeSBJRTYvNyBpc3N1ZVxuXHRub2RlSG9vayA9IHtcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcblx0XHRcdC8vIFNldCB0aGUgZXhpc3Rpbmcgb3IgY3JlYXRlIGEgbmV3IGF0dHJpYnV0ZSBub2RlXG5cdFx0XHR2YXIgcmV0ID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICk7XG5cdFx0XHRpZiAoICFyZXQgKSB7XG5cdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlTm9kZShcblx0XHRcdFx0XHQocmV0ID0gZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSggbmFtZSApKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXQudmFsdWUgPSB2YWx1ZSArPSBcIlwiO1xuXG5cdFx0XHQvLyBCcmVhayBhc3NvY2lhdGlvbiB3aXRoIGNsb25lZCBlbGVtZW50cyBieSBhbHNvIHVzaW5nIHNldEF0dHJpYnV0ZSAoIzk2NDYpXG5cdFx0XHRpZiAoIG5hbWUgPT09IFwidmFsdWVcIiB8fCB2YWx1ZSA9PT0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvLyBTb21lIGF0dHJpYnV0ZXMgYXJlIGNvbnN0cnVjdGVkIHdpdGggZW1wdHktc3RyaW5nIHZhbHVlcyB3aGVuIG5vdCBkZWZpbmVkXG5cdGF0dHJIYW5kbGUuaWQgPSBhdHRySGFuZGxlLm5hbWUgPSBhdHRySGFuZGxlLmNvb3JkcyA9XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdFx0dmFyIHJldDtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0XHRyZXR1cm4gKHJldCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiByZXQudmFsdWUgIT09IFwiXCIgP1xuXHRcdFx0XHRcdHJldC52YWx1ZSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXG5cdC8vIEZpeGluZyB2YWx1ZSByZXRyaWV2YWwgb24gYSBidXR0b24gcmVxdWlyZXMgdGhpcyBtb2R1bGVcblx0alF1ZXJ5LnZhbEhvb2tzLmJ1dHRvbiA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdFx0dmFyIHJldCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApO1xuXHRcdFx0aWYgKCByZXQgJiYgcmV0LnNwZWNpZmllZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldC52YWx1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNldDogbm9kZUhvb2suc2V0XG5cdH07XG5cblx0Ly8gU2V0IGNvbnRlbnRlZGl0YWJsZSB0byBmYWxzZSBvbiByZW1vdmFscygjMTA0MjkpXG5cdC8vIFNldHRpbmcgdG8gZW1wdHkgc3RyaW5nIHRocm93cyBhbiBlcnJvciBhcyBhbiBpbnZhbGlkIHZhbHVlXG5cdGpRdWVyeS5hdHRySG9va3MuY29udGVudGVkaXRhYmxlID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdFx0bm9kZUhvb2suc2V0KCBlbGVtLCB2YWx1ZSA9PT0gXCJcIiA/IGZhbHNlIDogdmFsdWUsIG5hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gU2V0IHdpZHRoIGFuZCBoZWlnaHQgdG8gYXV0byBpbnN0ZWFkIG9mIDAgb24gZW1wdHkgc3RyaW5nKCBCdWcgIzgxNTAgKVxuXHQvLyBUaGlzIGlzIGZvciByZW1vdmFsc1xuXHRqUXVlcnkuZWFjaChbIFwid2lkdGhcIiwgXCJoZWlnaHRcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XHRqUXVlcnkuYXR0ckhvb2tzWyBuYW1lIF0gPSB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgXCJhdXRvXCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn1cblxuaWYgKCAhc3VwcG9ydC5zdHlsZSApIHtcblx0alF1ZXJ5LmF0dHJIb29rcy5zdHlsZSA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gUmV0dXJuIHVuZGVmaW5lZCBpbiB0aGUgY2FzZSBvZiBlbXB0eSBzdHJpbmdcblx0XHRcdC8vIE5vdGU6IElFIHVwcGVyY2FzZXMgY3NzIHByb3BlcnR5IG5hbWVzLCBidXQgaWYgd2Ugd2VyZSB0byAudG9Mb3dlckNhc2UoKVxuXHRcdFx0Ly8gLmNzc1RleHQsIHRoYXQgd291bGQgZGVzdHJveSBjYXNlIHNlbnN0aXRpdml0eSBpbiBVUkwncywgbGlrZSBpbiBcImJhY2tncm91bmRcIlxuXHRcdFx0cmV0dXJuIGVsZW0uc3R5bGUuY3NzVGV4dCB8fCB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0uc3R5bGUuY3NzVGV4dCA9IHZhbHVlICsgXCJcIiApO1xuXHRcdH1cblx0fTtcbn1cblxuXG5cblxudmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSxcblx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdHJ5L2NhdGNoIGhhbmRsZXMgY2FzZXMgd2hlcmUgSUUgYmFsa3MgKHN1Y2ggYXMgcmVtb3ZpbmcgYSBwcm9wZXJ0eSBvbiB3aW5kb3cpXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0aGlzWyBuYW1lIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzWyBuYW1lIF07XG5cdFx0XHR9IGNhdGNoKCBlICkge31cblx0XHR9KTtcblx0fVxufSk7XG5cbmpRdWVyeS5leHRlbmQoe1xuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH0sXG5cblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLCBub3R4bWwsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBkb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRub3R4bWwgPSBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICk7XG5cblx0XHRpZiAoIG5vdHhtbCApIHtcblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm4gaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApKSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cmV0IDpcblx0XHRcdFx0KCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSkgIT09IG51bGwgP1xuXHRcdFx0XHRyZXQgOlxuXHRcdFx0XHRlbGVtWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdHByb3BIb29rczoge1xuXHRcdHRhYkluZGV4OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGUgY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdHJldHVybiB0YWJpbmRleCA/XG5cdFx0XHRcdFx0cGFyc2VJbnQoIHRhYmluZGV4LCAxMCApIDpcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fCByY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJiBlbGVtLmhyZWYgP1xuXHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHQtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBTb21lIGF0dHJpYnV0ZXMgcmVxdWlyZSBhIHNwZWNpYWwgY2FsbCBvbiBJRVxuLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhc3VwcG9ydC5ocmVmTm9ybWFsaXplZCApIHtcblx0Ly8gaHJlZi9zcmMgcHJvcGVydHkgc2hvdWxkIGdldCB0aGUgZnVsbCBub3JtYWxpemVkIFVSTCAoIzEwMjk5LyMxMjkxNSlcblx0alF1ZXJ5LmVhY2goWyBcImhyZWZcIiwgXCJzcmNcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XHRqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF0gPSB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIDQgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogU2FmYXJpLCBJRTkrXG4vLyBtaXMtcmVwb3J0cyB0aGUgZGVmYXVsdCBzZWxlY3RlZCBwcm9wZXJ0eSBvZiBhbiBvcHRpb25cbi8vIEFjY2Vzc2luZyB0aGUgcGFyZW50J3Mgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eSBmaXhlcyBpdFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IGl0IGFsc28gd29ya3Mgd2l0aCBvcHRncm91cHMsIHNlZSAjNTcwMVxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goW1xuXHRcInRhYkluZGV4XCIsXG5cdFwicmVhZE9ubHlcIixcblx0XCJtYXhMZW5ndGhcIixcblx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcImNlbGxQYWRkaW5nXCIsXG5cdFwicm93U3BhblwiLFxuXHRcImNvbFNwYW5cIixcblx0XCJ1c2VNYXBcIixcblx0XCJmcmFtZUJvcmRlclwiLFxuXHRcImNvbnRlbnRFZGl0YWJsZVwiXG5dLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcbn0pO1xuXG4vLyBJRTYvNyBjYWxsIGVuY3R5cGUgZW5jb2RpbmdcbmlmICggIXN1cHBvcnQuZW5jdHlwZSApIHtcblx0alF1ZXJ5LnByb3BGaXguZW5jdHlwZSA9IFwiZW5jb2RpbmdcIjtcbn1cblxuXG5cblxudmFyIHJjbGFzcyA9IC9bXFx0XFxyXFxuXFxmXS9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRwcm9jZWVkID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCB0aGlzLmNsYXNzTmFtZSApICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIHByb2NlZWQgKSB7XG5cdFx0XHQvLyBUaGUgZGlzanVuY3Rpb24gaGVyZSBpcyBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIHJlbW92ZUNsYXNzKVxuXHRcdFx0Y2xhc3NlcyA9ICggdmFsdWUgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF07XG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBlbGVtLmNsYXNzTmFtZSA/XG5cdFx0XHRcdFx0KCBcIiBcIiArIGVsZW0uY2xhc3NOYW1lICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiICkgOlxuXHRcdFx0XHRcdFwiIFwiXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoY2xhenogPSBjbGFzc2VzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhenogKyBcIiBcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBvbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLmNsYXNzTmFtZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uY2xhc3NOYW1lID0gZmluYWxWYWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdHByb2NlZWQgPSBhcmd1bWVudHMubGVuZ3RoID09PSAwIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZTtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgdGhpcy5jbGFzc05hbWUgKSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGlmICggcHJvY2VlZCApIHtcblx0XHRcdGNsYXNzZXMgPSAoIHZhbHVlIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdO1xuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggZWxlbS5jbGFzc05hbWUgP1xuXHRcdFx0XHRcdCggXCIgXCIgKyBlbGVtLmNsYXNzTmFtZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApIDpcblx0XHRcdFx0XHRcIlwiXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoY2xhenogPSBjbGFzc2VzW2orK10pICkge1xuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPj0gMCApIHtcblx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBvbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSB2YWx1ZSA/IGpRdWVyeS50cmltKCBjdXIgKSA6IFwiXCI7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLmNsYXNzTmFtZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uY2xhc3NOYW1lID0gZmluYWxWYWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKCB2YWx1ZS5jYWxsKHRoaXMsIGksIHRoaXMuY2xhc3NOYW1lLCBzdGF0ZVZhbCksIHN0YXRlVmFsICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHQvLyB0b2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuXHRcdFx0XHR2YXIgY2xhc3NOYW1lLFxuXHRcdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0XHRjbGFzc05hbWVzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHRcdHdoaWxlICggKGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdKSApIHtcblx0XHRcdFx0XHQvLyBjaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3Rcblx0XHRcdFx0XHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gc3RydW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuY2xhc3NOYW1lICkge1xuXHRcdFx0XHRcdC8vIHN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRqUXVlcnkuX2RhdGEoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCB0aGlzLmNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgXCJmYWxzZVwiLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID8gXCJcIiA6IGpRdWVyeS5fZGF0YSggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdGhhc0NsYXNzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdGlmICggdGhpc1tpXS5ub2RlVHlwZSA9PT0gMSAmJiAoXCIgXCIgKyB0aGlzW2ldLmNsYXNzTmFtZSArIFwiIFwiKS5yZXBsYWNlKHJjbGFzcywgXCIgXCIpLmluZGV4T2YoIGNsYXNzTmFtZSApID49IDAgKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG5qUXVlcnkuZWFjaCggKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIpLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdGhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcblx0fSxcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOiB0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcblx0fVxufSk7XG5cblxudmFyIG5vbmNlID0galF1ZXJ5Lm5vdygpO1xuXG52YXIgcnF1ZXJ5ID0gKC9cXD8vKTtcblxuXG5cbnZhciBydmFsaWR0b2tlbnMgPSAvKCwpfChcXFt8eyl8KH18XSl8XCIoPzpbXlwiXFxcXFxcclxcbl18XFxcXFtcIlxcXFxcXC9iZm5ydF18XFxcXHVbXFxkYS1mQS1GXXs0fSkqXCJcXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxcZClcXGQrKD86XFwuXFxkK3wpKD86W2VFXVsrLV0/XFxkK3wpL2c7XG5cbmpRdWVyeS5wYXJzZUpTT04gPSBmdW5jdGlvbiggZGF0YSApIHtcblx0Ly8gQXR0ZW1wdCB0byBwYXJzZSB1c2luZyB0aGUgbmF0aXZlIEpTT04gcGFyc2VyIGZpcnN0XG5cdGlmICggd2luZG93LkpTT04gJiYgd2luZG93LkpTT04ucGFyc2UgKSB7XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjNcblx0XHQvLyBXb3JrYXJvdW5kIGZhaWx1cmUgdG8gc3RyaW5nLWNhc3QgbnVsbCBpbnB1dFxuXHRcdHJldHVybiB3aW5kb3cuSlNPTi5wYXJzZSggZGF0YSArIFwiXCIgKTtcblx0fVxuXG5cdHZhciByZXF1aXJlTm9uQ29tbWEsXG5cdFx0ZGVwdGggPSBudWxsLFxuXHRcdHN0ciA9IGpRdWVyeS50cmltKCBkYXRhICsgXCJcIiApO1xuXG5cdC8vIEd1YXJkIGFnYWluc3QgaW52YWxpZCAoYW5kIHBvc3NpYmx5IGRhbmdlcm91cykgaW5wdXQgYnkgZW5zdXJpbmcgdGhhdCBub3RoaW5nIHJlbWFpbnNcblx0Ly8gYWZ0ZXIgcmVtb3ZpbmcgdmFsaWQgdG9rZW5zXG5cdHJldHVybiBzdHIgJiYgIWpRdWVyeS50cmltKCBzdHIucmVwbGFjZSggcnZhbGlkdG9rZW5zLCBmdW5jdGlvbiggdG9rZW4sIGNvbW1hLCBvcGVuLCBjbG9zZSApIHtcblxuXHRcdC8vIEZvcmNlIHRlcm1pbmF0aW9uIGlmIHdlIHNlZSBhIG1pc3BsYWNlZCBjb21tYVxuXHRcdGlmICggcmVxdWlyZU5vbkNvbW1hICYmIGNvbW1hICkge1xuXHRcdFx0ZGVwdGggPSAwO1xuXHRcdH1cblxuXHRcdC8vIFBlcmZvcm0gbm8gbW9yZSByZXBsYWNlbWVudHMgYWZ0ZXIgcmV0dXJuaW5nIHRvIG91dGVybW9zdCBkZXB0aFxuXHRcdGlmICggZGVwdGggPT09IDAgKSB7XG5cdFx0XHRyZXR1cm4gdG9rZW47XG5cdFx0fVxuXG5cdFx0Ly8gQ29tbWFzIG11c3Qgbm90IGZvbGxvdyBcIltcIiwgXCJ7XCIsIG9yIFwiLFwiXG5cdFx0cmVxdWlyZU5vbkNvbW1hID0gb3BlbiB8fCBjb21tYTtcblxuXHRcdC8vIERldGVybWluZSBuZXcgZGVwdGhcblx0XHQvLyBhcnJheS9vYmplY3Qgb3BlbiAoXCJbXCIgb3IgXCJ7XCIpOiBkZXB0aCArPSB0cnVlIC0gZmFsc2UgKGluY3JlbWVudClcblx0XHQvLyBhcnJheS9vYmplY3QgY2xvc2UgKFwiXVwiIG9yIFwifVwiKTogZGVwdGggKz0gZmFsc2UgLSB0cnVlIChkZWNyZW1lbnQpXG5cdFx0Ly8gb3RoZXIgY2FzZXMgKFwiLFwiIG9yIHByaW1pdGl2ZSk6IGRlcHRoICs9IHRydWUgLSB0cnVlIChudW1lcmljIGNhc3QpXG5cdFx0ZGVwdGggKz0gIWNsb3NlIC0gIW9wZW47XG5cblx0XHQvLyBSZW1vdmUgdGhpcyB0b2tlblxuXHRcdHJldHVybiBcIlwiO1xuXHR9KSApID9cblx0XHQoIEZ1bmN0aW9uKCBcInJldHVybiBcIiArIHN0ciApICkoKSA6XG5cdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgSlNPTjogXCIgKyBkYXRhICk7XG59O1xuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sLCB0bXA7XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dHJ5IHtcblx0XHRpZiAoIHdpbmRvdy5ET01QYXJzZXIgKSB7IC8vIFN0YW5kYXJkXG5cdFx0XHR0bXAgPSBuZXcgRE9NUGFyc2VyKCk7XG5cdFx0XHR4bWwgPSB0bXAucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0XHR9IGVsc2UgeyAvLyBJRVxuXHRcdFx0eG1sID0gbmV3IEFjdGl2ZVhPYmplY3QoIFwiTWljcm9zb2Z0LlhNTERPTVwiICk7XG5cdFx0XHR4bWwuYXN5bmMgPSBcImZhbHNlXCI7XG5cdFx0XHR4bWwubG9hZFhNTCggZGF0YSApO1xuXHRcdH1cblx0fSBjYXRjaCggZSApIHtcblx0XHR4bWwgPSB1bmRlZmluZWQ7XG5cdH1cblx0aWYgKCAheG1sIHx8ICF4bWwuZG9jdW1lbnRFbGVtZW50IHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdC8vIERvY3VtZW50IGxvY2F0aW9uXG5cdGFqYXhMb2NQYXJ0cyxcblx0YWpheExvY2F0aW9uLFxuXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRydHMgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopXFxyPyQvbWcsIC8vIElFIGxlYXZlcyBhbiBcXHIgY2hhcmFjdGVyIGF0IEVPTFxuXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblx0cnVybCA9IC9eKFtcXHcuKy1dKzopKD86XFwvXFwvKD86W15cXC8/I10qQHwpKFteXFwvPyM6XSopKD86OihcXGQrKXwpfCkvLFxuXG5cdC8qIFByZWZpbHRlcnNcblx0ICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSlcblx0ICogMikgVGhlc2UgYXJlIGNhbGxlZDpcblx0ICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxuXHQgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpXG5cdCAqIDMpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiA1KSBleGVjdXRpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBjb250aW51ZSBkb3duIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0cHJlZmlsdGVycyA9IHt9LFxuXG5cdC8qIFRyYW5zcG9ydHMgYmluZGluZ3Ncblx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDMpIHNlbGVjdGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGdvIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0dHJhbnNwb3J0cyA9IHt9LFxuXG5cdC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKCMxMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuXHRhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoXCIqXCIpO1xuXG4vLyAjODEzOCwgSUUgbWF5IHRocm93IGFuIGV4Y2VwdGlvbiB3aGVuIGFjY2Vzc2luZ1xuLy8gYSBmaWVsZCBmcm9tIHdpbmRvdy5sb2NhdGlvbiBpZiBkb2N1bWVudC5kb21haW4gaGFzIGJlZW4gc2V0XG50cnkge1xuXHRhamF4TG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmO1xufSBjYXRjaCggZSApIHtcblx0Ly8gVXNlIHRoZSBocmVmIGF0dHJpYnV0ZSBvZiBhbiBBIGVsZW1lbnRcblx0Ly8gc2luY2UgSUUgd2lsbCBtb2RpZnkgaXQgZ2l2ZW4gZG9jdW1lbnQubG9jYXRpb25cblx0YWpheExvY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0YWpheExvY2F0aW9uLmhyZWYgPSBcIlwiO1xuXHRhamF4TG9jYXRpb24gPSBhamF4TG9jYXRpb24uaHJlZjtcbn1cblxuLy8gU2VnbWVudCBsb2NhdGlvbiBpbnRvIHBhcnRzXG5hamF4TG9jUGFydHMgPSBydXJsLmV4ZWMoIGFqYXhMb2NhdGlvbi50b0xvd2VyQ2FzZSgpICkgfHwgW107XG5cbi8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXG5cdC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBmdW5jICkgKSB7XG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoIChkYXRhVHlwZSA9IGRhdGFUeXBlc1tpKytdKSApIHtcblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZS5jaGFyQXQoIDAgKSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdChzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10pLnVuc2hpZnQoIGZ1bmMgKTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0KHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJiAhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGRlZXAsIGtleSxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8IChkZWVwID0ge30pICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cdHZhciBmaXJzdERhdGFUeXBlLCBjdCwgZmluYWxEYXRhVHlwZSwgdHlwZSxcblx0XHRjb250ZW50cyA9IHMuY29udGVudHMsXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cblx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3Ncblx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGlmICggIWRhdGFUeXBlc1sgMCBdIHx8IHMuY29udmVydGVyc1sgdHlwZSArIFwiIFwiICsgZGF0YVR5cGVzWzBdIF0gKSB7XG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcblxuXHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcblx0XHRmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHtcblx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdHdoaWxlICggY3VycmVudCApIHtcblxuXHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcblx0XHRpZiAoICFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdGFGaWx0ZXIgKSB7XG5cdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHR9XG5cblx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cblx0XHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzWyBcInRocm93c1wiIF0gKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4geyBzdGF0ZTogXCJwYXJzZXJlcnJvclwiLCBlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnQgfTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG59XG5cbmpRdWVyeS5leHRlbmQoe1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGFqYXhMb2NhdGlvbixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGFqYXhMb2NQYXJ0c1sgMSBdICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAveG1sLyxcblx0XHRcdGh0bWw6IC9odG1sLyxcblx0XHRcdGpzb246IC9qc29uL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBqUXVlcnkucGFyc2VKU09OLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhciAvLyBDcm9zcy1kb21haW4gZGV0ZWN0aW9uIHZhcnNcblx0XHRcdHBhcnRzLFxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdGNhY2hlVVJMLFxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVycyBhcyBzdHJpbmdcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdC8vIHRpbWVvdXQgaGFuZGxlXG5cdFx0XHR0aW1lb3V0VGltZXIsXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxuXHRcdFx0ZmlyZUdsb2JhbHMsXG5cblx0XHRcdHRyYW5zcG9ydCxcblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmICggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxuXHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblx0XHRcdC8vIFRoZSBqcVhIUiBzdGF0ZVxuXHRcdFx0c3RhdGUgPSAwLFxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2g7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZSA9PT0gMiA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcblx0XHRcdFx0c2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHRcdHZhciBsbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRpZiAoICFzdGF0ZSApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBsbmFtZSBdID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBPdmVycmlkZXMgcmVzcG9uc2UgY29udGVudC10eXBlIGhlYWRlclxuXHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRpZiAoICFzdGF0ZSApIHtcblx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdGlmICggbWFwICkge1xuXHRcdFx0XHRcdFx0aWYgKCBzdGF0ZSA8IDIgKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2sgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKS5jb21wbGV0ZSA9IGNvbXBsZXRlRGVmZXJyZWQuYWRkO1xuXHRcdGpxWEhSLnN1Y2Nlc3MgPSBqcVhIUi5kb25lO1xuXHRcdGpxWEhSLmVycm9yID0ganFYSFIuZmFpbDtcblxuXHRcdC8vIFJlbW92ZSBoYXNoIGNoYXJhY3RlciAoIzc1MzE6IGFuZCBzdHJpbmcgcHJvbW90aW9uKVxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKCM1ODY2OiBJRTcgaXNzdWUgd2l0aCBwcm90b2NvbC1sZXNzIHVybHMpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgYWpheExvY2F0aW9uICkgKyBcIlwiICkucmVwbGFjZSggcmhhc2gsIFwiXCIgKS5yZXBsYWNlKCBycHJvdG9jb2wsIGFqYXhMb2NQYXJ0c1sgMSBdICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0galF1ZXJ5LnRyaW0oIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB3ZSBoYXZlIGEgcHJvdG9jb2w6aG9zdDpwb3J0IG1pc21hdGNoXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XG5cdFx0XHRwYXJ0cyA9IHJ1cmwuZXhlYyggcy51cmwudG9Mb3dlckNhc2UoKSApO1xuXHRcdFx0cy5jcm9zc0RvbWFpbiA9ICEhKCBwYXJ0cyAmJlxuXHRcdFx0XHQoIHBhcnRzWyAxIF0gIT09IGFqYXhMb2NQYXJ0c1sgMSBdIHx8IHBhcnRzWyAyIF0gIT09IGFqYXhMb2NQYXJ0c1sgMiBdIHx8XG5cdFx0XHRcdFx0KCBwYXJ0c1sgMyBdIHx8ICggcGFydHNbIDEgXSA9PT0gXCJodHRwOlwiID8gXCI4MFwiIDogXCI0NDNcIiApICkgIT09XG5cdFx0XHRcdFx0XHQoIGFqYXhMb2NQYXJ0c1sgMyBdIHx8ICggYWpheExvY1BhcnRzWyAxIF0gPT09IFwiaHR0cDpcIiA/IFwiODBcIiA6IFwiNDQzXCIgKSApIClcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggc3RhdGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIik7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybDtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSAoIHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGEgKTtcblx0XHRcdFx0Ly8gIzk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxuXHRcdFx0XHRkZWxldGUgcy5kYXRhO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgYW50aS1jYWNoZSBpbiB1cmwgaWYgbmVlZGVkXG5cdFx0XHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRzLnVybCA9IHJ0cy50ZXN0KCBjYWNoZVVSTCApID9cblxuXHRcdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFscmVhZHkgYSAnXycgcGFyYW1ldGVyLCBzZXQgaXRzIHZhbHVlXG5cdFx0XHRcdFx0Y2FjaGVVUkwucmVwbGFjZSggcnRzLCBcIiQxXz1cIiArIG5vbmNlKysgKSA6XG5cblx0XHRcdFx0XHQvLyBPdGhlcndpc2UgYWRkIG9uZSB0byB0aGUgZW5kXG5cdFx0XHRcdFx0Y2FjaGVVUkwgKyAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgbm9uY2UrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1swXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1swXSBdICsgKCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiYgKCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBzdGF0ZSA9PT0gMiApICkge1xuXHRcdFx0Ly8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXG5cdFx0XHRyZXR1cm4ganFYSFIuYWJvcnQoKTtcblx0XHR9XG5cblx0XHQvLyBhYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cblx0XHRzdHJBYm9ydCA9IFwiYWJvcnRcIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuXHRcdGZvciAoIGkgaW4geyBzdWNjZXNzOiAxLCBlcnJvcjogMSwgY29tcGxldGU6IDEgfSApIHtcblx0XHRcdGpxWEhSWyBpIF0oIHNbIGkgXSApO1xuXHRcdH1cblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydChcInRpbWVvdXRcIik7XG5cdFx0XHRcdH0sIHMudGltZW91dCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzdGF0ZSA9IDE7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBleGNlcHRpb24gYXMgZXJyb3IgaWYgbm90IGRvbmVcblx0XHRcdFx0aWYgKCBzdGF0ZSA8IDIgKSB7XG5cdFx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblx0XHRcdFx0Ly8gU2ltcGx5IHJldGhyb3cgb3RoZXJ3aXNlXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIENhbGxlZCBvbmNlXG5cdFx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXRlIGlzIFwiZG9uZVwiIG5vd1xuXHRcdFx0c3RhdGUgPSAyO1xuXG5cdFx0XHQvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuXHRcdFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFdlIGV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0XG5cdFx0XHRcdC8vIHRoZW4gbm9ybWFsaXplIHN0YXR1c1RleHQgYW5kIHN0YXR1cyBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpxWEhSO1xuXHR9LFxuXG5cdGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIiApO1xuXHR9LFxuXG5cdGdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xuXHR9XG59KTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXHRcdC8vIHNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG5cdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkuYWpheCh7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSk7XG5cdH07XG59KTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkge1xuXHRyZXR1cm4galF1ZXJ5LmFqYXgoe1xuXHRcdHVybDogdXJsLFxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cdFx0XCJ0aHJvd3NcIjogdHJ1ZVxuXHR9KTtcbn07XG5cblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSkge1xuXHRcdFx0XHRqUXVlcnkodGhpcykud3JhcEFsbCggaHRtbC5jYWxsKHRoaXMsIGkpICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXNbMF0gKSB7XG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0dmFyIHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbMF0ub3duZXJEb2N1bWVudCApLmVxKDApLmNsb25lKHRydWUpO1xuXG5cdFx0XHRpZiAoIHRoaXNbMF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0d3JhcC5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RDaGlsZCAmJiBlbGVtLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpIHtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLndyYXBJbm5lciggaHRtbC5jYWxsKHRoaXMsIGkpICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKHRoaXMsIGkpIDogaHRtbCApO1xuXHRcdH0pO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIWpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJib2R5XCIgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdFx0fVxuXHRcdH0pLmVuZCgpO1xuXHR9XG59KTtcblxuXG5qUXVlcnkuZXhwci5maWx0ZXJzLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHQvLyBTdXBwb3J0OiBPcGVyYSA8PSAxMi4xMlxuXHQvLyBPcGVyYSByZXBvcnRzIG9mZnNldFdpZHRocyBhbmQgb2Zmc2V0SGVpZ2h0cyBsZXNzIHRoYW4gemVybyBvbiBzb21lIGVsZW1lbnRzXG5cdHJldHVybiBlbGVtLm9mZnNldFdpZHRoIDw9IDAgJiYgZWxlbS5vZmZzZXRIZWlnaHQgPD0gMCB8fFxuXHRcdCghc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMoKSAmJlxuXHRcdFx0KChlbGVtLnN0eWxlICYmIGVsZW0uc3R5bGUuZGlzcGxheSkgfHwgalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSkgPT09IFwibm9uZVwiKTtcbn07XG5cbmpRdWVyeS5leHByLmZpbHRlcnMudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLmZpbHRlcnMuaGlkZGVuKCBlbGVtICk7XG59O1xuXG5cblxuXG52YXIgcjIwID0gLyUyMC9nLFxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBvYmogKSApIHtcblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cdFx0XHRcdC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cblx0XHRcdFx0YWRkKCBwcmVmaXgsIHYgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgPyBpIDogXCJcIiApICsgXCJdXCIsIHYsIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgalF1ZXJ5LnR5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHR9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0dmFyIHByZWZpeCxcblx0XHRzID0gW10sXG5cdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHJldHVybiBpdHMgdmFsdWVcblx0XHRcdHZhbHVlID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgPyB2YWx1ZSgpIDogKCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG5cdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSApO1xuXHRcdH07XG5cblx0Ly8gU2V0IHRyYWRpdGlvbmFsIHRvIHRydWUgZm9yIGpRdWVyeSA8PSAxLjMuMiBiZWhhdmlvci5cblx0aWYgKCB0cmFkaXRpb25hbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHRyYWRpdGlvbmFsID0galF1ZXJ5LmFqYXhTZXR0aW5ncyAmJiBqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsO1xuXHR9XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBqUXVlcnkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0pO1xuXG5cdH0gZWxzZSB7XG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSlcblx0XHQuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cdFx0XHQvLyBVc2UgLmlzKFwiOmRpc2FibGVkXCIpIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0pXG5cdFx0Lm1hcChmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0eyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0pLmdldCgpO1xuXHR9XG59KTtcblxuXG4vLyBDcmVhdGUgdGhlIHJlcXVlc3Qgb2JqZWN0XG4vLyAoVGhpcyBpcyBzdGlsbCBhdHRhY2hlZCB0byBhamF4U2V0dGluZ3MgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IHdpbmRvdy5BY3RpdmVYT2JqZWN0ICE9PSB1bmRlZmluZWQgP1xuXHQvLyBTdXBwb3J0OiBJRTYrXG5cdGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gWEhSIGNhbm5vdCBhY2Nlc3MgbG9jYWwgZmlsZXMsIGFsd2F5cyB1c2UgQWN0aXZlWCBmb3IgdGhhdCBjYXNlXG5cdFx0cmV0dXJuICF0aGlzLmlzTG9jYWwgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU3LThcblx0XHRcdC8vIG9sZElFIFhIUiBkb2VzIG5vdCBzdXBwb3J0IG5vbi1SRkMyNjE2IG1ldGhvZHMgKCMxMzI0MClcblx0XHRcdC8vIFNlZSBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvbXM1MzY2NDgodj12cy44NSkuYXNweFxuXHRcdFx0Ly8gYW5kIGh0dHA6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2L3JmYzI2MTYtc2VjOS5odG1sI3NlYzlcblx0XHRcdC8vIEFsdGhvdWdoIHRoaXMgY2hlY2sgZm9yIHNpeCBtZXRob2RzIGluc3RlYWQgb2YgZWlnaHRcblx0XHRcdC8vIHNpbmNlIElFIGFsc28gZG9lcyBub3Qgc3VwcG9ydCBcInRyYWNlXCIgYW5kIFwiY29ubmVjdFwiXG5cdFx0XHQvXihnZXR8cG9zdHxoZWFkfHB1dHxkZWxldGV8b3B0aW9ucykkL2kudGVzdCggdGhpcy50eXBlICkgJiZcblxuXHRcdFx0Y3JlYXRlU3RhbmRhcmRYSFIoKSB8fCBjcmVhdGVBY3RpdmVYSFIoKTtcblx0fSA6XG5cdC8vIEZvciBhbGwgb3RoZXIgYnJvd3NlcnMsIHVzZSB0aGUgc3RhbmRhcmQgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0XG5cdGNyZWF0ZVN0YW5kYXJkWEhSO1xuXG52YXIgeGhySWQgPSAwLFxuXHR4aHJDYWxsYmFja3MgPSB7fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuLy8gU3VwcG9ydDogSUU8MTBcbi8vIE9wZW4gcmVxdWVzdHMgbXVzdCBiZSBtYW51YWxseSBhYm9ydGVkIG9uIHVubG9hZCAoIzUyODApXG4vLyBTZWUgaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20va2IvMjg1Njc0NiBmb3IgbW9yZSBpbmZvXG5pZiAoIHdpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0d2luZG93LmF0dGFjaEV2ZW50KCBcIm9udW5sb2FkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdGZvciAoIHZhciBrZXkgaW4geGhyQ2FsbGJhY2tzICkge1xuXHRcdFx0eGhyQ2FsbGJhY2tzWyBrZXkgXSggdW5kZWZpbmVkLCB0cnVlICk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gRGV0ZXJtaW5lIHN1cHBvcnQgcHJvcGVydGllc1xuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xueGhyU3VwcG9ydGVkID0gc3VwcG9ydC5hamF4ID0gISF4aHJTdXBwb3J0ZWQ7XG5cbi8vIENyZWF0ZSB0cmFuc3BvcnQgaWYgdGhlIGJyb3dzZXIgY2FuIHByb3ZpZGUgYW4geGhyXG5pZiAoIHhoclN1cHBvcnRlZCApIHtcblxuXHRqUXVlcnkuYWpheFRyYW5zcG9ydChmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiB8fCBzdXBwb3J0LmNvcnMgKSB7XG5cblx0XHRcdHZhciBjYWxsYmFjaztcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdFx0eGhyID0gb3B0aW9ucy54aHIoKSxcblx0XHRcdFx0XHRcdGlkID0gKyt4aHJJZDtcblxuXHRcdFx0XHRcdC8vIE9wZW4gdGhlIHNvY2tldFxuXHRcdFx0XHRcdHhoci5vcGVuKCBvcHRpb25zLnR5cGUsIG9wdGlvbnMudXJsLCBvcHRpb25zLmFzeW5jLCBvcHRpb25zLnVzZXJuYW1lLCBvcHRpb25zLnBhc3N3b3JkICk7XG5cblx0XHRcdFx0XHQvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXG5cdFx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHRcdHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG5cdFx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0XHQvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuXHRcdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRcdGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdICkge1xuXHRcdFx0XHRcdFx0aGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0XHRcdFx0XHQvLyBJRSdzIEFjdGl2ZVhPYmplY3QgdGhyb3dzIGEgJ1R5cGUgTWlzbWF0Y2gnIGV4Y2VwdGlvbiB3aGVuIHNldHRpbmdcblx0XHRcdFx0XHRcdC8vIHJlcXVlc3QgaGVhZGVyIHRvIGEgbnVsbC12YWx1ZS5cblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHQvLyBUbyBrZWVwIGNvbnNpc3RlbnQgd2l0aCBvdGhlciBYSFIgaW1wbGVtZW50YXRpb25zLCBjYXN0IHRoZSB2YWx1ZVxuXHRcdFx0XHRcdFx0Ly8gdG8gc3RyaW5nIGFuZCBpZ25vcmUgYHVuZGVmaW5lZGAuXG5cdFx0XHRcdFx0XHRpZiAoIGhlYWRlcnNbIGkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICsgXCJcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERvIHNlbmQgdGhlIHJlcXVlc3Rcblx0XHRcdFx0XHQvLyBUaGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24gd2hpY2ggaXMgYWN0dWFsbHlcblx0XHRcdFx0XHQvLyBoYW5kbGVkIGluIGpRdWVyeS5hamF4IChzbyBubyB0cnkvY2F0Y2ggaGVyZSlcblx0XHRcdFx0XHR4aHIuc2VuZCggKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhICkgfHwgbnVsbCApO1xuXG5cdFx0XHRcdFx0Ly8gTGlzdGVuZXJcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBfLCBpc0Fib3J0ICkge1xuXHRcdFx0XHRcdFx0dmFyIHN0YXR1cywgc3RhdHVzVGV4dCwgcmVzcG9uc2VzO1xuXG5cdFx0XHRcdFx0XHQvLyBXYXMgbmV2ZXIgY2FsbGVkIGFuZCBpcyBhYm9ydGVkIG9yIGNvbXBsZXRlXG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICYmICggaXNBYm9ydCB8fCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApICkge1xuXHRcdFx0XHRcdFx0XHQvLyBDbGVhbiB1cFxuXHRcdFx0XHRcdFx0XHRkZWxldGUgeGhyQ2FsbGJhY2tzWyBpZCBdO1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGpRdWVyeS5ub29wO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFib3J0IG1hbnVhbGx5IGlmIG5lZWRlZFxuXHRcdFx0XHRcdFx0XHRpZiAoIGlzQWJvcnQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSAhPT0gNCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZXMgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXMgPSB4aHIuc3RhdHVzO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8MTBcblx0XHRcdFx0XHRcdFx0XHQvLyBBY2Nlc3NpbmcgYmluYXJ5LWRhdGEgcmVzcG9uc2VUZXh0IHRocm93cyBhbiBleGNlcHRpb25cblx0XHRcdFx0XHRcdFx0XHQvLyAoIzExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5yZXNwb25zZVRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZXMudGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmlyZWZveCB0aHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYWNjZXNzaW5nXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc3RhdHVzVGV4dCBmb3IgZmF1bHR5IGNyb3NzLWRvbWFpbiByZXF1ZXN0c1xuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQ7XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCggZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFdlIG5vcm1hbGl6ZSB3aXRoIFdlYmtpdCBnaXZpbmcgYW4gZW1wdHkgc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwiXCI7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmlsdGVyIHN0YXR1cyBmb3Igbm9uIHN0YW5kYXJkIGJlaGF2aW9yc1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gSWYgdGhlIHJlcXVlc3QgaXMgbG9jYWwgYW5kIHdlIGhhdmUgZGF0YTogYXNzdW1lIGEgc3VjY2Vzc1xuXHRcdFx0XHRcdFx0XHRcdC8vIChzdWNjZXNzIHdpdGggbm8gZGF0YSB3b24ndCBnZXQgbm90aWZpZWQsIHRoYXQncyB0aGUgYmVzdCB3ZVxuXHRcdFx0XHRcdFx0XHRcdC8vIGNhbiBkbyBnaXZlbiBjdXJyZW50IGltcGxlbWVudGF0aW9ucylcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFzdGF0dXMgJiYgb3B0aW9ucy5pc0xvY2FsICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzID0gcmVzcG9uc2VzLnRleHQgPyAyMDAgOiA0MDQ7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gSUUgLSAjMTQ1MDogc29tZXRpbWVzIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDEyMjMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXMgPSAyMDQ7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIENhbGwgY29tcGxldGUgaWYgbmVlZGVkXG5cdFx0XHRcdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIHN0YXR1cywgc3RhdHVzVGV4dCwgcmVzcG9uc2VzLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy5hc3luYyApIHtcblx0XHRcdFx0XHRcdC8vIGlmIHdlJ3JlIGluIHN5bmMgbW9kZSB3ZSBmaXJlIHRoZSBjYWxsYmFja1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblx0XHRcdFx0XHRcdC8vIChJRTYgJiBJRTcpIGlmIGl0J3MgaW4gY2FjaGUgYW5kIGhhcyBiZWVuXG5cdFx0XHRcdFx0XHQvLyByZXRyaWV2ZWQgZGlyZWN0bHkgd2UgbmVlZCB0byBmaXJlIHRoZSBjYWxsYmFja1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dCggY2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gQWRkIHRvIHRoZSBsaXN0IG9mIGFjdGl2ZSB4aHIgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0geGhyQ2FsbGJhY2tzWyBpZCBdID0gY2FsbGJhY2s7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soIHVuZGVmaW5lZCwgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBGdW5jdGlvbnMgdG8gY3JlYXRlIHhocnNcbmZ1bmN0aW9uIGNyZWF0ZVN0YW5kYXJkWEhSKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2goIGUgKSB7fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVBY3RpdmVYSFIoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCggXCJNaWNyb3NvZnQuWE1MSFRUUFwiICk7XG5cdH0gY2F0Y2goIGUgKSB7fVxufVxuXG5cblxuXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxualF1ZXJ5LmFqYXhTZXR1cCh7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHR9LFxuXHRjb250ZW50czoge1xuXHRcdHNjcmlwdDogLyg/OmphdmF8ZWNtYSlzY3JpcHQvXG5cdH0sXG5cdGNvbnZlcnRlcnM6IHtcblx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcblx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgZ2xvYmFsXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0fVxuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy50eXBlID0gXCJHRVRcIjtcblx0XHRzLmdsb2JhbCA9IGZhbHNlO1xuXHR9XG59KTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24ocykge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXG5cdFx0dmFyIHNjcmlwdCxcblx0XHRcdGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGpRdWVyeShcImhlYWRcIilbMF0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0cmV0dXJuIHtcblxuXHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNhbGxiYWNrICkge1xuXG5cdFx0XHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG5cblx0XHRcdFx0c2NyaXB0LmFzeW5jID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoIHMuc2NyaXB0Q2hhcnNldCApIHtcblx0XHRcdFx0XHRzY3JpcHQuY2hhcnNldCA9IHMuc2NyaXB0Q2hhcnNldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNjcmlwdC5zcmMgPSBzLnVybDtcblxuXHRcdFx0XHQvLyBBdHRhY2ggaGFuZGxlcnMgZm9yIGFsbCBicm93c2Vyc1xuXHRcdFx0XHRzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCBfLCBpc0Fib3J0ICkge1xuXG5cdFx0XHRcdFx0aWYgKCBpc0Fib3J0IHx8ICFzY3JpcHQucmVhZHlTdGF0ZSB8fCAvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KCBzY3JpcHQucmVhZHlTdGF0ZSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgbWVtb3J5IGxlYWsgaW4gSUVcblx0XHRcdFx0XHRcdHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIHRoZSBzY3JpcHRcblx0XHRcdFx0XHRcdGlmICggc2NyaXB0LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHRcdHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gRGVyZWZlcmVuY2UgdGhlIHNjcmlwdFxuXHRcdFx0XHRcdFx0c2NyaXB0ID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0Ly8gQ2FsbGJhY2sgaWYgbm90IGFib3J0XG5cdFx0XHRcdFx0XHRpZiAoICFpc0Fib3J0ICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayggMjAwLCBcInN1Y2Nlc3NcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBDaXJjdW12ZW50IElFNiBidWdzIHdpdGggYmFzZSBlbGVtZW50cyAoIzI3MDkgYW5kICM0Mzc4KSBieSBwcmVwZW5kaW5nXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZSggc2NyaXB0LCBoZWFkLmZpcnN0Q2hpbGQgKTtcblx0XHRcdH0sXG5cblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBzY3JpcHQgKSB7XG5cdFx0XHRcdFx0c2NyaXB0Lm9ubG9hZCggdW5kZWZpbmVkLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59KTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59KTtcblxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblxuXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXG5cdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFwidXJsXCIgOlxuXHRcdFx0dHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJiAhKCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpICYmIHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuXHRcdCk7XG5cblx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcblxuXHRcdC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcblx0XHRjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBqUXVlcnkuaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgP1xuXHRcdFx0cy5qc29ucENhbGxiYWNrKCkgOlxuXHRcdFx0cy5qc29ucENhbGxiYWNrO1xuXG5cdFx0Ly8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuXHRcdGlmICgganNvblByb3AgKSB7XG5cdFx0XHRzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsIFwiJDFcIiArIGNhbGxiYWNrTmFtZSApO1xuXHRcdH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xuXHRcdFx0cy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcblx0XHR9XG5cblx0XHQvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXG5cdFx0cy5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBmb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gUmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblx0XHRcdFx0Ly8gbWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG5cdFx0XHRcdHMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjaztcblxuXHRcdFx0XHQvLyBzYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG5cdFx0XHRcdG9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXG5cdFx0XHRpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xuXHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdH0pO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0pO1xuXG5cblxuXG4vLyBkYXRhOiBzdHJpbmcgb2YgaHRtbFxuLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LCBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdHZhciBwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKSxcblx0XHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbMV0gKSBdO1xuXHR9XG5cblx0cGFyc2VkID0galF1ZXJ5LmJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cblx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8vIEtlZXAgYSBjb3B5IG9mIHRoZSBvbGQgbG9hZCBtZXRob2RcbnZhciBfbG9hZCA9IGpRdWVyeS5mbi5sb2FkO1xuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHRpZiAoIHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIgJiYgX2xvYWQgKSB7XG5cdFx0cmV0dXJuIF9sb2FkLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0fVxuXG5cdHZhciBzZWxlY3RvciwgcmVzcG9uc2UsIHR5cGUsXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoXCIgXCIpO1xuXG5cdGlmICggb2ZmID49IDAgKSB7XG5cdFx0c2VsZWN0b3IgPSBqUXVlcnkudHJpbSggdXJsLnNsaWNlKCBvZmYsIHVybC5sZW5ndGggKSApO1xuXHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG5cdH1cblxuXHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdHVybDogdXJsLFxuXG5cdFx0XHQvLyBpZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkXG5cdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSkuZG9uZShmdW5jdGlvbiggcmVzcG9uc2VUZXh0ICkge1xuXG5cdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcblx0XHRcdHJlc3BvbnNlID0gYXJndW1lbnRzO1xuXG5cdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cblxuXHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG5cdFx0XHRcdGpRdWVyeShcIjxkaXY+XCIpLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdH0pLmNvbXBsZXRlKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdHNlbGYuZWFjaCggY2FsbGJhY2ssIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuLy8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcbmpRdWVyeS5lYWNoKCBbIFwiYWpheFN0YXJ0XCIsIFwiYWpheFN0b3BcIiwgXCJhamF4Q29tcGxldGVcIiwgXCJhamF4RXJyb3JcIiwgXCJhamF4U3VjY2Vzc1wiLCBcImFqYXhTZW5kXCIgXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSk7XG5cblxuXG5cbmpRdWVyeS5leHByLmZpbHRlcnMuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSkubGVuZ3RoO1xufTtcblxuXG5cblxuXG52YXIgZG9jRWxlbSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbi8qKlxuICogR2V0cyBhIHdpbmRvdyBmcm9tIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93KCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgP1xuXHRcdGVsZW0gOlxuXHRcdGVsZW0ubm9kZVR5cGUgPT09IDkgP1xuXHRcdFx0ZWxlbS5kZWZhdWx0VmlldyB8fCBlbGVtLnBhcmVudFdpbmRvdyA6XG5cdFx0XHRmYWxzZTtcbn1cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBzZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHRqUXVlcnkuaW5BcnJheShcImF1dG9cIiwgWyBjdXJDU1NUb3AsIGN1ckNTU0xlZnQgXSApID4gLTE7XG5cblx0XHQvLyBuZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlciB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcblx0XHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xuXHRcdFx0Y3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7XG5cdFx0XHRjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG5cdFx0XHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBjdXJPZmZzZXQgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0fVxuXG5cdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyRWxlbS5jc3MoIHByb3BzICk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHR2YXIgZG9jRWxlbSwgd2luLFxuXHRcdFx0Ym94ID0geyB0b3A6IDAsIGxlZnQ6IDAgfSxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRkb2MgPSBlbGVtICYmIGVsZW0ub3duZXJEb2N1bWVudDtcblxuXHRcdGlmICggIWRvYyApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdC8vIE1ha2Ugc3VyZSBpdCdzIG5vdCBhIGRpc2Nvbm5lY3RlZCBET00gbm9kZVxuXHRcdGlmICggIWpRdWVyeS5jb250YWlucyggZG9jRWxlbSwgZWxlbSApICkge1xuXHRcdFx0cmV0dXJuIGJveDtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBkb24ndCBoYXZlIGdCQ1IsIGp1c3QgdXNlIDAsMCByYXRoZXIgdGhhbiBlcnJvclxuXHRcdC8vIEJsYWNrQmVycnkgNSwgaU9TIDMgKG9yaWdpbmFsIGlQaG9uZSlcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gc3RydW5kZWZpbmVkICkge1xuXHRcdFx0Ym94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR9XG5cdFx0d2luID0gZ2V0V2luZG93KCBkb2MgKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBib3gudG9wICArICggd2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wICkgIC0gKCBkb2NFbGVtLmNsaWVudFRvcCAgfHwgMCApLFxuXHRcdFx0bGVmdDogYm94LmxlZnQgKyAoIHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbExlZnQgKSAtICggZG9jRWxlbS5jbGllbnRMZWZ0IHx8IDAgKVxuXHRcdH07XG5cdH0sXG5cblx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXNbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdC8vIGZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB3aW5kb3cgKHBhcmVudE9mZnNldCA9IHt0b3A6MCwgbGVmdDogMH0sIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblx0XHRcdC8vIHdlIGFzc3VtZSB0aGF0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyBhdmFpbGFibGUgd2hlbiBjb21wdXRlZCBwb3NpdGlvbiBpcyBmaXhlZFxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0LnRvcCAgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0Ly8gbm90ZTogd2hlbiBhbiBlbGVtZW50IGhhcyBtYXJnaW46IGF1dG8gdGhlIG9mZnNldExlZnQgYW5kIG1hcmdpbkxlZnRcblx0XHQvLyBhcmUgdGhlIHNhbWUgaW4gU2FmYXJpIGNhdXNpbmcgb2Zmc2V0LmxlZnQgdG8gaW5jb3JyZWN0bHkgYmUgMFxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6ICBvZmZzZXQudG9wICAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUpXG5cdFx0fTtcblx0fSxcblxuXHRvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCB8fCBkb2NFbGVtO1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudCwgXCJodG1sXCIgKSAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkgKSB7XG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0VsZW07XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0dmFyIHRvcCA9IC9ZLy50ZXN0KCBwcm9wICk7XG5cblx0alF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXHRcdFx0dmFyIHdpbiA9IGdldFdpbmRvdyggZWxlbSApO1xuXG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gd2luID8gKHByb3AgaW4gd2luKSA/IHdpblsgcHJvcCBdIDpcblx0XHRcdFx0XHR3aW4uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBtZXRob2QgXSA6XG5cdFx0XHRcdFx0ZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IGpRdWVyeSggd2luICkuc2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IGpRdWVyeSggd2luICkuc2Nyb2xsVG9wKClcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGgsIG51bGwgKTtcblx0fTtcbn0pO1xuXG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwgd2UganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblx0XHRcdFx0Ly8gaWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59KTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LCBmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblx0XHQvLyBtYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcblx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZG9jO1xuXG5cdFx0XHRcdGlmICggalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0Ly8gQXMgb2YgNS84LzIwMTIgdGhpcyB3aWxsIHlpZWxkIGluY29ycmVjdCByZXN1bHRzIGZvciBNb2JpbGUgU2FmYXJpLCBidXQgdGhlcmVcblx0XHRcdFx0XHQvLyBpc24ndCBhIHdob2xlIGxvdCB3ZSBjYW4gZG8uIFNlZSBwdWxsIHJlcXVlc3QgYXQgdGhpcyBVUkwgZm9yIGRpc2N1c3Npb246XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC83NjRcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSwgd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0Ly8gdW5mb3J0dW5hdGVseSwgdGhpcyBjYXVzZXMgYnVnICMzODM4IGluIElFNi84IG9ubHksIGJ1dCB0aGVyZSBpcyBjdXJyZW50bHkgbm8gZ29vZCwgc21hbGwgd2F5IHRvIGZpeCBpdC5cblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlLCBudWxsICk7XG5cdFx0fTtcblx0fSk7XG59KTtcblxuXG4vLyBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGNvbnRhaW5lZCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldFxualF1ZXJ5LmZuLnNpemUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMubGVuZ3RoO1xufTtcblxualF1ZXJ5LmZuLmFuZFNlbGYgPSBqUXVlcnkuZm4uYWRkQmFjaztcblxuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXHRkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9KTtcbn1cblxuXG5cblxudmFyXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpblxuLy8gQU1EICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggdHlwZW9mIG5vR2xvYmFsID09PSBzdHJ1bmRlZmluZWQgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5cblxucmV0dXJuIGpRdWVyeTtcblxufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9qcXVlcnkvZGlzdC9qcXVlcnkuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 7 */,
/* 8 */
/* unknown exports provided */
/* all exports used */
/*!*****************************************************************************!*\
  !*** ../~/raw-loader!./integrations/adobe/lib/video_heartbeat-2.0.2.min.js ***!
  \*****************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"/*\\n * ************************************************************************\\n *\\n *  ADOBE CONFIDENTIAL\\n *  ___________________\\n *\\n *   (c) Copyright 2017 Adobe Systems Incorporated\\n *   All Rights Reserved.\\n *\\n *  NOTICE:  All information contained herein is, and remains\\n *  the property of Adobe Systems Incorporated and its suppliers,\\n *  if any.  The intellectual and technical concepts contained\\n *  herein are proprietary to Adobe Systems Incorporated and its\\n *  suppliers and may be covered by U.S. and Foreign Patents,\\n *  patents in process, and are protected by trade secret or copyright law.\\n *  Dissemination of this information or reproduction of this material\\n *  is strictly forbidden unless prior written permission is obtained\\n *  from Adobe Systems Incorporated.\\n * ************************************************************************\\n */\\n\\n/*\\n * video heartbeats - 2.0.2 - 2017-04-21\\n * Copyright (c) 2017 Adobe Systems, Inc. All Rights Reserved.\\n */\\n\\n// Heartbeat core\\n!function(a){if(\\\"undefined\\\"==typeof b)var b={};if(\\\"undefined\\\"==typeof c)var c={};if(\\\"undefined\\\"==typeof d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),\\\"undefined\\\"==typeof e)var e={};e.clock||(e.clock={}),function(a){\\\"use strict\\\";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c=\\\"\\\";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d=\\\"0123456789abcdef\\\",e=\\\"\\\";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(b),function(a){\\\"use strict\\\";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){\\\"use strict\\\";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},a.ObjectUtils=b}(b),function(a){\\\"use strict\\\";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){\\\"use strict\\\";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended=\\\"undefined\\\"!=typeof a&&a,this._delay=\\\"undefined\\\"!=typeof b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){var b=this._queue[a];b.run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){\\\"use strict\\\";function b(a,b){if(this._name=a,!b)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||\\\"\\\").split(b.SEPARATOR),e=(c||\\\"\\\").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD=\\\"*\\\",b.SEPARATOR=\\\":\\\",b.prototype.toString=function(){return\\\"<channel: \\\"+this._name+\\\">\\\"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,\\\"#shutdown > Shutting down\\\"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b=\\\"function\\\"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];return c?void c.cmd.call(c.ctx,b):void this._logger.warn(d,\\\"#command > No command handler for: \\\"+a)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,\\\"#request > No request handler for: \\\"+a),null)}},b.prototype._removeListener=function(a,b,c){b=\\\"function\\\"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d=\\\"radio::Channel\\\";a.radio.Channel=b}(d),function(a){\\\"use strict\\\";function b(a){if(!a)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){\\\"use strict\\\";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){\\\"use strict\\\";function b(){}b.prototype.write=function(a){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},a.ILogWriter=b}(d),function(a){\\\"use strict\\\";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d),function(a){\\\"use strict\\\";function b(){}b.prototype.setLogWriter=function(a){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.getLogWriter=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.getEnabled=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.enable=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.disable=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.debug=function(a,b){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.info=function(a,b){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.warn=function(a,b){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.error=function(a,b){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},a.ILogger=b}(d),function(a){\\\"use strict\\\";function b(){this._logWriter=new d}function c(a){return a<10?\\\"00\\\"+a:a<100?\\\"0\\\"+a:\\\"\\\"+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error(\\\"Reference to the ILogWriter object cannot be NULL\\\");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e=\\\"\\\",f=new Date;e+=\\\"[\\\"+f.toTimeString()+\\\".\\\"+c(f.getMilliseconds())+\\\"] [\\\"+b+\\\"] \\\",e+=\\\"[\\\"+a+\\\"] \\\"+d,this._logWriter.write(e)}};var e=\\\"INFO\\\",f=\\\"DEBUG\\\",g=\\\"WARN\\\",h=\\\"ERROR\\\";a.Logger=b}(d),function(a){\\\"use strict\\\";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){\\\"use strict\\\";function b(a,b){this.name=a,this.data=b}b.SUCCESS=\\\"success\\\",b.ERROR=\\\"error\\\",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){\\\"use strict\\\";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;c<f;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){\\\"use strict\\\";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET=\\\"GET\\\",d.RESPONSE=\\\"response\\\",d.INSTANCE=\\\"instance\\\",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if(\\\"undefined\\\"!=typeof window.XMLHttpRequest){var c=new window.XMLHttpRequest;\\\"withCredentials\\\"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&\\\"undefined\\\"!=typeof window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){return b.status&&parseInt(b.status,10)>=400?this.onerror():(f[d.RESPONSE]=b.responseText,void g.dispatchEvent(new e(e.SUCCESS,f)))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=\\\"\\\"),this._connection.src=a.url;var b={};b[d.RESPONSE]=\\\"\\\",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){\\\"use strict\\\";var b=\\\"js\\\",c=\\\"2.0.2.123\\\",d=\\\"150f2b\\\",e=4,f={};f.getVersion=function(){return b+\\\"-\\\"+c+\\\"-\\\"+d},f.getMajor=function(){return f.getNumberAtPosition(0)},f.getMinor=function(){return f.getNumberAtPosition(1)},f.getMicro=function(){return f.getNumberAtPosition(2)},f.getPatch=function(){return f.getNumberAtPosition(3)},f.getBuild=function(){return d},f.getApiLevel=function(){return e},f.getNumberAtPosition=function(a){return c.split(\\\".\\\")[a]},a.Version=f}(c),function(a){\\\"use strict\\\";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){\\\"use strict\\\";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){\\\"use strict\\\";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){\\\"use strict\\\";function b(){}b.prototype.configure=function(a){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.bootstrap=function(a){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.setup=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.destroy=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.enable=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.disable=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.getName=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.isInitialized=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.resolveData=function(a){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},a.plugin.IPlugin=b}(d),function(a){\\\"use strict\\\";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){\\\"use strict\\\";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){\\\"use strict\\\";function b(a){if(!a)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR=\\\"error\\\",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,\\\"#addPlugin > Replacing plugin: \\\"+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g=\\\"data_channel\\\",h=\\\"ctrl_channel\\\",i=\\\"plugin::PluginManager\\\";a.plugin.PluginManager=b}(d),function(a,b){\\\"use strict\\\";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag=\\\"plugin::\\\"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED=\\\"initialized\\\",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g(\\\"Invalid state.\\\",\\\"Plugin already destroyed.\\\"))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,\\\"Unable to retrieve plugin data. Plugin: \\\"+this._name+\\\". Enabled: \\\"+this._isEnabled+\\\". Initialized: \\\"+this._isInitialized+\\\".\\\"),null;if(\\\"function\\\"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},\\\"function\\\"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return\\\"<plugin: \\\"+this._name+\\\">\\\"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,\\\"Plugin destroyed.\\\"),!1):(this._logger.error(this._logTag,\\\"Plugin disabled.\\\"),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){\\\"use strict\\\";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount=\\\"undefined\\\"!=typeof c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error(\\\"Reference to the ClockService object cannot be NULL\\\");if(this._service=a,!b)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){var a=(new Date).getTime();return a>this._nextTickTimestamp-f/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},b.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b=\\\"undefined\\\"!=typeof b&&b,this._logger.debug(d,\\\"#resumeTimer(name=\\\"+a+\\\", reset=\\\"+b+\\\")\\\");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b=\\\"undefined\\\"!=typeof b&&b,this._logger.debug(d,\\\"#pauseTimer(name=\\\"+a+\\\", reset=\\\"+b+\\\")\\\");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return!!b&&!b.isActive},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,\\\"#_onTick() > \\\"+b.name+\\\"(\\\"+b.tick+\\\" | \\\"+b.repeatCount+\\\")\\\"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d=\\\"service.clock::TimerManager\\\",e=-1,f=.25;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){\\\"use strict\\\";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=\\\".tick\\\";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+\\\".\\\");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h=\\\"service.clock\\\",i=\\\"create\\\",j=\\\"pause\\\",k=\\\"resume\\\",l=\\\"destroy\\\",m=\\\"name\\\",n=\\\"interval\\\",o=\\\"repeat_count\\\",p=\\\"tick\\\",q=\\\"reset\\\",r=\\\"is_paused\\\",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){\\\"use strict\\\";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error(\\\"Configuration object cannot be NULL.\\\");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,\\\"Instance is destroyed.\\\")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h=\\\"Heartbeat\\\";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\\n\\n// VideoPlayerPlugin\\n!function(a){if(\\\"undefined\\\"==typeof b)var b={};!function(a){\\\"use strict\\\";var b={};b.ASSET_TYPE_VOD=\\\"vod\\\",b.ASSET_TYPE_LIVE=\\\"live\\\",b.ASSET_TYPE_LINEAR=\\\"linear\\\",a.AssetType=b}(b),function(a){\\\"use strict\\\";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return\\\"playerName=\\\"+this.playerName+\\\", name=\\\"+this.name+\\\", position=\\\"+this.position+\\\", startTime=\\\"+this.startTime},a.AdBreakInfo=b}(b),function(a){\\\"use strict\\\";function b(){this.id=null,this.name=null,this.length=null,this.position=null}b.prototype.toString=function(){return\\\"id=\\\"+this.id+\\\", name=\\\"+this.name+\\\", length=\\\"+this.length+\\\", position=\\\"+this.position},a.AdInfo=b}(b),function(a){\\\"use strict\\\";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return\\\"name=\\\"+this.name+\\\", length=\\\"+this.length+\\\", position=\\\"+this.position+\\\", startTime=\\\"+this.startTime},a.ChapterInfo=b}(b),function(a){\\\"use strict\\\";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return\\\"bitrate=\\\"+this.bitrate+\\\", fps=\\\"+this.fps+\\\", droppedFrames=\\\"+this.droppedFrames+\\\", startupTime=\\\"+this.startupTime},a.QoSInfo=b}(b),function(a){\\\"use strict\\\";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null,this.resumed=!1}b.prototype.toString=function(){return\\\"playerName=\\\"+this.playerName+\\\", id=\\\"+this.id+\\\", name=\\\"+this.name+\\\", length=\\\"+this.length+\\\", playhead=\\\"+this.playhead+\\\", streamType=\\\"+this.streamType+\\\", resumed=\\\"+this.resumed},a.VideoInfo=b}(b),function(a){\\\"use strict\\\";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){\\\"use strict\\\";function b(){}b.prototype.getVideoInfo=function(){throw new Error(\\\"Implementation error: Method must be overridden.\\\")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){\\\"use strict\\\";function c(a){if(c.__super__.constructor.call(this,h),!a)throw new Error(\\\"PlayerPlugin delegate cannot be NULL.\\\");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._isTrackingAd=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._setupDataResolver()}var d=a.plugin.ParamMapping,e=a.Trigger,f=a.plugin.BasePlugin,g=b.VideoPlayerPluginConfig;a.extend(c,f),c.prototype.configure=function(a){if(!a)throw new Error(\\\"Reference to the configuration data cannot be NULL.\\\");if(!(a instanceof g))throw new Error(\\\"Expected config data to be instance of VideoPlayerPluginConfig.\\\");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,\\\"#configure(debugLogging=\\\"+a.debugLogging+\\\")\\\")},c.prototype.bootstrap=function(a){c.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},c.prototype._cmdVideoIdleStart=function(a){this._logger.info(this._logTag,\\\"#_cmdVideoIdleStart()\\\"),this._videoIdle=!0},c.prototype._cmdVideoIdleResume=function(a){this._logger.info(this._logTag,\\\"#_cmdVideoIdleResume()\\\"),this._videoIdle&&(this._trigger(o),this._trigger(p),a.isInChapter&&this._trigger(A),a.isInAd&&(this._trigger(u),this._isTrackingAd=!0)),this._videoIdle=!1},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,\\\"#trackSessionStart()\\\"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,\\\"#trackSessionStart() > No active tracking session.\\\");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,\\\"#trackSessionStart() > Tracking session already started.\\\");this._trigger(o),this._isTrackingSessionStarted=!0;var a=this._dataResolver([\\\"video.resumed\\\"]);a.hasOwnProperty(\\\"video.resumed\\\")&&a[\\\"video.resumed\\\"]&&this._trigger(p)}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,\\\"#trackVideoLoad()\\\"),this._canProcess()&&(this._trigger(m),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,\\\"#trackVideoUnload()\\\"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,\\\"#trackVideoUnload() > No active tracking session.\\\");this._stopPlayheadTimer(),this._trigger(n),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1}},c.prototype.trackPlay=function(){this._logger.info(this._logTag,\\\"#trackPlay()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackPlay\\\")&&(this._trigger(s),this._startPlayheadTimer())},c.prototype.trackPause=function(){if(this._logger.info(this._logTag,\\\"#trackPause()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackPause\\\")){this._stopPlayheadTimer();var a={};a[H]=!1,this._trigger(t,a)}},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,\\\"#trackBufferStart()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackBufferStart\\\")&&(this._stopPlayheadTimer(),this._trigger(w))},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,\\\"#trackBufferComplete()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackBufferComplete\\\")&&(this._trigger(x),this._startPlayheadTimer())},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,\\\"#trackSeekStart()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackSeekStart\\\")&&(this._stopPlayheadTimer(),this._trigger(y))},c.prototype.trackSeekComplete=function(){if(this._logger.info(this._logTag,\\\"#trackSeekComplete()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackSeekComplete\\\")){this._trigger(z),this._startPlayheadTimer();var a=this._dataResolver([\\\"ad.isInAd\\\"]);this._isTrackingAd=a.hasOwnProperty(\\\"ad.isInAd\\\")&&a[\\\"ad.isInAd\\\"]}},c.prototype.trackComplete=function(a){if(this._logger.info(this._logTag,\\\"#trackComplete()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackComplete\\\")){var b={};b[G]=a,this._stopPlayheadTimer(),this._trigger(q,b)}},c.prototype.trackTimedMetadata=function(a){this._logger.info(this._logTag,\\\"#trackComplete()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackTimedMetadata\\\")&&this._trigger(r,a)},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,\\\"#trackChapterStart()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"#trackChapterStart\\\")&&this._trigger(A)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,\\\"trackChapterComplete()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackChapterComplete\\\")&&this._trigger(B)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,\\\"#trackAdStart()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackAdStart\\\")&&(this._trigger(u),this._isTrackingAd=!0)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,\\\"#trackAdComplete()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackAdComplete\\\")&&(this._trigger(v),this._isTrackingAd=!1)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,\\\"#trackBitrateChange()\\\"),this._canProcess()&&this._startSessionIfNeeded(\\\"trackBitrateChange\\\")&&this._trigger(C)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,\\\"#trackVideoPlayerError(errorId=\\\"+a+\\\")\\\"),this._startSessionIfNeeded(\\\"trackVideoPlayerError\\\")){var b={};b[I]=l,b[J]=a,this._trigger(D,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,\\\"#trackApplicationError(errorId=\\\"+a+\\\")\\\"),this._startSessionIfNeeded(\\\"trackApplicationError\\\")){var b={};b[I]=k,b[J]=a,this._trigger(D,b)}},c.prototype._registerCommands=function(){this._pluginManager.comply(this,\\\"handleVideoIdleStart\\\",this._cmdVideoIdleStart),this._pluginManager.comply(this,\\\"handleVideoIdleResume\\\",this._cmdVideoIdleResume)},c.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new e(j,E),this,\\\"handleVideoIdleStart\\\"),this._pluginManager.registerBehaviour(new e(j,F),this,\\\"handleVideoIdleResume\\\",[new d(i,\\\"ad.isInAd\\\",\\\"isInAd\\\"),new d(i,\\\"chapter.isInChapter\\\",\\\"isInChapter\\\")])},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,\\\"Data from delegate > VideoInfo: \\\"+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,\\\"Data from delegate > AdInfo: \\\"+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,\\\"Data from delegate > AdBreakInfo: \\\"+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,\\\"Data from delegate > ChapterInfo: \\\"+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,\\\"Data from delegate > QoSInfo: \\\"+g.qos),g.qos)}var f={},g={},h=this;f[\\\"video.id\\\"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,\\\"Resolving video.id: \\\"+c),c},f[\\\"video.name\\\"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,\\\"Resolving video.name: \\\"+c),c},f[\\\"video.length\\\"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,\\\"Resolving video.length: \\\"+c),c},f[\\\"video.playerName\\\"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,\\\"Resolving video.playerName: \\\"+c),c},f[\\\"video.streamType\\\"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,\\\"Resolving video.streamType: \\\"+c),c},f[\\\"video.playhead\\\"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,\\\"Resolving video.playhead: \\\"+c),c},f[\\\"video.resumed\\\"]=function(){var b=a(),c=!!b&&b.resumed;return h._logger.debug(h._logTag,\\\"Resolving video.resumed: \\\"+c),c},f[\\\"video.playheadStalled\\\"]=function(){return this._playheadStalled},f[\\\"pod.name\\\"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,\\\"Resolving pod.name: \\\"+b),b},f[\\\"pod.playerName\\\"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,\\\"Resolving pod.playerName: \\\"+b),b},f[\\\"pod.position\\\"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,\\\"Resolving pod.position: \\\"+b),b},f[\\\"pod.startTime\\\"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,\\\"Resolving pod.startTime: \\\"+b),b},f[\\\"ad.isInAd\\\"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,\\\"Resolving ad.isInAd: \\\"+c),c},f[\\\"ad.isInAdBreak\\\"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,\\\"Resolving ad.isInAdBreak: \\\"+b),b},f[\\\"ad.id\\\"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,\\\"Resolving ad.id: \\\"+c),c},f[\\\"ad.name\\\"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,\\\"Resolving ad.name: \\\"+c),c},f[\\\"ad.length\\\"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,\\\"Resolving ad.length: \\\"+c),c},f[\\\"ad.position\\\"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,\\\"Resolving ad.position: \\\"+c),c},f[\\\"chapter.isInChapter\\\"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,\\\"Resolving chapter.isInChapter: \\\"+b),b},f[\\\"chapter.name\\\"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,\\\"Resolving chapter.name: \\\"+b),b},f[\\\"chapter.length\\\"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,\\\"Resolving chapter.length: \\\"+b),b},f[\\\"chapter.position\\\"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,\\\"Resolving chapter.position: \\\"+b),b},f[\\\"chapter.startTime\\\"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,\\\"Resolving chapter.startTime: \\\"+b),b},f[\\\"qos.bitrate\\\"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,\\\"Resolving qos.bitrate: \\\"+b),b},f[\\\"qos.fps\\\"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,\\\"Resolving qos.fps: \\\"+b),b},f[\\\"qos.droppedFrames\\\"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,\\\"Resolving qos.droppedFrames: \\\"+b),b},f[\\\"qos.startupTime\\\"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,\\\"Resolving qos.startupTime: \\\"+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,\\\"#_trackPlayheadStall()\\\"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(t)))},c.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,\\\"#_trackExitStall()\\\"),this._playheadStalled=!1,this._trigger(s)))},c.prototype._startPlayheadTimer=function(){var a=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(a._canProcess()){var b=a._dataResolver([\\\"ad.isInAd\\\",\\\"video.playhead\\\"]);if(a._isTrackingAd)a._playheadStalled&&a._trackExitStall(),b.hasOwnProperty(\\\"ad.isInAd\\\")&&!b[\\\"ad.isInAd\\\"]&&(a._isTrackingAd=!1);else{var c=b[\\\"video.playhead\\\"];c!=a._previousPlayhead?a._trackExitStall():a._previousPlayhead>=0&&c==a._previousPlayhead&&(a._stalledPlayheadCount++,a._stalledPlayheadCount==L&&a._trackPlayheadStall()),a._previousPlayhead=c}}},K))},c.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,\\\"#\\\"+a+\\\"() > Tracking session auto-start.\\\"),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,\\\"#\\\"+a+\\\"() > No active tracking session.\\\"),!1)};var h=\\\"player\\\",i=h,j=\\\"adobe-heartbeat\\\",k=\\\"sourceErrorExternal\\\",l=\\\"sourceErrorSDK\\\",m=\\\"video_load\\\",n=\\\"video_unload\\\",o=\\\"video_start\\\",p=\\\"video_resume\\\",q=\\\"video_complete\\\",r=\\\"timed_metadata\\\",s=\\\"play\\\",t=\\\"pause\\\",u=\\\"ad_start\\\",v=\\\"ad_complete\\\",w=\\\"buffer_start\\\",x=\\\"buffer_complete\\\",y=\\\"seek_start\\\",z=\\\"seek_complete\\\",A=\\\"chapter_start\\\",B=\\\"chapter_complete\\\",C=\\\"bitrate_change\\\",D=\\\"track_error\\\",E=\\\"video_idle_start\\\",F=\\\"video_idle_resume\\\",G=\\\"callback\\\",H=\\\"filter_report\\\",I=\\\"source\\\",J=\\\"error_id\\\",K=1001,L=2;b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this);\\n\\n// AdobeHeartbeatPlugin\\n!function(a){if(\\\"undefined\\\"==typeof b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){\\\"use strict\\\";function c(a,b,c,d,e){if(!b)throw new Error(\\\"Reference to the channel object cannot be NULL\\\");if(this._channel=b,!a)throw new Error(\\\"Reference to the pluginManager object cannot be NULL\\\");if(this._pluginManager=a,!e)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logTag=\\\"ah::Timer.\\\"+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME=\\\"name\\\",c.KEY_INTERVAL=\\\"interval\\\",c.KEY_RESET=\\\"reset\\\",c.prototype.resume=function(a){this._logger.debug(this._logTag,\\\"Starting timer: \\\"+this._name);var b={};b[c.KEY_NAME]=e+\\\".\\\"+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,\\\"Stopping timer: \\\"+this._name);var b={};b[c.KEY_NAME]=e+\\\".\\\"+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+\\\".\\\"+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+\\\".\\\"+e+\\\".\\\"+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d(\\\"clock:\\\"+this._name+\\\".tick\\\",b))},c.prototype._installHandlers=function(){this._channel.comply(\\\"clock:\\\"+this._name+\\\".resume\\\",this._cmdResume,this),this._channel.comply(\\\"clock:\\\"+this._name+\\\".pause\\\",this._cmdPause,this),this._pluginManager.on(f,e+\\\".\\\"+this._name+\\\".tick\\\",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+\\\".\\\"+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e=\\\"heartbeat\\\",f=\\\"service.clock\\\",g=\\\"create\\\",h=\\\"pause\\\",i=\\\"resume\\\",j=\\\"destroy\\\",k=\\\"is_paused\\\";b.clock.Timer=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,\\\"#_onCheckStatusComplete(interval=\\\"+b+\\\")\\\"),b){if(b==this._interval)return void this._logger.debug(this._logTag,\\\"#_onCheckStatusComplete() > Interval value not changed.\\\");b>g?(this._logger.warn(this._logTag,\\\"#_onCheckStatusComplete() > Interval value too large: \\\"+b),this.setInterval(g)):(this._logger.debug(this._logTag,\\\"#_onCheckStatusComplete() > Interval changed to: \\\"+b),this.setInterval(b))}else this._logger.warn(this._logTag,\\\"#_onCheckStatusComplete() > Invalid interval value.\\\"),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,\\\"#_getSettings()\\\"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f=\\\"check_status\\\",g=600,h=60,i=\\\"clock:check_status.tick\\\",j=\\\"clock:check_status.get_settings\\\",k=\\\"net:check_status_complete\\\",l=\\\"check_status_interval\\\";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,\\\"#_onCheckStatusComplete(interval=\\\"+b+\\\")\\\"),b){if(b==this._interval)return void this._logger.debug(this._logTag,\\\"#_onCheckStatusComplete() > Interval value not changed.\\\");this._logger.debug(this._logTag,\\\"#_onCheckStatusComplete() > Interval changed to: \\\"+b),this.setInterval(b)}else this._logger.warn(this._logTag,\\\"#_onCheckStatusComplete() > Invalid interval value.\\\"),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(h,this._onCheckStatusComplete,this),this._channel.reply(g,function(){return this._interval},this)};var e=\\\"reporting\\\",f=10,g=\\\"reporting_interval\\\",h=\\\"net:check_status_complete\\\";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e=\\\"idle\\\",f=1800;b.clock.IdleTimer=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e=\\\"flush_filter\\\",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b,c){if(!a)throw new Error(\\\"Reference to the pluginManager object cannot be NULL\\\");if(!b)throw new Error(\\\"Reference to the channel object cannot be NULL\\\");if(!c)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c),this._idleTimer=new g(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer,g=b.clock.IdleTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT=\\\"short\\\",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"asset\\\"),this.adId=this._createAccessor(\\\"_adId\\\",\\\"ad_id\\\",null),this.sid=this._createAccessor(\\\"_sid\\\",\\\"ad_sid\\\",null),this.resolver=this._createAccessor(\\\"_resolver\\\",\\\"resolver\\\",null),this.podId=this._createAccessor(\\\"_podId\\\",\\\"pod_id\\\",null),this.podPosition=this._createAccessor(\\\"_podPosition\\\",\\\"pod_position\\\",null),this.podOffset=this._createAccessor(\\\"_podOffset\\\",\\\"pod_offset\\\",null),this.podName=this._createAccessor(\\\"_podName\\\",\\\"pod_name\\\",null),this.adLength=this._createAccessor(\\\"_adLength\\\",\\\"ad_length\\\",null),this.adName=this._createAccessor(\\\"_adName\\\",\\\"ad_name\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(\\\"\\\"),this.sid(\\\"\\\"),this.resolver(\\\"\\\"),this.podId(\\\"\\\"),this.podPosition(\\\"\\\"),this.podOffset(0),this.podName(\\\"\\\"),this.adLength(0),this.adName(\\\"\\\")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"sc\\\"),this.reportSuiteId=this._createAccessor(\\\"_reportSuiteId\\\",\\\"rsid\\\",null),this.trackingServer=this._createAccessor(\\\"_trackingServer\\\",\\\"tracking_server\\\",null),this.ssl=this._createAccessor(\\\"_ssl\\\",\\\"ssl\\\",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(\\\"\\\"),this.trackingServer(\\\"\\\"),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"stream\\\"),this.id=this._createAccessor(\\\"_id\\\",\\\"chapter_id\\\",null),this.sid=this._createAccessor(\\\"_sid\\\",\\\"chapter_sid\\\",null),this.name=this._createAccessor(\\\"_name\\\",\\\"chapter_name\\\",null),this.position=this._createAccessor(\\\"_position\\\",\\\"chapter_pos\\\",null),this.length=this._createAccessor(\\\"_length\\\",\\\"chapter_length\\\",null),this.offset=this._createAccessor(\\\"_offset\\\",\\\"chapter_offset\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(\\\"\\\"),this.sid(\\\"\\\"),this.name(\\\"\\\"),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"asset\\\"),this.type=this._createAccessor(\\\"_type\\\",\\\"type\\\",null),this.videoId=this._createAccessor(\\\"_videoId\\\",\\\"video_id\\\",null),this.publisher=this._createAccessor(\\\"_publisher\\\",\\\"publisher\\\",null),this.adData=this._createAccessor(\\\"_adData\\\",\\\"ad_data\\\",null),this.chapterData=this._createAccessor(\\\"_chapterData\\\",\\\"chapter_data\\\",null),this.length=this._createAccessor(\\\"_length\\\",\\\"length\\\",null),this.name=this._createAccessor(\\\"_name\\\",\\\"name\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(\\\"\\\"),this.name(\\\"\\\"),this.videoId(\\\"\\\"),this.publisher(\\\"\\\"),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD=\\\"ad\\\",c.TYPE_MAIN_CONTENT=\\\"main\\\",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"event\\\"),this.type=this._createAccessor(\\\"_type\\\",\\\"type\\\",null),this.duration=this._createAccessor(\\\"_duration\\\",\\\"duration\\\",null),this.playhead=this._createAccessor(\\\"_playhead\\\",\\\"playhead\\\",null),this.id=this._createAccessor(\\\"_id\\\",\\\"id\\\",null),this.source=this._createAccessor(\\\"_source\\\",\\\"source\\\",null),this.ts=this._createAccessor(\\\"_ts\\\",\\\"ts\\\",null),this.prevTs=this._createAccessor(\\\"_prevTs\\\",\\\"prev_ts\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(\\\"\\\"),this.duration(0),this.playhead(0),this.id(\\\"\\\"),this.source(\\\"\\\"),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START=\\\"aa_start\\\",c.EVENT_TYPE_AA_AD_START=\\\"aa_ad_start\\\",c.EVENT_TYPE_START=\\\"start\\\",c.EVENT_TYPE_RESUME=\\\"resume\\\",c.EVENT_TYPE_CHAPTER_START=\\\"chapter_start\\\",c.EVENT_TYPE_CHAPTER_COMPLETE=\\\"chapter_complete\\\",c.EVENT_TYPE_PLAY=\\\"play\\\",c.EVENT_TYPE_PAUSE=\\\"pause\\\",c.EVENT_TYPE_STALL=\\\"stall\\\",c.EVENT_TYPE_BUFFER=\\\"buffer\\\",c.EVENT_TYPE_BITRATE_CHANGE=\\\"bitrate_change\\\",c.EVENT_TYPE_ERROR=\\\"error\\\",c.EVENT_TYPE_COMPLETE=\\\"complete\\\",b.model.EventDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"stream\\\"),this.bitrate=this._createAccessor(\\\"_bitrate\\\",\\\"bitrate\\\",null),this.fps=this._createAccessor(\\\"_fps\\\",\\\"fps\\\",null),this.droppedFrames=this._createAccessor(\\\"_droppedFrames\\\",\\\"dropped_frames\\\",null),this.startupTime=this._createAccessor(\\\"_startup_time\\\",\\\"startup_time\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"sp\\\"),this.ovp=this._createAccessor(\\\"_ovp\\\",\\\"ovp\\\",null),this.sdk=this._createAccessor(\\\"_sdk\\\",\\\"sdk\\\",null),this.channel=this._createAccessor(\\\"_channel\\\",\\\"channel\\\",null),this.playerName=this._createAccessor(\\\"_playerName\\\",\\\"player_name\\\",null),this.libVersion=this._createAccessor(\\\"_libVersion\\\",\\\"hb_version\\\",null),this.apiLevel=this._createAccessor(\\\"_apiLevel\\\",\\\"hb_api_lvl\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(\\\"\\\"),this.libVersion(\\\"\\\"),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e=\\\"unknown\\\";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"event\\\"),this.sessionId=this._createAccessor(\\\"_sessionId\\\",\\\"sid\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"stream\\\"),this.type=this._createAccessor(\\\"_type\\\",\\\"type\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"user\\\"),this.analyticsVisitorId=this._createAccessor(\\\"_analyticsVisitorId\\\",\\\"aid\\\",null),this.marketingCloudVisitorId=this._createAccessor(\\\"_marketingCloudVisitorId\\\",\\\"mid\\\",null),this.visitorId=this._createAccessor(\\\"_visitorId\\\",\\\"id\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(){if(c.__super__.constructor.call(this,\\\"aam\\\"),this.audienceManagerBlob=this._createAccessor(\\\"_audienceManagerBlob\\\",\\\"blob\\\",null),this.audienceManagerLocationHint=this._createAccessor(\\\"_audienceManagerLocationHint\\\",\\\"loc_hint\\\",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.audienceManagerBlob(a.audienceManagerBlob()),this.audienceManagerLocationHint(a.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var d=b.model.Dao;a.extend(c,d),b.model.AudienceManagerDao=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j,this.filterReport=!0}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){\\\"use strict\\\";function c(a,b,c,i,j,k){this.adobeAnalyticsData=a,this.userData=b,this.aamData=c,this.serviceProviderData=i,this.sessionData=j,this.eventData=new e(k.eventData),this.assetData=new f(k.assetData),this.streamData=new g(k.streamData),this.qosData=new h(k.qosData),this.cuserData=d.clone(k.cuserData),this.meta=d.clone(k.meta),this.callback=k.callback,this.filterReport=k.filterReport}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao;b.model.Report=c}(a.ADB.va.utils,b),function(a){\\\"use strict\\\";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){\\\"use strict\\\";function c(a){if(!a)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeDao(a.aamData)),b.push(this.serializeMap(a.cuserData,\\\"cuser\\\")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),b.push(this.serializeMap(a.meta,\\\"meta\\\")),{serializedOutput:b.filter(function(a){return!!a}).join(\\\"&\\\"),callback:a.callback}},c.prototype.serializeDao=function(a){var b=this._processDao(a);return b.filter(function(a){return!!a}).join(\\\"&\\\")},c.prototype.serializeMap=function(a,b){var c=[],d=b?b:\\\"meta\\\";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push(\\\"s:\\\"+d+\\\":\\\"+e+\\\"=\\\"+window.encodeURIComponent(a[e]));return c.join(\\\"&\\\")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+\\\":\\\"+c+\\\":\\\"+a+\\\"=\\\"+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+\\\":\\\"+c+\\\":\\\"+a+\\\"=\\\"+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;\\\"number\\\"==typeof f?i=this.serializeNumber(c,f,j,h):\\\"string\\\"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,\\\"#_processDao() > Unable to serialize DAO. Field: \\\"+c+\\\". Value: \\\"+f+\\\".\\\"),i&&b.push(i)}return b};var g=\\\"ah::QuerystringSerializer\\\",h=\\\"l\\\",i=\\\"h\\\",j=\\\"s\\\";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b){if(!a)throw new Error(\\\"Reference to the data object cannot be NULL\\\");if(this._data=a,!b)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=b}c.prototype.parse=function(){var a,b,c,i,j;if(window.DOMParser){var k=new window.DOMParser;j=k.parseFromString(this._data,\\\"text/xml\\\")}else j=new window.ActiveXObject(\\\"Microsoft.XMLDOM\\\"),j.async=!1,j.loadXML(this._data);var l;l=parseInt(j.getElementsByTagName(\\\"trackingInterval\\\")[0].childNodes[0].nodeValue,10),l&&(a=l),l=parseInt(j.getElementsByTagName(\\\"setupCheckInterval\\\")[0].childNodes[0].nodeValue,10),l&&(b=l),l=parseInt(j.getElementsByTagName(\\\"trackExternalErrors\\\")[0].childNodes[0].nodeValue,10),l&&(c=1==l),j.getElementsByTagName(\\\"nielsenEnabled\\\")[0]?(l=parseInt(j.getElementsByTagName(\\\"nielsenEnabled\\\")[0].childNodes[0].nodeValue,10),i=1==l):i=!0;var m={};return m[e]=a,m[f]=b,m[g]=c,m[h]=i,this._logger.debug(d,\\\"#parse() > Obtained configuration settings.\\\"),m};var d=\\\"ah::SettingsParser\\\",e=\\\"reporting_interval\\\",f=\\\"check_status_interval\\\",g=\\\"track_external_errors\\\",h=\\\"nielsen_enabled\\\";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!a)throw new Error(\\\"Reference to the channel object cannot be NULL\\\");if(this._channel=a,!b)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,\\\"#destroy()\\\"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,\\\"#_onApiConfig(sb_server=\\\"+b[k]+\\\", check_status_server=\\\"+b[l]+\\\", publisher=\\\"+b[m]+\\\", quiet_mode=\\\"+b[n]+\\\", ssl=\\\"+b[o]+\\\")\\\"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onUpdateVisitorOptOut=function(a){var b=a.data;this._logger.debug(j,\\\"#_onUpdateVisitorOptOut(visitor_opt_out=\\\"+b[q]+\\\")\\\"),this._visitorOptedOut=b[q]},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,\\\"#_onFilterReportAvailable() > Unable to send request: not configured.\\\");var c=b[p],h=this._serializer.serializeReport(c),i=this._trackingServer+\\\"/?\\\"+h.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&c.eventData&&this._prevReportSent.eventData.playhead==c.eventData.playhead&&this._prevReportSent.eventData.ts==c.eventData.ts&&this._prevReportSent.eventData.prevTs==c.eventData.prevTs&&this._prevReportSent.eventData.type==c.eventData.type)return void this._logger.debug(j,\\\"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\\\\n\\\"+i);this._prevReportSent=c;var k=new f(i,e.GET);this._logger.debug(j,\\\"#_onFilterReportAvailable() > \\\"+k.url);var l=this,m=function(a){o.close(),h.callback&&h.callback.call(null)},n=function(a){o.close(),l._logger.warn(j,\\\"#_onFilterReportAvailable() > Failed to send heartbeat report.\\\"),h.callback&&h.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var o=new g;o.addEventListener(d.SUCCESS,m,this),o.addEventListener(d.ERROR,n,this),o.load(k)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data){var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(v,c)):i._logger.warn(j,\\\"#_onClockCheckStatusTick() > Failed to parse the config. settings.\\\")}n.close()}function c(a){i._logger.warn(j,\\\"#_onClockCheckStatusTick() > Failed to obtain the config. settings.\\\"),n.close()}if(!this._isConfigured)return void this._logger.warn(j,\\\"#_onClockCheckStatusTick() > Unable to send request: not configured.\\\");if(!this._publisher)return void this._logger.warn(j,\\\"#_onClockCheckStatusTick() > Publisher is NULL.\\\");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,\\\"-\\\").toLocaleLowerCase(),l=this._checkStatusServer+k+\\\".xml?r=\\\"+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,\\\"#_onClockCheckStatusTick() > Get new settings from: \\\"+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf(\\\"http://\\\")?c=c.slice(7):0===c.indexOf(\\\"https://\\\")&&(c=c.slice(8)),b?\\\"https://\\\"+c:\\\"http://\\\"+c},c.prototype._installEventListeners=function(){this._channel.on(r,this._onApiConfig,this),this._channel.on(s,this._onUpdateVisitorOptOut,this),this._channel.on(t,this._onFilterReportAvailable,this),this._channel.on(u,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j=\\\"ah::Network\\\",k=\\\"tracking_server\\\",l=\\\"check_status_server\\\",m=\\\"publisher\\\",n=\\\"quiet_mode\\\",o=\\\"ssl\\\",p=\\\"report\\\",q=\\\"visitor_opt_out\\\",r=\\\"api:config\\\",s=\\\"api:update_visitor_optout\\\",t=\\\"filter:data_available\\\",u=\\\"clock:check_status.tick\\\",v=\\\"net:check_status_complete\\\";b.network.Network=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b){if(!a)throw new Error(\\\"Reference to the channel object cannot be NULL\\\");if(this._channel=a,!b)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];return a&&a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_PAUSE||a.eventData.type()==k.EVENT_TYPE_STALL?(!a.filterReport||a.eventData.duration()>u)&&b.push(a):b.push(a)}),b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?b==-1?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):c==-1?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){a.eventData.type()!=k.EVENT_TYPE_PLAY&&a.eventData.type()!=k.EVENT_TYPE_BUFFER&&a.eventData.type()!=k.EVENT_TYPE_START||b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,\\\"#destroy()\\\"),this._uninstallEventListeners(),this.clear())},c.prototype.clear=function(){this._logger.debug(w,\\\"#clear()\\\"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},c.prototype.flush=function(){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+\\\".\\\"+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(v),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this.flush()},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m=\\\"context:report_available\\\",n=\\\"filter:data_available\\\",o=\\\"clock:flush_filter.tick\\\",p=\\\"reset\\\",q=\\\"report\\\",r=\\\"repeat_count\\\",s=\\\"clock:flush_filter.resume\\\",t=250,u=250,v=\\\"session_id\\\",w=\\\"ah::ReportFilter\\\";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){\\\"use strict\\\";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail(\\\"Data cannot be null\\\");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case\\\"videoId\\\":if(!a.hasOwnProperty(\\\"videoId\\\"))return this._fail(\\\"The ID for the main video must be specified.\\\");if(\\\"string\\\"!=typeof a.videoId)return this._fail(\\\"The ID for the main video must be a String.\\\");if(\\\"\\\"===a.videoId)return this._fail(\\\"The ID for the main video cannot be an empty string.\\\");break;case\\\"streamType\\\":if(!a.hasOwnProperty(\\\"streamType\\\"))return this._fail(\\\"The stream type for the main video must be specified.\\\");if(\\\"string\\\"!=typeof a.streamType)return this._fail(\\\"The stream type for the main video must be a String.\\\");if(\\\"\\\"===a.streamType)return this._fail(\\\"The stream type for the main video cannot be an empty string.\\\");break;case\\\"videoLength\\\":if(!a.hasOwnProperty(\\\"videoLength\\\"))return this._fail(\\\"The length of the main video must be specified.\\\");if(\\\"number\\\"!=typeof a.videoLength)return this._fail(\\\"The length of the main video must be a Number.\\\");if(isNaN(a.videoLength))return this._fail(\\\"The length of the main video cannot be NaN.\\\");break;case\\\"playhead\\\":if(!a.hasOwnProperty(\\\"playhead\\\"))return this._fail(\\\"The playhead for the main video must be specified.\\\");if(\\\"number\\\"!=typeof a.playhead)return this._fail(\\\"The playhead for the main video must be a Number.\\\");if(isNaN(a.playhead))return this._fail(\\\"The playhead for the main video cannot be NaN.\\\");break;case\\\"playerName\\\":if(!a.hasOwnProperty(\\\"playerName\\\"))return this._fail(\\\"The player name for the main video must be specified.\\\");if(\\\"string\\\"!=typeof a.playerName)return this._fail(\\\"The player name for the main video must be a String.\\\");if(\\\"\\\"===a.playerName)return this._fail(\\\"The player name for the main video cannot be an empty string.\\\");break;case\\\"rsid\\\":if(!a.hasOwnProperty(\\\"rsid\\\"))return this._fail(\\\"account (rsid) is required and has to be set in the AppMeasurement instance.\\\");if(\\\"string\\\"!=typeof a.rsid)return this._fail(\\\"account (rsid) of the AppMeasurement instance must be a String.\\\");if(\\\"\\\"===a.rsid)return this._fail(\\\"account (rsid) of the AppMeasurement instance  cannot be an empty string.\\\");break;case\\\"trackingServer\\\":if(!a.hasOwnProperty(\\\"trackingServer\\\"))return this._fail(\\\"trackingServer is required and has to be set in the AppMeasurement instance.\\\");if(\\\"string\\\"!=typeof a.trackingServer)return this._fail(\\\"trackingServer of the AppMeasurement instance must be a String.\\\");if(\\\"\\\"===a.trackingServer)return this._fail(\\\"trackingServer of the AppMeasurement instance cannot be an empty string.\\\");break;case\\\"podPlayerName\\\":if(!a.hasOwnProperty(\\\"podPlayerName\\\"))return this._fail(\\\"The player name for the ad-break must be specified.\\\");if(\\\"string\\\"!=typeof a.podPlayerName)return this._fail(\\\"The player name for the ad-break must be a String.\\\");if(\\\"\\\"===a.podPlayerName)return this._fail(\\\"The player name for the ad-break cannot be an empty string.\\\");break;case\\\"podPosition\\\":if(!a.hasOwnProperty(\\\"podPosition\\\"))return this._fail(\\\"Position (index) of the ad-break must be specified.\\\");if(\\\"number\\\"!=typeof a.podPosition)return this._fail(\\\"Position (index) of the ad-break must be a Number.\\\");if(isNaN(a.podPosition))return this._fail(\\\"Position (index) of the ad-break cannot be NaN.\\\");break;case\\\"adId\\\":if(!a.hasOwnProperty(\\\"adId\\\"))return this._fail(\\\"The ad ID must be specified.\\\");if(\\\"string\\\"!=typeof a.adId)return this._fail(\\\"The ad ID must be a String.\\\");if(\\\"\\\"===a.adId)return this._fail(\\\"The ad ID cannot be an empty string.\\\");break;case\\\"adPosition\\\":if(!a.hasOwnProperty(\\\"adPosition\\\"))return this._fail(\\\"Position (index) of the ad must be specified.\\\");if(\\\"number\\\"!=typeof a.adPosition)return this._fail(\\\"Position (index) of the ad must be a Number.\\\");if(isNaN(a.adPosition))return this._fail(\\\"Position (index) of the ad cannot be NaN.\\\");break;case\\\"chapterPosition\\\":if(!a.hasOwnProperty(\\\"chapterPosition\\\"))return this._fail(\\\"Position (index) of the chapter must be specified.\\\");if(\\\"number\\\"!=typeof a.chapterPosition)return this._fail(\\\"Position (index) of the chapter must be a Number.\\\");if(isNaN(a.chapterPosition))return this._fail(\\\"Position (index) of the chapter cannot be NaN.\\\");break;case\\\"chapterOffset\\\":if(!a.hasOwnProperty(\\\"chapterOffset\\\"))return this._fail(\\\"Chapter start-time (offset) must be specified.\\\");if(\\\"number\\\"!=typeof a.chapterOffset)return this._fail(\\\"Chapter start-time (offset) must be a Number.\\\");if(isNaN(a.chapterOffset))return this._fail(\\\"Chapter start-time (offset) cannot be NaN.\\\");break;case\\\"chapterLength\\\":if(!a.hasOwnProperty(\\\"chapterLength\\\"))return this._fail(\\\"The length of the chapter must be specified.\\\");if(\\\"number\\\"!=typeof a.chapterLength)return this._fail(\\\"The length of the chapter must be a Number.\\\");if(isNaN(a.chapterLength))return this._fail(\\\"The length of the chapter cannot be NaN.\\\");break;default:return this._fail(\\\"Unable to validate unknown parameter: \\\"+d)}}return!0},c.prototype._fail=function(a){var b=new d(\\\"Invalid input data\\\",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){\\\"use strict\\\";function c(a,b){if(!b)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");if(this._logger=b,!a)throw new Error(\\\"Reference to the context object cannot be NULL\\\");this._context=a}var d=b.model.Report;\\nc.prototype.createReportForItem=function(a){return this._logger.debug(e,\\\"Creating report for item: \\\"+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,a)};var e=\\\"ah::ReportFactory\\\";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){\\\"use strict\\\";function e(a,b){if(!a)throw new Error(\\\"Reference to the channel object cannot be NULL\\\");if(this._channel=a,!b)throw new Error(\\\"Reference to the logger object cannot be NULL\\\");this._logger=b,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=fa,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new j,this._serviceProviderData=new k,this._userData=new l,this._aamData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+\\\" | \\\"+a.getDetails()),this._channel.trigger(new h(y,a))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var f=c.md5,g=c.ObjectUtils,h=a.Event,i=d.model.SessionDao,j=d.model.AdobeAnalyticsDao,k=d.model.ServiceProviderDao,l=d.model.UserDao,m=d.model.AudienceManagerDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,\\\"#destroy()\\\"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,\\\"#_onApiAnalyticsStart()\\\");var b=a.data;if(this._checkCall(\\\"_onApiAnalyticsStart\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),this._aamData.audienceManagerBlob(b.blob),this._aamData.audienceManagerLocationHint(b.loc_hint),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,\\\"#_onApiAnalyticsAdStart()\\\");var b=a.data;if(this._checkCall(\\\"_onApiAnalyticsAdStart\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){var b=a.data;this._logger.debug(w,\\\"#_onApiVideoLoad(rsid=\\\"+b.rsid+\\\", aa_trackingServer=\\\"+b.trackingServer+\\\")\\\"),this._resetInternalState(),this._inputDataValidator.validateFields(b,[\\\"rsid\\\",\\\"trackingServer\\\"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},e.prototype._onApiVideoUnload=function(a){return this._logger.debug(w,\\\"#_onApiVideoUnload()\\\"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(w,\\\"#_onApiVideoUnload() > No active tracking session.\\\")},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,\\\"#_onApiVideoStart(id=\\\"+b.videoId+\\\", name=\\\"+b.videoName+\\\", length=\\\"+b.videoLength+\\\", type=\\\"+b.streamType+\\\", playerName=\\\"+b.playerName+\\\")\\\"),this._checkCall(\\\"_onApiVideoStart\\\")&&this._inputDataValidator.validateFields(b,[\\\"videoId\\\",\\\"streamType\\\",\\\"videoLength\\\",\\\"playhead\\\",\\\"playerName\\\"])){this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._activeAssetId=b.videoId,this._serviceProviderData.playerName(b.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._updateQoSInfo(b);var c=b.metaNielsen?g.merge(b.metaVideo,b.metaNielsen):b.metaVideo,d=new t(this,n.EVENT_TYPE_START,b.playhead,c,b._eventData[E]);this._sendHit(d)}},e.prototype._onApiVideoResume=function(a){var b=a.data;if(this._logger.debug(w,\\\"#_onApiVideoResume(id=\\\"+b.videoId+\\\", name=\\\"+b.videoName+\\\", length=\\\"+b.videoLength+\\\", type=\\\"+b.streamType+\\\", playerName=\\\"+b.playerName+\\\")\\\"),this._checkCall(\\\"_onApiVideoResume\\\")&&this._inputDataValidator.validateFields(b,[\\\"videoId\\\",\\\"streamType\\\",\\\"videoLength\\\",\\\"playhead\\\",\\\"playerName\\\"])){this._activeAssetId=b.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.name(b.videoName),this._streamData.type(b.streamType);var c=new t(this,n.EVENT_TYPE_RESUME,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,\\\"#_onApiVideoComplete()\\\");var b=a.data;if(this._checkCall(\\\"_onApiVideoComplete\\\")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,\\\"#_onApiPlay()\\\");var b=a.data;if(this._checkCall(\\\"_onApiPlay\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,\\\"#_onApiPause()\\\");var b=a.data;if(this._checkCall(\\\"_onApiPause\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){this._updateQoSInfo(b);var c=b.playheadStalled?n.EVENT_TYPE_STALL:n.EVENT_TYPE_PAUSE,d=new t(this,c,b.playhead,null,b._eventData[E]);b._eventData.hasOwnProperty(F)&&(d.filterReport=b._eventData[F]),this._sendHit(d)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,\\\"#_onApiBufferStart()\\\");var b=a.data;if(this._checkCall(\\\"_onApiBufferStart\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiSeekStart=function(a){this._logger.debug(w,\\\"#_onApiSeekStart()\\\"),this._checkCall(\\\"_onApiSeekStart\\\")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},e.prototype._onApiSeekComplete=function(a){this._logger.debug(w,\\\"#_onApiSeekComplete()\\\");var b=a.data;if(this._checkCall(\\\"_onApiSeekComplete\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){if(b.isInAd){if(!this._inputDataValidator.validateFields(b,[\\\"adId\\\",\\\"adPosition\\\",\\\"podPosition\\\",\\\"podPlayerName\\\"]))return;var c=f(this._assetData.videoId())+\\\"_\\\"+b.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==c&&parseInt(this._stashedAdData.podPosition(),10)==b.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=b.adId;var d=new r;d.adId(this._activeAssetId),d.adName(b.adName),d.adLength(b.adLength),d.podId(c),d.resolver(b.podPlayerName),d.podPosition(b.podPosition+\\\"\\\"),d.podName(b.podName),d.podOffset(b.podSecond),d.sid(this._generateSessionId()),this._assetData.adData(d)}this._assetData.type(o.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(b.isInChapter){if(!this._inputDataValidator.validateFields(b,[\\\"chapterPosition\\\",\\\"chapterLength\\\",\\\"chapterOffset\\\"]))return;if(this._stashedChapterData&&b.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var e=new s;e.id(f(this._assetData.videoId())+\\\"_\\\"+b.chapterPosition),e.name(b.chapterName),e.length(b.chapterLength),e.position(b.chapterPosition),e.offset(b.chapterOffset),e.sid(this._generateSessionId()),this._assetData.chapterData(e)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,\\\"#_onApiAdStart(id=\\\"+b.adId+\\\", player_name=\\\"+b.podPlayerName+\\\", parent_name=\\\"+this._assetData.videoId()+\\\", pod_pos=\\\"+b.adPosition+\\\")\\\"),this._checkCall(\\\"_onApiAdStart\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\",\\\"podPosition\\\",\\\"podPlayerName\\\",\\\"adId\\\",\\\"adPosition\\\"])){this._activeAssetId=b.adId;var c=new r;c.adId(this._activeAssetId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(f(this._assetData.videoId())+\\\"_\\\"+b.podPosition),c.podPosition(b.adPosition+\\\"\\\"),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(this._generateSessionId()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaAd);d=b.metaNielsen?g.merge(d,b.metaNielsen):d;var e=new t(this,n.EVENT_TYPE_START,b.playhead,d,b._eventData[E]);this._sendHit(e)}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,\\\"#_onApiAdComplete()\\\");var b=a.data;if(this._checkCall(\\\"_onApiAdComplete\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,\\\"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.\\\");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[E]);this._sendHit(c),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,\\\"#_onApiChapterStart(name=\\\"+b.chapterName+\\\", length=\\\"+b.chapterLength+\\\", position=\\\"+b.chapterPosition+\\\", chapter_offset=\\\"+b.chapterOffset+\\\")\\\"),this._checkCall(\\\"_onApiChapterStart\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\",\\\"chapterPosition\\\",\\\"chapterOffset\\\",\\\"chapterLength\\\"])){var c=new s;c.id(f(this._assetData.videoId())+\\\"_\\\"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(this._generateSessionId()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaChapter),e=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,d,b._eventData[E]);e.assetData.adData(null),e.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(e)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,\\\"#_onApiChapterComplete()\\\");var b=a.data;if(this._checkCall(\\\"_onApiChapterComplete\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){if(!this._assetData.chapterData())return void this._logger.warn(w,\\\"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.\\\");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,\\\"#_onApiBitrateChange()\\\");var b=a.data;if(this._checkCall(\\\"_onApiBitrateChange\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,\\\"#_onApiTrackError(source=\\\"+b._eventData.source+\\\", err_id=\\\"+b._eventData.error_id+\\\")\\\"),!this._isTrackingSessionActive)return void this._logger.warn(w,\\\"#_onApiTrackError() > No active tracking session.\\\");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[E]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){var b=a.data;this._logger.debug(w,\\\"#_onApiTrackInternalError(source=\\\"+b.source+\\\", err_id=\\\"+b.error_id+\\\")\\\"),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,\\\"#_onApiQuantumEnd(interval=\\\"+this._channel.request(B)+\\\")\\\");var b=a.data;this._checkCall(\\\"_onApiQuantumEnd\\\")&&this._inputDataValidator.validateFields(b,[\\\"playhead\\\"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(b.playhead),this._updateQoSInfo(b),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[I],this._reportingInterval=b[J],this._reportingInterval||(this._reportingInterval=fa),this._logger.debug(w,\\\"#_onNetworkCheckStatusComplete(track_ext_err=\\\"+this._trackExternalErrors+\\\")\\\")},e.prototype._onResetSessionId=function(a){var b=this._generateSessionId();this._sessionData=new i,this._sessionData.sessionId(b),this._logger.debug(w,\\\"#_resetSessionId(new sessionId=\\\"+b+\\\")\\\")},e.prototype._installEventListeners=function(){this._channel.on(K,this._onApiAnalyticsStart,this),this._channel.on(L,this._onApiAnalyticsAdStart,this),this._channel.on(M,this._onApiVideoLoad,this),this._channel.on(N,this._onApiVideoUnload,this),this._channel.on(O,this._onApiVideoStart,this),this._channel.on(P,this._onApiVideoComplete,this),this._channel.on(Q,this._onApiVideoResume,this),this._channel.on(R,this._onApiAdStart,this),this._channel.on(S,this._onApiAdComplete,this),this._channel.on(T,this._onApiPlay,this),this._channel.on(U,this._onApiPause,this),this._channel.on(V,this._onApiBufferStart,this),this._channel.on(W,this._onApiSeekStart,this),this._channel.on(X,this._onApiSeekComplete,this),this._channel.on(Y,this._onApiChapterStart,this),this._channel.on(Z,this._onApiChapterComplete,this),this._channel.on(aa,this._onApiBitrateChange,this),this._channel.on($,this._onApiTrackError,this),this._channel.on(_,this._onApiTrackInternalError,this),this._channel.on(ba,this._onApiQuantumEnd,this),this._channel.on(da,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,\\\"#_resetInternalState()\\\"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new p,this._qosData=new q,this._sessionData=new i,this._assetData=new o,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},e.prototype._generateSessionId=function(){return\\\"\\\"+(new Date).getTime()+Math.floor(1e9*Math.random())},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?!this._isVideoComplete||(this._logger.warn(w,\\\"#\\\"+a+\\\"() > The video content already completed.\\\"),!1):(this._logger.warn(w,\\\"#\\\"+a+\\\"() > No active tracking session.\\\"),!1)},e.prototype._updateLastInBandItem=function(a){var b=(new Date).getTime(),c=1e3*Math.abs(a.eventData.playhead()-this._lastInBandItem.eventData.playhead()),d=Math.abs(b-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_PAUSE&&this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_STALL?(c<=d*ea||this._doNotOverrideEventDuration)&&d<=this._reportingInterval*ea*1e3?this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()):(this._logger.warn(w,\\\"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:\\\"+c+\\\" tsDelta:\\\"+d+\\\" event type:\\\"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(b),this._lastInBandItem.eventData.playhead(a.eventData.playhead()),this._lastInBandItem.qosData.startupTime(a.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden},e.prototype._sendHit=function(a){function b(a){var b=c._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(c._autoComputedStartupTime);var e={};e[G]=b,c._channel.trigger(new h(ca,e)),b.eventData.type()!=n.EVENT_TYPE_PLAY&&b.eventData.type()!=n.EVENT_TYPE_BUFFER&&b.eventData.type()!=n.EVENT_TYPE_START||(d={},d[H]=!0,c._channel.command(z,d))}var c=this,d={};switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_STALL:case n.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(a),this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),a!=this._lastInBandItem&&b(this._lastInBandItem)),b(a),this._lastInBandItem=a,d={},d[H]=!0,this._channel.command(z,d);break;case n.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(a.assetData.type()==o.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),a.assetData.type()==o.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,d={},d[H]=!0,this._channel.command(A,d)):a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),b(this._lastInBandItem));break;default:b(a)}};var w=\\\"ah::Context\\\",x=\\\"sourceErrorSDK\\\",y=\\\"error\\\",z=\\\"clock:reporting.resume\\\",A=\\\"clock:reporting.pause\\\",B=\\\"reporting_interval\\\",C=\\\"session_id\\\",D=\\\"reset_session_id\\\",E=\\\"callback\\\",F=\\\"filter_report\\\",G=\\\"report\\\",H=\\\"reset\\\",I=\\\"track_external_errors\\\",J=\\\"reporting_interval\\\",K=\\\"api:aa_start\\\",L=\\\"api:aa_ad_start\\\",M=\\\"api:video_load\\\",N=\\\"api:video_unload\\\",O=\\\"api:video_start\\\",P=\\\"api:video_complete\\\",Q=\\\"api:video_resume\\\",R=\\\"api:ad_start\\\",S=\\\"api:ad_complete\\\",T=\\\"api:play\\\",U=\\\"api:pause\\\",V=\\\"api:buffer_start\\\",W=\\\"api:seek_start\\\",X=\\\"api:seek_complete\\\",Y=\\\"api:chapter_start\\\",Z=\\\"api:chapter_complete\\\",$=\\\"api:track_error\\\",_=\\\"api:track_internal_error\\\",aa=\\\"api:bitrate_change\\\",ba=\\\"api:quantum_end\\\",ca=\\\"context:report_available\\\",da=\\\"net:check_status_complete\\\",ea=1.5,fa=10;d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){\\\"use strict\\\";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c=\\\"unknown\\\";a.AdobeHeartbeatPluginConfig=b}(b),function(a){\\\"use strict\\\";function b(){}b.prototype.onError=function(a){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){\\\"use strict\\\";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(y),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),d.prototype.configure=function(a){if(!a)throw new Error(\\\"Reference to the configuration data cannot be NULL.\\\");if(!(a instanceof p))throw new Error(\\\"Expected config data to be instance of AdobeHeartbeatPluginConfig.\\\");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,\\\"#configure({trackingServer=\\\"+this._config.trackingServer+\\\", publisher=\\\"+this._config.publisher+\\\", quietMode=\\\"+this._config.quietMode+\\\", ssl=\\\"+this._config.ssl+\\\"})\\\");var b=this._config.trackingServer+\\\"/settings/\\\",c={};c[ba]=this._config.trackingServer,c[ca]=b,c[da]=this._config.publisher,c[ea]=this._config.quietMode,c[fa]=this._config.ssl,this._channel.trigger(new e(ja,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(z,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(Ea),this._channel.trigger(new e(La)),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,\\\"#_teardown()\\\"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,\\\"_canProcess() > Plugin in ERROR state.\\\"),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,\\\"_canProcess() > Plugin not configured.\\\"),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j(\\\"Internal error\\\",\\\"AdobeAnalyticsPlugin is in ERROR state.\\\"),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){if(this._canProcess()){var b={};b[ga]=a.visitorOptedOut,this._channel.trigger(new e(ka,b)),this._channel.trigger(new e(ha,a))}},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e(ia,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(ma,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new e(la,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(ma,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},d.prototype._cmdVideoStart=function(a){this._canProcess()&&this._channel.trigger(new e(na,a))},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(oa,a))},d.prototype._cmdVideoResume=function(a){this._canProcess()&&this._channel.trigger(new e(pa,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(ta,a)),this._isPaused=!0,this._runIdleTimer(!0))},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(qa,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(ra,a)),a.isInAdBreak||this._resumePlaybackIfPossible(a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(ua,a)),this._isBuffering=!0,this._runIdleTimer(!0))},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(va,a)),this._channel.trigger(new e(ta,a)),this._isSeeking=!0,this._runIdleTimer(!0))},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(wa,a)),this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(xa,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(ya,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(Ba,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(za,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(Ca,a))},d.prototype._cmdIdleTick=function(a){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(V),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(T))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[_]=Da,b[aa]=this._errorInfo.getMessage()+\\\"|\\\"+this._errorInfo.getDetails(),this._channel.trigger(new e(Aa,b)),this._runReportingTimer(!1),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._runIdleTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ja,b):this._channel.command(Ka,b)},d.prototype._runFlushFilterTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ha,b):this._channel.command(Ia,b)},d.prototype._runReportingTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Fa,b):this._channel.command(Ga,b)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,\\\"handleAnalyticsError\\\",this._cmdAnalyticsError),this._pluginManager.comply(this,\\\"handleAnalyticsStart\\\",this._cmdAnalyticsStart),this._pluginManager.comply(this,\\\"handleAnalyticsAdStart\\\",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,\\\"handleVideoLoad\\\",this._cmdVideoLoad),this._pluginManager.comply(this,\\\"handleVideoUnload\\\",this._cmdVideoUnload),this._pluginManager.comply(this,\\\"handleVideoStart\\\",this._cmdVideoStart),this._pluginManager.comply(this,\\\"handleVideoComplete\\\",this._cmdVideoComplete),this._pluginManager.comply(this,\\\"handleVideoResume\\\",this._cmdVideoResume),this._pluginManager.comply(this,\\\"handlePlay\\\",this._cmdPlay),this._pluginManager.comply(this,\\\"handlePause\\\",this._cmdPause),this._pluginManager.comply(this,\\\"handleAdStart\\\",this._cmdAdStart),this._pluginManager.comply(this,\\\"handleAdComplete\\\",this._cmdAdComplete),this._pluginManager.comply(this,\\\"handleBufferStart\\\",this._cmdBufferStart),this._pluginManager.comply(this,\\\"handleBufferComplete\\\",this._cmdBufferComplete),this._pluginManager.comply(this,\\\"handleSeekStart\\\",this._cmdSeekStart),this._pluginManager.comply(this,\\\"handleSeekComplete\\\",this._cmdSeekComplete),this._pluginManager.comply(this,\\\"handleChapterStart\\\",this._cmdChapterStart),this._pluginManager.comply(this,\\\"handleChapterComplete\\\",this._cmdChapterComplete),this._pluginManager.comply(this,\\\"handleBitrateChange\\\",this._cmdBitrateChange),this._pluginManager.comply(this,\\\"handleTrackError\\\",this._cmdTrackError),this._pluginManager.comply(this,\\\"handleClockReportingTick\\\",this._cmdClockReportingTick),this._pluginManager.comply(this,\\\"handleIdleTick\\\",this._cmdIdleTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,C),this,\\\"handleVideoLoad\\\",[new h(s,\\\"rsid\\\",\\\"rsid\\\"),new h(s,\\\"tracking_server\\\",\\\"trackingServer\\\")]),this._pluginManager.registerBehaviour(new f(t,D),this,\\\"handleVideoUnload\\\"),this._pluginManager.registerBehaviour(new f(t,E),this,\\\"handleVideoStart\\\",[new h(t,\\\"video.id\\\",\\\"videoId\\\"),new h(t,\\\"video.name\\\",\\\"videoName\\\"),new h(t,\\\"video.length\\\",\\\"videoLength\\\"),new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"video.playerName\\\",\\\"playerName\\\"),new h(t,\\\"video.streamType\\\",\\\"streamType\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\"),new h(s,\\\"rsid\\\",\\\"rsid\\\"),new h(s,\\\"tracking_server\\\",\\\"trackingServer\\\"),new h(s,\\\"channel\\\",\\\"channel\\\"),new h(s,\\\"meta.video.*\\\",\\\"metaVideo\\\"),new h(s,\\\"ssl\\\",\\\"useSsl\\\"),new h(u,\\\"meta\\\",\\\"metaNielsen\\\"),new h(r,\\\"publisher\\\",\\\"publisher\\\"),new h(r,\\\"sdk\\\",\\\"sdk\\\"),new h(r,\\\"ovp\\\",\\\"ovp\\\"),new h(r,\\\"version\\\",\\\"version\\\"),new h(r,\\\"api_level\\\",\\\"apiLvl\\\")]),this._pluginManager.registerBehaviour(new f(t,G),this,\\\"handleVideoComplete\\\",[new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,F),this,\\\"handleVideoResume\\\",[new h(t,\\\"video.id\\\",\\\"videoId\\\"),new h(t,\\\"video.name\\\",\\\"videoName\\\"),new h(t,\\\"video.length\\\",\\\"videoLength\\\"),new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"video.playerName\\\",\\\"playerName\\\"),new h(t,\\\"video.streamType\\\",\\\"streamType\\\")]),this._pluginManager.registerBehaviour(new f(t,H),this,\\\"handlePlay\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,I),this,\\\"handlePause\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"video.playheadStalled\\\",\\\"playheadStalled\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,J),this,\\\"handleAdStart\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"ad.id\\\",\\\"adId\\\"),new h(t,\\\"ad.name\\\",\\\"adName\\\"),new h(t,\\\"ad.length\\\",\\\"adLength\\\"),new h(t,\\\"ad.position\\\",\\\"adPosition\\\"),new h(t,\\\"pod.name\\\",\\\"podName\\\"),new h(t,\\\"pod.playerName\\\",\\\"podPlayerName\\\"),new h(t,\\\"pod.position\\\",\\\"podPosition\\\"),new h(t,\\\"pod.startTime\\\",\\\"podSecond\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\"),new h(s,\\\"meta.video.*\\\",\\\"metaVideo\\\"),new h(s,\\\"meta.ad.*\\\",\\\"metaAd\\\"),new h(u,\\\"meta\\\",\\\"metaNielsen\\\")]),this._pluginManager.registerBehaviour(new f(t,K),this,\\\"handleAdComplete\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"ad.isInAdBreak\\\",\\\"isInAdBreak\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,L),this,\\\"handleBufferStart\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,M),this,\\\"handleBufferComplete\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,N),this,\\\"handleSeekStart\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\")]),this._pluginManager.registerBehaviour(new f(t,O),this,\\\"handleSeekComplete\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"ad.isInAd\\\",\\\"isInAd\\\"),new h(t,\\\"ad.id\\\",\\\"adId\\\"),new h(t,\\\"ad.position\\\",\\\"adPosition\\\"),new h(t,\\\"pod.playerName\\\",\\\"podPlayerName\\\"),new h(t,\\\"pod.position\\\",\\\"podPosition\\\"),new h(t,\\\"chapter.isInChapter\\\",\\\"isInChapter\\\"),new h(t,\\\"chapter.position\\\",\\\"chapterPosition\\\"),new h(t,\\\"chapter.name\\\",\\\"chapterName\\\"),new h(t,\\\"chapter.length\\\",\\\"chapterLength\\\"),new h(t,\\\"chapter.startTime\\\",\\\"chapterOffset\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),\\nthis._pluginManager.registerBehaviour(new f(t,P),this,\\\"handleChapterStart\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"chapter.position\\\",\\\"chapterPosition\\\"),new h(t,\\\"chapter.name\\\",\\\"chapterName\\\"),new h(t,\\\"chapter.length\\\",\\\"chapterLength\\\"),new h(t,\\\"chapter.startTime\\\",\\\"chapterOffset\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\"),new h(s,\\\"meta.video.*\\\",\\\"metaVideo\\\"),new h(s,\\\"meta.chapter.*\\\",\\\"metaChapter\\\"),new h(u,\\\"meta\\\",\\\"metaNielsen\\\")]),this._pluginManager.registerBehaviour(new f(t,Q),this,\\\"handleChapterComplete\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,R),this,\\\"handleBitrateChange\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(t,S),this,\\\"handleTrackError\\\"),this._pluginManager.registerBehaviour(new f(v,X),this,\\\"handleClockReportingTick\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(v,Z),this,\\\"handleIdleTick\\\",[]),this._pluginManager.registerBehaviour(new f(r,V),this,\\\"handleClockReportingTick\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(s,z),this,\\\"handleAnalyticsError\\\"),this._pluginManager.registerBehaviour(new f(s,A),this,\\\"handleAnalyticsStart\\\",[new h(s,\\\"vid\\\",\\\"vid\\\"),new h(s,\\\"aid\\\",\\\"aid\\\"),new h(s,\\\"mid\\\",\\\"mid\\\"),new h(s,\\\"customerIDs\\\",\\\"customerIDs\\\"),new h(s,\\\"visitorOptedOut\\\",\\\"visitorOptedOut\\\"),new h(s,\\\"blob\\\",\\\"blob\\\"),new h(s,\\\"loc_hint\\\",\\\"loc_hint\\\"),new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")]),this._pluginManager.registerBehaviour(new f(s,B),this,\\\"handleAnalyticsAdStart\\\",[new h(t,\\\"video.playhead\\\",\\\"playhead\\\"),new h(t,\\\"qos.fps\\\",\\\"fps\\\"),new h(t,\\\"qos.droppedFrames\\\",\\\"droppedFrames\\\"),new h(t,\\\"qos.bitrate\\\",\\\"bitrate\\\"),new h(t,\\\"qos.startupTime\\\",\\\"startupTime\\\")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return!!b._config&&b._config.quietMode},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return!!b._config&&b._config.__isPrimetime},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},a.session_id=function(){return b._channel.request(w)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle&&(this._isVideoIdle=!1,this._resumePlaybackFromIdle()),this._runIdleTimer(!1),this._channel.trigger(new e(sa,a)))},d.prototype._resumePlaybackFromIdle=function(){this._trigger(V),this._filter.clear(),this._channel.trigger(new e(x)),this._trigger(U),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var q=\\\"adobe-heartbeat\\\",r=q,s=\\\"adobe-analytics\\\",t=\\\"player\\\",u=\\\"nielsen\\\",v=\\\"service.clock\\\",w=\\\"session_id\\\",x=\\\"reset_session_id\\\",y=\\\"heartbeat-channel\\\",z=\\\"error\\\",A=\\\"aa_start\\\",B=\\\"sc_ad_start\\\",C=\\\"video_load\\\",D=\\\"video_unload\\\",E=\\\"video_start\\\",F=\\\"video_resume\\\",G=\\\"video_complete\\\",H=\\\"play\\\",I=\\\"pause\\\",J=\\\"ad_start\\\",K=\\\"ad_complete\\\",L=\\\"buffer_start\\\",M=\\\"buffer_complete\\\",N=\\\"seek_start\\\",O=\\\"seek_complete\\\",P=\\\"chapter_start\\\",Q=\\\"chapter_complete\\\",R=\\\"bitrate_change\\\",S=\\\"track_error\\\",T=\\\"video_idle_start\\\",U=\\\"video_idle_resume\\\",V=\\\"quantum_close\\\",W=\\\"heartbeat.reporting\\\",X=W+\\\".tick\\\",Y=\\\"heartbeat.idle\\\",Z=Y+\\\".tick\\\",$=\\\"reset\\\",_=\\\"source\\\",aa=\\\"error_id\\\",ba=\\\"tracking_server\\\",ca=\\\"check_status_server\\\",da=\\\"publisher\\\",ea=\\\"quiet_mode\\\",fa=\\\"ssl\\\",ga=\\\"visitor_opt_out\\\",ha=\\\"api:aa_start\\\",ia=\\\"api:aa_ad_start\\\",ja=\\\"api:config\\\",ka=\\\"api:update_visitor_optout\\\",la=\\\"api:video_load\\\",ma=\\\"api:video_unload\\\",na=\\\"api:video_start\\\",oa=\\\"api:video_complete\\\",pa=\\\"api:video_resume\\\",qa=\\\"api:ad_start\\\",ra=\\\"api:ad_complete\\\",sa=\\\"api:play\\\",ta=\\\"api:pause\\\",ua=\\\"api:buffer_start\\\",va=\\\"api:seek_start\\\",wa=\\\"api:seek_complete\\\",xa=\\\"api:chapter_start\\\",ya=\\\"api:chapter_complete\\\",za=\\\"api:track_error\\\",Aa=\\\"api:track_internal_error\\\",Ba=\\\"api:bitrate_change\\\",Ca=\\\"api:quantum_end\\\",Da=\\\"sourceErrorHeartbeat\\\",Ea=\\\"clock:check_status.resume\\\",Fa=\\\"clock:reporting.resume\\\",Ga=\\\"clock:reporting.pause\\\",Ha=\\\"clock:flush_filter.resume\\\",Ia=\\\"clock:flush_filter.pause\\\",Ja=\\\"clock:idle.resume\\\",Ka=\\\"clock:idle.pause\\\",La=\\\"clock:check_status.get_settings\\\";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this);\\n\\n// AdobeAnalyticsPlugin\\n!function(a){if(\\\"undefined\\\"==typeof b)var b={};!function(a,b){\\\"use strict\\\";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail(\\\"Data cannot be null\\\");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case\\\"videoId\\\":if(!a.hasOwnProperty(\\\"videoId\\\"))return this._fail(\\\"The ID for the main video must be specified.\\\");if(\\\"string\\\"!=typeof a.videoId)return this._fail(\\\"The ID for the main video must be a String.\\\");if(\\\"\\\"===a.videoId)return this._fail(\\\"The ID for the main video cannot be an empty string.\\\");break;case\\\"streamType\\\":if(!a.hasOwnProperty(\\\"streamType\\\"))return this._fail(\\\"The stream type for the main video must be specified.\\\");if(\\\"string\\\"!=typeof a.streamType)return this._fail(\\\"The stream type for the main video must be a String.\\\");if(\\\"\\\"===a.streamType)return this._fail(\\\"The stream type for the main video cannot be an empty string.\\\");break;case\\\"playerName\\\":if(!a.hasOwnProperty(\\\"playerName\\\"))return this._fail(\\\"The player name for the main video must be specified.\\\");if(\\\"string\\\"!=typeof a.playerName)return this._fail(\\\"The player name for the main video must be a String.\\\");if(\\\"\\\"===a.playerName)return this._fail(\\\"The player name for the main video cannot be an empty string.\\\");break;case\\\"videoLength\\\":if(!a.hasOwnProperty(\\\"videoLength\\\"))return this._fail(\\\"The length of the main video must be specified.\\\");if(\\\"number\\\"!=typeof a.videoLength)return this._fail(\\\"The length of the main video must be a Number.\\\");if(isNaN(a.videoLength))return this._fail(\\\"The length of the main video cannot be NaN.\\\");break;case\\\"podPlayerName\\\":if(!a.hasOwnProperty(\\\"podPlayerName\\\"))return this._fail(\\\"The player name for the ad-break must be specified.\\\");if(\\\"string\\\"!=typeof a.podPlayerName)return this._fail(\\\"The player name for the ad-break must be a String.\\\");if(\\\"\\\"===a.podPlayerName)return this._fail(\\\"The player name for the ad-break cannot be an empty string.\\\");break;case\\\"podPosition\\\":if(!a.hasOwnProperty(\\\"podPosition\\\"))return this._fail(\\\"Position (index) of the ad-break must be specified.\\\");if(\\\"number\\\"!=typeof a.podPosition)return this._fail(\\\"Position (index) of the ad-break must be a Number.\\\");if(isNaN(a.podPosition))return this._fail(\\\"Position (index) of the ad-break cannot be NaN.\\\");break;case\\\"adId\\\":if(!a.hasOwnProperty(\\\"adId\\\"))return this._fail(\\\"The ad ID must be specified.\\\");if(\\\"string\\\"!=typeof a.adId)return this._fail(\\\"The ad ID must be a String.\\\");if(\\\"\\\"===a.adId)return this._fail(\\\"The ad ID cannot be an empty string.\\\");break;case\\\"adPosition\\\":if(!a.hasOwnProperty(\\\"adPosition\\\"))return this._fail(\\\"Position (index) of the ad must be specified.\\\");if(\\\"number\\\"!=typeof a.adPosition)return this._fail(\\\"Position (index) of the ad must be a Number.\\\");if(isNaN(a.adPosition))return this._fail(\\\"Position (index) of the ad cannot be NaN.\\\");break;case\\\"adLength\\\":if(!a.hasOwnProperty(\\\"adLength\\\"))return this._fail(\\\"The length of the ad must be specified.\\\");if(\\\"number\\\"!=typeof a.adLength)return this._fail(\\\"The length of the ad must be a Number.\\\");if(isNaN(a.adLength))return this._fail(\\\"The length of the ad cannot be NaN.\\\");break;default:return this._fail(\\\"Unable to validate unknown parameter: \\\"+d)}}return!0},c.prototype._fail=function(a){var b=new d(\\\"Invalid input data\\\",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){\\\"use strict\\\";function b(){this.channel=c,this.debugLogging=!1}var c=\\\"\\\";a.AdobeAnalyticsPluginConfig=b}(b),function(a){\\\"use strict\\\";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){\\\"use strict\\\";function e(a,b){if(e.__super__.constructor.call(this,r),!a)throw new Error(\\\"The reference to the AppMeasurement object cannot be NULL.\\\");this._appMeasurement=a,this._delegate=b,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new k(!0,w),this._inputDataValidator=new q(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+\\\" | \\\"+a.getDetails());var b=this;setTimeout(function(){b._trigger(x,a),b._delegate&&b._delegate.onError(b._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Channel,j=a.radio.Command,k=a.radio.CommandQueue,l=b.ErrorInfo,m=c.md5,n=c.StringUtils,o=c.ObjectUtils,p=d.AdobeAnalyticsPluginConfig,q=d.InputDataValidator;a.extend(e,g),e.prototype.configure=function(a){if(!a)throw new Error(\\\"Reference to the configuration data cannot be NULL.\\\");if(!(a instanceof p))throw new Error(\\\"Expected config data to be instance of AdobeAnalyticsPluginConfig.\\\");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,\\\"#configure({trackingServer=\\\"+this._config.debugLogging+\\\", channel=\\\"+this._config.channel+\\\", ssl=\\\"+this._appMeasurement.ssl+\\\"})\\\")},e.prototype.bootstrap=function(a){e.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},e.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),e.__super__.setup.call(this)},e.prototype.setVideoMetadata=function(a){this._videoMetadata=o.clone(a)},e.prototype.setAdMetadata=function(a){this._adMetadata=o.clone(a)},e.prototype.setChapterMetadata=function(a){this._chapterMetadata=o.clone(a)},e.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,\\\"#_canProcess() > In ERROR state.\\\"),!1):e.__super__._canProcess.call(this)},e.prototype._cmdVideoLoad=function(a){this._errorInfo=null},e.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,\\\"#_cmdVideoStart()\\\"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpen,this,[a]))},e.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,\\\"#_cmdAdStart()\\\"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpenAd,this,[a]))},e.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new l(\\\"Internal error\\\",\\\"HeartbeatPlugin is in ERROR state.\\\"),this._trigger(x,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},e.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData[\\\"a.contentType\\\"],delete this._appMeasurement.contextData[\\\"a.media.name\\\"],delete this._appMeasurement.contextData[\\\"a.media.friendlyName\\\"],delete this._appMeasurement.contextData[\\\"a.media.length\\\"],delete this._appMeasurement.contextData[\\\"a.media.playerName\\\"],delete this._appMeasurement.contextData[\\\"a.media.channel\\\"],delete this._appMeasurement.contextData[\\\"a.media.view\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.name\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.friendlyName\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.podFriendlyName\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.length\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.playerName\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.pod\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.podPosition\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.podSecond\\\"],delete this._appMeasurement.contextData[\\\"a.media.ad.view\\\"];for(var a=0;a<this._customMetaKeys.length;a++){var b=this._customMetaKeys[a];delete this._appMeasurement.contextData[b]}this._customMetaKeys=[]},e.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,\\\"#_executeOpen(id=\\\"+a.videoId+\\\", videoName=\\\"+a.videoName+\\\", streamType=\\\"+a.streamType+\\\", length=\\\"+a.videoLength+\\\", playerName=\\\"+a.playerName+\\\", channel=\\\"+a.channel+\\\", isPrimetime=\\\"+a.isPrimetime+\\\", sessionId=\\\"+a.sessionId+\\\")\\\"),this._canProcess()&&this._inputDataValidator.validateFields(a,[\\\"videoId\\\",\\\"streamType\\\",\\\"videoLength\\\",\\\"playerName\\\"])){this._resetAppMeasurementContextData();for(var b in a.metaVideo)a.metaVideo.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaVideo[b],this._customMetaKeys.push(b));if(a.metaNielsen)for(var b in a.metaNielsen)a.metaNielsen.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaNielsen[b],this._customMetaKeys.push(b));this._appMeasurement.contextData[\\\"a.contentType\\\"]=a.streamType,this._appMeasurement.contextData[\\\"a.media.name\\\"]=a.videoId,this._appMeasurement.contextData[\\\"a.media.friendlyName\\\"]=a.videoName||\\\"\\\",this._appMeasurement.contextData[\\\"a.media.length\\\"]=Math.floor(a.videoLength)||\\\"0.0\\\",this._appMeasurement.contextData[\\\"a.media.playerName\\\"]=a.playerName,this._appMeasurement.contextData[\\\"a.media.channel\\\"]=a.channel||\\\"\\\",this._appMeasurement.contextData[\\\"a.media.view\\\"]=!0,this._appMeasurement.contextData[\\\"a.media.vsid\\\"]=a.sessionId,this._appMeasurement.pev3=y,this._appMeasurement.pe=a.isPrimetime?B:A,this._appMeasurement.track();var c=this;setTimeout(function(){c._trigger(E,a)},0)}},e.prototype._executeOpenAd=function(a){var b=m(a.videoId)+\\\"_\\\"+a.podPosition;if(this._logger.debug(this._logTag,\\\"#_executeOpenAd(id=\\\"+a.adId+\\\", streamType=\\\"+a.streamType+\\\", length=\\\"+a.adLength+\\\", podPlayerName=\\\"+a.podPlayerName+\\\", parentId=\\\"+a.videoId+\\\", podId=\\\"+b+\\\", parentPodPosition=\\\"+a.adPosition+\\\", podSecond=\\\"+a.podSecond+\\\")\\\"),this._canProcess()&&this._inputDataValidator.validateFields(a,[\\\"videoId\\\",\\\"streamType\\\",\\\"playerName\\\",\\\"adId\\\",\\\"adLength\\\",\\\"podPlayerName\\\",\\\"adPosition\\\"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond,this._resetAppMeasurementContextData();var c;for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaVideo[c],this._customMetaKeys.push(c));for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaAd[c],this._customMetaKeys.push(c));if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaNielsen[c],this._customMetaKeys.push(c));this._appMeasurement.contextData[\\\"a.contentType\\\"]=a.streamType,this._appMeasurement.contextData[\\\"a.media.name\\\"]=a.videoId,this._appMeasurement.contextData[\\\"a.media.playerName\\\"]=a.playerName,this._appMeasurement.contextData[\\\"a.media.channel\\\"]=a.channel||\\\"\\\",this._appMeasurement.contextData[\\\"a.media.vsid\\\"]=a.sessionId,this._appMeasurement.contextData[\\\"a.media.friendlyName\\\"]=a.videoName||\\\"\\\",this._appMeasurement.contextData[\\\"a.media.length\\\"]=Math.floor(a.videoLength)||\\\"0.0\\\",this._appMeasurement.contextData[\\\"a.media.ad.name\\\"]=a.adId,this._appMeasurement.contextData[\\\"a.media.ad.friendlyName\\\"]=a.adName||\\\"\\\",this._appMeasurement.contextData[\\\"a.media.ad.podFriendlyName\\\"]=a.podName||\\\"\\\",this._appMeasurement.contextData[\\\"a.media.ad.length\\\"]=Math.floor(a.adLength)||\\\"0.0\\\",this._appMeasurement.contextData[\\\"a.media.ad.playerName\\\"]=a.podPlayerName,this._appMeasurement.contextData[\\\"a.media.ad.pod\\\"]=b,this._appMeasurement.contextData[\\\"a.media.ad.podPosition\\\"]=Math.floor(a.adPosition)||\\\"0.0\\\",this._appMeasurement.contextData[\\\"a.media.ad.podSecond\\\"]=Math.floor(a.podSecond)||\\\"0.0\\\",this._appMeasurement.contextData[\\\"a.media.ad.view\\\"]=!0,this._appMeasurement.pev3=z,this._appMeasurement.pe=a.isPrimetime?D:C,this._appMeasurement.track();var d=this;setTimeout(function(){d._trigger(F,a)},0)}},e.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.blob=function(){return b._appMeasurement.audienceManagerBlob},a.loc_hint=function(){return b._appMeasurement.audienceManagerLocationHint?parseInt(b._appMeasurement.audienceManagerLocationHint):\\\"\\\"},a.customerIDs=function(){var a=b._appMeasurement.visitor.getCustomerIDs(),c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if(\\\"object\\\"==typeof e){for(var f in e)e.hasOwnProperty(f)&&(\\\"authState\\\"==f?c[d+\\\".as\\\"]=e[f]:c[d+\\\".\\\"+f]=e[f]);c[d+\\\".as\\\"]||(c[d+\\\".as\\\"]=\\\"0\\\")}}return c},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(\\\".\\\");if(c.length<2)return null;var d=c.shift();switch(a=c.join(\\\".\\\"),d){case\\\"video\\\":return a==i.WILDCARD?b._videoMetadata:b._videoMetadata[a];case\\\"ad\\\":return a==i.WILDCARD?b._adMetadata:b._adMetadata[a];case\\\"chapter\\\":return a==i.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},a.visitorOptedOut=function(){return void 0!=b._appMeasurement.visitorOptedOut&&b._appMeasurement.visitorOptedOut},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},n.startsWith(e,\\\"meta.\\\")?c[e]=a.meta(e.split(\\\"meta.\\\")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},e.prototype._registerCommands=function(){this._pluginManager.comply(this,\\\"handleVideoLoad\\\",this._cmdVideoLoad),this._pluginManager.comply(this,\\\"handleVideoStart\\\",this._cmdVideoStart),this._pluginManager.comply(this,\\\"handleAdStart\\\",this._cmdAdStart),this._pluginManager.comply(this,\\\"handleHeartbeatPluginError\\\",this._cmdHeartbeatPluginError)},e.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(u,G),this,\\\"handleVideoLoad\\\"),this._pluginManager.registerBehaviour(new f(u,H),this,\\\"handleVideoStart\\\",[new h(u,\\\"video.id\\\",\\\"videoId\\\"),new h(u,\\\"video.streamType\\\",\\\"streamType\\\"),new h(u,\\\"video.name\\\",\\\"videoName\\\"),new h(u,\\\"video.length\\\",\\\"videoLength\\\"),new h(u,\\\"video.playerName\\\",\\\"playerName\\\"),new h(u,\\\"video.streamType\\\",\\\"streamType\\\"),new h(v,\\\"is_primetime\\\",\\\"isPrimetime\\\"),new h(v,\\\"session_id\\\",\\\"sessionId\\\"),new h(s,\\\"channel\\\",\\\"channel\\\"),new h(s,\\\"meta.video.*\\\",\\\"metaVideo\\\"),new h(t,\\\"meta\\\",\\\"metaNielsen\\\")]),this._pluginManager.registerBehaviour(new f(u,I),this,\\\"handleAdStart\\\",[new h(u,\\\"video.id\\\",\\\"videoId\\\"),new h(u,\\\"video.streamType\\\",\\\"streamType\\\"),new h(u,\\\"video.playhead\\\",\\\"playhead\\\"),new h(u,\\\"video.playerName\\\",\\\"playerName\\\"),new h(u,\\\"video.name\\\",\\\"videoName\\\"),new h(u,\\\"video.length\\\",\\\"videoLength\\\"),new h(u,\\\"ad.id\\\",\\\"adId\\\"),new h(u,\\\"ad.length\\\",\\\"adLength\\\"),new h(u,\\\"ad.position\\\",\\\"adPosition\\\"),new h(u,\\\"ad.name\\\",\\\"adName\\\"),new h(u,\\\"pod.name\\\",\\\"podName\\\"),new h(u,\\\"pod.position\\\",\\\"podPosition\\\"),new h(u,\\\"pod.playerName\\\",\\\"podPlayerName\\\"),new h(u,\\\"pod.startTime\\\",\\\"podSecond\\\"),new h(v,\\\"is_primetime\\\",\\\"isPrimetime\\\"),new h(v,\\\"session_id\\\",\\\"sessionId\\\"),new h(s,\\\"channel\\\",\\\"channel\\\"),new h(s,\\\"meta.video.*\\\",\\\"metaVideo\\\"),new h(s,\\\"meta.ad.*\\\",\\\"metaAd\\\"),new h(t,\\\"meta\\\",\\\"metaNielsen\\\")]),this._pluginManager.registerBehaviour(new f(v,x),this,\\\"handleHeartbeatPluginError\\\")},e.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var r=\\\"adobe-analytics\\\",s=r,t=\\\"nielsen\\\",u=\\\"player\\\",v=\\\"adobe-heartbeat\\\",w=2e3,x=\\\"error\\\",y=\\\"video\\\",z=\\\"videoAd\\\",A=\\\"ms_s\\\",B=\\\"msp_s\\\",C=\\\"msa_s\\\",D=\\\"mspa_s\\\",E=\\\"aa_start\\\",F=\\\"sc_ad_start\\\",G=\\\"video_load\\\",H=\\\"video_start\\\",I=\\\"ad_start\\\";d.AdobeAnalyticsPlugin=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){\\\"use strict\\\";var b={SHOW:\\\"a.media.show\\\",SEASON:\\\"a.media.season\\\",EPISODE:\\\"a.media.episode\\\",ASSET_ID:\\\"a.media.asset\\\",GENRE:\\\"a.media.genre\\\",FIRST_AIR_DATE:\\\"a.media.airDate\\\",FIRST_DIGITAL_DATE:\\\"a.media.digitalDate\\\",RATING:\\\"a.media.rating\\\",ORIGINATOR:\\\"a.media.originator\\\",NETWORK:\\\"a.media.network\\\",SHOW_TYPE:\\\"a.media.type\\\",AD_LOAD:\\\"a.media.adLoad\\\",MVPD:\\\"a.media.pass.mvpd\\\",AUTHORIZED:\\\"a.media.pass.auth\\\",DAY_PART:\\\"a.media.dayPart\\\",FEED:\\\"a.media.feed\\\",STREAM_FORMAT:\\\"a.media.format\\\"},c={ADVERTISER:\\\"a.media.ad.advertiser\\\",CAMPAIGN_ID:\\\"a.media.ad.campaign\\\",CREATIVE_ID:\\\"a.media.ad.creative\\\",PLACEMENT_ID:\\\"a.media.ad.placement\\\",SITE_ID:\\\"a.media.ad.site\\\",CREATIVE_URL:\\\"a.media.ad.creativeURL\\\"};a.VideoMetadataKeys=b,a.AdMetadataKeys=c}(b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this);\\n\\n// MediaHeartbeat\\n!function(a){!function(a){\\\"use strict\\\";function b(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}a.MediaHeartbeatConfig=b,a.MediaHeartbeatConfig.sharedInstance=new b}(a.ADB.va),function(a){\\\"use strict\\\";function b(){this.data={}}var c=a.plugins.videoplayer.VideoInfo,d=a.plugins.videoplayer.AdBreakInfo,e=a.plugins.videoplayer.AdInfo,f=a.plugins.videoplayer.ChapterInfo,g=a.plugins.videoplayer.QoSInfo;b.MEDIAINFO_KEY_NAME=\\\"a.name\\\",b.MEDIAINFO_KEY_VIDEOID=\\\"a.videoId\\\",b.MEDIAINFO_KEY_ADID=\\\"a.adId\\\",b.MEDIAINFO_KEY_LENGTH=\\\"a.length\\\",b.MEDIAINFO_KEY_PLAYHEAD=\\\"a.playhead\\\",b.MEDIAINFO_KEY_STREAMTYPE=\\\"a.streamType\\\",b.MEDIAINFO_KEY_POSITION=\\\"a.position\\\",b.MEDIAINFO_KEY_STARTTIME=\\\"a.startTime\\\",b.MEDIAINFO_KEY_BITRATE=\\\"a.bitrate\\\",b.MEDIAINFO_KEY_FPS=\\\"a.fps\\\",b.MEDIAINFO_KEY_DROPPEDFRAMES=\\\"a.droppedFrames\\\",b.MEDIAINFO_KEY_STARTUPTIME=\\\"a.startupTime\\\",b.MEDIAINFO_KEY_TIMEDMETADATA=\\\"a.timedMetadata\\\",b.prototype.setValue=function(a,b){this.data[a]=b},b.prototype.getValue=function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},b.prototype.createVideoInfo=function(){var a=new c;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_VIDEOID)?this.getValue(b.MEDIAINFO_KEY_VIDEOID):\\\"\\\",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):\\\"\\\",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.playhead=null!=this.getValue(b.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(b.MEDIAINFO_KEY_PLAYHEAD):0,a.streamType=null!=this.getValue(b.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(b.MEDIAINFO_KEY_STREAMTYPE):\\\"\\\",a},b.prototype.createAdBreakInfo=function(){var a=new d;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):\\\"\\\",a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a},b.prototype.createAdInfo=function(){var a=new e;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_ADID)?this.getValue(b.MEDIAINFO_KEY_ADID):\\\"\\\",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):\\\"\\\",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createChapterInfo=function(){var a=new f;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):\\\"\\\",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createQoSInfo=function(){var a=new g;return a.bitrate=null!=this.getValue(b.MEDIAINFO_KEY_BITRATE)?this.getValue(b.MEDIAINFO_KEY_BITRATE):0,a.fps=null!=this.getValue(b.MEDIAINFO_KEY_FPS)?this.getValue(b.MEDIAINFO_KEY_FPS):0,a.droppedFrames=null!=this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES):0,a.startupTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(b.MEDIAINFO_KEY_STARTUPTIME):0,a},a.MediaObject=b}(a.ADB.va),function(a,b){\\\"use strict\\\";function c(a){c.__super__.constructor.call(this),this._heartbeat=a}function d(a){d.__super__.constructor.call(this),this._heartbeat=a}function e(a){e.__super__.constructor.call(this),this._heartbeat=a}function f(a){f.__super__.constructor.call(this),this._heartbeat=a}a.extend(c,b.plugins.aa.AdobeAnalyticsPluginDelegate),c.prototype.onError=function(a){b.MediaHeartbeat._onDelegateError.call(this._heartbeat,a)},a.extend(d,b.plugins.ah.AdobeHeartbeatPluginDelegate),d.prototype.onError=function(a){b.MediaHeartbeat._onDelegateError.call(this._heartbeat,a)},a.extend(e,b.HeartbeatDelegate),e.prototype.onError=function(a){b.MediaHeartbeat._onDelegateError.call(this._heartbeat,a)},a.extend(f,b.plugins.videoplayer.VideoPlayerPluginDelegate),f.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},f.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},f.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},f.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},f.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var a=this._heartbeat._delegate.getQoSObject();if(a&&\\\"object\\\"==typeof a&&a.setValue)return a.createQoSInfo()}return null},b._MediaAnalyticsPluginDelegate=c,b._MediaHeartbeatPluginDelegate=d,b._ADBMediaHeartbeatDelegate=e,b._MediaHeartbeatVideoPlayerPluginDelegate=f}(a.ADB.core,a.ADB.va),function(a,b){\\\"use strict\\\";function c(){}function d(a){d.__super__.constructor.call(this),this._heartbeat=a}var e=b.MediaHeartbeatConfig;b.plugins.nielsen&&(c.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA=\\\"media_nielsen_content_metadata\\\",c.MEDIAHEARTBEAT_NIELSEN_AD_METADATA=\\\"media_nielsen_ad_metadata\\\",c.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA=\\\"media_nielsen_channel_metadata\\\",e.prototype.nielsenConfigKey=void 0,e.prototype.nielsenAppInfo=void 0,a.extend(d,b.plugins.nielsen.NielsenPluginDelegate),d.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentContentMediaObject){var a=this._heartbeat._currentContentMediaObject.getValue(c.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA);if(\\\"object\\\"==typeof a)return a}return null},d.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdMediaObject){var a=this._heartbeat._currentAdMediaObject.getValue(c.MEDIAHEARTBEAT_NIELSEN_AD_METADATA);if(\\\"object\\\"==typeof a)return a}return null},d.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentContentMediaObject){var a=this._heartbeat._currentContentMediaObject.getValue(c.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA);if(\\\"object\\\"==typeof a)return a}return null},d.prototype.onError=function(a){this._heartbeat&&b.MediaHeartbeat._onError.call(this._heartbeat,a)},b._MediaHeartbeatNielsen=c,b._MediaHeartbeatNielsenPluginDelegate=d)}(a.ADB.core,a.ADB.va),function(b,c){\\\"use strict\\\";function d(){}function e(b,d,e){if(this._logger=new z,this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._currentContentMediaObject=void 0,this._currentAdMediaObject=void 0,this._videoInfo=void 0,this._adBreakInfo=void 0,this._adInfo=void 0,this._chapterInfo=void 0,this._state={},this._delegate=b,e)this.appMeasurement=e;else{if(!a.s)return void this._logger.error($,\\\"Valid AppMeasurement instance required for initialising MediaHeartbeat\\\");this.appMeasurement=a.s}d&&\\\"object\\\"==typeof d&&void 0!=d.trackingServer?(this._config=d,c.MediaHeartbeat._debugLogging||this._config.debugLogging?this._logger.enable():this._logger.disable()):this._logger.error($,\\\"Valid config required for initialising MediaHeartbeat\\\")}function f(a,b){if(a==e.Event.AdBreakStart){if(this._logger.info($,\\\"#::trackEvent(AdBreakStart)\\\"),!t.call(this,Y))return void this._logger.error($,\\\"API call trackEvent:AdBreakStart is unsupported in the current state.\\\");b&&\\\"object\\\"==typeof b&&b.setValue?(this._adBreakInfo=b.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:\\\"\\\"):this._logger.error($,\\\"Invalid AdBreak Info for MediaHeartbeatEvent.AdBreakStart event.\\\")}else{if(this._logger.info($,\\\"#::trackEvent(AdBreakComplete)\\\"),!t.call(this,Y,!0))return void this._logger.error($,\\\"API call trackEvent:AdBreakComplete is unsupported in the current state.\\\");this._adBreakInfo=void 0}}function g(a,b,c){if(a==e.Event.AdStart){if(this._logger.info($,\\\"#::trackEvent(AdStart)\\\"),!t.call(this,X))return void this._logger.error($,\\\"API call trackEvent:AdStart is unsupported in the current state.\\\");if(b&&\\\"object\\\"==typeof b&&b.setValue){this._currentAdMediaObject=b,this._adInfo=b.createAdInfo();var d=b.getValue(e.MediaObjectKey.StandardAdMetadata);if(d&&\\\"object\\\"==typeof d)for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f]);this._aaPlugin&&this._aaPlugin.setAdMetadata(c),this._playerPlugin.trackAdStart(),this._state[Z]||this._state[S]||this.trackPlay()}else this._logger.error($,\\\"Invalid Ad Info for MediaHeartbeatEvent.AdStart event.\\\")}else if(a==e.Event.AdComplete){if(this._logger.info($,\\\"#::trackEvent(AdComplete)\\\"),!t.call(this,X,!0))return void this._logger.error($,\\\"API call trackEvent:AdComplete is unsupported in the current state.\\\");this._playerPlugin.trackAdComplete(),this._adInfo=null}else{if(this._logger.info($,\\\"#::trackEvent(AdSkip)\\\"),!t.call(this,X,!0))return void this._logger.error($,\\\"API call trackEvent:AdSkip is unsupported in the current state.\\\");this._adInfo=null}}function h(a){if(a==e.Event.SeekStart){if(this._logger.info($,\\\"#::trackEvent(SeekStart)\\\"),!t.call(this,V))return void this._logger.error($,\\\"API call trackEvent:SeekStart is unsupported in the current state.\\\");this._playerPlugin.trackSeekStart()}else{if(this._logger.info($,\\\"#::trackEvent(SeekComplete)\\\"),!t.call(this,V,!0))return void this._logger.error($,\\\"API call trackEvent:SeekComplete is unsupported in the current state.\\\");this._playerPlugin.trackSeekComplete()}}function i(a,b,c){if(a==e.Event.ChapterStart){if(this._logger.info($,\\\"#::trackEvent(ChapterStart)\\\"),!t.call(this,W))return void this._logger.error($,\\\"API call trackEvent:ChapterStart is unsupported in the current state.\\\");b&&\\\"object\\\"==typeof b&&b.setValue?(this._chapterInfo=b.createChapterInfo(),this._aaPlugin&&this._aaPlugin.setChapterMetadata(c),this._playerPlugin.trackChapterStart(),this._state[Z]||this._state[S]||this.trackPlay()):this._logger.error($,\\\"Invalid Chapter Info for MediaHeartbeatEvent.ChapterStart event.\\\")}else if(a==e.Event.ChapterComplete){if(this._logger.info($,\\\"#::trackEvent(ChapterComplete)\\\"),!t.call(this,W,!0))return void this._logger.error($,\\\"API call trackEvent:ChapterComplete is unsupported in the current state.\\\");this._chapterInfo=null,this._playerPlugin.trackChapterComplete()}else{if(this._logger.info($,\\\"#::trackEvent(ChapterSkip)\\\"),!t.call(this,W,!0))return void this._logger.error($,\\\"API call trackEvent:ChapterSkip is unsupported in the current state.\\\");this._chapterInfo=null}}function j(a){if(a==e.Event.BufferStart){if(this._logger.info($,\\\"#::trackEvent(BufferStart)\\\"),!t.call(this,U))return void this._logger.error($,\\\"API call trackEvent:BufferStart is unsupported in the current state.\\\");this._playerPlugin.trackBufferStart()}else{if(this._logger.info($,\\\"#::trackEvent(BufferComplete)\\\"),!t.call(this,U,!0))return void this._logger.error($,\\\"API call trackEvent:BufferComplete is unsupported in the current state.\\\");this._playerPlugin.trackBufferComplete()}}function k(){return this._logger.info($,\\\"#::trackEvent(BitrateChange)\\\"),w.call(this)?void this._playerPlugin.trackBitrateChange():void this._logger.error($,\\\"API call trackEvent:BitrateChange is unsupported in the current state.\\\")}function l(a){if(this._logger.info($,\\\"#::trackEvent(TimedMetadataUpdate)\\\"),a&&\\\"object\\\"==typeof a&&a.setValue){var b=a.getValue(B.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin&&b&&\\\"string\\\"==typeof b&&this._playerPlugin.trackTimedMetadata(b)}}function m(){this._aaPlugin=new I(this.appMeasurement,new K(this));var a=new J;a.channel=this._config.channel?this._config.channel:\\\"\\\",a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(a),this._plugins.push(this._aaPlugin)}function n(){this._ahPlugin=new L(new N(this));var a=new M(this._config.trackingServer,this.appMeasurement.visitor.marketingCloudOrgID);a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,a.ovp=this._config.ovp?this._config.ovp:\\\"\\\",a.ssl=this._config.ssl,a.sdk=this._config.appVersion?this._config.appVersion:\\\"\\\";var b=s.call(this);b&&b.length>0&&(a.__primetime=!0,a.__psdkVersion=b),this._ahPlugin.configure(a),this._plugins.push(this._ahPlugin)}function o(){this._playerPlugin=new F(new H(this));var a=new G;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(a),this._plugins.push(this._playerPlugin)}function p(){if(c.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new c.plugins.nielsen.NielsenPlugin(new c._MediaHeartbeatNielsenPluginDelegate(this));var a=new c.plugins.nielsen.NielsenPluginConfig;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,a.appInfo=this._config.nielsenAppInfo,a.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(a),this._plugins.push(this._nielsenPlugin)}}function q(){var a=new D;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new C(new E(this),this._plugins),this._heartbeat.configure(a)}function r(a){this._logger.error($,a.getMessage()+\\\" | \\\"+a.getDetails())}function s(){return this._currentContentMediaObject?this._currentContentMediaObject.getValue(_):null}function t(a,b){if(a!=Q&&(!this._state[Q]||this._state[T]))return!1;a===R&&u.call(this);var c=!(a===Y&&!b);if(c&&(b?!this._state[a]:this._state[a]))return!1;switch(a){case R:this._state[S]=b,this._state[Z]=!0;break;case S:this._state[R]=b;break;case Y:if(!b&&this._state[X])return!1;break;case X:if(!b&&!this._state[Y])return!1}return this._state[a]=!b,!0}function u(){this._state[V]&&this.trackEvent(e.Event.SeekComplete),this._state[U]&&this.trackEvent(e.Event.BufferComplete)}function v(a){this._state[a]=!1}function w(){return this._state[Q]}function x(){this._state={}}function y(){this._plugins=[],this._aaPlugin=null,this._ahPlugin=null,this._playerPlugin=null,this._nielsenPlugin=null,this._heartbeat&&(this._heartbeat.destroy(),this._heartbeat=null)}var z=b.Logger,A=c.plugins.videoplayer.AssetType,B=c.MediaObject,C=c.Heartbeat,D=c.HeartbeatConfig,E=c._ADBMediaHeartbeatDelegate,F=c.plugins.videoplayer.VideoPlayerPlugin,G=c.plugins.videoplayer.VideoPlayerPluginConfig,H=c._MediaHeartbeatVideoPlayerPluginDelegate,I=c.plugins.aa.AdobeAnalyticsPlugin,J=c.plugins.aa.AdobeAnalyticsPluginConfig,K=c._MediaAnalyticsPluginDelegate,L=c.plugins.ah.AdobeHeartbeatPlugin,M=c.plugins.ah.AdobeHeartbeatPluginConfig,N=c._MediaHeartbeatPluginDelegate;if(d.prototype.getCurrentPlaybackTime=function(){return null},d.prototype.getQoSObject=function(){return null},e.Event={AdBreakStart:\\\"adBreakStart\\\",AdBreakComplete:\\\"adBreakComplete\\\",AdStart:\\\"adStart\\\",AdComplete:\\\"adComplete\\\",AdSkip:\\\"adSkip\\\",ChapterStart:\\\"chapterStart\\\",ChapterComplete:\\\"chapterComplete\\\",ChapterSkip:\\\"chapterSkip\\\",SeekStart:\\\"seekStart\\\",SeekComplete:\\\"seekComplete\\\",BufferStart:\\\"bufferStart\\\",BufferComplete:\\\"bufferComplete\\\",BitrateChange:\\\"bitrateChange\\\",TimedMetadataUpdate:\\\"timedMetadataUpdate\\\"},e.StreamType={VOD:\\\"vod\\\",LIVE:\\\"live\\\",LINEAR:\\\"linear\\\"},e.MediaObjectKey={StandardVideoMetadata:\\\"media_standard_content_metadata\\\",StandardAdMetadata:\\\"media_standard_ad_metadata\\\",VideoResumed:\\\"resumed\\\"},e.VideoMetadataKeys=c.plugins.aa.VideoMetadataKeys,e.AdMetadataKeys=c.plugins.aa.AdMetadataKeys,e.version=function(){return c.Version.getVersion()},e.prototype.trackSessionStart=function(a,b){if(this._logger.info($,\\\"#::trackSessionStart()\\\"),!t.call(this,Q))return void this._logger.error($,\\\"API call trackSessionStart is unsupported in the current state.\\\");if(!a||\\\"object\\\"!=typeof a||!a.setValue)return v.call(this,Q),void this._logger.error($,\\\"Invalid Media Info object\\\");this._currentContentMediaObject=a,this._videoInfo=a.createVideoInfo(),this._videoInfo.playerName=void 0!=this._config.playerName?this._config.playerName:\\\"\\\";var c=a.getValue(e.MediaObjectKey.StandardVideoMetadata);if(c&&\\\"object\\\"==typeof c)for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);var f=a.getValue(e.MediaObjectKey.VideoResumed);f&&\\\"boolean\\\"==typeof f&&(this._videoInfo.resumed=a.getValue(e.MediaObjectKey.VideoResumed)),P.call(this),this._playerPlugin&&(this._aaPlugin&&this._aaPlugin.setVideoMetadata(b),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart())},e.prototype.trackPlay=function(){return this._logger.info($,\\\"#::trackPlay()\\\"),t.call(this,R)?void this._playerPlugin.trackPlay():void this._logger.error($,\\\"API call trackPlay is unsupported in the current state.\\\")},e.prototype.trackPause=function(){return this._logger.info($,\\\"#::trackPause()\\\"),t.call(this,S)?void(this._playerPlugin&&this._playerPlugin.trackPause()):void this._logger.error($,\\\"API call trackPause is unsupported in the current state.\\\")},e.prototype.trackComplete=function(){return this._logger.info($,\\\"#::trackComplete()\\\"),t.call(this,T)?void(this._playerPlugin&&this._playerPlugin.trackComplete(function(){})):void this._logger.error($,\\\"API call trackComplete is unsupported in the current state.\\\")},e.prototype.trackSessionEnd=function(){return this._logger.info($,\\\"#::trackSessionEnd()\\\"),t.call(this,Q,!0)?(this._playerPlugin&&this._playerPlugin.trackVideoUnload(),x.call(this),void y.call(this)):(x.call(this),y.call(this),void this._logger.error($,\\\"API call trackSessionEnd is unsupported in the current state.\\\"))},e.prototype.trackError=function(a){return this._logger.info($,\\\"#::trackError()\\\"),w.call(this)?void(this._playerPlugin&&this._playerPlugin.trackVideoPlayerError(a?a:\\\"unknown_error_id\\\")):void this._logger.error($,\\\"API call trackError is unsupported in the current state.\\\")},e.prototype.trackEvent=function(a,b,c){switch(a){case e.Event.AdBreakStart:case e.Event.AdBreakComplete:f.call(this,a,b);break;case e.Event.AdStart:case e.Event.AdComplete:case e.Event.AdSkip:g.call(this,a,b,c);break;case e.Event.SeekStart:case e.Event.SeekComplete:h.call(this,a);break;case e.Event.ChapterStart:case e.Event.ChapterComplete:case e.Event.ChapterSkip:i.call(this,a,b,c);break;case e.Event.BufferStart:case e.Event.BufferComplete:j.call(this,a);break;case e.Event.BitrateChange:k.call(this);break;case e.Event.TimedMetadataUpdate:l.call(this,b)}},c.plugins.nielsen){var O=c._MediaHeartbeatNielsen;e.MediaObjectKey.NielsenContentMetadata=O.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA,e.MediaObjectKey.NielsenAdMetadata=O.MEDIAHEARTBEAT_NIELSEN_AD_METADATA,e.MediaObjectKey.NielsenChannelMetadata=O.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA,e.prototype.nielsenLoadMetadata=function(a){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(a)}}var P=function(){if(!this.appMeasurement||!this.appMeasurement.visitor)throw new Error(\\\"appMeasurement.visitor object cannot be NULL.\\\");m.call(this),n.call(this),o.call(this),p.call(this),q.call(this)},Q=1,R=2,S=3,T=4,U=5,V=6,W=7,X=8,Y=9,Z=10;e.createMediaObject=function(a,b,c,d){var f=new B;f.setValue(B.MEDIAINFO_KEY_VIDEOID,b),f.setValue(B.MEDIAINFO_KEY_NAME,a),f.setValue(B.MEDIAINFO_KEY_LENGTH,c),f.setValue(B.MEDIAINFO_KEY_PLAYHEAD,0);var g=A.ASSET_TYPE_VOD;switch(d){case e.StreamType.VOD:g=A.ASSET_TYPE_VOD;break;case e.StreamType.LIVE:g=A.ASSET_TYPE_LIVE;break;case e.StreamType.LINEAR:g=A.ASSET_TYPE_LINEAR}return f.setValue(B.MEDIAINFO_KEY_STREAMTYPE,g),f},e.createAdBreakObject=function(a,b,c){var d=new B;return d.setValue(B.MEDIAINFO_KEY_NAME,a),d.setValue(B.MEDIAINFO_KEY_POSITION,b),d.setValue(B.MEDIAINFO_KEY_STARTUPTIME,c),d},e.createAdObject=function(a,b,c,d){var e=new B;return e.setValue(B.MEDIAINFO_KEY_NAME,a),e.setValue(B.MEDIAINFO_KEY_ADID,b),e.setValue(B.MEDIAINFO_KEY_POSITION,c),e.setValue(B.MEDIAINFO_KEY_LENGTH,d),e},e.createChapterObject=function(a,b,c,d){var e=new B;return e.setValue(B.MEDIAINFO_KEY_NAME,a),e.setValue(B.MEDIAINFO_KEY_POSITION,b),e.setValue(B.MEDIAINFO_KEY_LENGTH,c),e.setValue(B.MEDIAINFO_KEY_STARTTIME,d),e},e.createQoSObject=function(a,b,c,d){var e=new B;return e.setValue(B.MEDIAINFO_KEY_BITRATE,a),e.setValue(B.MEDIAINFO_KEY_FPS,c),e.setValue(B.MEDIAINFO_KEY_DROPPEDFRAMES,d),e.setValue(B.MEDIAINFO_KEY_STARTUPTIME,b),e},e.createTimedMetadataObject=function(a){var b=new B;return b.setValue(B.MEDIAINFO_KEY_TIMEDMETADATA,a),b};var $=\\\"MediaHeartbeat\\\",_=\\\"a.__pttvsdkVersion\\\";c.MediaHeartbeat=e,c.MediaHeartbeatDelegate=d,c.MediaHeartbeat._onDelegateError=r,c.MediaHeartbeat._debugLogging=!1}(a.ADB.core,a.ADB.va),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=core),a.ADB.va||(a.ADB.va=va),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL3ZpZGVvX2hlYXJ0YmVhdC0yLjAuMi5taW4uanM/ZTU3MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2aENBQTZoQyxvQ0FBb0Msb0NBQW9DLG9DQUFvQyx1QkFBdUIsd0JBQXdCLG1DQUFtQyxvQkFBb0IsY0FBYyxlQUFlLGdCQUFnQixvREFBb0QscUJBQXFCLGdCQUFnQixxQkFBcUIsd0JBQXdCLGtDQUFrQywwQkFBMEIsNkJBQTZCLDBCQUEwQiw2QkFBNkIsMEJBQTBCLDBCQUEwQiwwQkFBMEIsNkJBQTZCLGdCQUFnQix5Q0FBeUMsa0VBQWtFLFFBQVEsV0FBVyw4cUVBQThxRSxnQkFBZ0IsY0FBYyxhQUFhLFFBQVEsY0FBYyxnREFBZ0QsU0FBUyxjQUFjLFdBQVcsa0NBQWtDLFdBQVcsWUFBWSxRQUFRLGFBQWEsNENBQTRDLFNBQVMsY0FBYyw2QkFBNkIsZ0JBQWdCLHlCQUF5Qiw0REFBNEQsS0FBSyw4Q0FBOEMsZ0VBQWdFLGNBQWMsc0NBQXNDLFFBQVEsV0FBVyw0REFBNEQsU0FBUyxjQUFjLHVDQUF1QyxjQUFjLGVBQWUsY0FBYyxlQUFlLGdCQUFnQixvQkFBb0IsZ0JBQWdCLGlCQUFpQixrQkFBa0IscUNBQXFDLFFBQVEsZ0JBQWdCLGVBQWUsU0FBUywyQkFBMkIsdUJBQXVCLGlCQUFpQixnQkFBZ0IsZUFBZSxTQUFTLG9CQUFvQixTQUFTLGdEQUFnRCxTQUFTLHVCQUF1QixpQkFBaUIsZ0RBQWdELFNBQVMsaUJBQWlCLGdCQUFnQixlQUFlLGtCQUFrQixtQ0FBbUMsMkJBQTJCLHdFQUF3RSxtQkFBbUIsZ0JBQWdCLGVBQWUsZ0JBQWdCLG1IQUFtSCxtQ0FBbUMsa0NBQWtDLDBDQUEwQyxlQUFlLGdDQUFnQyw4QkFBOEIsZ0NBQWdDLHFCQUFxQiwrQkFBK0IsbUNBQW1DLDhCQUE4QixxQkFBcUIsWUFBWSxxQkFBcUIsS0FBSyxxQkFBcUIsUUFBUSxlQUFlLCtCQUErQiwrQ0FBK0MseUJBQXlCLFdBQVcsY0FBYyx1QkFBdUIsNkJBQTZCLG9CQUFvQix3QkFBd0IsSUFBSSx1Q0FBdUMsYUFBYSwyQkFBMkIsV0FBVyx1QkFBdUIsS0FBSyw0Q0FBNEMsOERBQThELHdCQUF3QixnQkFBZ0IsZUFBZSxnQkFBZ0Isc0ZBQXNGLGlDQUFpQyxrQkFBa0Isa0JBQWtCLHFCQUFxQixnQkFBZ0Isa0JBQWtCLCtFQUErRSxXQUFXLDBDQUEwQyxTQUFTLG1FQUFtRSxzQ0FBc0MsaUNBQWlDLG1HQUFtRyxrQkFBa0Isc0JBQXNCLGdDQUFnQyx3RkFBd0YsV0FBVyxHQUFHLGlDQUFpQyxzQkFBc0IsaUZBQWlGLEVBQUUsaUNBQWlDLDhGQUE4RixpQ0FBaUMsOElBQThJLFdBQVcsS0FBSyxXQUFXLG9CQUFvQixvQ0FBb0Msc0NBQXNDLFlBQVksRUFBRSxtQ0FBbUMsc0JBQXNCLHdCQUF3Qix1R0FBdUcsbUNBQW1DLHNDQUFzQyxXQUFXLEVBQUUsaUNBQWlDLHNCQUFzQix3QkFBd0IsaUdBQWlHLDZDQUE2QyxnQ0FBZ0MseUJBQXlCLE1BQU0sZ0VBQWdFLFlBQVksV0FBVyxLQUFLLFdBQVcsb0VBQW9FLHlCQUF5QixrQkFBa0IsZ0JBQWdCLGVBQWUsY0FBYyx5RUFBeUUsaUNBQWlDLHNCQUFzQixnQ0FBZ0Msc0ZBQXNGLGlDQUFpQywyRkFBMkYsaUJBQWlCLGdCQUFnQixlQUFlLGdCQUFnQixhQUFhLG1CQUFtQixnREFBZ0QsMkVBQTJFLFdBQVcsZ0JBQWdCLGVBQWUsY0FBYyw4QkFBOEIsc0VBQXNFLGdCQUFnQixnQkFBZ0IsZUFBZSxjQUFjLDhCQUE4QiwwREFBMEQsZUFBZSxnQkFBZ0IsZUFBZSxjQUFjLHFDQUFxQyxzRUFBc0UscUNBQXFDLHNFQUFzRSxtQ0FBbUMsc0VBQXNFLCtCQUErQixzRUFBc0UsZ0NBQWdDLHNFQUFzRSxpQ0FBaUMsc0VBQXNFLGdDQUFnQyxzRUFBc0UsZ0NBQWdDLHNFQUFzRSxpQ0FBaUMsc0VBQXNFLGFBQWEsZ0JBQWdCLGVBQWUsYUFBYSxzQkFBc0IsY0FBYywwQ0FBMEMsa0JBQWtCLHFDQUFxQyw2RUFBNkUsbUNBQW1DLHFDQUFxQyx1QkFBdUIsbUNBQW1DLHFCQUFxQiwrQkFBK0IsaUJBQWlCLGdDQUFnQyxpQkFBaUIsaUNBQWlDLGlCQUFpQixnQ0FBZ0MsaUJBQWlCLGdDQUFnQyxpQkFBaUIsaUNBQWlDLGlCQUFpQixrQ0FBa0Msd0JBQXdCLHNCQUFzQix1SEFBdUgsa0RBQWtELFdBQVcsZ0JBQWdCLGVBQWUsZ0JBQWdCLHFDQUFxQyxzQkFBc0IscUNBQXFDLHdCQUF3QixxQ0FBcUMsdUJBQXVCLGdDQUFnQyxvREFBb0QsYUFBYSxnQkFBZ0IsZUFBZSxnQkFBZ0Isd0JBQXdCLHdFQUF3RSwwQkFBMEIsV0FBVyxnQkFBZ0IsZUFBZSxhQUFhLGdCQUFnQiw2Q0FBNkMsNkVBQTZFLFdBQVcsR0FBRyxpREFBaUQsU0FBUyxZQUFZLGFBQWEsZ0NBQWdDLEtBQUssTUFBTSxNQUFNLCtCQUErQixLQUFLLEtBQUsseUJBQXlCLGlEQUFpRCxpREFBaUQsdUNBQXVDLFdBQVcsUUFBUSxxRUFBcUUsOENBQThDLFFBQVEsSUFBSSw2QkFBNkIsUUFBUSw0Q0FBNEMsTUFBTSxRQUFRLHlEQUF5RCwrQkFBK0IsS0FBSyxLQUFLLHlCQUF5Qix1Q0FBdUMsZ0RBQWdELHFCQUFxQixxQkFBcUIsZ0JBQWdCLGVBQWUsY0FBYyxnQkFBZ0Isa0RBQWtELGFBQWEseURBQXlELGtDQUFrQyx5R0FBeUcsOEJBQThCLDhCQUE4Qiw0R0FBNEcsNENBQTRDLFdBQVcsZ0RBQWdELGdDQUFnQyx5REFBeUQsaUhBQWlILFNBQVMsbUJBQW1CLFdBQVcsb0JBQW9CLG1JQUFtSSxzQkFBc0IsbUNBQW1DLFNBQVMsb0NBQW9DLG9HQUFvRyxTQUFTLDZFQUE2RSxtREFBbUQsZ0JBQWdCLGVBQWUsbURBQW1ELHdCQUF3Qix5QkFBeUIsdUJBQXVCLGdDQUFnQyx1QkFBdUIsZ0NBQWdDLHVCQUF1QixnQ0FBZ0MsdUJBQXVCLGdDQUFnQyx1QkFBdUIsU0FBUywwQkFBMEIsU0FBUyxtQ0FBbUMseUJBQXlCLGFBQWEsZ0JBQWdCLGVBQWUsZ0JBQWdCLGdDQUFnQyxrQ0FBa0MscUJBQXFCLG1DQUFtQyxxQkFBcUIsZUFBZSxnQkFBZ0IsZUFBZSxhQUFhLHFCQUFxQixvQkFBb0IsZ0JBQWdCLGVBQWUsY0FBYyxpQ0FBaUMsdUJBQXVCLGdCQUFnQixlQUFlLGNBQWMsa0NBQWtDLHNFQUFzRSxtQ0FBbUMsc0VBQXNFLDhCQUE4QixzRUFBc0UsZ0NBQWdDLHNFQUFzRSwrQkFBK0Isc0VBQXNFLGdDQUFnQyxzRUFBc0UsZ0NBQWdDLHNFQUFzRSxzQ0FBc0Msc0VBQXNFLHFDQUFxQyxzRUFBc0Usb0JBQW9CLGdCQUFnQixlQUFlLG9CQUFvQixpRUFBaUUscUJBQXFCLDRCQUE0QixvQ0FBb0MsaUJBQWlCLFdBQVcsS0FBSyxXQUFXLHVDQUF1QyxrQ0FBa0MsU0FBUyx1R0FBdUcsU0FBUyxrQ0FBa0Msc0NBQXNDLHVDQUF1QyxpQkFBaUIsK0ZBQStGLHNCQUFzQixnQkFBZ0IsZUFBZSxrQkFBa0Isa0VBQWtFLHNCQUFzQixxQ0FBcUMsd0JBQXdCLCtCQUErQixpQkFBaUIsbUNBQW1DLDhDQUE4QyxxQ0FBcUMsdUJBQXVCLHlCQUF5QixnQkFBZ0IsZUFBZSxjQUFjLHlFQUF5RSwrQkFBK0Isb0JBQW9CLG1IQUFtSCxxRUFBcUUsb0RBQW9ELGtCQUFrQixrSEFBa0gscUNBQXFDLHFGQUFxRixzQ0FBc0MseUJBQXlCLDZDQUE2QywwREFBMEQsa0NBQWtDLDBDQUEwQyxtQ0FBbUMsZ0NBQWdDLDZCQUE2QixpQ0FBaUMsbUNBQW1DLE1BQU0sa0JBQWtCLE1BQU0sUUFBUSxXQUFXLHNDQUFzQyxXQUFXLDhIQUE4SCxnRUFBZ0UsUUFBUSxXQUFXLEtBQUssT0FBTyxPQUFPLG9DQUFvQyxvQkFBb0IsUUFBUSxXQUFXLDBGQUEwRiw4Q0FBOEMsNkJBQTZCLG1DQUFtQyx1QkFBdUIsK0NBQStDLCtCQUErQixrQkFBa0IsdUJBQXVCLDZCQUE2QixxQ0FBcUMsdUJBQXVCLGdDQUFnQyx1QkFBdUIsdUZBQXVGLG9DQUFvQyx3REFBd0QscUNBQXFDLDZDQUE2QyxpREFBaUQsbUNBQW1DLHlFQUF5RSxzRUFBc0UseUJBQXlCLGtCQUFrQixlQUFlLGNBQWMsaUdBQWlHLDZEQUE2RCxtREFBbUQsaUVBQWlFLG1DQUFtQyw0SEFBNEgsOEJBQThCLG9EQUFvRCxnQ0FBZ0MsMkRBQTJELCtCQUErQixtQ0FBbUMsZ0NBQWdDLG9DQUFvQyxnQ0FBZ0Msa0JBQWtCLGtDQUFrQyxvQkFBb0Isc0NBQXNDLDJCQUEyQixxQ0FBcUMsNE5BQTROLGtGQUFrRixXQUFXLGlCQUFpQixXQUFXLEtBQUssV0FBVyw4Q0FBOEMsOEdBQThHLFNBQVMsaUNBQWlDLHFDQUFxQyxrQ0FBa0MsbUNBQW1DLG1DQUFtQyxvQ0FBb0Msa0tBQWtLLG9DQUFvQyxtREFBbUQsd0NBQXdDLHVCQUF1QixrQkFBa0IsZUFBZSxrQkFBa0IsaUlBQWlJLGdCQUFnQiwrRUFBK0UseUZBQXlGLG9EQUFvRCxXQUFXLDBDQUEwQyxZQUFZLFFBQVEsNkJBQTZCLHdGQUF3RixtQ0FBbUMsMkJBQTJCLHVGQUF1RixpREFBaUQsK0VBQStFLHlDQUF5Qyw2QkFBNkIsc0NBQXNDLHVCQUF1Qix1Q0FBdUMsaUdBQWlHLHNCQUFzQixnQ0FBZ0Msc0NBQXNDLGdHQUFnRyxzQkFBc0IsZ0NBQWdDLHVDQUF1QyxzQkFBc0IsdUJBQXVCLGdDQUFnQyx3REFBd0Qsb0NBQW9DLGdDQUFnQyw2REFBNkQsc0JBQXNCLG9RQUFvUSxpREFBaUQsaURBQWlELG9CQUFvQixlQUFlLGNBQWMsOEdBQThHLHFGQUFxRixpRUFBaUUsZ0RBQWdELCtPQUErTyxrQ0FBa0MsNkJBQTZCLG9DQUFvQyxjQUFjLDRDQUE0QyxtQ0FBbUMsMkNBQTJDLG9DQUFvQyw0Q0FBNEMscUNBQXFDLHNDQUFzQyxvQ0FBb0MsYUFBYSxTQUFTLHdDQUF3QywyQ0FBMkMsUUFBUSxzQkFBc0IsaUJBQWlCLDBCQUEwQixnQ0FBZ0MsK0JBQStCLG1CQUFtQixXQUFXLEtBQUssV0FBVyxVQUFVLG9CQUFvQix1QkFBdUIseUNBQXlDLFdBQVcscUtBQXFLLHVCQUF1Qix3QkFBd0IsZUFBZSxnQkFBZ0IsK0hBQStILFdBQVcsd0NBQXdDLHdEQUF3RCwrREFBK0Qsa0NBQWtDLGdFQUFnRSxnSUFBZ0ksZ0NBQWdDLHlFQUF5RSxvQkFBb0IsY0FBYyx3QkFBd0IsNkhBQTZILEVBQUUsT0FBTyx1Q0FBdUMsb0NBQW9DLGFBQWEsZUFBZSxTQUFTLGlHQUFpRyxnQkFBZ0IsZUFBZSxhQUFhLDJFQUEyRSxnQ0FBZ0MsMEhBQTBILGlCQUFpQixnQkFBZ0IsZUFBZSxhQUFhLGdFQUFnRSxnQ0FBZ0Msb0dBQW9HLFlBQVksZ0JBQWdCLGVBQWUsYUFBYSx1RUFBdUUsZ0NBQWdDLGtIQUFrSCxpQkFBaUIsZ0JBQWdCLGVBQWUsYUFBYSw4RUFBOEUsZ0NBQWdDLGdJQUFnSSxhQUFhLGdCQUFnQixlQUFlLGFBQWEsMEhBQTBILGdDQUFnQyxvTUFBb00sZUFBZSxnQkFBZ0IsZUFBZSxhQUFhLHFCQUFxQiw0QkFBNEIsZ0JBQWdCLGVBQWUsY0FBYyxvQ0FBb0Msc0VBQXNFLHVDQUF1QyxZQUFZLGtDQUFrQyxZQUFZLHVDQUF1QyxZQUFZLG1DQUFtQyxZQUFZLCtCQUErQixrQkFBa0IsZUFBZSxjQUFjLHNHQUFzRyxnUUFBZ1EsMEZBQTBGLGdEQUFnRCwrRUFBK0UsMEdBQTBHLCtJQUErSSxtQ0FBbUMsdUZBQXVGLDRDQUE0Qyw2RUFBNkUsNkNBQTZDLHNOQUFzTiwwQ0FBMEMsZ0ZBQWdGLHFJQUFxSSwySUFBMkksbURBQW1ELDhDQUE4Qyw2RUFBNkUsdUNBQXVDLGdLQUFnSyx5Q0FBeUMsK0VBQStFLG9JQUFvSSxrSUFBa0ksa0NBQWtDLDhKQUE4SixtQ0FBbUMscUhBQXFILDBCQUEwQixTQUFTLDRCQUE0Qix5Q0FBeUMsMktBQTJLLDRDQUE0QyxrTEFBa0wsdUNBQXVDLHVLQUF1SywwQ0FBMEMsbUlBQW1JLDRDQUE0QywwQ0FBMEMsc0VBQXNFLHVDQUF1QywySEFBMkgsU0FBUyxxREFBcUQsNENBQTRDLGdKQUFnSiwwQ0FBMEMsa0pBQWtKLDZDQUE2QyxzSkFBc0oscUNBQXFDLCtKQUErSix3Q0FBd0MscUtBQXFLLDJDQUEyQyxtSkFBbUosK0NBQStDLHNJQUFzSSxTQUFTLGtDQUFrQywrQ0FBK0Msc0lBQXNJLFNBQVMsa0NBQWtDLDBDQUEwQyxzS0FBc0ssNENBQTRDLHNQQUFzUCwyQ0FBMkMsYUFBYSwySUFBMkksYUFBYSxzSEFBc0gsYUFBYSxxSUFBcUksYUFBYSx5SkFBeUosYUFBYSw2SEFBNkgsUUFBUSxLQUFLLFFBQVEsMkJBQTJCLHdCQUF3QiwrREFBK0QsOEJBQThCLDBCQUEwQixpRUFBaUUsZ0NBQWdDLDJCQUEyQixtRUFBbUUsb0NBQW9DLGdDQUFnQyx1RUFBdUUsb0NBQW9DLGdDQUFnQyx1RUFBdUUsa0NBQWtDLDZCQUE2QixxRUFBcUUsaUNBQWlDLDJCQUEyQixvRUFBb0UseUNBQXlDLDZCQUE2Qiw0QkFBNEIsMEJBQTBCLCtEQUErRCxrQ0FBa0MsZ0NBQWdDLHFFQUFxRSxnQ0FBZ0MsNkJBQTZCLG1FQUFtRSxpQ0FBaUMsOEJBQThCLG9FQUFvRSw2QkFBNkIsb0JBQW9CLGdFQUFnRSxrQ0FBa0Msb0JBQW9CLHFFQUFxRSx5QkFBeUIsd0JBQXdCLDREQUE0RCwyQkFBMkIsMEJBQTBCLDhEQUE4RCw2QkFBNkIsMkJBQTJCLGdFQUFnRSwrQkFBK0IsNkJBQTZCLGtFQUFrRSx1Q0FBdUMsb0JBQW9CLDBFQUEwRSxnQ0FBZ0MsMEJBQTBCLG1FQUFtRSxrQ0FBa0MsMkJBQTJCLHFFQUFxRSxvQ0FBb0MsNkJBQTZCLHVFQUF1RSxxQ0FBcUMsOEJBQThCLHdFQUF3RSwrQkFBK0IsNEJBQTRCLGtFQUFrRSwyQkFBMkIsd0JBQXdCLDhEQUE4RCxxQ0FBcUMsa0NBQWtDLHdFQUF3RSxtQ0FBbUMsb0NBQW9DLHNFQUFzRSxnQ0FBZ0MsK0JBQStCLEtBQUssbUJBQW1CLFdBQVcsS0FBSyxXQUFXLE9BQU8sK0NBQStDLFVBQVUsNENBQTRDLGlMQUFpTCx3Q0FBd0MsNktBQTZLLDRDQUE0QyxXQUFXLGlFQUFpRSxvQkFBb0IsMERBQTBELG9JQUFvSSxLQUFLLDRCQUE0QixtTUFBbU0sS0FBSywyQ0FBMkMsMEdBQTBHLCtDQUErQyxzUUFBc1EsOGhCQUE4aEIsc0JBQXNCLDhFQUE4RSxPQUFPLDBDQUEwQyxvQ0FBb0Msb0JBQW9CLDBCQUEwQix3QkFBd0Isc0JBQXNCLDBCQUEwQixnQkFBZ0IsZUFBZSxzQkFBc0IsMEVBQTBFLGdHQUFnRywrRkFBK0YsaUhBQWlILGNBQWMscUdBQXFHLGlFQUFpRSxTQUFTLHFGQUFxRiwrQkFBK0IsaUVBQWlFLFNBQVMscUZBQXFGLGdDQUFnQyx1QkFBdUIsK0NBQStDLFNBQVMscUVBQXFFLHFDQUFxQyx5RUFBeUUsa0VBQWtFLG9DQUFvQyxTQUFTLDBFQUEwRSxtQ0FBbUMsU0FBUyx5RUFBeUUsbUNBQW1DLGdFQUFnRSx5Q0FBeUMsaU9BQWlPLDJDQUEyQywrRUFBK0Usd0NBQXdDLDhCQUE4QixTQUFTLHNHQUFzRyw0R0FBNEcsZ0JBQWdCLDZCQUE2QixlQUFlLGtCQUFrQiw2Q0FBNkMsOEJBQThCLDZEQUE2RCxnQkFBZ0IscUZBQXFGLDhIQUE4SCxzT0FBc08saUhBQWlILHNDQUFzQyxxRkFBcUYseUNBQXlDLHlLQUF5SyxzQkFBc0IsUUFBUSxrS0FBa0ssMkJBQTJCLDZCQUE2QixlQUFlLGtCQUFrQiw2Q0FBNkMsb0JBQW9CLDZEQUE2RCxnQkFBZ0IscUZBQXFGLDhIQUE4SCw2R0FBNkcsaUhBQWlILHlDQUF5Qyw4SEFBOEgsc0JBQXNCLFFBQVEsa0ZBQWtGLHlCQUF5Qiw2QkFBNkIsZUFBZSxrQkFBa0IsNkNBQTZDLG9CQUFvQixjQUFjLHNCQUFzQixvQkFBb0IsNkJBQTZCLGVBQWUsa0JBQWtCLDZDQUE2QyxvQkFBb0IsY0FBYyw2QkFBNkIsMkJBQTJCLDZCQUE2QixlQUFlLGtCQUFrQixnRkFBZ0YsMEVBQTBFLHlFQUF5RSw0SkFBNEosdUdBQXVHLCtCQUErQixxS0FBcUssaUJBQWlCLDZCQUE2QixlQUFlLGdCQUFnQix5QkFBeUIsY0FBYywwQkFBMEIsNERBQTRELHdCQUF3Qiw2Q0FBNkMsV0FBVyxrQkFBa0IsZ0ZBQWdGLGtDQUFrQyw2QkFBNkIsZUFBZSxhQUFhLHlxQkFBeXFCLG1CQUFtQixzT0FBc08sd0tBQXdLLGtCQUFrQiw4QkFBOEIsNkJBQTZCLGVBQWUsYUFBYSx1VEFBdVQsbUJBQW1CLGdHQUFnRyxvRUFBb0UscUNBQXFDLDBDQUEwQyw2QkFBNkIsZUFBZSxhQUFhLHVlQUF1ZSxtQkFBbUIsa0lBQWtJLGlHQUFpRyxrQkFBa0IsbUNBQW1DLDZCQUE2QixlQUFlLGFBQWEsZ2lCQUFnaUIsbUJBQW1CLHdIQUF3SCx3Q0FBd0MsZUFBZSxrREFBa0Qsb0JBQW9CLHFJQUFxSSx1REFBdUQsK0VBQStFLDZCQUE2QixlQUFlLGFBQWEsNmZBQTZmLG1CQUFtQiw0SkFBNEosa0hBQWtILGtCQUFrQiw0ZUFBNGUsNkJBQTZCLGVBQWUsYUFBYSxzWEFBc1gsbUJBQW1CLDJLQUEySywyR0FBMkcsa0JBQWtCLCtCQUErQiw2QkFBNkIsZUFBZSxhQUFhLCtkQUErZCxtQkFBbUIsMEpBQTBKLDBHQUEwRyxrQkFBa0IsY0FBYyxrQkFBa0IsNkJBQTZCLDZCQUE2QixlQUFlLGFBQWEsNkpBQTZKLG1CQUFtQiw4QkFBOEIsMEJBQTBCLGtCQUFrQixtQ0FBbUMsNkJBQTZCLGVBQWUsYUFBYSxxSkFBcUosbUJBQW1CLG9CQUFvQixxQkFBcUIsa0JBQWtCLGtDQUFrQyw2QkFBNkIsZUFBZSxhQUFhLDJVQUEyVSxtQkFBbUIsd0lBQXdJLDJGQUEyRixrQkFBa0IsZ0NBQWdDLDZCQUE2QixlQUFlLGFBQWEsMFJBQTBSLG1CQUFtQixvSEFBb0gsMkVBQTJFLGtCQUFrQiwyQ0FBMkMsNkJBQTZCLGVBQWUsc0JBQXNCLHVVQUF1VSwrRkFBK0Ysb0JBQW9CLGlDQUFpQyxlQUFlLHdCQUF3QixxV0FBcVcsK0ZBQStGLGlCQUFpQixpQkFBaUIsK0JBQStCLGVBQWUsY0FBYyx5Q0FBeUMsdUNBQXVDLHVDQUF1QyxnREFBZ0QsZ0RBQWdELHVCQUF1QixrQkFBa0IsZUFBZSxjQUFjLHlFQUF5RSxlQUFlLDJEQUEyRCxzREFBc0QsU0FBUyxvZEFBb2Qsc0NBQXNDLFVBQVUsbUNBQW1DLHNDQUFzQywwQkFBMEIsNEJBQTRCLFVBQVUsY0FBYyx3Q0FBd0Msd0JBQXdCLHlHQUF5RyxxQkFBcUIsK0NBQStDLFFBQVEsOEZBQThGLCtDQUErQyxtRUFBbUUscUNBQXFDLFNBQVMsaURBQWlELG9EQUFvRCxvQkFBb0IsZ1FBQWdRLFVBQVUsNERBQTRELGdDQUFnQyw2QkFBNkIsZUFBZSxnQkFBZ0IsdUVBQXVFLHNGQUFzRixlQUFlLDZCQUE2QixjQUFjLHFCQUFxQiwyQkFBMkIsNkNBQTZDLHVGQUF1RixNQUFNLHliQUF5YixTQUFTLDRHQUE0RyxvSUFBb0ksMkJBQTJCLDZCQUE2QixlQUFlLGdCQUFnQix1UUFBdVEseUZBQXlGLHVFQUF1RSwySEFBMkgsK0JBQStCLCtHQUErRyxzQ0FBc0MsYUFBYSxzVkFBc1YsZ0RBQWdELGFBQWEseUdBQXlHLGtEQUFrRCxhQUFhLGtJQUFrSSxrR0FBa0csK1pBQStaLHVCQUF1QixxQkFBcUIsK0RBQStELHlCQUF5Qiw0Q0FBNEMsZUFBZSxrSUFBa0ksNkNBQTZDLFlBQVksbUZBQW1GLGlEQUFpRCxjQUFjLFdBQVcsbURBQW1ELDBIQUEwSCxVQUFVLGNBQWMsb0dBQW9HLGlJQUFpSSx5R0FBeUcsc0tBQXNLLG1LQUFtSyxrREFBa0QsUUFBUSwwSEFBMEgsK0NBQStDLDZNQUE2TSxpREFBaUQsbUNBQW1DLCtSQUErUixvQkFBb0IsNkJBQTZCLGVBQWUsZ0JBQWdCLDBFQUEwRSx5RkFBeUYsd0ZBQXdGLG1CQUFtQixxREFBcUQsY0FBYyxTQUFTLGdDQUFnQyxnSkFBZ0osSUFBSSxjQUFjLG1CQUFtQiw2QkFBNkIsaU1BQWlNLElBQUksY0FBYyxTQUFTLDZCQUE2QiwwQ0FBMEMsc0NBQXNDLDRFQUE0RSxXQUFXLHFDQUFxQyxlQUFlLElBQUksY0FBYyxTQUFTLDZCQUE2QixrSUFBa0ksSUFBSSw2RkFBNkYsK0JBQStCLDRIQUE0SCw4QkFBOEIsNEZBQTRGLG1CQUFtQixnQ0FBZ0MsOEJBQThCLGdFQUFnRSx1Q0FBdUMsdUJBQXVCLFdBQVcsTUFBTSxnQ0FBZ0MsOEVBQThFLGlDQUFpQywrQkFBK0IsU0FBUyw0Q0FBNEMsMkNBQTJDLGNBQWMsaUJBQWlCLFdBQVcsS0FBSyx1Q0FBdUMsb0NBQW9DLGlIQUFpSCwrR0FBK0csdUJBQXVCLFdBQVcseUVBQXlFLHFDQUFxQyxLQUFLLFlBQVksV0FBVyxLQUFLLGdCQUFnQiwwQ0FBMEMsc0JBQXNCLHdEQUF3RCxrQkFBa0Isc0RBQXNELG1EQUFtRCxhQUFhLCtEQUErRCxpREFBaUQsYUFBYSwrQ0FBK0MsOEdBQThHLGlEQUFpRCxtQ0FBbUMsNk5BQTZOLHdCQUF3Qiw2QkFBNkIsZUFBZSxnQkFBZ0IsY0FBYyxZQUFZLGtCQUFrQix5Q0FBeUMsaURBQWlELGlCQUFpQixXQUFXLEtBQUssV0FBVyxVQUFVLHNIQUFzSCxtR0FBbUcsZ0dBQWdHLE1BQU0scUlBQXFJLCtHQUErRyw0R0FBNEcsTUFBTSxpSUFBaUksMEdBQTBHLDJGQUEyRixNQUFNLDhIQUE4SCwwR0FBMEcsMkZBQTJGLE1BQU0scUlBQXFJLCtHQUErRyw0R0FBNEcsTUFBTSxnSkFBZ0osb0hBQW9ILGtIQUFrSCxNQUFNLG9LQUFvSyw4SEFBOEgsMkhBQTJILE1BQU0seUlBQXlJLGdIQUFnSCw2R0FBNkcsTUFBTSxxSUFBcUksOEdBQThHLCtGQUErRixNQUFNLGdHQUFnRyxnRkFBZ0YsNkVBQTZFLE1BQU0sNkhBQTZILHVHQUF1Ryx3RkFBd0YsTUFBTSw0SUFBNEksaUhBQWlILGtHQUFrRyxNQUFNLG9JQUFvSSwyR0FBMkcsNEZBQTRGLE1BQU0sa0lBQWtJLHlHQUF5RywwRkFBMEYsTUFBTSx5RUFBeUUsU0FBUywrQkFBK0Isc0NBQXNDLG9FQUFvRSxnQ0FBZ0MsMkJBQTJCLGVBQWUsZ0JBQWdCLHlFQUF5RSx5RkFBeUYsZ0JBQWdCLHFCQUFxQiw4Q0FBOEMsd09BQXdPLDRCQUE0QiwwQkFBMEIsaUNBQWlDLGVBQWUsZ0JBQWdCLDBFQUEwRSx5RkFBeUYsMGhCQUEwaEIsOEZBQThGLHlIQUF5SCxnV0FBZ1csK0JBQStCLCtHQUErRyw4Q0FBOEMsa0RBQWtELGFBQWEseUdBQXlHLDZSQUE2Uix3RUFBd0Usc0dBQXNHLGdEQUFnRCxvREFBb0QsYUFBYSwyR0FBMkcsdUJBQXVCLDJFQUEyRSxrQkFBa0IseUNBQXlDLGFBQWEsdVNBQXVTLDJDQUEyQyw2TUFBNk0sMENBQTBDLGFBQWEsMlVBQTJVLDhyQkFBOHJCLGlJQUFpSSxrQkFBa0IsMkNBQTJDLGFBQWEsNlVBQTZVLGlPQUFpTyxzRUFBc0Usa0JBQWtCLDZDQUE2QyxpREFBaUQsYUFBYSw2Q0FBNkMsc0ZBQXNGLDJDQUEyQyxvQ0FBb0Msd0NBQXdDLGFBQWEsK0ZBQStGLHVCQUF1QixvRUFBb0Usa0JBQWtCLHFDQUFxQyx5Q0FBeUMsYUFBYSxnR0FBZ0csdUJBQXVCLDhHQUE4RyxtRkFBbUYsMkNBQTJDLCtDQUErQyxhQUFhLHNHQUFzRyx1QkFBdUIsc0VBQXNFLGtCQUFrQix5Q0FBeUMsZ1ZBQWdWLDRDQUE0QyxnREFBZ0QsYUFBYSx1R0FBdUcsYUFBYSxrSEFBa0gsdURBQXVELGdOQUFnTixtQ0FBbUMsMkJBQTJCLFlBQVksd1BBQXdQLGdDQUFnQywwSEFBMEgsa0JBQWtCLGdIQUFnSCwwSUFBMEksd0NBQXdDLFlBQVksb09BQW9PLHVDQUF1Qyx3REFBd0QsdUNBQXVDLGFBQWEsa1VBQWtVLDJCQUEyQixZQUFZLDZWQUE2VixvQ0FBb0MsMkNBQTJDLGtFQUFrRSxrQkFBa0IsMENBQTBDLDhDQUE4QyxhQUFhLHFHQUFxRyxtS0FBbUssdUJBQXVCLHdFQUF3RSx1SUFBdUksNENBQTRDLGFBQWEsNlVBQTZVLFlBQVksMFBBQTBQLCtHQUErRyxpRkFBaUYsK0NBQStDLG1EQUFtRCxhQUFhLDBHQUEwRyw4S0FBOEssdUJBQXVCLGdGQUFnRixtSEFBbUgsNkNBQTZDLGlEQUFpRCxhQUFhLHdHQUF3Ryx1QkFBdUIsOEVBQThFLGtCQUFrQiwwQ0FBMEMsYUFBYSwyT0FBMk8sdURBQXVELHVCQUF1Qiw0REFBNEQsZ0dBQWdHLGtEQUFrRCxhQUFhLDJIQUEySCx1Q0FBdUMseUVBQXlFLDBDQUEwQyxxRkFBcUYsYUFBYSwrZUFBK2UsdURBQXVELGFBQWEsME5BQTBOLDJDQUEyQyxnQ0FBZ0MseUhBQXlILCtDQUErQyxnbENBQWdsQywyRkFBMkYsT0FBTyxpREFBaUQsa0NBQWtDLDRDQUE0QywwVUFBMFUsMkNBQTJDLDhEQUE4RCx3Q0FBd0Msa1ZBQWtWLG9DQUFvQyxvTkFBb04sK0NBQStDLDhKQUE4SiwyM0JBQTIzQixrQ0FBa0MsY0FBYyw4Q0FBOEMscUZBQXFGLFNBQVMsb0tBQW9LLGtDQUFrQyxnQkFBZ0IsMkJBQTJCLGljQUFpYyxvQ0FBb0MsTUFBTSwwUEFBMFAsK01BQStNLE1BQU0sa1hBQWtYLE1BQU0sZUFBZSxnekJBQWd6QixvQkFBb0IsbURBQW1ELGVBQWUsZ0JBQWdCLDhKQUE4SixrQkFBa0IsK0JBQStCLGdCQUFnQixlQUFlLGNBQWMsaUNBQWlDLGtDQUFrQyxvQkFBb0IsZUFBZSxjQUFjLG9TQUFvUyxpT0FBaU8sZ0RBQWdELCtFQUErRSw2R0FBNkcsb0lBQW9JLDZKQUE2SixLQUFLLHNEQUFzRCxvTEFBb0wsbUNBQW1DLDJQQUEyUCxrQ0FBa0Msc0tBQXNLLG9DQUFvQywrT0FBK08sNENBQTRDLGtNQUFrTSw0Q0FBNEMsdUJBQXVCLFNBQVMsK0ZBQStGLDhDQUE4Qyx1REFBdUQsdUNBQXVDLHNUQUFzVCx5Q0FBeUMscU5BQXFOLHdDQUF3Qyx1REFBdUQsMkNBQTJDLHVEQUF1RCx5Q0FBeUMsdURBQXVELGtDQUFrQywwRUFBMEUsbUNBQW1DLGtHQUFrRyxxQ0FBcUMsMkZBQTJGLHdDQUF3QywwR0FBMEcseUNBQXlDLHFHQUFxRyw0Q0FBNEMsNkVBQTZFLHVDQUF1QyxzSUFBc0ksMENBQTBDLDhHQUE4RywwQ0FBMEMsdURBQXVELDZDQUE2Qyx1REFBdUQsMkNBQTJDLHVEQUF1RCx3Q0FBd0MsdURBQXVELGdEQUFnRCx1REFBdUQsc0NBQXNDLG1MQUFtTCxrQ0FBa0MsdUJBQXVCLFNBQVMsc09BQXNPLHVDQUF1QyxTQUFTLGtFQUFrRSw4Q0FBOEMsU0FBUyxrRUFBa0UsNENBQTRDLFNBQVMsa0VBQWtFLDBDQUEwQyxncERBQWdwRCw0Q0FBNEMsaXVPQUFpdU8sMkNBQTJDLFFBQVEsUUFBUSxxQkFBcUIsc0JBQXNCLHdCQUF3Qix1QkFBdUIsOEJBQThCLCtDQUErQyx3QkFBd0IsMENBQTBDLHlCQUF5Qix1Q0FBdUMsa0JBQWtCLG9DQUFvQyxrQkFBa0Isb0NBQW9DLDJCQUEyQiwyQ0FBMkMsMkJBQTJCLDhDQUE4Qyx5QkFBeUIsNkJBQTZCLGdDQUFnQywrQkFBK0IsbUJBQW1CLFdBQVcsS0FBSyxXQUFXLE9BQU8sK0NBQStDLFVBQVUsbURBQW1ELDBNQUEwTSxnREFBZ0Qsa0pBQWtKLDBrREFBMGtELHlCQUF5QixxRUFBcUUsT0FBTywwQ0FBMEMsb0NBQW9DLGVBQWUsZUFBZSxnQkFBZ0IsY0FBYyxZQUFZLGtCQUFrQix5Q0FBeUMsaURBQWlELGlCQUFpQixXQUFXLEtBQUssV0FBVyxVQUFVLHNIQUFzSCxtR0FBbUcsZ0dBQWdHLE1BQU0scUlBQXFJLCtHQUErRyw0R0FBNEcsTUFBTSxxSUFBcUksK0dBQStHLDRHQUE0RyxNQUFNLGlJQUFpSSwwR0FBMEcsMkZBQTJGLE1BQU0seUlBQXlJLGdIQUFnSCw2R0FBNkcsTUFBTSxxSUFBcUksOEdBQThHLCtGQUErRixNQUFNLGdHQUFnRyxnRkFBZ0YsNkVBQTZFLE1BQU0sNkhBQTZILHVHQUF1Ryx3RkFBd0YsTUFBTSxtSEFBbUgsK0ZBQStGLGdGQUFnRixNQUFNLHlFQUF5RSxTQUFTLCtCQUErQixzQ0FBc0Msb0VBQW9FLHdCQUF3Qix5QkFBeUIsZUFBZSxhQUFhLG9DQUFvQyxXQUFXLCtCQUErQixnQkFBZ0IsZUFBZSxjQUFjLGlDQUFpQyxrQ0FBa0Msc0JBQXNCLGVBQWUsZ0JBQWdCLDJIQUEySCxzRkFBc0Ysb0JBQW9CLHlCQUF5Qiw2RkFBNkYseUZBQXlGLFdBQVcsc0JBQXNCLCtEQUErRCxJQUFJLHVFQUF1RSxxT0FBcU8sZ0RBQWdELCtFQUErRSw2R0FBNkcsb0lBQW9JLHVIQUF1SCxLQUFLLG1DQUFtQyx1RkFBdUYsOEJBQThCLG9MQUFvTCwwQ0FBMEMsK0JBQStCLHVDQUF1Qyw0QkFBNEIsNENBQTRDLGlDQUFpQyxvQ0FBb0MscUlBQXFJLHVDQUF1QyxxQkFBcUIsd0NBQXdDLHlJQUF5SSxxQ0FBcUMsd0lBQXdJLGtEQUFrRCw2TEFBNkwsd0RBQXdELHEvQkFBcS9CLFlBQVksOEJBQThCLEtBQUssOEJBQThCLDJDQUEyQyx3QkFBd0Isc0NBQXNDLG9aQUFvWix1Q0FBdUMsMElBQTBJLGlLQUFpSyx1b0JBQXVvQixXQUFXLHNCQUFzQixnQkFBZ0IsS0FBSyx3Q0FBd0MsdUNBQXVDLHFiQUFxYixnSEFBZ0gsTUFBTSxzSUFBc0ksNkhBQTZILGlLQUFpSywydkNBQTJ2QyxXQUFXLHNCQUFzQixnQkFBZ0IsS0FBSywyQ0FBMkMsUUFBUSxRQUFRLGtCQUFrQixpQ0FBaUMsOEJBQThCLDZJQUE2SSxrQkFBa0IsNkJBQTZCLGtCQUFrQixtQ0FBbUMsa0JBQWtCLDRDQUE0QyxrQkFBa0IsaURBQWlELG1CQUFtQiw2Q0FBNkMsdUJBQXVCLGtIQUFrSCwwQkFBMEIsc0RBQXNELHVDQUF1QyxXQUFXLHlCQUF5QiwyRkFBMkYsb0NBQW9DLFNBQVMsc0JBQXNCLHdDQUF3QyxvQkFBb0IscUJBQXFCLDBCQUEwQixnQkFBZ0IsMEJBQTBCLHdFQUF3RSwrREFBK0QsOEVBQThFLHFCQUFxQiw4QkFBOEIsb0ZBQW9GLGdDQUFnQywrQkFBK0IsbUJBQW1CLFdBQVcsS0FBSyxXQUFXLE9BQU8sNEdBQTRHLFVBQVUsMENBQTBDLG9UQUFvVCw0Q0FBNEMsMitDQUEyK0MsK0NBQStDLDBCQUEwQiw4UEFBOFAseUJBQXlCLG1EQUFtRCxlQUFlLE9BQU8sMmVBQTJlLElBQUksd05BQXdOLHlDQUF5QyxpREFBaUQsT0FBTyxvQ0FBb0MsYUFBYSxlQUFlLGFBQWEsOElBQThJLHFFQUFxRSx1QkFBdUIsZUFBZSxhQUFhLGFBQWEsNktBQTZLLHlpQkFBeWlCLGVBQWUsa0NBQWtDLHFEQUFxRCx3Q0FBd0MsWUFBWSw2ZUFBNmUsMENBQTBDLFlBQVksNFNBQTRTLHFDQUFxQyxZQUFZLDJYQUEyWCwwQ0FBMEMsWUFBWSx5WUFBeVksc0NBQXNDLFlBQVksMlpBQTJaLGlCQUFpQix5QkFBeUIsZUFBZSxjQUFjLHFEQUFxRCxjQUFjLHFEQUFxRCxjQUFjLHFEQUFxRCxjQUFjLHFEQUFxRCxzRkFBc0YsMERBQTBELHVGQUF1RiwwREFBMEQsaUVBQWlFLDBEQUEwRCxpR0FBaUcseU1BQXlNLHVDQUF1Qyx1RkFBdUYsa0NBQWtDLDZFQUE2RSx1Q0FBdUMsdUZBQXVGLG1DQUFtQyx5RkFBeUYsK0NBQStDLGdFQUFnRSxZQUFZLGlKQUFpSixvQ0FBb0MsZUFBZSxjQUFjLGNBQWMscURBQXFELDZCQUE2QixrWkFBa1osZ0VBQWdFLHFHQUFxRyxpQ0FBaUMsWUFBWSwwQ0FBMEMsMkRBQTJELDJGQUEyRixpQ0FBaUMsWUFBWSx1Q0FBdUMsZ0VBQWdFLHFHQUFxRyxpQ0FBaUMsWUFBWSxpQ0FBaUMsbUVBQW1FLHNFQUFzRSxvQ0FBb0MsZUFBZSxjQUFjLGtCQUFrQixvVEFBb1QsMENBQTBDLEtBQUsscUhBQXFILHdCQUF3QiwwUEFBMFAsZ0JBQWdCLDRCQUE0QixvTEFBb0wsMlBBQTJQLEtBQUssNkxBQTZMLDBCQUEwQixrQkFBa0IsdUJBQXVCLDBLQUEwSyx3Q0FBd0MsMkRBQTJELHNEQUFzRCwyRUFBMkUsbUlBQW1JLHNGQUFzRiwrQkFBK0IsbUxBQW1MLHVEQUF1RCxLQUFLLDJLQUEySyxtQkFBbUIsY0FBYyx5QkFBeUIsOEtBQThLLG9DQUFvQyxLQUFLLHVMQUF1TCx3Q0FBd0Msa0JBQWtCLDRCQUE0QixvTEFBb0wsc1RBQXNULG9DQUFvQyw2TEFBNkwsaUVBQWlFLEtBQUsscUxBQXFMLHdCQUF3QixjQUFjLDJCQUEyQixrTEFBa0wsc0NBQXNDLEtBQUssMkxBQTJMLDBDQUEwQyxhQUFhLDZOQUE2TixjQUFjLG9HQUFvRyxnREFBZ0QsdUZBQXVGLGFBQWEsc0RBQXNELFlBQVksaU1BQWlNLGFBQWEsa0NBQWtDLHlGQUF5Rix3TUFBd00sbUJBQW1CLG1IQUFtSCxhQUFhLHNDQUFzQyxZQUFZLGdKQUFnSixhQUFhLGtGQUFrRiwwR0FBMEcsZ0RBQWdELG1PQUFtTyxhQUFhLFlBQVksdUpBQXVKLGNBQWMsNERBQTRELGFBQWEsd0ZBQXdGLGdCQUFnQixvREFBb0Qsb0JBQW9CLG1CQUFtQixrREFBa0QsVUFBVSwwQ0FBMEMsTUFBTSx3QkFBd0IsTUFBTSxzQ0FBc0MsTUFBTSx1Q0FBdUMsNEJBQTRCLGFBQWEsOEdBQThHLGNBQWMsa0JBQWtCLGFBQWEsc0JBQXNCLGFBQWEsZUFBZSxhQUFhLDRLQUE0Syx5ZUFBeWUsaURBQWlELFlBQVkscUNBQXFDLFlBQVksVUFBVSxnYUFBZ2EsZUFBZSw0Q0FBNEMsbUJBQW1CLHFJQUFxSSxzSEFBc0gsOEJBQThCLDZDQUE2Qyx5S0FBeUssd0hBQXdILDhKQUE4Six5REFBeUQsMkVBQTJFLGdEQUFnRCwrUEFBK1Asa0NBQWtDLHlMQUF5TCxtQ0FBbUMsaU5BQWlOLHNDQUFzQyx3SUFBd0ksOEZBQThGLHdDQUF3QywyUkFBMlIsb0NBQW9DLGtQQUFrUCx3Q0FBd0MsVUFBVSx3RUFBd0UsTUFBTSxvRkFBb0YsTUFBTSxnRUFBZ0UsTUFBTSxtR0FBbUcsTUFBTSxvRUFBb0UsTUFBTSx3Q0FBd0MsTUFBTSxpREFBaUQsb0JBQW9CLCtCQUErQix3UkFBd1IsMERBQTBELGlCQUFpQix5SEFBeUgsaUVBQWlFLDBDQUEwQyxzQ0FBc0MsWUFBWSxxSkFBcUosdUJBQXVCLFVBQVUseUNBQXlDLE1BQU0sMkNBQTJDLE1BQU0sK0NBQStDLGtEQUFrRCx1Q0FBdUMsWUFBWSw2SEFBNkgsb0NBQW9DLFlBQVksMkpBQTJKLHlDQUF5QyxZQUFZLGdLQUFnSyxxQ0FBcUMsWUFBWSx1S0FBdUsseUNBQXlDLFlBQVksc0RBQXNELGtEQUFrRCxvSEFBb0gsc0NBQXNDLDhGQUE4RixFQUFFLE9BQU8iLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCIvKlxcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxcbiAqXFxuICogIEFET0JFIENPTkZJREVOVElBTFxcbiAqICBfX19fX19fX19fX19fX19fX19fXFxuICpcXG4gKiAgIChjKSBDb3B5cmlnaHQgMjAxNyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZFxcbiAqICAgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cXG4gKlxcbiAqICBOT1RJQ0U6ICBBbGwgaW5mb3JtYXRpb24gY29udGFpbmVkIGhlcmVpbiBpcywgYW5kIHJlbWFpbnNcXG4gKiAgdGhlIHByb3BlcnR5IG9mIEFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkIGFuZCBpdHMgc3VwcGxpZXJzLFxcbiAqICBpZiBhbnkuICBUaGUgaW50ZWxsZWN0dWFsIGFuZCB0ZWNobmljYWwgY29uY2VwdHMgY29udGFpbmVkXFxuICogIGhlcmVpbiBhcmUgcHJvcHJpZXRhcnkgdG8gQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQgYW5kIGl0c1xcbiAqICBzdXBwbGllcnMgYW5kIG1heSBiZSBjb3ZlcmVkIGJ5IFUuUy4gYW5kIEZvcmVpZ24gUGF0ZW50cyxcXG4gKiAgcGF0ZW50cyBpbiBwcm9jZXNzLCBhbmQgYXJlIHByb3RlY3RlZCBieSB0cmFkZSBzZWNyZXQgb3IgY29weXJpZ2h0IGxhdy5cXG4gKiAgRGlzc2VtaW5hdGlvbiBvZiB0aGlzIGluZm9ybWF0aW9uIG9yIHJlcHJvZHVjdGlvbiBvZiB0aGlzIG1hdGVyaWFsXFxuICogIGlzIHN0cmljdGx5IGZvcmJpZGRlbiB1bmxlc3MgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uIGlzIG9idGFpbmVkXFxuICogIGZyb20gQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQuXFxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXFxuICovXFxuXFxuLypcXG4gKiB2aWRlbyBoZWFydGJlYXRzIC0gMi4wLjIgLSAyMDE3LTA0LTIxXFxuICogQ29weXJpZ2h0IChjKSAyMDE3IEFkb2JlIFN5c3RlbXMsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cXG4gKi9cXG5cXG4vLyBIZWFydGJlYXQgY29yZVxcbiFmdW5jdGlvbihhKXtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGIpdmFyIGI9e307aWYoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBjKXZhciBjPXt9O2lmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZCl2YXIgZD17fTtpZihkLnJhZGlvfHwoZC5yYWRpbz17fSksZC5wbHVnaW58fChkLnBsdWdpbj17fSksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBlKXZhciBlPXt9O2UuY2xvY2t8fChlLmNsb2NrPXt9KSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPSg2NTUzNSZhKSsoNjU1MzUmYiksZD0oYT4+MTYpKyhiPj4xNikrKGM+PjE2KTtyZXR1cm4gZDw8MTZ8NjU1MzUmY31mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGE8PGJ8YT4+PjMyLWJ9ZnVuY3Rpb24gZChhLGQsZSxmLGcsaCl7cmV0dXJuIGIoYyhiKGIoZCxhKSxiKGYsaCkpLGcpLGUpfWZ1bmN0aW9uIGUoYSxiLGMsZSxmLGcsaCl7cmV0dXJuIGQoYiZjfH5iJmUsYSxiLGYsZyxoKX1mdW5jdGlvbiBmKGEsYixjLGUsZixnLGgpe3JldHVybiBkKGImZXxjJn5lLGEsYixmLGcsaCl9ZnVuY3Rpb24gZyhhLGIsYyxlLGYsZyxoKXtyZXR1cm4gZChiXmNeZSxhLGIsZixnLGgpfWZ1bmN0aW9uIGgoYSxiLGMsZSxmLGcsaCl7cmV0dXJuIGQoY14oYnx+ZSksYSxiLGYsZyxoKX1mdW5jdGlvbiBpKGEsYyl7YVtjPj41XXw9MTI4PDxjJTMyLGFbKGMrNjQ+Pj45PDw0KSsxNF09Yzt2YXIgZCxpLGosayxsLG09MTczMjU4NDE5MyxuPS0yNzE3MzM4Nzksbz0tMTczMjU4NDE5NCxwPTI3MTczMzg3ODtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCs9MTYpaT1tLGo9bixrPW8sbD1wLG09ZShtLG4sbyxwLGFbZF0sNywtNjgwODc2OTM2KSxwPWUocCxtLG4sbyxhW2QrMV0sMTIsLTM4OTU2NDU4Niksbz1lKG8scCxtLG4sYVtkKzJdLDE3LDYwNjEwNTgxOSksbj1lKG4sbyxwLG0sYVtkKzNdLDIyLC0xMDQ0NTI1MzMwKSxtPWUobSxuLG8scCxhW2QrNF0sNywtMTc2NDE4ODk3KSxwPWUocCxtLG4sbyxhW2QrNV0sMTIsMTIwMDA4MDQyNiksbz1lKG8scCxtLG4sYVtkKzZdLDE3LC0xNDczMjMxMzQxKSxuPWUobixvLHAsbSxhW2QrN10sMjIsLTQ1NzA1OTgzKSxtPWUobSxuLG8scCxhW2QrOF0sNywxNzcwMDM1NDE2KSxwPWUocCxtLG4sbyxhW2QrOV0sMTIsLTE5NTg0MTQ0MTcpLG89ZShvLHAsbSxuLGFbZCsxMF0sMTcsLTQyMDYzKSxuPWUobixvLHAsbSxhW2QrMTFdLDIyLC0xOTkwNDA0MTYyKSxtPWUobSxuLG8scCxhW2QrMTJdLDcsMTgwNDYwMzY4MikscD1lKHAsbSxuLG8sYVtkKzEzXSwxMiwtNDAzNDExMDEpLG89ZShvLHAsbSxuLGFbZCsxNF0sMTcsLTE1MDIwMDIyOTApLG49ZShuLG8scCxtLGFbZCsxNV0sMjIsMTIzNjUzNTMyOSksbT1mKG0sbixvLHAsYVtkKzFdLDUsLTE2NTc5NjUxMCkscD1mKHAsbSxuLG8sYVtkKzZdLDksLTEwNjk1MDE2MzIpLG89ZihvLHAsbSxuLGFbZCsxMV0sMTQsNjQzNzE3NzEzKSxuPWYobixvLHAsbSxhW2RdLDIwLC0zNzM4OTczMDIpLG09ZihtLG4sbyxwLGFbZCs1XSw1LC03MDE1NTg2OTEpLHA9ZihwLG0sbixvLGFbZCsxMF0sOSwzODAxNjA4Myksbz1mKG8scCxtLG4sYVtkKzE1XSwxNCwtNjYwNDc4MzM1KSxuPWYobixvLHAsbSxhW2QrNF0sMjAsLTQwNTUzNzg0OCksbT1mKG0sbixvLHAsYVtkKzldLDUsNTY4NDQ2NDM4KSxwPWYocCxtLG4sbyxhW2QrMTRdLDksLTEwMTk4MDM2OTApLG89ZihvLHAsbSxuLGFbZCszXSwxNCwtMTg3MzYzOTYxKSxuPWYobixvLHAsbSxhW2QrOF0sMjAsMTE2MzUzMTUwMSksbT1mKG0sbixvLHAsYVtkKzEzXSw1LC0xNDQ0NjgxNDY3KSxwPWYocCxtLG4sbyxhW2QrMl0sOSwtNTE0MDM3ODQpLG89ZihvLHAsbSxuLGFbZCs3XSwxNCwxNzM1MzI4NDczKSxuPWYobixvLHAsbSxhW2QrMTJdLDIwLC0xOTI2NjA3NzM0KSxtPWcobSxuLG8scCxhW2QrNV0sNCwtMzc4NTU4KSxwPWcocCxtLG4sbyxhW2QrOF0sMTEsLTIwMjI1NzQ0NjMpLG89ZyhvLHAsbSxuLGFbZCsxMV0sMTYsMTgzOTAzMDU2Miksbj1nKG4sbyxwLG0sYVtkKzE0XSwyMywtMzUzMDk1NTYpLG09ZyhtLG4sbyxwLGFbZCsxXSw0LC0xNTMwOTkyMDYwKSxwPWcocCxtLG4sbyxhW2QrNF0sMTEsMTI3Mjg5MzM1Myksbz1nKG8scCxtLG4sYVtkKzddLDE2LC0xNTU0OTc2MzIpLG49ZyhuLG8scCxtLGFbZCsxMF0sMjMsLTEwOTQ3MzA2NDApLG09ZyhtLG4sbyxwLGFbZCsxM10sNCw2ODEyNzkxNzQpLHA9ZyhwLG0sbixvLGFbZF0sMTEsLTM1ODUzNzIyMiksbz1nKG8scCxtLG4sYVtkKzNdLDE2LC03MjI1MjE5NzkpLG49ZyhuLG8scCxtLGFbZCs2XSwyMyw3NjAyOTE4OSksbT1nKG0sbixvLHAsYVtkKzldLDQsLTY0MDM2NDQ4NykscD1nKHAsbSxuLG8sYVtkKzEyXSwxMSwtNDIxODE1ODM1KSxvPWcobyxwLG0sbixhW2QrMTVdLDE2LDUzMDc0MjUyMCksbj1nKG4sbyxwLG0sYVtkKzJdLDIzLC05OTUzMzg2NTEpLG09aChtLG4sbyxwLGFbZF0sNiwtMTk4NjMwODQ0KSxwPWgocCxtLG4sbyxhW2QrN10sMTAsMTEyNjg5MTQxNSksbz1oKG8scCxtLG4sYVtkKzE0XSwxNSwtMTQxNjM1NDkwNSksbj1oKG4sbyxwLG0sYVtkKzVdLDIxLC01NzQzNDA1NSksbT1oKG0sbixvLHAsYVtkKzEyXSw2LDE3MDA0ODU1NzEpLHA9aChwLG0sbixvLGFbZCszXSwxMCwtMTg5NDk4NjYwNiksbz1oKG8scCxtLG4sYVtkKzEwXSwxNSwtMTA1MTUyMyksbj1oKG4sbyxwLG0sYVtkKzFdLDIxLC0yMDU0OTIyNzk5KSxtPWgobSxuLG8scCxhW2QrOF0sNiwxODczMzEzMzU5KSxwPWgocCxtLG4sbyxhW2QrMTVdLDEwLC0zMDYxMTc0NCksbz1oKG8scCxtLG4sYVtkKzZdLDE1LC0xNTYwMTk4MzgwKSxuPWgobixvLHAsbSxhW2QrMTNdLDIxLDEzMDkxNTE2NDkpLG09aChtLG4sbyxwLGFbZCs0XSw2LC0xNDU1MjMwNzApLHA9aChwLG0sbixvLGFbZCsxMV0sMTAsLTExMjAyMTAzNzkpLG89aChvLHAsbSxuLGFbZCsyXSwxNSw3MTg3ODcyNTkpLG49aChuLG8scCxtLGFbZCs5XSwyMSwtMzQzNDg1NTUxKSxtPWIobSxpKSxuPWIobixqKSxvPWIobyxrKSxwPWIocCxsKTtyZXR1cm5bbSxuLG8scF19ZnVuY3Rpb24gaihhKXt2YXIgYixjPVxcXCJcXFwiO2ZvcihiPTA7YjwzMiphLmxlbmd0aDtiKz04KWMrPVN0cmluZy5mcm9tQ2hhckNvZGUoYVtiPj41XT4+PmIlMzImMjU1KTtyZXR1cm4gY31mdW5jdGlvbiBrKGEpe3ZhciBiLGM9W107Zm9yKGNbKGEubGVuZ3RoPj4yKS0xXT12b2lkIDAsYj0wO2I8Yy5sZW5ndGg7Yis9MSljW2JdPTA7Zm9yKGI9MDtiPDgqYS5sZW5ndGg7Yis9OCljW2I+PjVdfD0oMjU1JmEuY2hhckNvZGVBdChiLzgpKTw8YiUzMjtyZXR1cm4gY31mdW5jdGlvbiBsKGEpe3JldHVybiBqKGkoayhhKSw4KmEubGVuZ3RoKSl9ZnVuY3Rpb24gbShhLGIpe3ZhciBjLGQsZT1rKGEpLGY9W10sZz1bXTtmb3IoZlsxNV09Z1sxNV09dm9pZCAwLGUubGVuZ3RoPjE2JiYoZT1pKGUsOCphLmxlbmd0aCkpLGM9MDtjPDE2O2MrPTEpZltjXT05MDk1MjI0ODZeZVtjXSxnW2NdPTE1NDk1NTY4MjheZVtjXTtyZXR1cm4gZD1pKGYuY29uY2F0KGsoYikpLDUxMis4KmIubGVuZ3RoKSxqKGkoZy5jb25jYXQoZCksNjQwKSl9ZnVuY3Rpb24gbihhKXt2YXIgYixjLGQ9XFxcIjAxMjM0NTY3ODlhYmNkZWZcXFwiLGU9XFxcIlxcXCI7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrPTEpYj1hLmNoYXJDb2RlQXQoYyksZSs9ZC5jaGFyQXQoYj4+PjQmMTUpK2QuY2hhckF0KDE1JmIpO3JldHVybiBlfWZ1bmN0aW9uIG8oYSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhKSl9ZnVuY3Rpb24gcChhKXtyZXR1cm4gbChvKGEpKX1mdW5jdGlvbiBxKGEpe3JldHVybiBuKHAoYSkpfWZ1bmN0aW9uIHIoYSxiKXtyZXR1cm4gbShvKGEpLG8oYikpfWZ1bmN0aW9uIHMoYSxiKXtyZXR1cm4gbihyKGEsYikpfWZ1bmN0aW9uIHQoYSxiLGMpe3JldHVybiBiP2M/cihiLGEpOnMoYixhKTpjP3AoYSk6cShhKX1hLm1kNT10fShiKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIGI9e307Yi5zdGFydHNXaXRoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDA9PWEuaW5kZXhPZihiKX0sYS5TdHJpbmdVdGlscz1ifShiKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIGI9e307Yi5jbG9uZT1mdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYltjXT1hW2NdKTtyZXR1cm4gYn0sYi5tZXJnZT1mdW5jdGlvbihhLGMpe3ZhciBkPWIuY2xvbmUoYSk7Zm9yKHZhciBlIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShlKSYmKGRbZV09Y1tlXSk7cmV0dXJuIGR9LGEuT2JqZWN0VXRpbHM9Yn0oYiksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoYSxiLGMpe3RoaXMuZm49YSx0aGlzLmN0eD1iLHRoaXMucGFyYW1zPWN9Yi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5wYXJhbXM/dGhpcy5mbi5hcHBseSh0aGlzLmN0eCx0aGlzLnBhcmFtcyk6dGhpcy5mbi5hcHBseSh0aGlzLmN0eCl9LGEucmFkaW8uQ29tbWFuZD1ifShkKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYihhLGIpe3RoaXMuX3F1ZXVlPVtdLHRoaXMuX2xhc3RUcz0wLHRoaXMuX2lzU3VzcGVuZGVkPVxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYSYmYSx0aGlzLl9kZWxheT1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGI/YjowfWIucHJvdG90eXBlLmFkZENvbW1hbmQ9ZnVuY3Rpb24oYSl7dGhpcy5fcXVldWUucHVzaChhKSx0aGlzLl9kcmFpbigpfSxiLnByb3RvdHlwZS5jYW5jZWxBbGxDb21tYW5kcz1mdW5jdGlvbigpe3RoaXMuX3F1ZXVlPVtdfSxiLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9xdWV1ZS5sZW5ndGh9LGIucHJvdG90eXBlLnN1c3BlbmQ9ZnVuY3Rpb24oKXt0aGlzLl9pc1N1c3BlbmRlZD0hMH0sYi5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5faXNTdXNwZW5kZWQ9ITEsdGhpcy5fZHJhaW4oKX0sYi5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLl9pc1N1c3BlbmRlZD0hMTtmb3IodmFyIGE9MDthPHRoaXMuX3F1ZXVlLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuX3F1ZXVlW2FdO2IucnVuKCl9dGhpcy5fcXVldWU9W119LGIucHJvdG90eXBlLl9kcmFpbj1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc1N1c3BlbmRlZCYmIXRoaXMuX2RyYWluSW5Qcm9ncmVzcyl7dGhpcy5fZHJhaW5JblByb2dyZXNzPSEwO3ZhciBhPXRoaXM7IWZ1bmN0aW9uIGIoKXt2YXIgYz1hLl9xdWV1ZS5zaGlmdCgpO2M/YS5fcnVuQ29tbWFuZChjLGZ1bmN0aW9uKCl7YS5faXNTdXNwZW5kZWR8fGIoKX0pOmEuX2RyYWluSW5Qcm9ncmVzcz0hMX0oKX19LGIucHJvdG90eXBlLl9ydW5Db21tYW5kPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2EucnVuKCksbnVsbCE9YiYmYi5jYWxsKGQpfXZhciBkPXRoaXM7aWYoMD09dGhpcy5fbGFzdFRzKWMoKTtlbHNle3ZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGY9ZS10aGlzLl9sYXN0VHM7dGhpcy5fbGFzdFRzPWUsZjx0aGlzLl9kZWxheT9zZXRUaW1lb3V0KGMsdGhpcy5fZGVsYXktZik6YygpfX0sYS5yYWRpby5Db21tYW5kUXVldWU9Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoYSxiKXtpZih0aGlzLl9uYW1lPWEsIWIpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGxvZ2dlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTt0aGlzLl9sb2dnZXI9Yix0aGlzLl9saXN0ZW5lcnM9e30sdGhpcy5fcmVxdWVzdHM9e30sdGhpcy5fY29tbWFuZHM9e30sdGhpcy5faXNTaHV0RG93bj0hMX1mdW5jdGlvbiBjKGEsYyl7aWYoYT09PWMpcmV0dXJuITA7Zm9yKHZhciBkPShhfHxcXFwiXFxcIikuc3BsaXQoYi5TRVBBUkFUT1IpLGU9KGN8fFxcXCJcXFwiKS5zcGxpdChiLlNFUEFSQVRPUiksZj0hMCxnPTA7ZzxkLmxlbmd0aDtnKyspZj1mJiYoZFtnXT09PWIuV0lMRENBUkR8fGRbZ109PT1lW2ddKTtyZXR1cm4gZn1iLldJTERDQVJEPVxcXCIqXFxcIixiLlNFUEFSQVRPUj1cXFwiOlxcXCIsYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiPGNoYW5uZWw6IFxcXCIrdGhpcy5fbmFtZStcXFwiPlxcXCJ9LGIucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7dGhpcy5faXNTaHV0RG93bnx8KHRoaXMuX2xvZ2dlci5kZWJ1ZyhkLFxcXCIjc2h1dGRvd24gPiBTaHV0dGluZyBkb3duXFxcIiksdGhpcy5vZmYoKSx0aGlzLl9yZXF1ZXN0cz17fSx0aGlzLl9jb21tYW5kcz17fSx0aGlzLl9pc1NodXREb3duPSEwKX0sYi5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiLGMpe3RoaXMuX2lzU2h1dERvd258fCh0aGlzLl9saXN0ZW5lcnNbYV18fCh0aGlzLl9saXN0ZW5lcnNbYV09W10pLHRoaXMuX2xpc3RlbmVyc1thXS5wdXNoKHtmbjpiLGN0eDpjfSkpfSxiLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLl9pc1NodXREb3duKXtpZihiPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBiP2I6bnVsbCwhYSYmbnVsbD09YiYmIWMpcmV0dXJuIHZvaWQodGhpcy5fbGlzdGVuZXJzPXt9KTtpZihhKXRoaXMuX3JlbW92ZUxpc3RlbmVyKGEsYixjKTtlbHNlIGZvcihhIGluIHRoaXMuX2xpc3RlbmVycyl0aGlzLl9saXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoYSkmJnRoaXMuX3JlbW92ZUxpc3RlbmVyKGEsYixjKX19LGIucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2lzU2h1dERvd24pZm9yKHZhciBiIGluIHRoaXMuX2xpc3RlbmVycylpZih0aGlzLl9saXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoYikmJmMoYixhLm5hbWUpKWZvcih2YXIgZD10aGlzLl9saXN0ZW5lcnNbYl0uc2xpY2UoMCksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2YuZm4uY2FsbChmLmN0eCxhKX19LGIucHJvdG90eXBlLmNvbXBseT1mdW5jdGlvbihhLGIsYyl7dGhpcy5faXNTaHV0RG93bnx8KHRoaXMuX2NvbW1hbmRzW2FdPXtjbWQ6YixjdHg6Y30pfSxiLnByb3RvdHlwZS5jb21tYW5kPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2lzU2h1dERvd24pe3ZhciBjPXRoaXMuX2NvbW1hbmRzW2FdO3JldHVybiBjP3ZvaWQgYy5jbWQuY2FsbChjLmN0eCxiKTp2b2lkIHRoaXMuX2xvZ2dlci53YXJuKGQsXFxcIiNjb21tYW5kID4gTm8gY29tbWFuZCBoYW5kbGVyIGZvcjogXFxcIithKX19LGIucHJvdG90eXBlLnJlcGx5PWZ1bmN0aW9uKGEsYixjKXt0aGlzLl9pc1NodXREb3dufHwodGhpcy5fcmVxdWVzdHNbYV09e2ZuOmIsY3R4OmN9KX0sYi5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihhKXtpZighdGhpcy5faXNTaHV0RG93bil7dmFyIGI9dGhpcy5fcmVxdWVzdHNbYV07cmV0dXJuIGI/Yi5mbi5jYWxsKGIuY3R4KToodGhpcy5fbG9nZ2VyLndhcm4oZCxcXFwiI3JlcXVlc3QgPiBObyByZXF1ZXN0IGhhbmRsZXIgZm9yOiBcXFwiK2EpLG51bGwpfX0sYi5wcm90b3R5cGUuX3JlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXtiPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBiP2I6bnVsbDt2YXIgZD10aGlzLl9saXN0ZW5lcnNbYV07aWYoZCl7aWYoIWQubGVuZ3RofHxudWxsPT1iJiYhYylyZXR1cm4gdm9pZCBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2FdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO251bGwhPT1iJiZiIT09Zi5mbnx8YyYmYyE9PWYuY3R4fHx0aGlzLl9saXN0ZW5lcnNbYV0uc3BsaWNlKGUsMSl9fX07dmFyIGQ9XFxcInJhZGlvOjpDaGFubmVsXFxcIjthLnJhZGlvLkNoYW5uZWw9Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGxvZ2dlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTt0aGlzLl9sb2dnZXI9YSx0aGlzLl9jaGFubmVscz17fX12YXIgYz1hLnJhZGlvLkNoYW5uZWw7Yi5wcm90b3R5cGUuY2hhbm5lbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fY2hhbm5lbHNbYV18fCh0aGlzLl9jaGFubmVsc1thXT1uZXcgYyhhLHRoaXMuX2xvZ2dlcikpLHRoaXMuX2NoYW5uZWxzW2FdfSxiLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLl9jaGFubmVscyl0aGlzLl9jaGFubmVscy5oYXNPd25Qcm9wZXJ0eShhKSYmdGhpcy5fY2hhbm5lbHNbYV0uc2h1dGRvd24oKX0sYS5yYWRpby5SYWRpbz1ifShkKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYihhLGIpe2Z1bmN0aW9uIGMoKXt0aGlzLmNvbnN0cnVjdG9yPWF9Zm9yKHZhciBkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmKGFbZF09YltkXSk7cmV0dXJuIGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBjLGEuX19zdXBlcl9fPWIucHJvdG90eXBlLGF9YS5leHRlbmQ9Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoKXt9Yi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKFxcXCJJbXBsZW1lbnRhdGlvbiBlcnJvcjogTWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbi5cXFwiKX0sYS5JTG9nV3JpdGVyPWJ9KGQpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKCl7fWIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGEpe3dpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5sb2cmJndpbmRvdy5jb25zb2xlLmxvZyhhKX0sYS5Mb2dXcml0ZXI9Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoKXt9Yi5wcm90b3R5cGUuc2V0TG9nV3JpdGVyPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGIucHJvdG90eXBlLmdldExvZ1dyaXRlcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGIucHJvdG90eXBlLmdldEVuYWJsZWQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXFxcIkltcGxlbWVudGF0aW9uIGVycm9yOiBNZXRob2QgbXVzdCBiZSBvdmVycmlkZGVuLlxcXCIpfSxiLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXFxcIkltcGxlbWVudGF0aW9uIGVycm9yOiBNZXRob2QgbXVzdCBiZSBvdmVycmlkZGVuLlxcXCIpfSxiLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFxcXCJJbXBsZW1lbnRhdGlvbiBlcnJvcjogTWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbi5cXFwiKX0sYi5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oYSxiKXt0aHJvdyBuZXcgRXJyb3IoXFxcIkltcGxlbWVudGF0aW9uIGVycm9yOiBNZXRob2QgbXVzdCBiZSBvdmVycmlkZGVuLlxcXCIpfSxiLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKGEsYil7dGhyb3cgbmV3IEVycm9yKFxcXCJJbXBsZW1lbnRhdGlvbiBlcnJvcjogTWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbi5cXFwiKX0sYi5wcm90b3R5cGUud2Fybj1mdW5jdGlvbihhLGIpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGIucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGEsYil7dGhyb3cgbmV3IEVycm9yKFxcXCJJbXBsZW1lbnRhdGlvbiBlcnJvcjogTWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbi5cXFwiKX0sYS5JTG9nZ2VyPWJ9KGQpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKCl7dGhpcy5fbG9nV3JpdGVyPW5ldyBkfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE8MTA/XFxcIjAwXFxcIithOmE8MTAwP1xcXCIwXFxcIithOlxcXCJcXFwiK2F9dmFyIGQ9YS5Mb2dXcml0ZXI7Yi5wcm90b3R5cGUuc2V0TG9nV3JpdGVyPWZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBJTG9nV3JpdGVyIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO3RoaXMuX2xvZ1dyaXRlcj1hLHRoaXMuX2VuYWJsZWQ9ITF9LGIucHJvdG90eXBlLmdldExvZ1dyaXRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dXcml0ZXJ9LGIucHJvdG90eXBlLmdldEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sYi5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMH0sYi5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITF9LGIucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKGEsYil7dGhpcy5fbG9nKGEsZixiKX0sYi5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbihhLGIpe3RoaXMuX2xvZyhhLGUsYil9LGIucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oYSxiKXt0aGlzLl9sb2coYSxnLGIpfSxiLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhLGIpe3RoaXMuX2xvZyhhLGgsYil9LGIucHJvdG90eXBlLl9sb2c9ZnVuY3Rpb24oYSxiLGQpe2lmKGI9PWh8fHRoaXMuX2VuYWJsZWQpe3ZhciBlPVxcXCJcXFwiLGY9bmV3IERhdGU7ZSs9XFxcIltcXFwiK2YudG9UaW1lU3RyaW5nKCkrXFxcIi5cXFwiK2MoZi5nZXRNaWxsaXNlY29uZHMoKSkrXFxcIl0gW1xcXCIrYitcXFwiXSBcXFwiLGUrPVxcXCJbXFxcIithK1xcXCJdIFxcXCIrZCx0aGlzLl9sb2dXcml0ZXIud3JpdGUoZSl9fTt2YXIgZT1cXFwiSU5GT1xcXCIsZj1cXFwiREVCVUdcXFwiLGc9XFxcIldBUk5cXFwiLGg9XFxcIkVSUk9SXFxcIjthLkxvZ2dlcj1ifShkKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYihhLGIpe3RoaXMuX3BsdWdpbk5hbWU9YSx0aGlzLl9ldmVudE5hbWU9Yn12YXIgYz1hLnJhZGlvLkNoYW5uZWw7Yi5wcm90b3R5cGUuZ2V0UGx1Z2luTmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbHVnaW5OYW1lfSxiLnByb3RvdHlwZS5nZXRFdmVudE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnROYW1lfSxiLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsdWdpbk5hbWUrYy5TRVBBUkFUT1IrdGhpcy5fZXZlbnROYW1lfSxhLlRyaWdnZXI9Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoYSxiKXt0aGlzLm5hbWU9YSx0aGlzLmRhdGE9Yn1iLlNVQ0NFU1M9XFxcInN1Y2Nlc3NcXFwiLGIuRVJST1I9XFxcImVycm9yXFxcIixiLmNyZWF0ZUZyb21UcmlnZ2VyPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhLmdldE5hbWUoKSl9LGEuRXZlbnQ9Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoKXt0aGlzLl9ldmVudHM9e319Yi5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7YSYmYiYmKGM9Y3x8d2luZG93LHRoaXMuX2V2ZW50c1thXT10aGlzLl9ldmVudHNbYV18fFtdLHRoaXMuX2V2ZW50c1thXS5wdXNoKHtjYjpiLGN0eDpjfSkpfSxiLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXtpZihhJiZiKXtjPWN8fHdpbmRvdzt2YXIgZCxlLGY9ITE7Zm9yKGUgaW4gdGhpcy5fZXZlbnRzKWlmKGE9PT1lKXtmPSEwO2JyZWFrfWlmKGYpe2ZvcihkPXRoaXMuX2V2ZW50c1tlXS5sZW5ndGgtMTtkPj0wO2QtLSl7dmFyIGc9dGhpcy5fZXZlbnRzW2VdW2RdO2I9PT1nLmNiJiZjPT09Zy5jdHgmJnRoaXMuX2V2ZW50c1tlXS5zcGxpY2UoZCwxKX10aGlzLl9ldmVudHNbZV0ubGVuZ3RofHxkZWxldGUgdGhpcy5fZXZlbnRzW2VdfX19LGIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7aWYoYS5uYW1lKXt2YXIgYixjO2ZvcihiIGluIHRoaXMuX2V2ZW50cylpZih0aGlzLl9ldmVudHMuaGFzT3duUHJvcGVydHkoYikmJmEubmFtZT09PWIpe3ZhciBkPXRoaXMuX2V2ZW50c1tiXSxlPWQuc2xpY2UoMCksZj1lLmxlbmd0aDtmb3IoYz0wO2M8ZjtjKyspZVtjXS5jYi5jYWxsKGVbY10uY3R4LGEpO2JyZWFrfX19LGIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihhKXtpZihhKXt2YXIgYixjO2ZvcihjIGluIHRoaXMuX2V2ZW50cylpZih0aGlzLl9ldmVudHMuaGFzT3duUHJvcGVydHkoYykpe2ZvcihiPXRoaXMuX2V2ZW50c1tjXS5sZW5ndGgtMTtiPj0wO2ItLSl7dmFyIGQ9dGhpcy5fZXZlbnRzW2NdW2JdO2QuY3R4PT09YSYmdGhpcy5fZXZlbnRzW2NdLnNwbGljZShiLDEpfXRoaXMuX2V2ZW50c1tjXS5sZW5ndGh8fGRlbGV0ZSB0aGlzLl9ldmVudHNbY119fWVsc2UgdGhpcy5fZXZlbnRzPXt9fSxhLkV2ZW50RGlzcGF0Y2hlcj1ifShkKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBjKGEsYil7dGhpcy51cmw9YXx8bnVsbCx0aGlzLm1ldGhvZD1iLHRoaXMuX3htbGh0dHA9bnVsbH1mdW5jdGlvbiBkKCl7ZC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLl9jb25uZWN0aW9uPW51bGx9dmFyIGU9YS5FdmVudCxmPWEuRXZlbnREaXNwYXRjaGVyO2IuR0VUPVxcXCJHRVRcXFwiLGQuUkVTUE9OU0U9XFxcInJlc3BvbnNlXFxcIixkLklOU1RBTkNFPVxcXCJpbnN0YW5jZVxcXCIsYS5leHRlbmQoZCxmKSxkLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKG51bGwpfSxkLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGEpe2EmJmEubWV0aG9kJiZhLnVybCYmKGEuX3htbGh0dHA9dGhpcy5fY3JlYXRlQ09SU1JlcXVlc3QoYSksYS5feG1saHR0cD9hLl94bWxodHRwLnNlbmQoKTp0aGlzLl9sb2FkSW1hZ2UoYSkpfSxkLnByb3RvdHlwZS5fY3JlYXRlQ09SU1JlcXVlc3Q9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCl7dmFyIGM9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtcXFwid2l0aENyZWRlbnRpYWxzXFxcImluIGMmJihiPWMsYi5vcGVuKGEubWV0aG9kLGEudXJsLCEwKSl9aWYobnVsbD09YiYmXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiB3aW5kb3cuWERvbWFpblJlcXVlc3QmJihiPW5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QsYi5vcGVuKGEubWV0aG9kLGEudXJsKSksYil7dmFyIGY9e307ZltkLklOU1RBTkNFXT10aGlzO3ZhciBnPXRoaXM7Yi5vbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi5zdGF0dXMmJnBhcnNlSW50KGIuc3RhdHVzLDEwKT49NDAwP3RoaXMub25lcnJvcigpOihmW2QuUkVTUE9OU0VdPWIucmVzcG9uc2VUZXh0LHZvaWQgZy5kaXNwYXRjaEV2ZW50KG5ldyBlKGUuU1VDQ0VTUyxmKSkpfSxiLm9uZXJyb3I9ZnVuY3Rpb24oKXtnLmRpc3BhdGNoRXZlbnQobmV3IGUoZS5FUlJPUixmKSl9fXJldHVybiBifSxkLnByb3RvdHlwZS5fbG9hZEltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuX2Nvbm5lY3Rpb258fCh0aGlzLl9jb25uZWN0aW9uPW5ldyBJbWFnZSx0aGlzLl9jb25uZWN0aW9uLmFsdD1cXFwiXFxcIiksdGhpcy5fY29ubmVjdGlvbi5zcmM9YS51cmw7dmFyIGI9e307YltkLlJFU1BPTlNFXT1cXFwiXFxcIixiW2QuSU5TVEFOQ0VdPXRoaXMsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlKGUuU1VDQ0VTUyxiKSl9LGEuVVJMUmVxdWVzdE1ldGhvZD1iLGEuVVJMUmVxdWVzdD1jLGEuVVJMTG9hZGVyPWR9KGQpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgYj1cXFwianNcXFwiLGM9XFxcIjIuMC4yLjEyM1xcXCIsZD1cXFwiMTUwZjJiXFxcIixlPTQsZj17fTtmLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gYitcXFwiLVxcXCIrYytcXFwiLVxcXCIrZH0sZi5nZXRNYWpvcj1mdW5jdGlvbigpe3JldHVybiBmLmdldE51bWJlckF0UG9zaXRpb24oMCl9LGYuZ2V0TWlub3I9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXROdW1iZXJBdFBvc2l0aW9uKDEpfSxmLmdldE1pY3JvPWZ1bmN0aW9uKCl7cmV0dXJuIGYuZ2V0TnVtYmVyQXRQb3NpdGlvbigyKX0sZi5nZXRQYXRjaD1mdW5jdGlvbigpe3JldHVybiBmLmdldE51bWJlckF0UG9zaXRpb24oMyl9LGYuZ2V0QnVpbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gZH0sZi5nZXRBcGlMZXZlbD1mdW5jdGlvbigpe3JldHVybiBlfSxmLmdldE51bWJlckF0UG9zaXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGMuc3BsaXQoXFxcIi5cXFwiKVthXX0sYS5WZXJzaW9uPWZ9KGMpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKGEsYil7dGhpcy5fbWVzc2FnZT1hLHRoaXMuX2RldGFpbHM9Yn1iLnByb3RvdHlwZS5nZXRNZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2V9LGIucHJvdG90eXBlLmdldERldGFpbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGV0YWlsc30sYS5FcnJvckluZm89Yn0oYyksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoKXt0aGlzLmRlYnVnTG9nZ2luZz0hMX1hLkhlYXJ0YmVhdENvbmZpZz1ifShjKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe31iLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGEpe30sYS5IZWFydGJlYXREZWxlZ2F0ZT1ifShjKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe31iLnByb3RvdHlwZS5jb25maWd1cmU9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKFxcXCJJbXBsZW1lbnRhdGlvbiBlcnJvcjogTWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbi5cXFwiKX0sYi5wcm90b3R5cGUuYm9vdHN0cmFwPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGIucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFxcXCJJbXBsZW1lbnRhdGlvbiBlcnJvcjogTWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbi5cXFwiKX0sYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXFxcIkltcGxlbWVudGF0aW9uIGVycm9yOiBNZXRob2QgbXVzdCBiZSBvdmVycmlkZGVuLlxcXCIpfSxiLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFxcXCJJbXBsZW1lbnRhdGlvbiBlcnJvcjogTWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbi5cXFwiKX0sYi5wcm90b3R5cGUuaXNJbml0aWFsaXplZD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGIucHJvdG90eXBlLnJlc29sdmVEYXRhPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcXFwiSW1wbGVtZW50YXRpb24gZXJyb3I6IE1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4uXFxcIil9LGEucGx1Z2luLklQbHVnaW49Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoYSxiLGMsZCl7dGhpcy50cmlnZ2VyPWEsdGhpcy5hY3Rpb249Yyx0aGlzLnBsdWdpbj1iLHRoaXMuX3BhcmFtTWFwcGluZ3M9e30sdGhpcy5tZXJnZVBhcmFtcyhkKX12YXIgYz1hLnBsdWdpbi5QYXJhbU1hcHBpbmc7Yi5wcm90b3R5cGUubWVyZ2VQYXJhbXM9ZnVuY3Rpb24oYSl7aWYoYSlmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTt0aGlzLl9wYXJhbU1hcHBpbmdzW2MuZ2V0S2V5TmFtZSgpXT1jfX0sYi5wcm90b3R5cGUuZ2V0UGFyYW1zPWZ1bmN0aW9uKCl7dmFyIGE9W107Zm9yKHZhciBiIGluIHRoaXMuX3BhcmFtTWFwcGluZ3MpdGhpcy5fcGFyYW1NYXBwaW5ncy5oYXNPd25Qcm9wZXJ0eShiKSYmYS5wdXNoKHRoaXMuX3BhcmFtTWFwcGluZ3NbYl0pO3JldHVybiBhfSxiLnByb3RvdHlwZS5hZGRQYXJhbT1mdW5jdGlvbihhKXt0aGlzLl9wYXJhbU1hcHBpbmdzW2EuZ2V0S2V5TmFtZSgpXT1hfSxiLnByb3RvdHlwZS5yZW1vdmVQYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBkPW5ldyBjKGEsYik7dGhpcy5fcGFyYW1NYXBwaW5ncy5oYXNPd25Qcm9wZXJ0eShkLmdldEtleU5hbWUoKSkmJmRlbGV0ZSB0aGlzLl9wYXJhbU1hcHBpbmdzW2QuZ2V0S2V5TmFtZSgpXX0sYS5wbHVnaW4uQmVoYXZpb3VyPWJ9KGQpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKGEsYixkKXt0aGlzLl9wbHVnaW5OYW1lPWEsdGhpcy5fa2V5PWIsdGhpcy5fcGFyYW1OYW1lPWR8fGErYy5TRVBBUkFUT1IrYn12YXIgYz1hLnJhZGlvLkNoYW5uZWw7Yi5wcm90b3R5cGUuZ2V0UGx1Z2luTmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbHVnaW5OYW1lfSxiLnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fSxiLnByb3RvdHlwZS5nZXRLZXlOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsdWdpbk5hbWUrYy5TRVBBUkFUT1IrdGhpcy5fa2V5fSxiLnByb3RvdHlwZS5nZXRQYXJhbU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1OYW1lfSxhLnBsdWdpbi5QYXJhbU1hcHBpbmc9Yn0oZCksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGxvZ2dlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTt0aGlzLl9sb2dnZXI9YSx0aGlzLl9wbHVnaW5zPXt9LHRoaXMuX2JlaGF2aW91cnM9e30sdGhpcy5fcmFkaW89bmV3IGQodGhpcy5fbG9nZ2VyKSx0aGlzLl9kYXRhQ2hhbm5lbD10aGlzLl9yYWRpby5jaGFubmVsKGcpLHRoaXMuX2N0cmxDaGFubmVsPXRoaXMuX3JhZGlvLmNoYW5uZWwoaCl9dmFyIGM9YS5FdmVudCxkPWEucmFkaW8uUmFkaW8sZT1hLnJhZGlvLkNoYW5uZWwsZj1hLnBsdWdpbi5CZWhhdmlvdXI7Yi5FUlJPUj1cXFwiZXJyb3JcXFwiLGIucHJvdG90eXBlLmFkZFBsdWdpbj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldE5hbWUoKTt0aGlzLl9wbHVnaW5zW2JdJiZ0aGlzLl9sb2dnZXIud2FybihpLFxcXCIjYWRkUGx1Z2luID4gUmVwbGFjaW5nIHBsdWdpbjogXFxcIitiKSx0aGlzLl9wbHVnaW5zW2JdPWEsYS5ib290c3RyYXAodGhpcyl9LGIucHJvdG90eXBlLnNldHVwUGx1Z2lucz1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLl9wbHVnaW5zKXRoaXMuX3BsdWdpbnMuaGFzT3duUHJvcGVydHkoYSkmJnRoaXMuX3BsdWdpbnNbYV0uc2V0dXAoKX0sYi5wcm90b3R5cGUucGx1Z2luRXhpc3RzPWZ1bmN0aW9uKGEpe3JldHVybiEhdGhpcy5fcGx1Z2luc1thXX0sYi5wcm90b3R5cGUuaXNQbHVnaW5Jbml0aWFsaXplZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fcGx1Z2luc1thXSYmdGhpcy5fcGx1Z2luc1thXS5pc0luaXRpYWxpemVkKCl9LGIucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuX2RhdGFDaGFubmVsLm9uKGErZS5TRVBBUkFUT1IrYixjLGQpfSxiLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9YSYmYj9hK2UuU0VQQVJBVE9SK2I6bnVsbDt0aGlzLl9kYXRhQ2hhbm5lbC5vZmYoZixjLGQpfSxiLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKGEpe3ZhciBiPWEubmFtZSxjPXRoaXMuX2JlaGF2aW91cnNbYl07aWYoYyl7dmFyIGQsZSxmLGcsaCxpPXt9LGo9e307Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylpZihmPWNbZF0sZz1mLmdldFBhcmFtcygpKWZvcihlPTA7ZTxnLmxlbmd0aDtlKyspaD1nW2VdLGlbaC5nZXRQbHVnaW5OYW1lKCldPWlbaC5nZXRQbHVnaW5OYW1lKCldfHxbXSxoLmtleSBpbiBpW2guZ2V0UGx1Z2luTmFtZSgpXXx8aVtoLmdldFBsdWdpbk5hbWUoKV0ucHVzaChoLmdldEtleSgpKTtmb3IodmFyIGsgaW4gaSlpLmhhc093blByb3BlcnR5KGspJiYoaltrXT10aGlzLnJlcXVlc3QoayxpW2tdKSk7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zj1jW2RdO3ZhciBsPXtfYmVoYXZpb3VyOmYsX2V2ZW50RGF0YTphLmRhdGF8fHt9fTtpZihnPWYuZ2V0UGFyYW1zKCkpe2ZvcihlPTA7ZTxnLmxlbmd0aDtlKyspaD1nW2VdLGxbaC5nZXRQYXJhbU5hbWUoKV09altoLmdldFBsdWdpbk5hbWUoKV0/altoLmdldFBsdWdpbk5hbWUoKV1baC5nZXRLZXkoKV06bnVsbDt0aGlzLmNvbW1hbmQoZi5wbHVnaW4uZ2V0TmFtZSgpLGYuYWN0aW9uLGwpfX19dGhpcy5fZGF0YUNoYW5uZWwudHJpZ2dlcihhKX0sYi5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX3BsdWdpbnNbYV07cmV0dXJuIGMmJmImJjAhPWIubGVuZ3RoP2MucmVzb2x2ZURhdGEoYik6bnVsbH0sYi5wcm90b3R5cGUucmFpc2U9ZnVuY3Rpb24oYSl7dGhpcy5fZXJyb3JJbmZvPWE7dmFyIGQ9bmV3IGMoYi5FUlJPUixhKTt0aGlzLl9jdHJsQ2hhbm5lbC50cmlnZ2VyKGQpfSxiLnByb3RvdHlwZS5nZXRFcnJvckluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JJbmZvfSxiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fcmFkaW8uc2h1dGRvd24oKTtmb3IodmFyIGEgaW4gdGhpcy5fcGx1Z2lucyl0aGlzLl9wbHVnaW5zLmhhc093blByb3BlcnR5KGEpJiZ0aGlzLl9wbHVnaW5zW2FdLmRlc3Ryb3koKX0sYi5wcm90b3R5cGUuY29tcGx5PWZ1bmN0aW9uKGEsYixjKXt0aGlzLl9kYXRhQ2hhbm5lbC5jb21wbHkoYS5nZXROYW1lKCkrZS5TRVBBUkFUT1IrYixjLGEpfSxiLnByb3RvdHlwZS5jb21tYW5kPWZ1bmN0aW9uKGEsYixjKXt0aGlzLl9kYXRhQ2hhbm5lbC5jb21tYW5kKGErZS5TRVBBUkFUT1IrYixjKX0sYi5wcm90b3R5cGUucmVnaXN0ZXJCZWhhdmlvdXI9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5nZXROYW1lKCksZz1uZXcgZihhLGIsYyxkKTt0aGlzLl9iZWhhdmlvdXJzW2VdPXRoaXMuX2JlaGF2aW91cnNbZV18fFtdLHRoaXMuX2JlaGF2aW91cnNbZV0ucHVzaChnKX07dmFyIGc9XFxcImRhdGFfY2hhbm5lbFxcXCIsaD1cXFwiY3RybF9jaGFubmVsXFxcIixpPVxcXCJwbHVnaW46OlBsdWdpbk1hbmFnZXJcXFwiO2EucGx1Z2luLlBsdWdpbk1hbmFnZXI9Yn0oZCksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYyhhKXt0aGlzLl9uYW1lPWEsdGhpcy5faXNJbml0aWFsaXplZD0hMSx0aGlzLl9pc0Rlc3Ryb3llZD0hMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5fZGF0YVJlc29sdmVyPXt9LHRoaXMuX2xvZ1RhZz1cXFwicGx1Z2luOjpcXFwiK3RoaXMuZ2V0TmFtZSgpLHRoaXMuX2xvZ2dlcj1uZXcgZH12YXIgZD1hLkxvZ2dlcixlPWEuVHJpZ2dlcixmPWEuRXZlbnQsZz1iLkVycm9ySW5mbztjLklOSVRJQUxJWkVEPVxcXCJpbml0aWFsaXplZFxcXCIsYy5wcm90b3R5cGUuY29uZmlndXJlPWZ1bmN0aW9uKGEpe30sYy5wcm90b3R5cGUuYm9vdHN0cmFwPWZ1bmN0aW9uKGEpe3RoaXMuX3BsdWdpbk1hbmFnZXI9YSx0aGlzLl9pc0Rlc3Ryb3llZCYmdGhpcy5fcGx1Z2luTWFuYWdlci5yYWlzZShuZXcgZyhcXFwiSW52YWxpZCBzdGF0ZS5cXFwiLFxcXCJQbHVnaW4gYWxyZWFkeSBkZXN0cm95ZWQuXFxcIikpfSxjLnByb3RvdHlwZS5zZXR1cD1mdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoYy5JTklUSUFMSVpFRCksdGhpcy5faXNJbml0aWFsaXplZD0hMH0sYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2lzRGVzdHJveWVkfHwodGhpcy5faXNEZXN0cm95ZWQ9ITAsdGhpcy5fdGVhcmRvd24oKSl9LGMucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLl9lbmFibGVkKCl9LGMucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0VuYWJsZWQ9ITEsdGhpcy5fZGlzYWJsZWQoKX0sYy5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxjLnByb3RvdHlwZS5nZXRMb2dnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nZ2VyfSxjLnByb3RvdHlwZS5pc0luaXRpYWxpemVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW5pdGlhbGl6ZWR9LGMucHJvdG90eXBlLnJlc29sdmVEYXRhPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9pc0VuYWJsZWR8fCF0aGlzLl9pc0luaXRpYWxpemVkKXJldHVybiB0aGlzLl9sb2dnZXIud2Fybih0aGlzLl9sb2dUYWcsXFxcIlVuYWJsZSB0byByZXRyaWV2ZSBwbHVnaW4gZGF0YS4gUGx1Z2luOiBcXFwiK3RoaXMuX25hbWUrXFxcIi4gRW5hYmxlZDogXFxcIit0aGlzLl9pc0VuYWJsZWQrXFxcIi4gSW5pdGlhbGl6ZWQ6IFxcXCIrdGhpcy5faXNJbml0aWFsaXplZCtcXFwiLlxcXCIpLG51bGw7aWYoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHRoaXMuX2RhdGFSZXNvbHZlcilyZXR1cm4gdGhpcy5fZGF0YVJlc29sdmVyLmNhbGwodGhpcyxhKTt2YXIgYj1udWxsO2lmKGEpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY107dGhpcy5fZGF0YVJlc29sdmVyLmhhc093blByb3BlcnR5KGQpJiYoYj1ifHx7fSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgdGhpcy5fZGF0YVJlc29sdmVyW2RdP2JbZF09dGhpcy5fZGF0YVJlc29sdmVyW2RdLmNhbGwodGhpcyk6YltkXT10aGlzLl9kYXRhUmVzb2x2ZXJbZF0pfXJldHVybiBifSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCI8cGx1Z2luOiBcXFwiK3RoaXMuX25hbWUrXFxcIj5cXFwifSxjLnByb3RvdHlwZS5fZW5hYmxlZD1mdW5jdGlvbigpe30sYy5wcm90b3R5cGUuX2Rpc2FibGVkPWZ1bmN0aW9uKCl7fSxjLnByb3RvdHlwZS5fdGVhcmRvd249ZnVuY3Rpb24oKXt9LGMucHJvdG90eXBlLl9jYW5Qcm9jZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZD8hdGhpcy5faXNEZXN0cm95ZWR8fCh0aGlzLl9sb2dnZXIuZXJyb3IodGhpcy5fbG9nVGFnLFxcXCJQbHVnaW4gZGVzdHJveWVkLlxcXCIpLCExKToodGhpcy5fbG9nZ2VyLmVycm9yKHRoaXMuX2xvZ1RhZyxcXFwiUGx1Z2luIGRpc2FibGVkLlxcXCIpLCExKX0sYy5wcm90b3R5cGUuX3RyaWdnZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLmNyZWF0ZUZyb21UcmlnZ2VyKG5ldyBlKHRoaXMuZ2V0TmFtZSgpLGEpKTtjLmRhdGE9Yix0aGlzLl9wbHVnaW5NYW5hZ2VyLnRyaWdnZXIoYyl9LGEucGx1Z2luLkJhc2VQbHVnaW49Y30oZCxjKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYihhLGIsYyl7dGhpcy5uYW1lPWEsdGhpcy5pbnRlcnZhbD1iLHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5yZXBlYXRDb3VudD1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGM/YzplLHRoaXMuX25leHRUaWNrVGltZXN0YW1wPTAsdGhpcy5yZXNldCgpfWZ1bmN0aW9uIGMoYSxiKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoXFxcIlJlZmVyZW5jZSB0byB0aGUgQ2xvY2tTZXJ2aWNlIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO2lmKHRoaXMuX3NlcnZpY2U9YSwhYil0aHJvdyBuZXcgRXJyb3IoXFxcIlJlZmVyZW5jZSB0byB0aGUgbG9nZ2VyIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO3RoaXMuX2xvZ2dlcj1iLHRoaXMuX2lzRGVzdHJveWVkPSExLHRoaXMuX3RpbWVycz17fTt2YXIgYz10aGlzO3RoaXMuX2Nsb2NrPXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2MuX29uVGljaygpfSwxZTMqZil9Yi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnRpY2s9MCx0aGlzLl9jcmVhdGVkVGltZXN0YW1wPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX3VwZGF0ZU5leHRUaWNrVGltZXN0YW1wKCl9LGIucHJvdG90eXBlLnNob3VsZFRpY2s9ZnVuY3Rpb24oKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gYT50aGlzLl9uZXh0VGlja1RpbWVzdGFtcC1mLzImJih0aGlzLnRpY2srKyx0aGlzLl91cGRhdGVOZXh0VGlja1RpbWVzdGFtcCgpLCEwKX0sYi5wcm90b3R5cGUuX3VwZGF0ZU5leHRUaWNrVGltZXN0YW1wPWZ1bmN0aW9uKCl7dGhpcy5fbmV4dFRpY2tUaW1lc3RhbXA9dGhpcy5fY3JlYXRlZFRpbWVzdGFtcCsxZTMqdGhpcy5pbnRlcnZhbCoodGhpcy50aWNrKzEpfSxjLnByb3RvdHlwZS5jcmVhdGVUaW1lcj1mdW5jdGlvbihhLGMsZCl7dGhpcy5fdGltZXJzW2FdPW5ldyBiKGEsYyxkKX0sYy5wcm90b3R5cGUuZGVzdHJveVRpbWVyPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl90aW1lcnNbYV19LGMucHJvdG90eXBlLnJlc3VtZVRpbWVyPWZ1bmN0aW9uKGEsYil7Yj1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGImJmIsdGhpcy5fbG9nZ2VyLmRlYnVnKGQsXFxcIiNyZXN1bWVUaW1lcihuYW1lPVxcXCIrYStcXFwiLCByZXNldD1cXFwiK2IrXFxcIilcXFwiKTt2YXIgYz10aGlzLl90aW1lcnNbYV07YyYmKGMuaXNBY3RpdmU9ITAsYiYmYy5yZXNldCgpKX0sYy5wcm90b3R5cGUucGF1c2VUaW1lcj1mdW5jdGlvbihhLGIpe2I9XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBiJiZiLHRoaXMuX2xvZ2dlci5kZWJ1ZyhkLFxcXCIjcGF1c2VUaW1lcihuYW1lPVxcXCIrYStcXFwiLCByZXNldD1cXFwiK2IrXFxcIilcXFwiKTt2YXIgYz10aGlzLl90aW1lcnNbYV07YyYmKGMuaXNBY3RpdmU9ITEsYiYmYy5yZXNldCgpKX0sYy5wcm90b3R5cGUuaXNUaW1lclBhdXNlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl90aW1lcnNbYV07cmV0dXJuISFiJiYhYi5pc0FjdGl2ZX0sYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2lzRGVzdHJveWVkfHwodGhpcy5faXNEZXN0cm95ZWQ9ITAsdGhpcy5fdGltZXJzPXt9LHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2Nsb2NrKSl9LGMucHJvdG90eXBlLl9vblRpY2s9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5fdGltZXJzKWlmKHRoaXMuX3RpbWVycy5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGI9dGhpcy5fdGltZXJzW2FdO2IuaXNBY3RpdmUmJmIuc2hvdWxkVGljaygpJiYoYi5pbnRlcnZhbD4xJiZ0aGlzLl9sb2dnZXIuZGVidWcoZCxcXFwiI19vblRpY2soKSA+IFxcXCIrYi5uYW1lK1xcXCIoXFxcIitiLnRpY2srXFxcIiB8IFxcXCIrYi5yZXBlYXRDb3VudCtcXFwiKVxcXCIpLDAhPWIucmVwZWF0Q291bnQ/KHRoaXMuX3NlcnZpY2Uub25UaWNrKGIubmFtZSxiLmludGVydmFsLGIudGljayksYi5yZXBlYXRDb3VudCE9ZSYmYi5yZXBlYXRDb3VudC0tKTp0aGlzLmRlc3Ryb3lUaW1lcihiLm5hbWUpKX19O3ZhciBkPVxcXCJzZXJ2aWNlLmNsb2NrOjpUaW1lck1hbmFnZXJcXFwiLGU9LTEsZj0uMjU7YS5jbG9jay5UaW1lckRlc2NyaXB0b3I9YixhLmNsb2NrLlRpbWVyTWFuYWdlcj1jfShlKSxmdW5jdGlvbihhLGIsYyl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGQoYSl7aWYoZC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGgpLCFhKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBsb2dnZXIgb2JqZWN0IGNhbm5vdCBiZSBOVUxMXFxcIik7dGhpcy5fbG9nZ2VyPWEsdGhpcy5fdGltZXJNYW5hZ2VyPW5ldyBlKHRoaXMsdGhpcy5fbG9nZ2VyKSx0aGlzLl9zZXR1cERhdGFSZXNvbHZlcigpfXZhciBlPWMuY2xvY2suVGltZXJNYW5hZ2VyLGY9Yi5TdHJpbmdVdGlscyxnPWEucGx1Z2luLkJhc2VQbHVnaW47YS5leHRlbmQoZCxnKSxkLnByb3RvdHlwZS5ib290c3RyYXA9ZnVuY3Rpb24oYSl7ZC5fX3N1cGVyX18uYm9vdHN0cmFwLmNhbGwodGhpcyxhKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLGksdGhpcy5fY21kQ3JlYXRlKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLGssdGhpcy5fY21kUmVzdW1lKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLGosdGhpcy5fY21kUGF1c2UpLHRoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsbCx0aGlzLl9jbWREZXN0cm95KX0sZC5wcm90b3R5cGUuX3RlYXJkb3duPWZ1bmN0aW9uKCl7dGhpcy5fdGltZXJNYW5hZ2VyLmRlc3Ryb3koKX0sZC5wcm90b3R5cGUuX2NtZENyZWF0ZT1mdW5jdGlvbihhKXt2YXIgYj1hW29dfHxzO3RoaXMuX3RpbWVyTWFuYWdlci5jcmVhdGVUaW1lcihhW21dLGFbbl0sYil9LGQucHJvdG90eXBlLl9jbWRQYXVzZT1mdW5jdGlvbihhKXt0aGlzLl90aW1lck1hbmFnZXIucGF1c2VUaW1lcihhW21dLCEhYVtxXSl9LGQucHJvdG90eXBlLl9jbWRSZXN1bWU9ZnVuY3Rpb24oYSl7dGhpcy5fdGltZXJNYW5hZ2VyLnJlc3VtZVRpbWVyKGFbbV0sISFhW3FdKX0sZC5wcm90b3R5cGUuX2NtZERlc3Ryb3k9ZnVuY3Rpb24oYSl7dGhpcy5fdGltZXJNYW5hZ2VyLmRlc3Ryb3lUaW1lcihhW21dKX0sZC5wcm90b3R5cGUub25UaWNrPWZ1bmN0aW9uKGEsYixjKXthKz1cXFwiLnRpY2tcXFwiO3ZhciBkPXt9O2RbbV09YSxkW25dPWIsZFtwXT1jLHRoaXMuX3RyaWdnZXIoYSxkKX0sZC5wcm90b3R5cGUuX3NldHVwRGF0YVJlc29sdmVyPWZ1bmN0aW9uKCl7dmFyIGE9e30sYj10aGlzLl90aW1lck1hbmFnZXI7YVtyXT1mdW5jdGlvbihhKXtyZXR1cm4gYi5pc1RpbWVyUGF1c2VkKGEpfSx0aGlzLl9kYXRhUmVzb2x2ZXI9ZnVuY3Rpb24oYil7aWYoIWJ8fDA9PWIubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgYz1udWxsLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtpZihjPWN8fHt9LGYuc3RhcnRzV2l0aChlLHIpKXt2YXIgZz1lLnNwbGl0KHIrXFxcIi5cXFwiKTtnLmxlbmd0aD4wJiYoY1tlXT1hW3JdLmNhbGwodGhpcyxnWzFdKSl9fXJldHVybiBjfX07dmFyIGg9XFxcInNlcnZpY2UuY2xvY2tcXFwiLGk9XFxcImNyZWF0ZVxcXCIsaj1cXFwicGF1c2VcXFwiLGs9XFxcInJlc3VtZVxcXCIsbD1cXFwiZGVzdHJveVxcXCIsbT1cXFwibmFtZVxcXCIsbj1cXFwiaW50ZXJ2YWxcXFwiLG89XFxcInJlcGVhdF9jb3VudFxcXCIscD1cXFwidGlja1xcXCIscT1cXFwicmVzZXRcXFwiLHI9XFxcImlzX3BhdXNlZFxcXCIscz0tMTtjLmNsb2NrLkNsb2NrU2VydmljZT1kfShkLGIsZSksZnVuY3Rpb24oYSxiLGMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBkKGEsYil7aWYodGhpcy5fbG9nZ2VyPW5ldyBlLHRoaXMuX3BsdWdpbk1hbmFnZXI9bmV3IGYodGhpcy5fbG9nZ2VyKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmFkZFBsdWdpbihuZXcgZyh0aGlzLl9sb2dnZXIpKSxiKWZvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMuX3BsdWdpbk1hbmFnZXIuYWRkUGx1Z2luKGJbY10pO3RoaXMuX3BsdWdpbk1hbmFnZXIuc2V0dXBQbHVnaW5zKCksdGhpcy5faXNEZXN0cm95ZWQ9ITF9dmFyIGU9YS5Mb2dnZXIsZj1hLnBsdWdpbi5QbHVnaW5NYW5hZ2VyLGc9Yi5jbG9jay5DbG9ja1NlcnZpY2U7ZC5wcm90b3R5cGUuY29uZmlndXJlPWZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcihcXFwiQ29uZmlndXJhdGlvbiBvYmplY3QgY2Fubm90IGJlIE5VTEwuXFxcIik7YS5kZWJ1Z0xvZ2dpbmc/dGhpcy5fbG9nZ2VyLmVuYWJsZSgpOnRoaXMuX2xvZ2dlci5kaXNhYmxlKCksdGhpcy5faXNEZXN0cm95ZWQmJnRoaXMuX2xvZ2dlci5lcnJvcihoLFxcXCJJbnN0YW5jZSBpcyBkZXN0cm95ZWQuXFxcIil9LGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9pc0Rlc3Ryb3llZHx8KHRoaXMuX3BsdWdpbk1hbmFnZXIuZGVzdHJveSgpLHRoaXMuX2lzRGVzdHJveWVkPSEwKX07dmFyIGg9XFxcIkhlYXJ0YmVhdFxcXCI7Yy5IZWFydGJlYXQ9ZH0oZCxlLGMpLGEuQURCfHwoYS5BREI9e30pLGEuQURCLmNvcmV8fChhLkFEQi5jb3JlPWQpLGEuQURCLnZhfHwoYS5BREIudmE9YyksYS5BREIudmEudXRpbHN8fChhLkFEQi52YS51dGlscz1iKSxhLkFEQi52YS5wbHVnaW5zfHwoYS5BREIudmEucGx1Z2lucz17fSl9KHRoaXMpO1xcblxcbi8vIFZpZGVvUGxheWVyUGx1Z2luXFxuIWZ1bmN0aW9uKGEpe2lmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYil2YXIgYj17fTshZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBiPXt9O2IuQVNTRVRfVFlQRV9WT0Q9XFxcInZvZFxcXCIsYi5BU1NFVF9UWVBFX0xJVkU9XFxcImxpdmVcXFwiLGIuQVNTRVRfVFlQRV9MSU5FQVI9XFxcImxpbmVhclxcXCIsYS5Bc3NldFR5cGU9Yn0oYiksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoKXt0aGlzLnBsYXllck5hbWU9bnVsbCx0aGlzLm5hbWU9bnVsbCx0aGlzLnBvc2l0aW9uPW51bGwsdGhpcy5zdGFydFRpbWU9bnVsbH1iLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJwbGF5ZXJOYW1lPVxcXCIrdGhpcy5wbGF5ZXJOYW1lK1xcXCIsIG5hbWU9XFxcIit0aGlzLm5hbWUrXFxcIiwgcG9zaXRpb249XFxcIit0aGlzLnBvc2l0aW9uK1xcXCIsIHN0YXJ0VGltZT1cXFwiK3RoaXMuc3RhcnRUaW1lfSxhLkFkQnJlYWtJbmZvPWJ9KGIpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKCl7dGhpcy5pZD1udWxsLHRoaXMubmFtZT1udWxsLHRoaXMubGVuZ3RoPW51bGwsdGhpcy5wb3NpdGlvbj1udWxsfWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcImlkPVxcXCIrdGhpcy5pZCtcXFwiLCBuYW1lPVxcXCIrdGhpcy5uYW1lK1xcXCIsIGxlbmd0aD1cXFwiK3RoaXMubGVuZ3RoK1xcXCIsIHBvc2l0aW9uPVxcXCIrdGhpcy5wb3NpdGlvbn0sYS5BZEluZm89Yn0oYiksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoKXt0aGlzLm5hbWU9bnVsbCx0aGlzLmxlbmd0aD1udWxsLHRoaXMucG9zaXRpb249bnVsbCx0aGlzLnN0YXJ0VGltZT1udWxsfWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIm5hbWU9XFxcIit0aGlzLm5hbWUrXFxcIiwgbGVuZ3RoPVxcXCIrdGhpcy5sZW5ndGgrXFxcIiwgcG9zaXRpb249XFxcIit0aGlzLnBvc2l0aW9uK1xcXCIsIHN0YXJ0VGltZT1cXFwiK3RoaXMuc3RhcnRUaW1lfSxhLkNoYXB0ZXJJbmZvPWJ9KGIpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKCl7dGhpcy5iaXRyYXRlPW51bGwsdGhpcy5mcHM9bnVsbCx0aGlzLmRyb3BwZWRGcmFtZXM9bnVsbCx0aGlzLnN0YXJ0dXBUaW1lPW51bGx9Yi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiYml0cmF0ZT1cXFwiK3RoaXMuYml0cmF0ZStcXFwiLCBmcHM9XFxcIit0aGlzLmZwcytcXFwiLCBkcm9wcGVkRnJhbWVzPVxcXCIrdGhpcy5kcm9wcGVkRnJhbWVzK1xcXCIsIHN0YXJ0dXBUaW1lPVxcXCIrdGhpcy5zdGFydHVwVGltZX0sYS5Rb1NJbmZvPWJ9KGIpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKCl7dGhpcy5wbGF5ZXJOYW1lPW51bGwsdGhpcy5pZD1udWxsLHRoaXMubmFtZT1udWxsLHRoaXMubGVuZ3RoPW51bGwsdGhpcy5wbGF5aGVhZD1udWxsLHRoaXMuc3RyZWFtVHlwZT1udWxsLHRoaXMucmVzdW1lZD0hMX1iLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJwbGF5ZXJOYW1lPVxcXCIrdGhpcy5wbGF5ZXJOYW1lK1xcXCIsIGlkPVxcXCIrdGhpcy5pZCtcXFwiLCBuYW1lPVxcXCIrdGhpcy5uYW1lK1xcXCIsIGxlbmd0aD1cXFwiK3RoaXMubGVuZ3RoK1xcXCIsIHBsYXloZWFkPVxcXCIrdGhpcy5wbGF5aGVhZCtcXFwiLCBzdHJlYW1UeXBlPVxcXCIrdGhpcy5zdHJlYW1UeXBlK1xcXCIsIHJlc3VtZWQ9XFxcIit0aGlzLnJlc3VtZWR9LGEuVmlkZW9JbmZvPWJ9KGIpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKCl7dGhpcy5kZWJ1Z0xvZ2dpbmc9ITF9YS5WaWRlb1BsYXllclBsdWdpbkNvbmZpZz1ifShiKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe31iLnByb3RvdHlwZS5nZXRWaWRlb0luZm89ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXFxcIkltcGxlbWVudGF0aW9uIGVycm9yOiBNZXRob2QgbXVzdCBiZSBvdmVycmlkZGVuLlxcXCIpfSxiLnByb3RvdHlwZS5nZXRBZEJyZWFrSW5mbz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxiLnByb3RvdHlwZS5nZXRBZEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYi5wcm90b3R5cGUuZ2V0Q2hhcHRlckluZm89ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYi5wcm90b3R5cGUuZ2V0UW9TSW5mbz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxhLlZpZGVvUGxheWVyUGx1Z2luRGVsZWdhdGU9Yn0oYiksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYyhhKXtpZihjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsaCksIWEpdGhyb3cgbmV3IEVycm9yKFxcXCJQbGF5ZXJQbHVnaW4gZGVsZWdhdGUgY2Fubm90IGJlIE5VTEwuXFxcIik7dGhpcy5fZGVsZWdhdGU9YSx0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZT0hMSx0aGlzLl9pc1RyYWNraW5nU2Vzc2lvblN0YXJ0ZWQ9ITEsdGhpcy5faXNUcmFja2luZ0FkPSExLHRoaXMuX3BsYXloZWFkVGltZXI9bnVsbCx0aGlzLl9wcmV2aW91c1BsYXloZWFkPS0xLHRoaXMuX3N0YWxsZWRQbGF5aGVhZENvdW50PTAsdGhpcy5fcGxheWhlYWRTdGFsbGVkPSExLHRoaXMuX3ZpZGVvSWRsZT0hMSx0aGlzLl9zZXR1cERhdGFSZXNvbHZlcigpfXZhciBkPWEucGx1Z2luLlBhcmFtTWFwcGluZyxlPWEuVHJpZ2dlcixmPWEucGx1Z2luLkJhc2VQbHVnaW4sZz1iLlZpZGVvUGxheWVyUGx1Z2luQ29uZmlnO2EuZXh0ZW5kKGMsZiksYy5wcm90b3R5cGUuY29uZmlndXJlPWZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBjb25maWd1cmF0aW9uIGRhdGEgY2Fubm90IGJlIE5VTEwuXFxcIik7aWYoIShhIGluc3RhbmNlb2YgZykpdGhyb3cgbmV3IEVycm9yKFxcXCJFeHBlY3RlZCBjb25maWcgZGF0YSB0byBiZSBpbnN0YW5jZSBvZiBWaWRlb1BsYXllclBsdWdpbkNvbmZpZy5cXFwiKTthLmRlYnVnTG9nZ2luZz90aGlzLl9sb2dnZXIuZW5hYmxlKCk6dGhpcy5fbG9nZ2VyLmRpc2FibGUoKSx0aGlzLl9sb2dnZXIuZGVidWcodGhpcy5fbG9nVGFnLFxcXCIjY29uZmlndXJlKGRlYnVnTG9nZ2luZz1cXFwiK2EuZGVidWdMb2dnaW5nK1xcXCIpXFxcIil9LGMucHJvdG90eXBlLmJvb3RzdHJhcD1mdW5jdGlvbihhKXtjLl9fc3VwZXJfXy5ib290c3RyYXAuY2FsbCh0aGlzLGEpLHRoaXMuX3JlZ2lzdGVyQ29tbWFuZHMoKSx0aGlzLl9yZWdpc3RlckJlaGF2aW91cnMoKX0sYy5wcm90b3R5cGUuX2NtZFZpZGVvSWRsZVN0YXJ0PWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI19jbWRWaWRlb0lkbGVTdGFydCgpXFxcIiksdGhpcy5fdmlkZW9JZGxlPSEwfSxjLnByb3RvdHlwZS5fY21kVmlkZW9JZGxlUmVzdW1lPWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI19jbWRWaWRlb0lkbGVSZXN1bWUoKVxcXCIpLHRoaXMuX3ZpZGVvSWRsZSYmKHRoaXMuX3RyaWdnZXIobyksdGhpcy5fdHJpZ2dlcihwKSxhLmlzSW5DaGFwdGVyJiZ0aGlzLl90cmlnZ2VyKEEpLGEuaXNJbkFkJiYodGhpcy5fdHJpZ2dlcih1KSx0aGlzLl9pc1RyYWNraW5nQWQ9ITApKSx0aGlzLl92aWRlb0lkbGU9ITF9LGMucHJvdG90eXBlLnRyYWNrU2Vzc2lvblN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5fbG9nZ2VyLmluZm8odGhpcy5fbG9nVGFnLFxcXCIjdHJhY2tTZXNzaW9uU3RhcnQoKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSl7aWYoIXRoaXMuX2lzVHJhY2tpbmdTZXNzaW9uQWN0aXZlKXJldHVybiB2b2lkIHRoaXMuX2xvZ2dlci53YXJuKHRoaXMuX2xvZ1RhZyxcXFwiI3RyYWNrU2Vzc2lvblN0YXJ0KCkgPiBObyBhY3RpdmUgdHJhY2tpbmcgc2Vzc2lvbi5cXFwiKTtpZih0aGlzLl9pc1RyYWNraW5nU2Vzc2lvblN0YXJ0ZWQpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmluZm8odGhpcy5fbG9nVGFnLFxcXCIjdHJhY2tTZXNzaW9uU3RhcnQoKSA+IFRyYWNraW5nIHNlc3Npb24gYWxyZWFkeSBzdGFydGVkLlxcXCIpO3RoaXMuX3RyaWdnZXIobyksdGhpcy5faXNUcmFja2luZ1Nlc3Npb25TdGFydGVkPSEwO3ZhciBhPXRoaXMuX2RhdGFSZXNvbHZlcihbXFxcInZpZGVvLnJlc3VtZWRcXFwiXSk7YS5oYXNPd25Qcm9wZXJ0eShcXFwidmlkZW8ucmVzdW1lZFxcXCIpJiZhW1xcXCJ2aWRlby5yZXN1bWVkXFxcIl0mJnRoaXMuX3RyaWdnZXIocCl9fSxjLnByb3RvdHlwZS50cmFja1ZpZGVvTG9hZD1mdW5jdGlvbigpe3RoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI3RyYWNrVmlkZW9Mb2FkKClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl90cmlnZ2VyKG0pLHRoaXMuX2lzVHJhY2tpbmdTZXNzaW9uQWN0aXZlPSEwLHRoaXMuX2lzVHJhY2tpbmdTZXNzaW9uU3RhcnRlZD0hMSl9LGMucHJvdG90eXBlLnRyYWNrVmlkZW9VbmxvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja1ZpZGVvVW5sb2FkKClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkpe2lmKCF0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIud2Fybih0aGlzLl9sb2dUYWcsXFxcIiN0cmFja1ZpZGVvVW5sb2FkKCkgPiBObyBhY3RpdmUgdHJhY2tpbmcgc2Vzc2lvbi5cXFwiKTt0aGlzLl9zdG9wUGxheWhlYWRUaW1lcigpLHRoaXMuX3RyaWdnZXIobiksdGhpcy5faXNUcmFja2luZ1Nlc3Npb25BY3RpdmU9ITEsdGhpcy5faXNUcmFja2luZ1Nlc3Npb25TdGFydGVkPSExLHRoaXMuX3ZpZGVvSWRsZT0hMX19LGMucHJvdG90eXBlLnRyYWNrUGxheT1mdW5jdGlvbigpe3RoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI3RyYWNrUGxheSgpXFxcIiksdGhpcy5fY2FuUHJvY2VzcygpJiZ0aGlzLl9zdGFydFNlc3Npb25JZk5lZWRlZChcXFwidHJhY2tQbGF5XFxcIikmJih0aGlzLl90cmlnZ2VyKHMpLHRoaXMuX3N0YXJ0UGxheWhlYWRUaW1lcigpKX0sYy5wcm90b3R5cGUudHJhY2tQYXVzZT1mdW5jdGlvbigpe2lmKHRoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI3RyYWNrUGF1c2UoKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fc3RhcnRTZXNzaW9uSWZOZWVkZWQoXFxcInRyYWNrUGF1c2VcXFwiKSl7dGhpcy5fc3RvcFBsYXloZWFkVGltZXIoKTt2YXIgYT17fTthW0hdPSExLHRoaXMuX3RyaWdnZXIodCxhKX19LGMucHJvdG90eXBlLnRyYWNrQnVmZmVyU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja0J1ZmZlclN0YXJ0KClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX3N0YXJ0U2Vzc2lvbklmTmVlZGVkKFxcXCJ0cmFja0J1ZmZlclN0YXJ0XFxcIikmJih0aGlzLl9zdG9wUGxheWhlYWRUaW1lcigpLHRoaXMuX3RyaWdnZXIodykpfSxjLnByb3RvdHlwZS50cmFja0J1ZmZlckNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5fbG9nZ2VyLmluZm8odGhpcy5fbG9nVGFnLFxcXCIjdHJhY2tCdWZmZXJDb21wbGV0ZSgpXFxcIiksdGhpcy5fY2FuUHJvY2VzcygpJiZ0aGlzLl9zdGFydFNlc3Npb25JZk5lZWRlZChcXFwidHJhY2tCdWZmZXJDb21wbGV0ZVxcXCIpJiYodGhpcy5fdHJpZ2dlcih4KSx0aGlzLl9zdGFydFBsYXloZWFkVGltZXIoKSl9LGMucHJvdG90eXBlLnRyYWNrU2Vla1N0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5fbG9nZ2VyLmluZm8odGhpcy5fbG9nVGFnLFxcXCIjdHJhY2tTZWVrU3RhcnQoKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fc3RhcnRTZXNzaW9uSWZOZWVkZWQoXFxcInRyYWNrU2Vla1N0YXJ0XFxcIikmJih0aGlzLl9zdG9wUGxheWhlYWRUaW1lcigpLHRoaXMuX3RyaWdnZXIoeSkpfSxjLnByb3RvdHlwZS50cmFja1NlZWtDb21wbGV0ZT1mdW5jdGlvbigpe2lmKHRoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI3RyYWNrU2Vla0NvbXBsZXRlKClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX3N0YXJ0U2Vzc2lvbklmTmVlZGVkKFxcXCJ0cmFja1NlZWtDb21wbGV0ZVxcXCIpKXt0aGlzLl90cmlnZ2VyKHopLHRoaXMuX3N0YXJ0UGxheWhlYWRUaW1lcigpO3ZhciBhPXRoaXMuX2RhdGFSZXNvbHZlcihbXFxcImFkLmlzSW5BZFxcXCJdKTt0aGlzLl9pc1RyYWNraW5nQWQ9YS5oYXNPd25Qcm9wZXJ0eShcXFwiYWQuaXNJbkFkXFxcIikmJmFbXFxcImFkLmlzSW5BZFxcXCJdfX0sYy5wcm90b3R5cGUudHJhY2tDb21wbGV0ZT1mdW5jdGlvbihhKXtpZih0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja0NvbXBsZXRlKClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX3N0YXJ0U2Vzc2lvbklmTmVlZGVkKFxcXCJ0cmFja0NvbXBsZXRlXFxcIikpe3ZhciBiPXt9O2JbR109YSx0aGlzLl9zdG9wUGxheWhlYWRUaW1lcigpLHRoaXMuX3RyaWdnZXIocSxiKX19LGMucHJvdG90eXBlLnRyYWNrVGltZWRNZXRhZGF0YT1mdW5jdGlvbihhKXt0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja0NvbXBsZXRlKClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX3N0YXJ0U2Vzc2lvbklmTmVlZGVkKFxcXCJ0cmFja1RpbWVkTWV0YWRhdGFcXFwiKSYmdGhpcy5fdHJpZ2dlcihyLGEpfSxjLnByb3RvdHlwZS50cmFja0NoYXB0ZXJTdGFydD1mdW5jdGlvbigpe3RoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI3RyYWNrQ2hhcHRlclN0YXJ0KClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX3N0YXJ0U2Vzc2lvbklmTmVlZGVkKFxcXCIjdHJhY2tDaGFwdGVyU3RhcnRcXFwiKSYmdGhpcy5fdHJpZ2dlcihBKX0sYy5wcm90b3R5cGUudHJhY2tDaGFwdGVyQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcInRyYWNrQ2hhcHRlckNvbXBsZXRlKClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX3N0YXJ0U2Vzc2lvbklmTmVlZGVkKFxcXCJ0cmFja0NoYXB0ZXJDb21wbGV0ZVxcXCIpJiZ0aGlzLl90cmlnZ2VyKEIpfSxjLnByb3RvdHlwZS50cmFja0FkU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja0FkU3RhcnQoKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fc3RhcnRTZXNzaW9uSWZOZWVkZWQoXFxcInRyYWNrQWRTdGFydFxcXCIpJiYodGhpcy5fdHJpZ2dlcih1KSx0aGlzLl9pc1RyYWNraW5nQWQ9ITApfSxjLnByb3RvdHlwZS50cmFja0FkQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja0FkQ29tcGxldGUoKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fc3RhcnRTZXNzaW9uSWZOZWVkZWQoXFxcInRyYWNrQWRDb21wbGV0ZVxcXCIpJiYodGhpcy5fdHJpZ2dlcih2KSx0aGlzLl9pc1RyYWNraW5nQWQ9ITEpfSxjLnByb3RvdHlwZS50cmFja0JpdHJhdGVDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja0JpdHJhdGVDaGFuZ2UoKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fc3RhcnRTZXNzaW9uSWZOZWVkZWQoXFxcInRyYWNrQml0cmF0ZUNoYW5nZVxcXCIpJiZ0aGlzLl90cmlnZ2VyKEMpfSxjLnByb3RvdHlwZS50cmFja1ZpZGVvUGxheWVyRXJyb3I9ZnVuY3Rpb24oYSl7aWYodGhpcy5fbG9nZ2VyLmluZm8odGhpcy5fbG9nVGFnLFxcXCIjdHJhY2tWaWRlb1BsYXllckVycm9yKGVycm9ySWQ9XFxcIithK1xcXCIpXFxcIiksdGhpcy5fc3RhcnRTZXNzaW9uSWZOZWVkZWQoXFxcInRyYWNrVmlkZW9QbGF5ZXJFcnJvclxcXCIpKXt2YXIgYj17fTtiW0ldPWwsYltKXT1hLHRoaXMuX3RyaWdnZXIoRCxiKX19LGMucHJvdG90eXBlLnRyYWNrQXBwbGljYXRpb25FcnJvcj1mdW5jdGlvbihhKXtpZih0aGlzLl9sb2dnZXIuaW5mbyh0aGlzLl9sb2dUYWcsXFxcIiN0cmFja0FwcGxpY2F0aW9uRXJyb3IoZXJyb3JJZD1cXFwiK2ErXFxcIilcXFwiKSx0aGlzLl9zdGFydFNlc3Npb25JZk5lZWRlZChcXFwidHJhY2tBcHBsaWNhdGlvbkVycm9yXFxcIikpe3ZhciBiPXt9O2JbSV09ayxiW0pdPWEsdGhpcy5fdHJpZ2dlcihELGIpfX0sYy5wcm90b3R5cGUuX3JlZ2lzdGVyQ29tbWFuZHM9ZnVuY3Rpb24oKXt0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVWaWRlb0lkbGVTdGFydFxcXCIsdGhpcy5fY21kVmlkZW9JZGxlU3RhcnQpLHRoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsXFxcImhhbmRsZVZpZGVvSWRsZVJlc3VtZVxcXCIsdGhpcy5fY21kVmlkZW9JZGxlUmVzdW1lKX0sYy5wcm90b3R5cGUuX3JlZ2lzdGVyQmVoYXZpb3Vycz1mdW5jdGlvbigpe3RoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGUoaixFKSx0aGlzLFxcXCJoYW5kbGVWaWRlb0lkbGVTdGFydFxcXCIpLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGUoaixGKSx0aGlzLFxcXCJoYW5kbGVWaWRlb0lkbGVSZXN1bWVcXFwiLFtuZXcgZChpLFxcXCJhZC5pc0luQWRcXFwiLFxcXCJpc0luQWRcXFwiKSxuZXcgZChpLFxcXCJjaGFwdGVyLmlzSW5DaGFwdGVyXFxcIixcXFwiaXNJbkNoYXB0ZXJcXFwiKV0pfSxjLnByb3RvdHlwZS5fc2V0dXBEYXRhUmVzb2x2ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7cmV0dXJuIGcudmlkZW8/Zy52aWRlbzooZy52aWRlbz1oLl9kZWxlZ2F0ZS5nZXRWaWRlb0luZm8oKSxoLl9sb2dnZXIuaW5mbyhoLl9sb2dUYWcsXFxcIkRhdGEgZnJvbSBkZWxlZ2F0ZSA+IFZpZGVvSW5mbzogXFxcIitnLnZpZGVvKSxnLnZpZGVvKX1mdW5jdGlvbiBiKCl7cmV0dXJuIGcuYWQ/Zy5hZDooZy5hZD1oLl9kZWxlZ2F0ZS5nZXRBZEluZm8oKSxoLl9sb2dnZXIuaW5mbyhoLl9sb2dUYWcsXFxcIkRhdGEgZnJvbSBkZWxlZ2F0ZSA+IEFkSW5mbzogXFxcIitnLmFkKSxnLmFkKX1mdW5jdGlvbiBjKCl7cmV0dXJuIGcucG9kP2cucG9kOihnLnBvZD1oLl9kZWxlZ2F0ZS5nZXRBZEJyZWFrSW5mbygpLGguX2xvZ2dlci5pbmZvKGguX2xvZ1RhZyxcXFwiRGF0YSBmcm9tIGRlbGVnYXRlID4gQWRCcmVha0luZm86IFxcXCIrZy5wb2QpLGcucG9kKX1mdW5jdGlvbiBkKCl7cmV0dXJuIGcuY2hhcHRlcj9nLmNoYXB0ZXI6KGcuY2hhcHRlcj1oLl9kZWxlZ2F0ZS5nZXRDaGFwdGVySW5mbygpLGguX2xvZ2dlci5pbmZvKGguX2xvZ1RhZyxcXFwiRGF0YSBmcm9tIGRlbGVnYXRlID4gQ2hhcHRlckluZm86IFxcXCIrZy5jaGFwdGVyKSxnLmNoYXB0ZXIpfWZ1bmN0aW9uIGUoKXtyZXR1cm4gZy5xb3M/Zy5xb3M6KGcucW9zPWguX2RlbGVnYXRlLmdldFFvU0luZm8oKSxoLl9sb2dnZXIuaW5mbyhoLl9sb2dUYWcsXFxcIkRhdGEgZnJvbSBkZWxlZ2F0ZSA+IFFvU0luZm86IFxcXCIrZy5xb3MpLGcucW9zKX12YXIgZj17fSxnPXt9LGg9dGhpcztmW1xcXCJ2aWRlby5pZFxcXCJdPWZ1bmN0aW9uKCl7dmFyIGI9YSgpLGM9Yj9iLmlkOm51bGw7cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyB2aWRlby5pZDogXFxcIitjKSxjfSxmW1xcXCJ2aWRlby5uYW1lXFxcIl09ZnVuY3Rpb24oKXt2YXIgYj1hKCksYz1iP2IubmFtZTpudWxsO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgdmlkZW8ubmFtZTogXFxcIitjKSxjfSxmW1xcXCJ2aWRlby5sZW5ndGhcXFwiXT1mdW5jdGlvbigpe3ZhciBiPWEoKSxjPWI/Yi5sZW5ndGg6TmFOO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgdmlkZW8ubGVuZ3RoOiBcXFwiK2MpLGN9LGZbXFxcInZpZGVvLnBsYXllck5hbWVcXFwiXT1mdW5jdGlvbigpe3ZhciBiPWEoKSxjPWI/Yi5wbGF5ZXJOYW1lOm51bGw7cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyB2aWRlby5wbGF5ZXJOYW1lOiBcXFwiK2MpLGN9LGZbXFxcInZpZGVvLnN0cmVhbVR5cGVcXFwiXT1mdW5jdGlvbigpe3ZhciBiPWEoKSxjPWI/Yi5zdHJlYW1UeXBlOm51bGw7cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyB2aWRlby5zdHJlYW1UeXBlOiBcXFwiK2MpLGN9LGZbXFxcInZpZGVvLnBsYXloZWFkXFxcIl09ZnVuY3Rpb24oKXt2YXIgYj1hKCksYz1iP2IucGxheWhlYWQ6TmFOO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgdmlkZW8ucGxheWhlYWQ6IFxcXCIrYyksY30sZltcXFwidmlkZW8ucmVzdW1lZFxcXCJdPWZ1bmN0aW9uKCl7dmFyIGI9YSgpLGM9ISFiJiZiLnJlc3VtZWQ7cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyB2aWRlby5yZXN1bWVkOiBcXFwiK2MpLGN9LGZbXFxcInZpZGVvLnBsYXloZWFkU3RhbGxlZFxcXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXloZWFkU3RhbGxlZH0sZltcXFwicG9kLm5hbWVcXFwiXT1mdW5jdGlvbigpe3ZhciBhPWMoKSxiPWE/YS5uYW1lOm51bGw7cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyBwb2QubmFtZTogXFxcIitiKSxifSxmW1xcXCJwb2QucGxheWVyTmFtZVxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9YygpLGI9YT9hLnBsYXllck5hbWU6bnVsbDtyZXR1cm4gaC5fbG9nZ2VyLmRlYnVnKGguX2xvZ1RhZyxcXFwiUmVzb2x2aW5nIHBvZC5wbGF5ZXJOYW1lOiBcXFwiK2IpLGJ9LGZbXFxcInBvZC5wb3NpdGlvblxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9YygpLGI9YT9hLnBvc2l0aW9uOk5hTjtyZXR1cm4gaC5fbG9nZ2VyLmRlYnVnKGguX2xvZ1RhZyxcXFwiUmVzb2x2aW5nIHBvZC5wb3NpdGlvbjogXFxcIitiKSxifSxmW1xcXCJwb2Quc3RhcnRUaW1lXFxcIl09ZnVuY3Rpb24oKXt2YXIgYT1jKCksYj1hP2Euc3RhcnRUaW1lOk5hTjtyZXR1cm4gaC5fbG9nZ2VyLmRlYnVnKGguX2xvZ1RhZyxcXFwiUmVzb2x2aW5nIHBvZC5zdGFydFRpbWU6IFxcXCIrYiksYn0sZltcXFwiYWQuaXNJbkFkXFxcIl09ZnVuY3Rpb24oKXt2YXIgYT1iKCksYz1udWxsIT1hO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgYWQuaXNJbkFkOiBcXFwiK2MpLGN9LGZbXFxcImFkLmlzSW5BZEJyZWFrXFxcIl09ZnVuY3Rpb24oKXt2YXIgYT1jKCksYj1udWxsIT1hO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgYWQuaXNJbkFkQnJlYWs6IFxcXCIrYiksYn0sZltcXFwiYWQuaWRcXFwiXT1mdW5jdGlvbigpe3ZhciBhPWIoKSxjPWE/YS5pZDpudWxsO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgYWQuaWQ6IFxcXCIrYyksY30sZltcXFwiYWQubmFtZVxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9YigpLGM9YT9hLm5hbWU6bnVsbDtyZXR1cm4gaC5fbG9nZ2VyLmRlYnVnKGguX2xvZ1RhZyxcXFwiUmVzb2x2aW5nIGFkLm5hbWU6IFxcXCIrYyksY30sZltcXFwiYWQubGVuZ3RoXFxcIl09ZnVuY3Rpb24oKXt2YXIgYT1iKCksYz1hP2EubGVuZ3RoOk5hTjtyZXR1cm4gaC5fbG9nZ2VyLmRlYnVnKGguX2xvZ1RhZyxcXFwiUmVzb2x2aW5nIGFkLmxlbmd0aDogXFxcIitjKSxjfSxmW1xcXCJhZC5wb3NpdGlvblxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9YigpLGM9YT9hLnBvc2l0aW9uOk5hTjtyZXR1cm4gaC5fbG9nZ2VyLmRlYnVnKGguX2xvZ1RhZyxcXFwiUmVzb2x2aW5nIGFkLnBvc2l0aW9uOiBcXFwiK2MpLGN9LGZbXFxcImNoYXB0ZXIuaXNJbkNoYXB0ZXJcXFwiXT1mdW5jdGlvbigpe3ZhciBhPWQoKSxiPW51bGwhPWE7cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyBjaGFwdGVyLmlzSW5DaGFwdGVyOiBcXFwiK2IpLGJ9LGZbXFxcImNoYXB0ZXIubmFtZVxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9ZCgpLGI9YT9hLm5hbWU6bnVsbDtyZXR1cm4gaC5fbG9nZ2VyLmRlYnVnKGguX2xvZ1RhZyxcXFwiUmVzb2x2aW5nIGNoYXB0ZXIubmFtZTogXFxcIitiKSxifSxmW1xcXCJjaGFwdGVyLmxlbmd0aFxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9ZCgpLGI9YT9hLmxlbmd0aDpOYU47cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyBjaGFwdGVyLmxlbmd0aDogXFxcIitiKSxifSxmW1xcXCJjaGFwdGVyLnBvc2l0aW9uXFxcIl09ZnVuY3Rpb24oKXt2YXIgYT1kKCksYj1hP2EucG9zaXRpb246TmFOO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgY2hhcHRlci5wb3NpdGlvbjogXFxcIitiKSxifSxmW1xcXCJjaGFwdGVyLnN0YXJ0VGltZVxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9ZCgpLGI9YT9hLnN0YXJ0VGltZTpOYU47cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyBjaGFwdGVyLnN0YXJ0VGltZTogXFxcIitiKSxifSxmW1xcXCJxb3MuYml0cmF0ZVxcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9ZSgpLGI9YT9hLmJpdHJhdGU6TmFOO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgcW9zLmJpdHJhdGU6IFxcXCIrYiksYn0sZltcXFwicW9zLmZwc1xcXCJdPWZ1bmN0aW9uKCl7dmFyIGE9ZSgpLGI9YT9hLmZwczpOYU47cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyBxb3MuZnBzOiBcXFwiK2IpLGJ9LGZbXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIl09ZnVuY3Rpb24oKXt2YXIgYT1lKCksYj1hP2EuZHJvcHBlZEZyYW1lczpOYU47cmV0dXJuIGguX2xvZ2dlci5kZWJ1ZyhoLl9sb2dUYWcsXFxcIlJlc29sdmluZyBxb3MuZHJvcHBlZEZyYW1lczogXFxcIitiKSxifSxmW1xcXCJxb3Muc3RhcnR1cFRpbWVcXFwiXT1mdW5jdGlvbigpe3ZhciBhPWUoKSxiPWE/MWUzKmEuc3RhcnR1cFRpbWU6TmFOO3JldHVybiBoLl9sb2dnZXIuZGVidWcoaC5fbG9nVGFnLFxcXCJSZXNvbHZpbmcgcW9zLnN0YXJ0dXBUaW1lOiBcXFwiK2IpLGJ9LHRoaXMuX2RhdGFSZXNvbHZlcj1mdW5jdGlvbihhKXtpZighYXx8MD09YS5sZW5ndGgpcmV0dXJuIG51bGw7Zz17fTtmb3IodmFyIGI9bnVsbCxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY107Yj1ifHx7fSxiW2RdPWYuaGFzT3duUHJvcGVydHkoZCk/ZltkXS5jYWxsKHRoaXMpOm51bGx9cmV0dXJuIGJ9fSxjLnByb3RvdHlwZS5fdHJhY2tQbGF5aGVhZFN0YWxsPWZ1bmN0aW9uKCl7dGhpcy5fY2FuUHJvY2VzcygpJiYodGhpcy5fcGxheWhlYWRTdGFsbGVkfHwodGhpcy5fbG9nZ2VyLmluZm8odGhpcy5fbG9nVGFnLFxcXCIjX3RyYWNrUGxheWhlYWRTdGFsbCgpXFxcIiksdGhpcy5fc3RhbGxlZFBsYXloZWFkQ291bnQ9MCx0aGlzLl9wbGF5aGVhZFN0YWxsZWQ9ITAsdGhpcy5fdHJpZ2dlcih0KSkpfSxjLnByb3RvdHlwZS5fdHJhY2tFeGl0U3RhbGw9ZnVuY3Rpb24oKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl9zdGFsbGVkUGxheWhlYWRDb3VudD0wLHRoaXMuX3BsYXloZWFkU3RhbGxlZCYmKHRoaXMuX2xvZ2dlci5pbmZvKHRoaXMuX2xvZ1RhZyxcXFwiI190cmFja0V4aXRTdGFsbCgpXFxcIiksdGhpcy5fcGxheWhlYWRTdGFsbGVkPSExLHRoaXMuX3RyaWdnZXIocykpKX0sYy5wcm90b3R5cGUuX3N0YXJ0UGxheWhlYWRUaW1lcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5fcGxheWhlYWRUaW1lcnx8KHRoaXMuX3BsYXloZWFkVGltZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihhLl9jYW5Qcm9jZXNzKCkpe3ZhciBiPWEuX2RhdGFSZXNvbHZlcihbXFxcImFkLmlzSW5BZFxcXCIsXFxcInZpZGVvLnBsYXloZWFkXFxcIl0pO2lmKGEuX2lzVHJhY2tpbmdBZClhLl9wbGF5aGVhZFN0YWxsZWQmJmEuX3RyYWNrRXhpdFN0YWxsKCksYi5oYXNPd25Qcm9wZXJ0eShcXFwiYWQuaXNJbkFkXFxcIikmJiFiW1xcXCJhZC5pc0luQWRcXFwiXSYmKGEuX2lzVHJhY2tpbmdBZD0hMSk7ZWxzZXt2YXIgYz1iW1xcXCJ2aWRlby5wbGF5aGVhZFxcXCJdO2MhPWEuX3ByZXZpb3VzUGxheWhlYWQ/YS5fdHJhY2tFeGl0U3RhbGwoKTphLl9wcmV2aW91c1BsYXloZWFkPj0wJiZjPT1hLl9wcmV2aW91c1BsYXloZWFkJiYoYS5fc3RhbGxlZFBsYXloZWFkQ291bnQrKyxhLl9zdGFsbGVkUGxheWhlYWRDb3VudD09TCYmYS5fdHJhY2tQbGF5aGVhZFN0YWxsKCkpLGEuX3ByZXZpb3VzUGxheWhlYWQ9Y319fSxLKSl9LGMucHJvdG90eXBlLl9zdG9wUGxheWhlYWRUaW1lcj1mdW5jdGlvbigpe3RoaXMuX3BsYXloZWFkVGltZXImJihjbGVhckludGVydmFsKHRoaXMuX3BsYXloZWFkVGltZXIpLHRoaXMuX3BsYXloZWFkVGltZXI9bnVsbCksdGhpcy5fdHJhY2tFeGl0U3RhbGwoKX0sYy5wcm90b3R5cGUuX3N0YXJ0U2Vzc2lvbklmTmVlZGVkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZT8odGhpcy5faXNUcmFja2luZ1Nlc3Npb25TdGFydGVkfHwodGhpcy5fbG9nZ2VyLmluZm8odGhpcy5fbG9nVGFnLFxcXCIjXFxcIithK1xcXCIoKSA+IFRyYWNraW5nIHNlc3Npb24gYXV0by1zdGFydC5cXFwiKSx0aGlzLnRyYWNrU2Vzc2lvblN0YXJ0KCkpLCEwKToodGhpcy5fbG9nZ2VyLndhcm4odGhpcy5fbG9nVGFnLFxcXCIjXFxcIithK1xcXCIoKSA+IE5vIGFjdGl2ZSB0cmFja2luZyBzZXNzaW9uLlxcXCIpLCExKX07dmFyIGg9XFxcInBsYXllclxcXCIsaT1oLGo9XFxcImFkb2JlLWhlYXJ0YmVhdFxcXCIsaz1cXFwic291cmNlRXJyb3JFeHRlcm5hbFxcXCIsbD1cXFwic291cmNlRXJyb3JTREtcXFwiLG09XFxcInZpZGVvX2xvYWRcXFwiLG49XFxcInZpZGVvX3VubG9hZFxcXCIsbz1cXFwidmlkZW9fc3RhcnRcXFwiLHA9XFxcInZpZGVvX3Jlc3VtZVxcXCIscT1cXFwidmlkZW9fY29tcGxldGVcXFwiLHI9XFxcInRpbWVkX21ldGFkYXRhXFxcIixzPVxcXCJwbGF5XFxcIix0PVxcXCJwYXVzZVxcXCIsdT1cXFwiYWRfc3RhcnRcXFwiLHY9XFxcImFkX2NvbXBsZXRlXFxcIix3PVxcXCJidWZmZXJfc3RhcnRcXFwiLHg9XFxcImJ1ZmZlcl9jb21wbGV0ZVxcXCIseT1cXFwic2Vla19zdGFydFxcXCIsej1cXFwic2Vla19jb21wbGV0ZVxcXCIsQT1cXFwiY2hhcHRlcl9zdGFydFxcXCIsQj1cXFwiY2hhcHRlcl9jb21wbGV0ZVxcXCIsQz1cXFwiYml0cmF0ZV9jaGFuZ2VcXFwiLEQ9XFxcInRyYWNrX2Vycm9yXFxcIixFPVxcXCJ2aWRlb19pZGxlX3N0YXJ0XFxcIixGPVxcXCJ2aWRlb19pZGxlX3Jlc3VtZVxcXCIsRz1cXFwiY2FsbGJhY2tcXFwiLEg9XFxcImZpbHRlcl9yZXBvcnRcXFwiLEk9XFxcInNvdXJjZVxcXCIsSj1cXFwiZXJyb3JfaWRcXFwiLEs9MTAwMSxMPTI7Yi5WaWRlb1BsYXllclBsdWdpbj1jfShhLkFEQi5jb3JlLGIpLGEuQURCLnZhLnBsdWdpbnMudmlkZW9wbGF5ZXJ8fChhLkFEQi52YS5wbHVnaW5zLnZpZGVvcGxheWVyPWIpfSh0aGlzKTtcXG5cXG4vLyBBZG9iZUhlYXJ0YmVhdFBsdWdpblxcbiFmdW5jdGlvbihhKXtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGIpdmFyIGI9e307Yi5jbG9ja3x8KGIuY2xvY2s9e30pLGIuY29udGV4dHx8KGIuY29udGV4dD17fSksYi5maWx0ZXJ8fChiLmZpbHRlcj17fSksYi5tb2RlbHx8KGIubW9kZWw9e30pLGIubmV0d29ya3x8KGIubmV0d29yaz17fSksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYyhhLGIsYyxkLGUpe2lmKCFiKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBjaGFubmVsIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO2lmKHRoaXMuX2NoYW5uZWw9YiwhYSl0aHJvdyBuZXcgRXJyb3IoXFxcIlJlZmVyZW5jZSB0byB0aGUgcGx1Z2luTWFuYWdlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTtpZih0aGlzLl9wbHVnaW5NYW5hZ2VyPWEsIWUpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGxvZ2dlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTt0aGlzLl9sb2dUYWc9XFxcImFoOjpUaW1lci5cXFwiK2MsdGhpcy5fbG9nZ2VyPWUsdGhpcy5faXNEZXN0cm95ZWQ9ITEsdGhpcy5fY3JlYXRlVGltZXIoYyxkKSx0aGlzLl9pbnN0YWxsSGFuZGxlcnMoKX12YXIgZD1hLkV2ZW50O2MuS0VZX05BTUU9XFxcIm5hbWVcXFwiLGMuS0VZX0lOVEVSVkFMPVxcXCJpbnRlcnZhbFxcXCIsYy5LRVlfUkVTRVQ9XFxcInJlc2V0XFxcIixjLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oYSl7dGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiU3RhcnRpbmcgdGltZXI6IFxcXCIrdGhpcy5fbmFtZSk7dmFyIGI9e307YltjLktFWV9OQU1FXT1lK1xcXCIuXFxcIit0aGlzLl9uYW1lLGJbYy5LRVlfUkVTRVRdPWEsdGhpcy5fcGx1Z2luTWFuYWdlci5jb21tYW5kKGYsaSxiKX0sYy5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oYSl7dGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiU3RvcHBpbmcgdGltZXI6IFxcXCIrdGhpcy5fbmFtZSk7dmFyIGI9e307YltjLktFWV9OQU1FXT1lK1xcXCIuXFxcIit0aGlzLl9uYW1lLGJbYy5LRVlfUkVTRVRdPWEsdGhpcy5fcGx1Z2luTWFuYWdlci5jb21tYW5kKGYsaCxiKX0sYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc0Rlc3Ryb3llZCl7dGhpcy5faXNEZXN0cm95ZWQ9ITAsdGhpcy5fdW5pbnN0YWxsSGFuZGxlcnMoKTt2YXIgYT17fTthW2MuS0VZX05BTUVdPWUrXFxcIi5cXFwiK3RoaXMuX25hbWUsdGhpcy5fcGx1Z2luTWFuYWdlci5jb21tYW5kKGYsaixhKX19LGMucHJvdG90eXBlLnNldEludGVydmFsPWZ1bmN0aW9uKGEpe3ZhciBiPWsrXFxcIi5cXFwiK2UrXFxcIi5cXFwiK3RoaXMuX25hbWUsYz10aGlzLl9wbHVnaW5NYW5hZ2VyLnJlcXVlc3QoZixbYl0pW2JdO3RoaXMucGF1c2UoITApLHRoaXMuX2NyZWF0ZVRpbWVyKHRoaXMuX25hbWUsYSksY3x8dGhpcy5yZXN1bWUoITApfSxjLnByb3RvdHlwZS5fY21kUmVzdW1lPWZ1bmN0aW9uKGEpe3ZhciBiPSExO251bGwhPWEmJmEuaGFzT3duUHJvcGVydHkoYy5LRVlfUkVTRVQpJiYoYj1hW2MuS0VZX1JFU0VUXSksdGhpcy5yZXN1bWUoYil9LGMucHJvdG90eXBlLl9jbWRQYXVzZT1mdW5jdGlvbihhKXt2YXIgYj0hMTtudWxsIT1hJiZhLmhhc093blByb3BlcnR5KGMuS0VZX1JFU0VUKSYmKGI9YVtjLktFWV9SRVNFVF0pLHRoaXMucGF1c2UoYil9LGMucHJvdG90eXBlLl9vblRpY2s9ZnVuY3Rpb24oYSxiKXt0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGQoXFxcImNsb2NrOlxcXCIrdGhpcy5fbmFtZStcXFwiLnRpY2tcXFwiLGIpKX0sYy5wcm90b3R5cGUuX2luc3RhbGxIYW5kbGVycz1mdW5jdGlvbigpe3RoaXMuX2NoYW5uZWwuY29tcGx5KFxcXCJjbG9jazpcXFwiK3RoaXMuX25hbWUrXFxcIi5yZXN1bWVcXFwiLHRoaXMuX2NtZFJlc3VtZSx0aGlzKSx0aGlzLl9jaGFubmVsLmNvbXBseShcXFwiY2xvY2s6XFxcIit0aGlzLl9uYW1lK1xcXCIucGF1c2VcXFwiLHRoaXMuX2NtZFBhdXNlLHRoaXMpLHRoaXMuX3BsdWdpbk1hbmFnZXIub24oZixlK1xcXCIuXFxcIit0aGlzLl9uYW1lK1xcXCIudGlja1xcXCIsdGhpcy5fb25UaWNrLHRoaXMpfSxjLnByb3RvdHlwZS5fdW5pbnN0YWxsSGFuZGxlcnM9ZnVuY3Rpb24oKXt0aGlzLl9jaGFubmVsLm9mZihudWxsLG51bGwsdGhpcyksdGhpcy5fcGx1Z2luTWFuYWdlci5vZmYobnVsbCxudWxsLG51bGwsdGhpcyl9LGMucHJvdG90eXBlLl9jcmVhdGVUaW1lcj1mdW5jdGlvbihhLGIpe3RoaXMuX25hbWU9YSx0aGlzLl9pbnRlcnZhbD1iO3ZhciBkPXt9O2RbYy5LRVlfTkFNRV09ZStcXFwiLlxcXCIrdGhpcy5fbmFtZSxkW2MuS0VZX0lOVEVSVkFMXT10aGlzLl9pbnRlcnZhbCx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbW1hbmQoZixnLGQpfTt2YXIgZT1cXFwiaGVhcnRiZWF0XFxcIixmPVxcXCJzZXJ2aWNlLmNsb2NrXFxcIixnPVxcXCJjcmVhdGVcXFwiLGg9XFxcInBhdXNlXFxcIixpPVxcXCJyZXN1bWVcXFwiLGo9XFxcImRlc3Ryb3lcXFwiLGs9XFxcImlzX3BhdXNlZFxcXCI7Yi5jbG9jay5UaW1lcj1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiLGQpe2MuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIsZixoLGQpfXZhciBkPWEuRXZlbnQsZT1iLmNsb2NrLlRpbWVyO2EuZXh0ZW5kKGMsZSksYy5wcm90b3R5cGUuX29uQ2hlY2tTdGF0dXNDb21wbGV0ZT1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFbbF07aWYodGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI19vbkNoZWNrU3RhdHVzQ29tcGxldGUoaW50ZXJ2YWw9XFxcIitiK1xcXCIpXFxcIiksYil7aWYoYj09dGhpcy5faW50ZXJ2YWwpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI19vbkNoZWNrU3RhdHVzQ29tcGxldGUoKSA+IEludGVydmFsIHZhbHVlIG5vdCBjaGFuZ2VkLlxcXCIpO2I+Zz8odGhpcy5fbG9nZ2VyLndhcm4odGhpcy5fbG9nVGFnLFxcXCIjX29uQ2hlY2tTdGF0dXNDb21wbGV0ZSgpID4gSW50ZXJ2YWwgdmFsdWUgdG9vIGxhcmdlOiBcXFwiK2IpLHRoaXMuc2V0SW50ZXJ2YWwoZykpOih0aGlzLl9sb2dnZXIuZGVidWcodGhpcy5fbG9nVGFnLFxcXCIjX29uQ2hlY2tTdGF0dXNDb21wbGV0ZSgpID4gSW50ZXJ2YWwgY2hhbmdlZCB0bzogXFxcIitiKSx0aGlzLnNldEludGVydmFsKGIpKX1lbHNlIHRoaXMuX2xvZ2dlci53YXJuKHRoaXMuX2xvZ1RhZyxcXFwiI19vbkNoZWNrU3RhdHVzQ29tcGxldGUoKSA+IEludmFsaWQgaW50ZXJ2YWwgdmFsdWUuXFxcIiksdGhpcy5zZXRJbnRlcnZhbChoKX0sYy5wcm90b3R5cGUuX2dldFNldHRpbmdzPWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5kZWJ1Zyh0aGlzLl9sb2dUYWcsXFxcIiNfZ2V0U2V0dGluZ3MoKVxcXCIpLHRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZChpKSl9LGMucHJvdG90eXBlLl9pbnN0YWxsSGFuZGxlcnM9ZnVuY3Rpb24oKXtjLl9fc3VwZXJfXy5faW5zdGFsbEhhbmRsZXJzLmNhbGwodGhpcyksdGhpcy5fY2hhbm5lbC5vbihqLHRoaXMuX2dldFNldHRpbmdzLHRoaXMpLHRoaXMuX2NoYW5uZWwub24oayx0aGlzLl9vbkNoZWNrU3RhdHVzQ29tcGxldGUsdGhpcyksdGhpcy5fY2hhbm5lbC5yZXBseShsLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVydmFsfSx0aGlzKX07dmFyIGY9XFxcImNoZWNrX3N0YXR1c1xcXCIsZz02MDAsaD02MCxpPVxcXCJjbG9jazpjaGVja19zdGF0dXMudGlja1xcXCIsaj1cXFwiY2xvY2s6Y2hlY2tfc3RhdHVzLmdldF9zZXR0aW5nc1xcXCIsaz1cXFwibmV0OmNoZWNrX3N0YXR1c19jb21wbGV0ZVxcXCIsbD1cXFwiY2hlY2tfc3RhdHVzX2ludGVydmFsXFxcIjtiLmNsb2NrLkNoZWNrU3RhdHVzVGltZXI9Y30oYS5BREIuY29yZSxiKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKGEsYixkKXtjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSxiLGUsZixkKX12YXIgZD1iLmNsb2NrLlRpbWVyO2EuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuX29uQ2hlY2tTdGF0dXNDb21wbGV0ZT1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFbZ107aWYodGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI19vbkNoZWNrU3RhdHVzQ29tcGxldGUoaW50ZXJ2YWw9XFxcIitiK1xcXCIpXFxcIiksYil7aWYoYj09dGhpcy5faW50ZXJ2YWwpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI19vbkNoZWNrU3RhdHVzQ29tcGxldGUoKSA+IEludGVydmFsIHZhbHVlIG5vdCBjaGFuZ2VkLlxcXCIpO3RoaXMuX2xvZ2dlci5kZWJ1Zyh0aGlzLl9sb2dUYWcsXFxcIiNfb25DaGVja1N0YXR1c0NvbXBsZXRlKCkgPiBJbnRlcnZhbCBjaGFuZ2VkIHRvOiBcXFwiK2IpLHRoaXMuc2V0SW50ZXJ2YWwoYil9ZWxzZSB0aGlzLl9sb2dnZXIud2Fybih0aGlzLl9sb2dUYWcsXFxcIiNfb25DaGVja1N0YXR1c0NvbXBsZXRlKCkgPiBJbnZhbGlkIGludGVydmFsIHZhbHVlLlxcXCIpLHRoaXMuc2V0SW50ZXJ2YWwoZil9LGMucHJvdG90eXBlLl9pbnN0YWxsSGFuZGxlcnM9ZnVuY3Rpb24oKXtjLl9fc3VwZXJfXy5faW5zdGFsbEhhbmRsZXJzLmNhbGwodGhpcyksdGhpcy5fY2hhbm5lbC5vbihoLHRoaXMuX29uQ2hlY2tTdGF0dXNDb21wbGV0ZSx0aGlzKSx0aGlzLl9jaGFubmVsLnJlcGx5KGcsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJ2YWx9LHRoaXMpfTt2YXIgZT1cXFwicmVwb3J0aW5nXFxcIixmPTEwLGc9XFxcInJlcG9ydGluZ19pbnRlcnZhbFxcXCIsaD1cXFwibmV0OmNoZWNrX3N0YXR1c19jb21wbGV0ZVxcXCI7Yi5jbG9jay5SZXBvcnRpbmdUaW1lcj1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiLGQpe2MuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIsZSxmLGQpfXZhciBkPWIuY2xvY2suVGltZXI7YS5leHRlbmQoYyxkKTt2YXIgZT1cXFwiaWRsZVxcXCIsZj0xODAwO2IuY2xvY2suSWRsZVRpbWVyPWN9KGEuQURCLmNvcmUsYiksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYyhhLGIsZCl7Yy5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYixlLGYsZCl9dmFyIGQ9Yi5jbG9jay5UaW1lcjthLmV4dGVuZChjLGQpO3ZhciBlPVxcXCJmbHVzaF9maWx0ZXJcXFwiLGY9LjI1O2IuY2xvY2suRmx1c2hGaWx0ZXJUaW1lcj1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiLGMpe2lmKCFhKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBwbHVnaW5NYW5hZ2VyIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO2lmKCFiKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBjaGFubmVsIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO2lmKCFjKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBsb2dnZXIgb2JqZWN0IGNhbm5vdCBiZSBOVUxMXFxcIik7dGhpcy5faXNEZXN0cm95ZWQ9ITEsdGhpcy5fcmVwb3J0aW5nVGltZXI9bmV3IGYoYSxiLGMpLHRoaXMuX2NoZWNrU3RhdHVzVGltZXI9bmV3IGQoYSxiLGMpLHRoaXMuX2ZsdXNoRmlsdGVyVGltZXI9bmV3IGUoYSxiLGMpLHRoaXMuX2lkbGVUaW1lcj1uZXcgZyhhLGIsYyl9dmFyIGQ9Yi5jbG9jay5DaGVja1N0YXR1c1RpbWVyLGU9Yi5jbG9jay5GbHVzaEZpbHRlclRpbWVyLGY9Yi5jbG9jay5SZXBvcnRpbmdUaW1lcixnPWIuY2xvY2suSWRsZVRpbWVyO2MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9pc0Rlc3Ryb3llZHx8KHRoaXMuX2lzRGVzdHJveWVkPSEwLHRoaXMuX3JlcG9ydGluZ1RpbWVyLmRlc3Ryb3koKSx0aGlzLl9jaGVja1N0YXR1c1RpbWVyLmRlc3Ryb3koKSx0aGlzLl9mbHVzaEZpbHRlclRpbWVyLmRlc3Ryb3koKSx0aGlzLl9pZGxlVGltZXIuZGVzdHJveSgpKX0sYi5jbG9jay5DbG9jaz1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiKXt0aGlzLnZhbHVlPWEsdGhpcy5oaW50PWJ9ZnVuY3Rpb24gZChhKXt0aGlzLnJlYWxtPWEsdGhpcy5kYXRhPXt9fWMuSElOVF9TSE9SVD1cXFwic2hvcnRcXFwiLGQucHJvdG90eXBlLnNldEZpZWxkPWZ1bmN0aW9uKGEsYixkKXt0aGlzLmRhdGFbYV09bmV3IGMoYixkKX0sZC5wcm90b3R5cGUuX2NyZWF0ZUFjY2Vzc29yPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoZFthXT1hcmd1bWVudHNbMF0sZC5zZXRGaWVsZChiLGFyZ3VtZW50c1swXSxjKSksZFthXX19LGIubW9kZWwuRGFvPWQsYi5tb2RlbC5EYW9GaWVsZD1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoKXtpZihjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsXFxcImFzc2V0XFxcIiksdGhpcy5hZElkPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfYWRJZFxcXCIsXFxcImFkX2lkXFxcIixudWxsKSx0aGlzLnNpZD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3NpZFxcXCIsXFxcImFkX3NpZFxcXCIsbnVsbCksdGhpcy5yZXNvbHZlcj10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3Jlc29sdmVyXFxcIixcXFwicmVzb2x2ZXJcXFwiLG51bGwpLHRoaXMucG9kSWQ9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9wb2RJZFxcXCIsXFxcInBvZF9pZFxcXCIsbnVsbCksdGhpcy5wb2RQb3NpdGlvbj10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3BvZFBvc2l0aW9uXFxcIixcXFwicG9kX3Bvc2l0aW9uXFxcIixudWxsKSx0aGlzLnBvZE9mZnNldD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3BvZE9mZnNldFxcXCIsXFxcInBvZF9vZmZzZXRcXFwiLG51bGwpLHRoaXMucG9kTmFtZT10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3BvZE5hbWVcXFwiLFxcXCJwb2RfbmFtZVxcXCIsbnVsbCksdGhpcy5hZExlbmd0aD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2FkTGVuZ3RoXFxcIixcXFwiYWRfbGVuZ3RoXFxcIixudWxsKSx0aGlzLmFkTmFtZT10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2FkTmFtZVxcXCIsXFxcImFkX25hbWVcXFwiLG51bGwpLGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgYyl7dmFyIGE9YXJndW1lbnRzWzBdO3RoaXMuYWRJZChhLmFkSWQoKSksdGhpcy5zaWQoYS5zaWQoKSksdGhpcy5yZXNvbHZlcihhLnJlc29sdmVyKCkpLHRoaXMucG9kSWQoYS5wb2RJZCgpKSx0aGlzLnBvZFBvc2l0aW9uKGEucG9kUG9zaXRpb24oKSksdGhpcy5wb2RPZmZzZXQoYS5wb2RPZmZzZXQoKSksdGhpcy5wb2ROYW1lKGEucG9kTmFtZSgpKSx0aGlzLmFkTGVuZ3RoKGEuYWRMZW5ndGgoKSksdGhpcy5hZE5hbWUoYS5hZE5hbWUoKSl9ZWxzZSB0aGlzLmFkSWQoXFxcIlxcXCIpLHRoaXMuc2lkKFxcXCJcXFwiKSx0aGlzLnJlc29sdmVyKFxcXCJcXFwiKSx0aGlzLnBvZElkKFxcXCJcXFwiKSx0aGlzLnBvZFBvc2l0aW9uKFxcXCJcXFwiKSx0aGlzLnBvZE9mZnNldCgwKSx0aGlzLnBvZE5hbWUoXFxcIlxcXCIpLHRoaXMuYWRMZW5ndGgoMCksdGhpcy5hZE5hbWUoXFxcIlxcXCIpfXZhciBkPWIubW9kZWwuRGFvO2EuZXh0ZW5kKGMsZCksYi5tb2RlbC5BZERhbz1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoKXtpZihjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsXFxcInNjXFxcIiksdGhpcy5yZXBvcnRTdWl0ZUlkPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfcmVwb3J0U3VpdGVJZFxcXCIsXFxcInJzaWRcXFwiLG51bGwpLHRoaXMudHJhY2tpbmdTZXJ2ZXI9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl90cmFja2luZ1NlcnZlclxcXCIsXFxcInRyYWNraW5nX3NlcnZlclxcXCIsbnVsbCksdGhpcy5zc2w9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9zc2xcXFwiLFxcXCJzc2xcXFwiLGUuSElOVF9TSE9SVCksYXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBjKXt2YXIgYT1hcmd1bWVudHNbMF07dGhpcy5yZXBvcnRTdWl0ZUlkKGEucmVwb3J0U3VpdGVJZCgpKSx0aGlzLnRyYWNraW5nU2VydmVyKGEudHJhY2tpbmdTZXJ2ZXIoKSksdGhpcy5zc2woYS5zc2woKSl9ZWxzZSB0aGlzLnJlcG9ydFN1aXRlSWQoXFxcIlxcXCIpLHRoaXMudHJhY2tpbmdTZXJ2ZXIoXFxcIlxcXCIpLHRoaXMuc3NsKDApfXZhciBkPWIubW9kZWwuRGFvLGU9Yi5tb2RlbC5EYW9GaWVsZDthLmV4dGVuZChjLGQpLGIubW9kZWwuQWRvYmVBbmFseXRpY3NEYW89Y30oYS5BREIuY29yZSxiKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKCl7aWYoYy5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLFxcXCJzdHJlYW1cXFwiKSx0aGlzLmlkPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfaWRcXFwiLFxcXCJjaGFwdGVyX2lkXFxcIixudWxsKSx0aGlzLnNpZD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3NpZFxcXCIsXFxcImNoYXB0ZXJfc2lkXFxcIixudWxsKSx0aGlzLm5hbWU9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9uYW1lXFxcIixcXFwiY2hhcHRlcl9uYW1lXFxcIixudWxsKSx0aGlzLnBvc2l0aW9uPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfcG9zaXRpb25cXFwiLFxcXCJjaGFwdGVyX3Bvc1xcXCIsbnVsbCksdGhpcy5sZW5ndGg9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9sZW5ndGhcXFwiLFxcXCJjaGFwdGVyX2xlbmd0aFxcXCIsbnVsbCksdGhpcy5vZmZzZXQ9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9vZmZzZXRcXFwiLFxcXCJjaGFwdGVyX29mZnNldFxcXCIsbnVsbCksYXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBjKXt2YXIgYT1hcmd1bWVudHNbMF07dGhpcy5pZChhLmlkKCkpLHRoaXMuc2lkKGEuc2lkKCkpLHRoaXMubmFtZShhLm5hbWUoKSksdGhpcy5wb3NpdGlvbihhLnBvc2l0aW9uKCkpLHRoaXMubGVuZ3RoKGEubGVuZ3RoKCkpLHRoaXMub2Zmc2V0KGEub2Zmc2V0KCkpfWVsc2UgdGhpcy5pZChcXFwiXFxcIiksdGhpcy5zaWQoXFxcIlxcXCIpLHRoaXMubmFtZShcXFwiXFxcIiksdGhpcy5wb3NpdGlvbigwKSx0aGlzLmxlbmd0aCgwKSx0aGlzLm9mZnNldCgwKX12YXIgZD1iLm1vZGVsLkRhbzthLmV4dGVuZChjLGQpLGIubW9kZWwuQ2hhcHRlckRhbz1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoKXtpZihjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsXFxcImFzc2V0XFxcIiksdGhpcy50eXBlPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfdHlwZVxcXCIsXFxcInR5cGVcXFwiLG51bGwpLHRoaXMudmlkZW9JZD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3ZpZGVvSWRcXFwiLFxcXCJ2aWRlb19pZFxcXCIsbnVsbCksdGhpcy5wdWJsaXNoZXI9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9wdWJsaXNoZXJcXFwiLFxcXCJwdWJsaXNoZXJcXFwiLG51bGwpLHRoaXMuYWREYXRhPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfYWREYXRhXFxcIixcXFwiYWRfZGF0YVxcXCIsbnVsbCksdGhpcy5jaGFwdGVyRGF0YT10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2NoYXB0ZXJEYXRhXFxcIixcXFwiY2hhcHRlcl9kYXRhXFxcIixudWxsKSx0aGlzLmxlbmd0aD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2xlbmd0aFxcXCIsXFxcImxlbmd0aFxcXCIsbnVsbCksdGhpcy5uYW1lPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfbmFtZVxcXCIsXFxcIm5hbWVcXFwiLG51bGwpLGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgYyl7dmFyIGE9YXJndW1lbnRzWzBdO3RoaXMudHlwZShhLnR5cGUoKSksdGhpcy5uYW1lKGEubmFtZSgpKSx0aGlzLnZpZGVvSWQoYS52aWRlb0lkKCkpLHRoaXMucHVibGlzaGVyKGEucHVibGlzaGVyKCkpLHRoaXMubGVuZ3RoKGEubGVuZ3RoKCkpO3ZhciBiPWEuYWREYXRhKCk/bmV3IGUoYS5hZERhdGEoKSk6bnVsbDt0aGlzLmFkRGF0YShiKTt2YXIgZD1hLmNoYXB0ZXJEYXRhKCk/bmV3IGYoYS5jaGFwdGVyRGF0YSgpKTpudWxsO3RoaXMuY2hhcHRlckRhdGEoZCl9ZWxzZSB0aGlzLnR5cGUoXFxcIlxcXCIpLHRoaXMubmFtZShcXFwiXFxcIiksdGhpcy52aWRlb0lkKFxcXCJcXFwiKSx0aGlzLnB1Ymxpc2hlcihcXFwiXFxcIiksdGhpcy5sZW5ndGgoMCksdGhpcy5hZERhdGEobnVsbCksdGhpcy5jaGFwdGVyRGF0YShudWxsKX12YXIgZD1iLm1vZGVsLkRhbyxlPWIubW9kZWwuQWREYW8sZj1iLm1vZGVsLkNoYXB0ZXJEYW87YS5leHRlbmQoYyxkKSxjLlRZUEVfQUQ9XFxcImFkXFxcIixjLlRZUEVfTUFJTl9DT05URU5UPVxcXCJtYWluXFxcIixiLm1vZGVsLkFzc2V0RGFvPWN9KGEuQURCLmNvcmUsYiksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYygpe2lmKGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxcXFwiZXZlbnRcXFwiKSx0aGlzLnR5cGU9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl90eXBlXFxcIixcXFwidHlwZVxcXCIsbnVsbCksdGhpcy5kdXJhdGlvbj10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2R1cmF0aW9uXFxcIixcXFwiZHVyYXRpb25cXFwiLG51bGwpLHRoaXMucGxheWhlYWQ9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIixudWxsKSx0aGlzLmlkPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfaWRcXFwiLFxcXCJpZFxcXCIsbnVsbCksdGhpcy5zb3VyY2U9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9zb3VyY2VcXFwiLFxcXCJzb3VyY2VcXFwiLG51bGwpLHRoaXMudHM9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl90c1xcXCIsXFxcInRzXFxcIixudWxsKSx0aGlzLnByZXZUcz10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3ByZXZUc1xcXCIsXFxcInByZXZfdHNcXFwiLG51bGwpLGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgYyl7dmFyIGE9YXJndW1lbnRzWzBdO3RoaXMudHlwZShhLnR5cGUoKSksdGhpcy5kdXJhdGlvbihhLmR1cmF0aW9uKCkpLHRoaXMucGxheWhlYWQoYS5wbGF5aGVhZCgpKSx0aGlzLmlkKGEuaWQoKSksdGhpcy5zb3VyY2UoYS5zb3VyY2UoKSksdGhpcy50cyhhLnRzKCkpLHRoaXMucHJldlRzKGEucHJldlRzKCkpfWVsc2UgdGhpcy50eXBlKFxcXCJcXFwiKSx0aGlzLmR1cmF0aW9uKDApLHRoaXMucGxheWhlYWQoMCksdGhpcy5pZChcXFwiXFxcIiksdGhpcy5zb3VyY2UoXFxcIlxcXCIpLHRoaXMudHMoMCksdGhpcy5wcmV2VHMoLTEpfXZhciBkPWIubW9kZWwuRGFvO2EuZXh0ZW5kKGMsZCksYy5FVkVOVF9UWVBFX0FBX1NUQVJUPVxcXCJhYV9zdGFydFxcXCIsYy5FVkVOVF9UWVBFX0FBX0FEX1NUQVJUPVxcXCJhYV9hZF9zdGFydFxcXCIsYy5FVkVOVF9UWVBFX1NUQVJUPVxcXCJzdGFydFxcXCIsYy5FVkVOVF9UWVBFX1JFU1VNRT1cXFwicmVzdW1lXFxcIixjLkVWRU5UX1RZUEVfQ0hBUFRFUl9TVEFSVD1cXFwiY2hhcHRlcl9zdGFydFxcXCIsYy5FVkVOVF9UWVBFX0NIQVBURVJfQ09NUExFVEU9XFxcImNoYXB0ZXJfY29tcGxldGVcXFwiLGMuRVZFTlRfVFlQRV9QTEFZPVxcXCJwbGF5XFxcIixjLkVWRU5UX1RZUEVfUEFVU0U9XFxcInBhdXNlXFxcIixjLkVWRU5UX1RZUEVfU1RBTEw9XFxcInN0YWxsXFxcIixjLkVWRU5UX1RZUEVfQlVGRkVSPVxcXCJidWZmZXJcXFwiLGMuRVZFTlRfVFlQRV9CSVRSQVRFX0NIQU5HRT1cXFwiYml0cmF0ZV9jaGFuZ2VcXFwiLGMuRVZFTlRfVFlQRV9FUlJPUj1cXFwiZXJyb3JcXFwiLGMuRVZFTlRfVFlQRV9DT01QTEVURT1cXFwiY29tcGxldGVcXFwiLGIubW9kZWwuRXZlbnREYW89Y30oYS5BREIuY29yZSxiKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKCl7aWYoYy5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLFxcXCJzdHJlYW1cXFwiKSx0aGlzLmJpdHJhdGU9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIsbnVsbCksdGhpcy5mcHM9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9mcHNcXFwiLFxcXCJmcHNcXFwiLG51bGwpLHRoaXMuZHJvcHBlZEZyYW1lcz10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2Ryb3BwZWRGcmFtZXNcXFwiLFxcXCJkcm9wcGVkX2ZyYW1lc1xcXCIsbnVsbCksdGhpcy5zdGFydHVwVGltZT10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3N0YXJ0dXBfdGltZVxcXCIsXFxcInN0YXJ0dXBfdGltZVxcXCIsbnVsbCksYXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBjKXt2YXIgYT1hcmd1bWVudHNbMF07dGhpcy5iaXRyYXRlKGEuYml0cmF0ZSgpKSx0aGlzLmZwcyhhLmZwcygpKSx0aGlzLmRyb3BwZWRGcmFtZXMoYS5kcm9wcGVkRnJhbWVzKCkpLHRoaXMuc3RhcnR1cFRpbWUoYS5zdGFydHVwVGltZSgpKSx0aGlzLmlzU3RhcnR1cFRpbWVPdmVycmlkZGVuPWEuaXNTdGFydHVwVGltZU92ZXJyaWRkZW59ZWxzZSB0aGlzLmJpdHJhdGUoMCksdGhpcy5mcHMoMCksdGhpcy5kcm9wcGVkRnJhbWVzKDApLHRoaXMuc3RhcnR1cFRpbWUoMCksdGhpcy5pc1N0YXJ0dXBUaW1lT3ZlcnJpZGRlbj0hMX12YXIgZD1iLm1vZGVsLkRhbzthLmV4dGVuZChjLGQpLGIubW9kZWwuUW9TRGFvPWN9KGEuQURCLmNvcmUsYiksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYygpe2lmKGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxcXFwic3BcXFwiKSx0aGlzLm92cD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX292cFxcXCIsXFxcIm92cFxcXCIsbnVsbCksdGhpcy5zZGs9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9zZGtcXFwiLFxcXCJzZGtcXFwiLG51bGwpLHRoaXMuY2hhbm5lbD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2NoYW5uZWxcXFwiLFxcXCJjaGFubmVsXFxcIixudWxsKSx0aGlzLnBsYXllck5hbWU9dGhpcy5fY3JlYXRlQWNjZXNzb3IoXFxcIl9wbGF5ZXJOYW1lXFxcIixcXFwicGxheWVyX25hbWVcXFwiLG51bGwpLHRoaXMubGliVmVyc2lvbj10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2xpYlZlcnNpb25cXFwiLFxcXCJoYl92ZXJzaW9uXFxcIixudWxsKSx0aGlzLmFwaUxldmVsPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfYXBpTGV2ZWxcXFwiLFxcXCJoYl9hcGlfbHZsXFxcIixudWxsKSxhcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGMpe3ZhciBhPWFyZ3VtZW50c1swXTt0aGlzLm92cChhLm92cCgpKSx0aGlzLnNkayhhLnNkaygpKSx0aGlzLmNoYW5uZWwoYS5jaGFubmVsKCkpLHRoaXMucGxheWVyTmFtZShhLnBsYXllck5hbWUoKSksdGhpcy5saWJWZXJzaW9uKGEubGliVmVyc2lvbigpKSx0aGlzLmFwaUxldmVsKGEuYXBpTGV2ZWwoKSl9ZWxzZSB0aGlzLm92cChlKSx0aGlzLnNkayhlKSx0aGlzLmNoYW5uZWwoZSksdGhpcy5wbGF5ZXJOYW1lKFxcXCJcXFwiKSx0aGlzLmxpYlZlcnNpb24oXFxcIlxcXCIpLHRoaXMuYXBpTGV2ZWwoMCl9dmFyIGQ9Yi5tb2RlbC5EYW87YS5leHRlbmQoYyxkKTt2YXIgZT1cXFwidW5rbm93blxcXCI7Yi5tb2RlbC5TZXJ2aWNlUHJvdmlkZXJEYW89Y30oYS5BREIuY29yZSxiKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKCl7aWYoYy5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLFxcXCJldmVudFxcXCIpLHRoaXMuc2Vzc2lvbklkPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfc2Vzc2lvbklkXFxcIixcXFwic2lkXFxcIixudWxsKSxhcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGMpe3ZhciBhPWFyZ3VtZW50c1swXTt0aGlzLnNlc3Npb25JZChhLnNlc3Npb25JZCgpKX1lbHNlIHRoaXMuc2Vzc2lvbklkKG51bGwpfXZhciBkPWIubW9kZWwuRGFvO2EuZXh0ZW5kKGMsZCksYi5tb2RlbC5TZXNzaW9uRGFvPWN9KGEuQURCLmNvcmUsYiksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYygpe2lmKGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxcXFwic3RyZWFtXFxcIiksdGhpcy50eXBlPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfdHlwZVxcXCIsXFxcInR5cGVcXFwiLG51bGwpLGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgYyl7dmFyIGE9YXJndW1lbnRzWzBdO3RoaXMudHlwZShhLnR5cGUoKSl9ZWxzZSB0aGlzLnR5cGUobnVsbCl9dmFyIGQ9Yi5tb2RlbC5EYW87YS5leHRlbmQoYyxkKSxiLm1vZGVsLlN0cmVhbURhbz1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoKXtpZihjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsXFxcInVzZXJcXFwiKSx0aGlzLmFuYWx5dGljc1Zpc2l0b3JJZD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX2FuYWx5dGljc1Zpc2l0b3JJZFxcXCIsXFxcImFpZFxcXCIsbnVsbCksdGhpcy5tYXJrZXRpbmdDbG91ZFZpc2l0b3JJZD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX21hcmtldGluZ0Nsb3VkVmlzaXRvcklkXFxcIixcXFwibWlkXFxcIixudWxsKSx0aGlzLnZpc2l0b3JJZD10aGlzLl9jcmVhdGVBY2Nlc3NvcihcXFwiX3Zpc2l0b3JJZFxcXCIsXFxcImlkXFxcIixudWxsKSxhcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGMpe3ZhciBhPWFyZ3VtZW50c1swXTt0aGlzLmFuYWx5dGljc1Zpc2l0b3JJZChhLmFuYWx5dGljc1Zpc2l0b3JJZCgpKSx0aGlzLm1hcmtldGluZ0Nsb3VkVmlzaXRvcklkKGEubWFya2V0aW5nQ2xvdWRWaXNpdG9ySWQoKSksdGhpcy52aXNpdG9ySWQoYS52aXNpdG9ySWQoKSl9ZWxzZSB0aGlzLmFuYWx5dGljc1Zpc2l0b3JJZChudWxsKSx0aGlzLm1hcmtldGluZ0Nsb3VkVmlzaXRvcklkKG51bGwpLHRoaXMudmlzaXRvcklkKG51bGwpfXZhciBkPWIubW9kZWwuRGFvO2EuZXh0ZW5kKGMsZCksYi5tb2RlbC5Vc2VyRGFvPWN9KGEuQURCLmNvcmUsYiksZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYygpe2lmKGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxcXFwiYWFtXFxcIiksdGhpcy5hdWRpZW5jZU1hbmFnZXJCbG9iPXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfYXVkaWVuY2VNYW5hZ2VyQmxvYlxcXCIsXFxcImJsb2JcXFwiLG51bGwpLHRoaXMuYXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50PXRoaXMuX2NyZWF0ZUFjY2Vzc29yKFxcXCJfYXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50XFxcIixcXFwibG9jX2hpbnRcXFwiLG51bGwpLGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgYyl7dmFyIGE9YXJndW1lbnRzWzBdO3RoaXMuYXVkaWVuY2VNYW5hZ2VyQmxvYihhLmF1ZGllbmNlTWFuYWdlckJsb2IoKSksdGhpcy5hdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQoYS5hdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQoKSl9ZWxzZSB0aGlzLmF1ZGllbmNlTWFuYWdlckJsb2IobnVsbCksdGhpcy5hdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQobnVsbCl9dmFyIGQ9Yi5tb2RlbC5EYW87YS5leHRlbmQoYyxkKSxiLm1vZGVsLkF1ZGllbmNlTWFuYWdlckRhbz1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiLGMsaSxqKXt0aGlzLmV2ZW50RGF0YT1uZXcgZSx0aGlzLmV2ZW50RGF0YS50eXBlKGIpLHRoaXMuZXZlbnREYXRhLmR1cmF0aW9uKDApLHRoaXMuZXZlbnREYXRhLnRzKChuZXcgRGF0ZSkuZ2V0VGltZSgpKSx0aGlzLmV2ZW50RGF0YS5wbGF5aGVhZChjKSx0aGlzLmFzc2V0RGF0YT1uZXcgZihhLl9hc3NldERhdGEpLHRoaXMuc3RyZWFtRGF0YT1uZXcgZyhhLl9zdHJlYW1EYXRhKSx0aGlzLnFvc0RhdGE9bmV3IGgoYS5fcW9zRGF0YSksdGhpcy5jdXNlckRhdGE9ZC5jbG9uZShhLl9jdXNlckRhdGEpLHRoaXMubWV0YT1pLHRoaXMuY2FsbGJhY2s9aix0aGlzLmZpbHRlclJlcG9ydD0hMH12YXIgZD1hLk9iamVjdFV0aWxzLGU9Yi5tb2RlbC5FdmVudERhbyxmPWIubW9kZWwuQXNzZXREYW8sZz1iLm1vZGVsLlN0cmVhbURhbyxoPWIubW9kZWwuUW9TRGFvO2IubW9kZWwuVHJhY2tJdGVtPWN9KGEuQURCLnZhLnV0aWxzLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiLGMsaSxqLGspe3RoaXMuYWRvYmVBbmFseXRpY3NEYXRhPWEsdGhpcy51c2VyRGF0YT1iLHRoaXMuYWFtRGF0YT1jLHRoaXMuc2VydmljZVByb3ZpZGVyRGF0YT1pLHRoaXMuc2Vzc2lvbkRhdGE9aix0aGlzLmV2ZW50RGF0YT1uZXcgZShrLmV2ZW50RGF0YSksdGhpcy5hc3NldERhdGE9bmV3IGYoay5hc3NldERhdGEpLHRoaXMuc3RyZWFtRGF0YT1uZXcgZyhrLnN0cmVhbURhdGEpLHRoaXMucW9zRGF0YT1uZXcgaChrLnFvc0RhdGEpLHRoaXMuY3VzZXJEYXRhPWQuY2xvbmUoay5jdXNlckRhdGEpLHRoaXMubWV0YT1kLmNsb25lKGsubWV0YSksdGhpcy5jYWxsYmFjaz1rLmNhbGxiYWNrLHRoaXMuZmlsdGVyUmVwb3J0PWsuZmlsdGVyUmVwb3J0fXZhciBkPWEuT2JqZWN0VXRpbHMsZT1iLm1vZGVsLkV2ZW50RGFvLGY9Yi5tb2RlbC5Bc3NldERhbyxnPWIubW9kZWwuU3RyZWFtRGFvLGg9Yi5tb2RlbC5Rb1NEYW87Yi5tb2RlbC5DVXNlckRhbztiLm1vZGVsLlJlcG9ydD1jfShhLkFEQi52YS51dGlscyxiKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe31iLnByb3RvdHlwZS5zZXJpYWxpemVSZXBvcnQ9ZnVuY3Rpb24oYSl7fSxiLnByb3RvdHlwZS5zZXJpYWxpemVEYW89ZnVuY3Rpb24oYSl7fSxiLnByb3RvdHlwZS5zZXJpYWxpemVNYXA9ZnVuY3Rpb24oYSl7fSxiLnByb3RvdHlwZS5zZXJpYWxpemVOdW1iZXI9ZnVuY3Rpb24oYSxiLGMsZCl7fSxiLnByb3RvdHlwZS5zZXJpYWxpemVTdHJpbmc9ZnVuY3Rpb24oYSxiLGMsZCl7fSxhLm1vZGVsLklTZXJpYWxpemVyPWJ9KGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGxvZ2dlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTt0aGlzLl9sb2dnZXI9YX12YXIgZD1iLm1vZGVsLkRhbyxlPWIubW9kZWwuRGFvRmllbGQsZj1iLm1vZGVsLklTZXJpYWxpemVyO2EuZXh0ZW5kKGMsZiksYy5wcm90b3R5cGUuc2VyaWFsaXplUmVwb3J0PWZ1bmN0aW9uKGEpe3ZhciBiPVtdO3JldHVybiBiLnB1c2godGhpcy5zZXJpYWxpemVEYW8oYS5hZG9iZUFuYWx5dGljc0RhdGEpKSxiLnB1c2godGhpcy5zZXJpYWxpemVEYW8oYS51c2VyRGF0YSkpLGIucHVzaCh0aGlzLnNlcmlhbGl6ZURhbyhhLmFhbURhdGEpKSxiLnB1c2godGhpcy5zZXJpYWxpemVNYXAoYS5jdXNlckRhdGEsXFxcImN1c2VyXFxcIikpLGIucHVzaCh0aGlzLnNlcmlhbGl6ZURhbyhhLnNlcnZpY2VQcm92aWRlckRhdGEpKSxiLnB1c2godGhpcy5zZXJpYWxpemVEYW8oYS5zZXNzaW9uRGF0YSkpLGIucHVzaCh0aGlzLnNlcmlhbGl6ZURhbyhhLmV2ZW50RGF0YSkpLGIucHVzaCh0aGlzLnNlcmlhbGl6ZURhbyhhLmFzc2V0RGF0YSkpLGIucHVzaCh0aGlzLnNlcmlhbGl6ZURhbyhhLnN0cmVhbURhdGEpKSxiLnB1c2godGhpcy5zZXJpYWxpemVEYW8oYS5xb3NEYXRhKSksYi5wdXNoKHRoaXMuc2VyaWFsaXplTWFwKGEubWV0YSxcXFwibWV0YVxcXCIpKSx7c2VyaWFsaXplZE91dHB1dDpiLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4hIWF9KS5qb2luKFxcXCImXFxcIiksY2FsbGJhY2s6YS5jYWxsYmFja319LGMucHJvdG90eXBlLnNlcmlhbGl6ZURhbz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9wcm9jZXNzRGFvKGEpO3JldHVybiBiLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4hIWF9KS5qb2luKFxcXCImXFxcIil9LGMucHJvdG90eXBlLnNlcmlhbGl6ZU1hcD1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yj9iOlxcXCJtZXRhXFxcIjtmb3IodmFyIGUgaW4gYSlhLmhhc093blByb3BlcnR5KGUpJiZhW2VdJiZjLnB1c2goXFxcInM6XFxcIitkK1xcXCI6XFxcIitlK1xcXCI9XFxcIit3aW5kb3cuZW5jb2RlVVJJQ29tcG9uZW50KGFbZV0pKTtyZXR1cm4gYy5qb2luKFxcXCImXFxcIil9LGMucHJvdG90eXBlLnNlcmlhbGl6ZU51bWJlcj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZj1oO3JldHVybiBudWxsPT1ifHxpc05hTihiKT9udWxsOihkPT09ZS5ISU5UX1NIT1JUJiYoZj1pKSxmK1xcXCI6XFxcIitjK1xcXCI6XFxcIithK1xcXCI9XFxcIitNYXRoLmZsb29yKGIpKX0sYy5wcm90b3R5cGUuc2VyaWFsaXplU3RyaW5nPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiP2orXFxcIjpcXFwiK2MrXFxcIjpcXFwiK2ErXFxcIj1cXFwiK3dpbmRvdy5lbmNvZGVVUklDb21wb25lbnQoYik6bnVsbH0sYy5wcm90b3R5cGUuX3Byb2Nlc3NEYW89ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEuZGF0YSlpZihhLmRhdGEuaGFzT3duUHJvcGVydHkoYykpe3ZhciBlPWEuZGF0YVtjXSxmPWUudmFsdWUsaD1lLmhpbnQsaT1udWxsLGo9YS5yZWFsbTtpZihudWxsPT1mKWNvbnRpbnVlO1xcXCJudW1iZXJcXFwiPT10eXBlb2YgZj9pPXRoaXMuc2VyaWFsaXplTnVtYmVyKGMsZixqLGgpOlxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZj9pPXRoaXMuc2VyaWFsaXplU3RyaW5nKGMsZixqLGgpOmYgaW5zdGFuY2VvZiBkP2k9dGhpcy5zZXJpYWxpemVEYW8oZik6dGhpcy5fbG9nZ2VyLndhcm4oZyxcXFwiI19wcm9jZXNzRGFvKCkgPiBVbmFibGUgdG8gc2VyaWFsaXplIERBTy4gRmllbGQ6IFxcXCIrYytcXFwiLiBWYWx1ZTogXFxcIitmK1xcXCIuXFxcIiksaSYmYi5wdXNoKGkpfXJldHVybiBifTt2YXIgZz1cXFwiYWg6OlF1ZXJ5c3RyaW5nU2VyaWFsaXplclxcXCIsaD1cXFwibFxcXCIsaT1cXFwiaFxcXCIsaj1cXFwic1xcXCI7Yi5tb2RlbC5RdWVyeXN0cmluZ1NlcmlhbGl6ZXI9Y30oYS5BREIuY29yZSxiKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKGEsYil7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGRhdGEgb2JqZWN0IGNhbm5vdCBiZSBOVUxMXFxcIik7aWYodGhpcy5fZGF0YT1hLCFiKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBsb2dnZXIgb2JqZWN0IGNhbm5vdCBiZSBOVUxMXFxcIik7dGhpcy5fbG9nZ2VyPWJ9Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsaSxqO2lmKHdpbmRvdy5ET01QYXJzZXIpe3ZhciBrPW5ldyB3aW5kb3cuRE9NUGFyc2VyO2o9ay5wYXJzZUZyb21TdHJpbmcodGhpcy5fZGF0YSxcXFwidGV4dC94bWxcXFwiKX1lbHNlIGo9bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFxcXCJNaWNyb3NvZnQuWE1MRE9NXFxcIiksai5hc3luYz0hMSxqLmxvYWRYTUwodGhpcy5fZGF0YSk7dmFyIGw7bD1wYXJzZUludChqLmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJ0cmFja2luZ0ludGVydmFsXFxcIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUsMTApLGwmJihhPWwpLGw9cGFyc2VJbnQoai5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwic2V0dXBDaGVja0ludGVydmFsXFxcIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUsMTApLGwmJihiPWwpLGw9cGFyc2VJbnQoai5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwidHJhY2tFeHRlcm5hbEVycm9yc1xcXCIpWzBdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlLDEwKSxsJiYoYz0xPT1sKSxqLmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJuaWVsc2VuRW5hYmxlZFxcXCIpWzBdPyhsPXBhcnNlSW50KGouZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcIm5pZWxzZW5FbmFibGVkXFxcIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUsMTApLGk9MT09bCk6aT0hMDt2YXIgbT17fTtyZXR1cm4gbVtlXT1hLG1bZl09YixtW2ddPWMsbVtoXT1pLHRoaXMuX2xvZ2dlci5kZWJ1ZyhkLFxcXCIjcGFyc2UoKSA+IE9idGFpbmVkIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuXFxcIiksbX07dmFyIGQ9XFxcImFoOjpTZXR0aW5nc1BhcnNlclxcXCIsZT1cXFwicmVwb3J0aW5nX2ludGVydmFsXFxcIixmPVxcXCJjaGVja19zdGF0dXNfaW50ZXJ2YWxcXFwiLGc9XFxcInRyYWNrX2V4dGVybmFsX2Vycm9yc1xcXCIsaD1cXFwibmllbHNlbl9lbmFibGVkXFxcIjtiLm5ldHdvcmsuU2V0dGluZ3NQYXJzZXI9Y30oYS5BREIuY29yZSxiKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKGEsYil7aWYodGhpcy5fdHJhY2tpbmdTZXJ2ZXI9bnVsbCx0aGlzLl9jaGVja1N0YXR1c1NlcnZlcj1udWxsLHRoaXMuX3B1Ymxpc2hlcj1udWxsLHRoaXMuX2lzQ29uZmlndXJlZD0hMSx0aGlzLl9pc0Rlc3Ryb3llZD0hMSx0aGlzLl9xdWlldE1vZGU9ITEsdGhpcy5fdmlzaXRvck9wdGVkT3V0PSExLHRoaXMuX3ByZXZSZXBvcnRTZW50PW51bGwsIWEpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGNoYW5uZWwgb2JqZWN0IGNhbm5vdCBiZSBOVUxMXFxcIik7aWYodGhpcy5fY2hhbm5lbD1hLCFiKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBsb2dnZXIgb2JqZWN0IGNhbm5vdCBiZSBOVUxMXFxcIik7dGhpcy5fbG9nZ2VyPWIsdGhpcy5fc2VyaWFsaXplcj1uZXcgaShiKSx0aGlzLl9pbnN0YWxsRXZlbnRMaXN0ZW5lcnMoKX12YXIgZD1hLkV2ZW50LGU9YS5VUkxSZXF1ZXN0TWV0aG9kLGY9YS5VUkxSZXF1ZXN0LGc9YS5VUkxMb2FkZXIsaD1iLm5ldHdvcmsuU2V0dGluZ3NQYXJzZXIsaT1iLm1vZGVsLlF1ZXJ5c3RyaW5nU2VyaWFsaXplcjtjLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5faXNEZXN0cm95ZWR8fCh0aGlzLl9pc0Rlc3Ryb3llZD0hMCx0aGlzLl9sb2dnZXIuZGVidWcoaixcXFwiI2Rlc3Ryb3koKVxcXCIpLHRoaXMuX3VuaW5zdGFsbEV2ZW50TGlzdGVuZXJzKCkpfSxjLnByb3RvdHlwZS5fb25BcGlDb25maWc9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhO3RoaXMuX2xvZ2dlci5kZWJ1ZyhqLFxcXCIjX29uQXBpQ29uZmlnKHNiX3NlcnZlcj1cXFwiK2Jba10rXFxcIiwgY2hlY2tfc3RhdHVzX3NlcnZlcj1cXFwiK2JbbF0rXFxcIiwgcHVibGlzaGVyPVxcXCIrYlttXStcXFwiLCBxdWlldF9tb2RlPVxcXCIrYltuXStcXFwiLCBzc2w9XFxcIitiW29dK1xcXCIpXFxcIiksdGhpcy5fdHJhY2tpbmdTZXJ2ZXI9dGhpcy5fdXBkYXRlUmVxdWVzdFByb3RvY29sKGJba10sYltvXSksdGhpcy5fY2hlY2tTdGF0dXNTZXJ2ZXI9dGhpcy5fdXBkYXRlUmVxdWVzdFByb3RvY29sKGJbbF0sYltvXSksdGhpcy5fcHVibGlzaGVyPWJbbV0sdGhpcy5fcXVpZXRNb2RlPWJbbl0sdGhpcy5faXNDb25maWd1cmVkPSEwfSxjLnByb3RvdHlwZS5fb25VcGRhdGVWaXNpdG9yT3B0T3V0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YTt0aGlzLl9sb2dnZXIuZGVidWcoaixcXFwiI19vblVwZGF0ZVZpc2l0b3JPcHRPdXQodmlzaXRvcl9vcHRfb3V0PVxcXCIrYltxXStcXFwiKVxcXCIpLHRoaXMuX3Zpc2l0b3JPcHRlZE91dD1iW3FdfSxjLnByb3RvdHlwZS5fb25GaWx0ZXJSZXBvcnRBdmFpbGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhO2lmKCF0aGlzLl9pc0NvbmZpZ3VyZWQpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLndhcm4oaixcXFwiI19vbkZpbHRlclJlcG9ydEF2YWlsYWJsZSgpID4gVW5hYmxlIHRvIHNlbmQgcmVxdWVzdDogbm90IGNvbmZpZ3VyZWQuXFxcIik7dmFyIGM9YltwXSxoPXRoaXMuX3NlcmlhbGl6ZXIuc2VyaWFsaXplUmVwb3J0KGMpLGk9dGhpcy5fdHJhY2tpbmdTZXJ2ZXIrXFxcIi8/XFxcIitoLnNlcmlhbGl6ZWRPdXRwdXQ7aWYodGhpcy5fcHJldlJlcG9ydFNlbnQmJnRoaXMuX3ByZXZSZXBvcnRTZW50LmV2ZW50RGF0YSYmYy5ldmVudERhdGEmJnRoaXMuX3ByZXZSZXBvcnRTZW50LmV2ZW50RGF0YS5wbGF5aGVhZD09Yy5ldmVudERhdGEucGxheWhlYWQmJnRoaXMuX3ByZXZSZXBvcnRTZW50LmV2ZW50RGF0YS50cz09Yy5ldmVudERhdGEudHMmJnRoaXMuX3ByZXZSZXBvcnRTZW50LmV2ZW50RGF0YS5wcmV2VHM9PWMuZXZlbnREYXRhLnByZXZUcyYmdGhpcy5fcHJldlJlcG9ydFNlbnQuZXZlbnREYXRhLnR5cGU9PWMuZXZlbnREYXRhLnR5cGUpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmRlYnVnKGosXFxcIiNfb25GaWx0ZXJSZXBvcnRBdmFpbGFibGUoKSA+IER1cGxpY2F0ZSBoZWFydGJlYXQgcmVwb3J0IG5vdCBzZW50IGZvciBVUkw6XFxcXG5cXFwiK2kpO3RoaXMuX3ByZXZSZXBvcnRTZW50PWM7dmFyIGs9bmV3IGYoaSxlLkdFVCk7dGhpcy5fbG9nZ2VyLmRlYnVnKGosXFxcIiNfb25GaWx0ZXJSZXBvcnRBdmFpbGFibGUoKSA+IFxcXCIray51cmwpO3ZhciBsPXRoaXMsbT1mdW5jdGlvbihhKXtvLmNsb3NlKCksaC5jYWxsYmFjayYmaC5jYWxsYmFjay5jYWxsKG51bGwpfSxuPWZ1bmN0aW9uKGEpe28uY2xvc2UoKSxsLl9sb2dnZXIud2FybihqLFxcXCIjX29uRmlsdGVyUmVwb3J0QXZhaWxhYmxlKCkgPiBGYWlsZWQgdG8gc2VuZCBoZWFydGJlYXQgcmVwb3J0LlxcXCIpLGguY2FsbGJhY2smJmguY2FsbGJhY2suY2FsbChudWxsKX07aWYoIXRoaXMuX3F1aWV0TW9kZSYmIXRoaXMuX3Zpc2l0b3JPcHRlZE91dCl7dmFyIG89bmV3IGc7by5hZGRFdmVudExpc3RlbmVyKGQuU1VDQ0VTUyxtLHRoaXMpLG8uYWRkRXZlbnRMaXN0ZW5lcihkLkVSUk9SLG4sdGhpcyksby5sb2FkKGspfX0sYy5wcm90b3R5cGUuX29uQ2xvY2tDaGVja1N0YXR1c1RpY2s9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZihhLmRhdGEpe3ZhciBiPW5ldyBoKGEuZGF0YS5yZXNwb25zZSxpLl9sb2dnZXIpLGM9Yi5wYXJzZSgpO2M/aS5fY2hhbm5lbC50cmlnZ2VyKG5ldyBkKHYsYykpOmkuX2xvZ2dlci53YXJuKGosXFxcIiNfb25DbG9ja0NoZWNrU3RhdHVzVGljaygpID4gRmFpbGVkIHRvIHBhcnNlIHRoZSBjb25maWcuIHNldHRpbmdzLlxcXCIpfW4uY2xvc2UoKX1mdW5jdGlvbiBjKGEpe2kuX2xvZ2dlci53YXJuKGosXFxcIiNfb25DbG9ja0NoZWNrU3RhdHVzVGljaygpID4gRmFpbGVkIHRvIG9idGFpbiB0aGUgY29uZmlnLiBzZXR0aW5ncy5cXFwiKSxuLmNsb3NlKCl9aWYoIXRoaXMuX2lzQ29uZmlndXJlZClyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIud2FybihqLFxcXCIjX29uQ2xvY2tDaGVja1N0YXR1c1RpY2soKSA+IFVuYWJsZSB0byBzZW5kIHJlcXVlc3Q6IG5vdCBjb25maWd1cmVkLlxcXCIpO2lmKCF0aGlzLl9wdWJsaXNoZXIpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLndhcm4oaixcXFwiI19vbkNsb2NrQ2hlY2tTdGF0dXNUaWNrKCkgPiBQdWJsaXNoZXIgaXMgTlVMTC5cXFwiKTt2YXIgaT10aGlzLGs9dGhpcy5fcHVibGlzaGVyLnJlcGxhY2UoL1teYS16QS1aMC05XSsvLFxcXCItXFxcIikudG9Mb2NhbGVMb3dlckNhc2UoKSxsPXRoaXMuX2NoZWNrU3RhdHVzU2VydmVyK2srXFxcIi54bWw/cj1cXFwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLG09bmV3IGYobCxlLkdFVCksbj1uZXcgZztuLmFkZEV2ZW50TGlzdGVuZXIoZC5TVUNDRVNTLGIsdGhpcyksbi5hZGRFdmVudExpc3RlbmVyKGQuRVJST1IsYyx0aGlzKSx0aGlzLl9sb2dnZXIuZGVidWcoaixcXFwiI19vbkNsb2NrQ2hlY2tTdGF0dXNUaWNrKCkgPiBHZXQgbmV3IHNldHRpbmdzIGZyb206IFxcXCIrbCksbi5sb2FkKG0pfSxjLnByb3RvdHlwZS5fdXBkYXRlUmVxdWVzdFByb3RvY29sPWZ1bmN0aW9uKGEsYil7dmFyIGM9YTtyZXR1cm4gMD09PWMuaW5kZXhPZihcXFwiaHR0cDovL1xcXCIpP2M9Yy5zbGljZSg3KTowPT09Yy5pbmRleE9mKFxcXCJodHRwczovL1xcXCIpJiYoYz1jLnNsaWNlKDgpKSxiP1xcXCJodHRwczovL1xcXCIrYzpcXFwiaHR0cDovL1xcXCIrY30sYy5wcm90b3R5cGUuX2luc3RhbGxFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMuX2NoYW5uZWwub24ocix0aGlzLl9vbkFwaUNvbmZpZyx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKHMsdGhpcy5fb25VcGRhdGVWaXNpdG9yT3B0T3V0LHRoaXMpLHRoaXMuX2NoYW5uZWwub24odCx0aGlzLl9vbkZpbHRlclJlcG9ydEF2YWlsYWJsZSx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKHUsdGhpcy5fb25DbG9ja0NoZWNrU3RhdHVzVGljayx0aGlzKX0sYy5wcm90b3R5cGUuX3VuaW5zdGFsbEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dGhpcy5fY2hhbm5lbC5vZmYobnVsbCxudWxsLHRoaXMpfTt2YXIgaj1cXFwiYWg6Ok5ldHdvcmtcXFwiLGs9XFxcInRyYWNraW5nX3NlcnZlclxcXCIsbD1cXFwiY2hlY2tfc3RhdHVzX3NlcnZlclxcXCIsbT1cXFwicHVibGlzaGVyXFxcIixuPVxcXCJxdWlldF9tb2RlXFxcIixvPVxcXCJzc2xcXFwiLHA9XFxcInJlcG9ydFxcXCIscT1cXFwidmlzaXRvcl9vcHRfb3V0XFxcIixyPVxcXCJhcGk6Y29uZmlnXFxcIixzPVxcXCJhcGk6dXBkYXRlX3Zpc2l0b3Jfb3B0b3V0XFxcIix0PVxcXCJmaWx0ZXI6ZGF0YV9hdmFpbGFibGVcXFwiLHU9XFxcImNsb2NrOmNoZWNrX3N0YXR1cy50aWNrXFxcIix2PVxcXCJuZXQ6Y2hlY2tfc3RhdHVzX2NvbXBsZXRlXFxcIjtiLm5ldHdvcmsuTmV0d29yaz1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoXFxcIlJlZmVyZW5jZSB0byB0aGUgY2hhbm5lbCBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTtpZih0aGlzLl9jaGFubmVsPWEsIWIpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGxvZ2dlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTt0aGlzLl9sb2dnZXI9Yix0aGlzLl9pc0Rlc3Ryb3llZD0hMSx0aGlzLl9pc0J1ZmZlcmluZ0luUHJvZ3Jlc3M9ITEsdGhpcy5fcmVwb3J0QnVmZmVyPXt9LHRoaXMuX3RzSGlzdG9yeT17fSx0aGlzLl93b3JrUXVldWU9bmV3IGksdGhpcy5faW5zdGFsbEV2ZW50TGlzdGVuZXJzKCl9ZnVuY3Rpb24gZChhKXt2YXIgYj1bXTtyZXR1cm4gYSYmYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZXZlbnREYXRhLnR5cGUoKT09ay5FVkVOVF9UWVBFX1BBVVNFfHxhLmV2ZW50RGF0YS50eXBlKCk9PWsuRVZFTlRfVFlQRV9TVEFMTD8oIWEuZmlsdGVyUmVwb3J0fHxhLmV2ZW50RGF0YS5kdXJhdGlvbigpPnUpJiZiLnB1c2goYSk6Yi5wdXNoKGEpfSksYn1mdW5jdGlvbiBlKGEpe3ZhciBiPS0xLGM9LTEsZD1bXTtyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZXZlbnREYXRhLnR5cGUoKT09ay5FVkVOVF9UWVBFX1NUQVJUP2EuYXNzZXREYXRhLnR5cGUoKT09bC5UWVBFX01BSU5fQ09OVEVOVD9iPT0tMT9iPWQucHVzaChhKS0xOihhLmV2ZW50RGF0YS5wcmV2VHMoLTEpLGRbYl09YSk6Yz09LTE/Yz1kLnB1c2goYSktMTooYS5ldmVudERhdGEucHJldlRzKC0xKSxkW2NdPWEpOmQucHVzaChhKX0pLGR9ZnVuY3Rpb24gZihhKXt2YXIgYj1bXTtyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2lmKGMuZXZlbnREYXRhLnR5cGUoKT09ay5FVkVOVF9UWVBFX1BMQVkpe2lmKGMuZXZlbnREYXRhLmR1cmF0aW9uKCk+dCliLnB1c2goYyk7ZWxzZSBpZigwPT1jLmV2ZW50RGF0YS5kdXJhdGlvbigpJiZjLmFzc2V0RGF0YS50eXBlKCk9PWwuVFlQRV9NQUlOX0NPTlRFTlQpe3ZhciBkPWcoYSk7ZC5pbmRleE9mKGMpPT1kLmxlbmd0aC0xJiZiLnB1c2goYyl9fWVsc2UgYi5wdXNoKGMpfSksYn1mdW5jdGlvbiBnKGEpe3ZhciBiPVtdO3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oYSl7YS5ldmVudERhdGEudHlwZSgpIT1rLkVWRU5UX1RZUEVfUExBWSYmYS5ldmVudERhdGEudHlwZSgpIT1rLkVWRU5UX1RZUEVfQlVGRkVSJiZhLmV2ZW50RGF0YS50eXBlKCkhPWsuRVZFTlRfVFlQRV9TVEFSVHx8Yi5wdXNoKGEpfSksYn12YXIgaD1hLnJhZGlvLkNvbW1hbmQsaT1hLnJhZGlvLkNvbW1hbmRRdWV1ZSxqPWEuRXZlbnQsaz1iLm1vZGVsLkV2ZW50RGFvLGw9Yi5tb2RlbC5Bc3NldERhbztjLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5faXNEZXN0cm95ZWR8fCh0aGlzLl9pc0Rlc3Ryb3llZD0hMCx0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI2Rlc3Ryb3koKVxcXCIpLHRoaXMuX3VuaW5zdGFsbEV2ZW50TGlzdGVuZXJzKCksdGhpcy5jbGVhcigpKX0sYy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI2NsZWFyKClcXFwiKSx0aGlzLl93b3JrUXVldWUuY2FuY2VsQWxsQ29tbWFuZHMoKSx0aGlzLl9yZXBvcnRCdWZmZXI9e30sdGhpcy5fdHNIaXN0b3J5PXt9LHRoaXMuX2lzQnVmZmVyaW5nSW5Qcm9ncmVzcz0hMX0sYy5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLl93b3JrUXVldWUuYWRkQ29tbWFuZChuZXcgaCh0aGlzLl9mbHVzaEJ1ZmZlclJlcG9ydCx0aGlzKSl9LGMucHJvdG90eXBlLl9idWZmZXJSZXBvcnQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2lzRGVzdHJveWVkKXt2YXIgYj1hW3FdO2lmKGIpe3ZhciBjPWIuc2Vzc2lvbkRhdGEuc2Vzc2lvbklkKCk7dGhpcy5fcmVwb3J0QnVmZmVyW2NdPXRoaXMuX3JlcG9ydEJ1ZmZlcltjXXx8W10sdGhpcy5fcmVwb3J0QnVmZmVyW2NdLnB1c2goYil9aWYoIXRoaXMuX2lzQnVmZmVyaW5nSW5Qcm9ncmVzcyl7dGhpcy5faXNCdWZmZXJpbmdJblByb2dyZXNzPSEwO3ZhciBkPXt9O2RbcF09ITAsZFtyXT0xLHRoaXMuX2NoYW5uZWwuY29tbWFuZChzLGQpfX19LGMucHJvdG90eXBlLl9mbHVzaEJ1ZmZlclJlcG9ydD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQuc2Vzc2lvbkRhdGEuc2Vzc2lvbklkKCk7Yi5fdHNIaXN0b3J5W2VdPWIuX3RzSGlzdG9yeVtlXXx8e307dmFyIGY9ZC5ldmVudERhdGEudHlwZSgpK1xcXCIuXFxcIisoZC5hc3NldERhdGEudHlwZSgpPT1sLlRZUEVfQUQ/ZC5hc3NldERhdGEuYWREYXRhKCkuYWRJZCgpOmQuYXNzZXREYXRhLnZpZGVvSWQoKSk7Yi5fdHNIaXN0b3J5W2VdLmhhc093blByb3BlcnR5KGYpJiZkLmV2ZW50RGF0YS5wcmV2VHMoYi5fdHNIaXN0b3J5W2VdW2ZdKSxiLl90c0hpc3RvcnlbZV1bZl09ZC5ldmVudERhdGEudHMoKX19aWYoIXRoaXMuX2lzRGVzdHJveWVkKXt2YXIgYj10aGlzO2Zvcih2YXIgYyBpbiB0aGlzLl9yZXBvcnRCdWZmZXIpaWYodGhpcy5fcmVwb3J0QnVmZmVyLmhhc093blByb3BlcnR5KGMpKXt2YXIgZz1mKGUoZCh0aGlzLl9yZXBvcnRCdWZmZXJbY10pKSk7YShnKTtmb3IodmFyIGg9MDtoPGcubGVuZ3RoO2grKyl7dmFyIGk9Z1toXSxrPXt9O2tbcV09aSx0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGoobixrKSl9fXRoaXMuX3JlcG9ydEJ1ZmZlcj17fTt2YXIgbT10aGlzLl9jaGFubmVsLnJlcXVlc3Qodiksbz10aGlzLl90c0hpc3RvcnlbbV18fHt9O3RoaXMuX3RzSGlzdG9yeT17fSx0aGlzLl90c0hpc3RvcnlbbV09byx0aGlzLl9pc0J1ZmZlcmluZ0luUHJvZ3Jlc3M9ITF9fSxjLnByb3RvdHlwZS5fb25Db250ZXh0UmVwb3J0QXZhaWxhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YTt0aGlzLl93b3JrUXVldWUuYWRkQ29tbWFuZChuZXcgaCh0aGlzLl9idWZmZXJSZXBvcnQsdGhpcyxbYl0pKX0sYy5wcm90b3R5cGUuX29uQ2xvY2tGbHVzaEZpbHRlclRpY2s9ZnVuY3Rpb24oYSl7dGhpcy5mbHVzaCgpfSxjLnByb3RvdHlwZS5faW5zdGFsbEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dGhpcy5fY2hhbm5lbC5vbihtLHRoaXMuX29uQ29udGV4dFJlcG9ydEF2YWlsYWJsZSx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKG8sdGhpcy5fb25DbG9ja0ZsdXNoRmlsdGVyVGljayx0aGlzKX0sYy5wcm90b3R5cGUuX3VuaW5zdGFsbEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dGhpcy5fY2hhbm5lbC5vZmYobnVsbCxudWxsLHRoaXMpfTt2YXIgbT1cXFwiY29udGV4dDpyZXBvcnRfYXZhaWxhYmxlXFxcIixuPVxcXCJmaWx0ZXI6ZGF0YV9hdmFpbGFibGVcXFwiLG89XFxcImNsb2NrOmZsdXNoX2ZpbHRlci50aWNrXFxcIixwPVxcXCJyZXNldFxcXCIscT1cXFwicmVwb3J0XFxcIixyPVxcXCJyZXBlYXRfY291bnRcXFwiLHM9XFxcImNsb2NrOmZsdXNoX2ZpbHRlci5yZXN1bWVcXFwiLHQ9MjUwLHU9MjUwLHY9XFxcInNlc3Npb25faWRcXFwiLHc9XFxcImFoOjpSZXBvcnRGaWx0ZXJcXFwiO2IuZmlsdGVyLlJlcG9ydEZpbHRlcj1jfShhLkFEQi5jb3JlLGIpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSxiKXt0aGlzLl9vbkZhaWw9e2ZuOmEsY3R4OmJ9fXZhciBkPWEuRXJyb3JJbmZvO2MucHJvdG90eXBlLnZhbGlkYXRlRmllbGRzPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIkRhdGEgY2Fubm90IGJlIG51bGxcXFwiKTtpZihiKWZvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO3N3aXRjaChkKXtjYXNlXFxcInZpZGVvSWRcXFwiOmlmKCFhLmhhc093blByb3BlcnR5KFxcXCJ2aWRlb0lkXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBJRCBmb3IgdGhlIG1haW4gdmlkZW8gbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBhLnZpZGVvSWQpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBJRCBmb3IgdGhlIG1haW4gdmlkZW8gbXVzdCBiZSBhIFN0cmluZy5cXFwiKTtpZihcXFwiXFxcIj09PWEudmlkZW9JZClyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIElEIGZvciB0aGUgbWFpbiB2aWRlbyBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nLlxcXCIpO2JyZWFrO2Nhc2VcXFwic3RyZWFtVHlwZVxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcInN0cmVhbVR5cGVcXFwiKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHN0cmVhbSB0eXBlIGZvciB0aGUgbWFpbiB2aWRlbyBtdXN0IGJlIHNwZWNpZmllZC5cXFwiKTtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGEuc3RyZWFtVHlwZSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHN0cmVhbSB0eXBlIGZvciB0aGUgbWFpbiB2aWRlbyBtdXN0IGJlIGEgU3RyaW5nLlxcXCIpO2lmKFxcXCJcXFwiPT09YS5zdHJlYW1UeXBlKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgc3RyZWFtIHR5cGUgZm9yIHRoZSBtYWluIHZpZGVvIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXFxcIik7YnJlYWs7Y2FzZVxcXCJ2aWRlb0xlbmd0aFxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcInZpZGVvTGVuZ3RoXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBsZW5ndGggb2YgdGhlIG1haW4gdmlkZW8gbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcIm51bWJlclxcXCIhPXR5cGVvZiBhLnZpZGVvTGVuZ3RoKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgbGVuZ3RoIG9mIHRoZSBtYWluIHZpZGVvIG11c3QgYmUgYSBOdW1iZXIuXFxcIik7aWYoaXNOYU4oYS52aWRlb0xlbmd0aCkpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBsZW5ndGggb2YgdGhlIG1haW4gdmlkZW8gY2Fubm90IGJlIE5hTi5cXFwiKTticmVhaztjYXNlXFxcInBsYXloZWFkXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwicGxheWhlYWRcXFwiKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXloZWFkIGZvciB0aGUgbWFpbiB2aWRlbyBtdXN0IGJlIHNwZWNpZmllZC5cXFwiKTtpZihcXFwibnVtYmVyXFxcIiE9dHlwZW9mIGEucGxheWhlYWQpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBwbGF5aGVhZCBmb3IgdGhlIG1haW4gdmlkZW8gbXVzdCBiZSBhIE51bWJlci5cXFwiKTtpZihpc05hTihhLnBsYXloZWFkKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXloZWFkIGZvciB0aGUgbWFpbiB2aWRlbyBjYW5ub3QgYmUgTmFOLlxcXCIpO2JyZWFrO2Nhc2VcXFwicGxheWVyTmFtZVxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcInBsYXllck5hbWVcXFwiKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXllciBuYW1lIGZvciB0aGUgbWFpbiB2aWRlbyBtdXN0IGJlIHNwZWNpZmllZC5cXFwiKTtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGEucGxheWVyTmFtZSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXllciBuYW1lIGZvciB0aGUgbWFpbiB2aWRlbyBtdXN0IGJlIGEgU3RyaW5nLlxcXCIpO2lmKFxcXCJcXFwiPT09YS5wbGF5ZXJOYW1lKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgcGxheWVyIG5hbWUgZm9yIHRoZSBtYWluIHZpZGVvIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXFxcIik7YnJlYWs7Y2FzZVxcXCJyc2lkXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwicnNpZFxcXCIpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJhY2NvdW50IChyc2lkKSBpcyByZXF1aXJlZCBhbmQgaGFzIHRvIGJlIHNldCBpbiB0aGUgQXBwTWVhc3VyZW1lbnQgaW5zdGFuY2UuXFxcIik7aWYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBhLnJzaWQpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcImFjY291bnQgKHJzaWQpIG9mIHRoZSBBcHBNZWFzdXJlbWVudCBpbnN0YW5jZSBtdXN0IGJlIGEgU3RyaW5nLlxcXCIpO2lmKFxcXCJcXFwiPT09YS5yc2lkKXJldHVybiB0aGlzLl9mYWlsKFxcXCJhY2NvdW50IChyc2lkKSBvZiB0aGUgQXBwTWVhc3VyZW1lbnQgaW5zdGFuY2UgIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXFxcIik7YnJlYWs7Y2FzZVxcXCJ0cmFja2luZ1NlcnZlclxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcInRyYWNraW5nU2VydmVyXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcInRyYWNraW5nU2VydmVyIGlzIHJlcXVpcmVkIGFuZCBoYXMgdG8gYmUgc2V0IGluIHRoZSBBcHBNZWFzdXJlbWVudCBpbnN0YW5jZS5cXFwiKTtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGEudHJhY2tpbmdTZXJ2ZXIpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcInRyYWNraW5nU2VydmVyIG9mIHRoZSBBcHBNZWFzdXJlbWVudCBpbnN0YW5jZSBtdXN0IGJlIGEgU3RyaW5nLlxcXCIpO2lmKFxcXCJcXFwiPT09YS50cmFja2luZ1NlcnZlcilyZXR1cm4gdGhpcy5fZmFpbChcXFwidHJhY2tpbmdTZXJ2ZXIgb2YgdGhlIEFwcE1lYXN1cmVtZW50IGluc3RhbmNlIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXFxcIik7YnJlYWs7Y2FzZVxcXCJwb2RQbGF5ZXJOYW1lXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwicG9kUGxheWVyTmFtZVxcXCIpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgcGxheWVyIG5hbWUgZm9yIHRoZSBhZC1icmVhayBtdXN0IGJlIHNwZWNpZmllZC5cXFwiKTtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGEucG9kUGxheWVyTmFtZSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXllciBuYW1lIGZvciB0aGUgYWQtYnJlYWsgbXVzdCBiZSBhIFN0cmluZy5cXFwiKTtpZihcXFwiXFxcIj09PWEucG9kUGxheWVyTmFtZSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXllciBuYW1lIGZvciB0aGUgYWQtYnJlYWsgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZy5cXFwiKTticmVhaztjYXNlXFxcInBvZFBvc2l0aW9uXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwicG9kUG9zaXRpb25cXFwiKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiUG9zaXRpb24gKGluZGV4KSBvZiB0aGUgYWQtYnJlYWsgbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcIm51bWJlclxcXCIhPXR5cGVvZiBhLnBvZFBvc2l0aW9uKXJldHVybiB0aGlzLl9mYWlsKFxcXCJQb3NpdGlvbiAoaW5kZXgpIG9mIHRoZSBhZC1icmVhayBtdXN0IGJlIGEgTnVtYmVyLlxcXCIpO2lmKGlzTmFOKGEucG9kUG9zaXRpb24pKXJldHVybiB0aGlzLl9mYWlsKFxcXCJQb3NpdGlvbiAoaW5kZXgpIG9mIHRoZSBhZC1icmVhayBjYW5ub3QgYmUgTmFOLlxcXCIpO2JyZWFrO2Nhc2VcXFwiYWRJZFxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcImFkSWRcXFwiKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIGFkIElEIG11c3QgYmUgc3BlY2lmaWVkLlxcXCIpO2lmKFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgYS5hZElkKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgYWQgSUQgbXVzdCBiZSBhIFN0cmluZy5cXFwiKTtpZihcXFwiXFxcIj09PWEuYWRJZClyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIGFkIElEIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXFxcIik7YnJlYWs7Y2FzZVxcXCJhZFBvc2l0aW9uXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwiYWRQb3NpdGlvblxcXCIpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJQb3NpdGlvbiAoaW5kZXgpIG9mIHRoZSBhZCBtdXN0IGJlIHNwZWNpZmllZC5cXFwiKTtpZihcXFwibnVtYmVyXFxcIiE9dHlwZW9mIGEuYWRQb3NpdGlvbilyZXR1cm4gdGhpcy5fZmFpbChcXFwiUG9zaXRpb24gKGluZGV4KSBvZiB0aGUgYWQgbXVzdCBiZSBhIE51bWJlci5cXFwiKTtpZihpc05hTihhLmFkUG9zaXRpb24pKXJldHVybiB0aGlzLl9mYWlsKFxcXCJQb3NpdGlvbiAoaW5kZXgpIG9mIHRoZSBhZCBjYW5ub3QgYmUgTmFOLlxcXCIpO2JyZWFrO2Nhc2VcXFwiY2hhcHRlclBvc2l0aW9uXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwiY2hhcHRlclBvc2l0aW9uXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlBvc2l0aW9uIChpbmRleCkgb2YgdGhlIGNoYXB0ZXIgbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcIm51bWJlclxcXCIhPXR5cGVvZiBhLmNoYXB0ZXJQb3NpdGlvbilyZXR1cm4gdGhpcy5fZmFpbChcXFwiUG9zaXRpb24gKGluZGV4KSBvZiB0aGUgY2hhcHRlciBtdXN0IGJlIGEgTnVtYmVyLlxcXCIpO2lmKGlzTmFOKGEuY2hhcHRlclBvc2l0aW9uKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiUG9zaXRpb24gKGluZGV4KSBvZiB0aGUgY2hhcHRlciBjYW5ub3QgYmUgTmFOLlxcXCIpO2JyZWFrO2Nhc2VcXFwiY2hhcHRlck9mZnNldFxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcImNoYXB0ZXJPZmZzZXRcXFwiKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiQ2hhcHRlciBzdGFydC10aW1lIChvZmZzZXQpIG11c3QgYmUgc3BlY2lmaWVkLlxcXCIpO2lmKFxcXCJudW1iZXJcXFwiIT10eXBlb2YgYS5jaGFwdGVyT2Zmc2V0KXJldHVybiB0aGlzLl9mYWlsKFxcXCJDaGFwdGVyIHN0YXJ0LXRpbWUgKG9mZnNldCkgbXVzdCBiZSBhIE51bWJlci5cXFwiKTtpZihpc05hTihhLmNoYXB0ZXJPZmZzZXQpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJDaGFwdGVyIHN0YXJ0LXRpbWUgKG9mZnNldCkgY2Fubm90IGJlIE5hTi5cXFwiKTticmVhaztjYXNlXFxcImNoYXB0ZXJMZW5ndGhcXFwiOmlmKCFhLmhhc093blByb3BlcnR5KFxcXCJjaGFwdGVyTGVuZ3RoXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBsZW5ndGggb2YgdGhlIGNoYXB0ZXIgbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcIm51bWJlclxcXCIhPXR5cGVvZiBhLmNoYXB0ZXJMZW5ndGgpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBsZW5ndGggb2YgdGhlIGNoYXB0ZXIgbXVzdCBiZSBhIE51bWJlci5cXFwiKTtpZihpc05hTihhLmNoYXB0ZXJMZW5ndGgpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgbGVuZ3RoIG9mIHRoZSBjaGFwdGVyIGNhbm5vdCBiZSBOYU4uXFxcIik7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZmFpbChcXFwiVW5hYmxlIHRvIHZhbGlkYXRlIHVua25vd24gcGFyYW1ldGVyOiBcXFwiK2QpfX1yZXR1cm4hMH0sYy5wcm90b3R5cGUuX2ZhaWw9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGQoXFxcIkludmFsaWQgaW5wdXQgZGF0YVxcXCIsYSk7cmV0dXJuIHRoaXMuX29uRmFpbC5mbiYmdGhpcy5fb25GYWlsLmZuLmNhbGwodGhpcy5fb25GYWlsLmN0eCxiKSwhMX0sYi5jb250ZXh0LklucHV0RGF0YVZhbGlkYXRvcj1jfShhLkFEQi52YSxiKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKGEsYil7aWYoIWIpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGxvZ2dlciBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTtpZih0aGlzLl9sb2dnZXI9YiwhYSl0aHJvdyBuZXcgRXJyb3IoXFxcIlJlZmVyZW5jZSB0byB0aGUgY29udGV4dCBvYmplY3QgY2Fubm90IGJlIE5VTExcXFwiKTt0aGlzLl9jb250ZXh0PWF9dmFyIGQ9Yi5tb2RlbC5SZXBvcnQ7XFxuYy5wcm90b3R5cGUuY3JlYXRlUmVwb3J0Rm9ySXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fbG9nZ2VyLmRlYnVnKGUsXFxcIkNyZWF0aW5nIHJlcG9ydCBmb3IgaXRlbTogXFxcIithLmV2ZW50RGF0YS50eXBlKCkpLG5ldyBkKHRoaXMuX2NvbnRleHQuX2Fkb2JlQW5hbHl0aWNzRGF0YSx0aGlzLl9jb250ZXh0Ll91c2VyRGF0YSx0aGlzLl9jb250ZXh0Ll9hYW1EYXRhLHRoaXMuX2NvbnRleHQuX3NlcnZpY2VQcm92aWRlckRhdGEsdGhpcy5fY29udGV4dC5fc2Vzc2lvbkRhdGEsYSl9O3ZhciBlPVxcXCJhaDo6UmVwb3J0RmFjdG9yeVxcXCI7Yi5jb250ZXh0LlJlcG9ydEZhY3Rvcnk9Y30oYS5BREIuY29yZSxiKSxmdW5jdGlvbihhLGIsYyxkKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gZShhLGIpe2lmKCFhKXRocm93IG5ldyBFcnJvcihcXFwiUmVmZXJlbmNlIHRvIHRoZSBjaGFubmVsIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO2lmKHRoaXMuX2NoYW5uZWw9YSwhYil0aHJvdyBuZXcgRXJyb3IoXFxcIlJlZmVyZW5jZSB0byB0aGUgbG9nZ2VyIG9iamVjdCBjYW5ub3QgYmUgTlVMTFxcXCIpO3RoaXMuX2xvZ2dlcj1iLHRoaXMuX2xhc3RJbkJhbmRJdGVtPW51bGwsdGhpcy5fYXV0b0NvbXB1dGVkU3RhcnR1cFRpbWU9MCx0aGlzLl9yZXBvcnRpbmdJbnRlcnZhbD1mYSx0aGlzLl9hc3NldERhdGE9bnVsbCx0aGlzLl9zdHJlYW1EYXRhPW51bGwsdGhpcy5fcW9zRGF0YT1udWxsLHRoaXMuX3Nlc3Npb25EYXRhPW51bGwsdGhpcy5fY3VzZXJEYXRhPW51bGwsdGhpcy5fYWRvYmVBbmFseXRpY3NEYXRhPW5ldyBqLHRoaXMuX3NlcnZpY2VQcm92aWRlckRhdGE9bmV3IGssdGhpcy5fdXNlckRhdGE9bmV3IGwsdGhpcy5fYWFtRGF0YT1uZXcgbSx0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZT0hMSx0aGlzLl9pc1ZpZGVvQ29tcGxldGU9ITEsdGhpcy5fYWN0aXZlQXNzZXRJZD1udWxsLHRoaXMuX2lzRGVzdHJveWVkPSExLHRoaXMuX2RvTm90T3ZlcnJpZGVFdmVudER1cmF0aW9uPSExLHRoaXMuX3JlcG9ydEZhY3Rvcnk9bmV3IHUodGhpcyx0aGlzLl9sb2dnZXIpLHRoaXMuX2lucHV0RGF0YVZhbGlkYXRvcj1uZXcgdihmdW5jdGlvbihhKXt0aGlzLl9sb2dnZXIuZXJyb3IodyxhLmdldE1lc3NhZ2UoKStcXFwiIHwgXFxcIithLmdldERldGFpbHMoKSksdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBoKHksYSkpfSx0aGlzKSx0aGlzLl9zdGFzaGVkQ2hhcHRlckRhdGE9bnVsbCx0aGlzLl9zdGFzaGVkQWREYXRhPW51bGwsdGhpcy5fdHJhY2tFeHRlcm5hbEVycm9ycz0hMCx0aGlzLl9pbnN0YWxsRXZlbnRMaXN0ZW5lcnMoKX12YXIgZj1jLm1kNSxnPWMuT2JqZWN0VXRpbHMsaD1hLkV2ZW50LGk9ZC5tb2RlbC5TZXNzaW9uRGFvLGo9ZC5tb2RlbC5BZG9iZUFuYWx5dGljc0RhbyxrPWQubW9kZWwuU2VydmljZVByb3ZpZGVyRGFvLGw9ZC5tb2RlbC5Vc2VyRGFvLG09ZC5tb2RlbC5BdWRpZW5jZU1hbmFnZXJEYW8sbj1kLm1vZGVsLkV2ZW50RGFvLG89ZC5tb2RlbC5Bc3NldERhbyxwPWQubW9kZWwuU3RyZWFtRGFvLHE9ZC5tb2RlbC5Rb1NEYW8scj1kLm1vZGVsLkFkRGFvLHM9ZC5tb2RlbC5DaGFwdGVyRGFvLHQ9ZC5tb2RlbC5UcmFja0l0ZW0sdT1kLmNvbnRleHQuUmVwb3J0RmFjdG9yeSx2PWQuY29udGV4dC5JbnB1dERhdGFWYWxpZGF0b3I7ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2lzRGVzdHJveWVkfHwodGhpcy5faXNEZXN0cm95ZWQ9ITAsdGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNkZXN0cm95KClcXFwiKSx0aGlzLl91bmluc3RhbGxFdmVudExpc3RlbmVycygpKX0sZS5wcm90b3R5cGUuX29uQXBpQW5hbHl0aWNzU3RhcnQ9ZnVuY3Rpb24oYSl7dGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNfb25BcGlBbmFseXRpY3NTdGFydCgpXFxcIik7dmFyIGI9YS5kYXRhO2lmKHRoaXMuX2NoZWNrQ2FsbChcXFwiX29uQXBpQW5hbHl0aWNzU3RhcnRcXFwiKSYmdGhpcy5faW5wdXREYXRhVmFsaWRhdG9yLnZhbGlkYXRlRmllbGRzKGIsW1xcXCJwbGF5aGVhZFxcXCJdKSl7dGhpcy5fdXNlckRhdGEudmlzaXRvcklkKGIudmlkKSx0aGlzLl91c2VyRGF0YS5hbmFseXRpY3NWaXNpdG9ySWQoYi5haWQpLHRoaXMuX3VzZXJEYXRhLm1hcmtldGluZ0Nsb3VkVmlzaXRvcklkKGIubWlkKSx0aGlzLl9hYW1EYXRhLmF1ZGllbmNlTWFuYWdlckJsb2IoYi5ibG9iKSx0aGlzLl9hYW1EYXRhLmF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludChiLmxvY19oaW50KSxiLmN1c3RvbWVySURzJiYodGhpcy5fY3VzZXJEYXRhPWIuY3VzdG9tZXJJRHMpLHRoaXMuX3VwZGF0ZVFvU0luZm8oYik7dmFyIGM9bmV3IHQodGhpcyxuLkVWRU5UX1RZUEVfQUFfU1RBUlQsYi5wbGF5aGVhZCxudWxsLGIuX2V2ZW50RGF0YVtFXSk7Yy5hc3NldERhdGEuYWREYXRhKG51bGwpLGMuYXNzZXREYXRhLnR5cGUoby5UWVBFX01BSU5fQ09OVEVOVCksdGhpcy5fY3VzZXJEYXRhPW51bGwsdGhpcy5fc2VuZEhpdChjKX19LGUucHJvdG90eXBlLl9vbkFwaUFuYWx5dGljc0FkU3RhcnQ9ZnVuY3Rpb24oYSl7dGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNfb25BcGlBbmFseXRpY3NBZFN0YXJ0KClcXFwiKTt2YXIgYj1hLmRhdGE7aWYodGhpcy5fY2hlY2tDYWxsKFxcXCJfb25BcGlBbmFseXRpY3NBZFN0YXJ0XFxcIikmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwicGxheWhlYWRcXFwiXSkpe3RoaXMuX3VwZGF0ZVFvU0luZm8oYik7dmFyIGM9bmV3IHQodGhpcyxuLkVWRU5UX1RZUEVfQUFfQURfU1RBUlQsYi5wbGF5aGVhZCxudWxsLGIuX2V2ZW50RGF0YVtFXSk7dGhpcy5fc2VuZEhpdChjKX19LGUucHJvdG90eXBlLl9vbkFwaVZpZGVvTG9hZD1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGE7dGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNfb25BcGlWaWRlb0xvYWQocnNpZD1cXFwiK2IucnNpZCtcXFwiLCBhYV90cmFja2luZ1NlcnZlcj1cXFwiK2IudHJhY2tpbmdTZXJ2ZXIrXFxcIilcXFwiKSx0aGlzLl9yZXNldEludGVybmFsU3RhdGUoKSx0aGlzLl9pbnB1dERhdGFWYWxpZGF0b3IudmFsaWRhdGVGaWVsZHMoYixbXFxcInJzaWRcXFwiLFxcXCJ0cmFja2luZ1NlcnZlclxcXCJdKSYmKHRoaXMuX3Nlc3Npb25EYXRhLnNlc3Npb25JZCh0aGlzLl9nZW5lcmF0ZVNlc3Npb25JZCgpKSx0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZT0hMCl9LGUucHJvdG90eXBlLl9vbkFwaVZpZGVvVW5sb2FkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaVZpZGVvVW5sb2FkKClcXFwiKSx0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZT92b2lkKHRoaXMuX2lzVHJhY2tpbmdTZXNzaW9uQWN0aXZlPSExKTp2b2lkIHRoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uQXBpVmlkZW9VbmxvYWQoKSA+IE5vIGFjdGl2ZSB0cmFja2luZyBzZXNzaW9uLlxcXCIpfSxlLnByb3RvdHlwZS5fb25BcGlWaWRlb1N0YXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YTtpZih0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaVZpZGVvU3RhcnQoaWQ9XFxcIitiLnZpZGVvSWQrXFxcIiwgbmFtZT1cXFwiK2IudmlkZW9OYW1lK1xcXCIsIGxlbmd0aD1cXFwiK2IudmlkZW9MZW5ndGgrXFxcIiwgdHlwZT1cXFwiK2Iuc3RyZWFtVHlwZStcXFwiLCBwbGF5ZXJOYW1lPVxcXCIrYi5wbGF5ZXJOYW1lK1xcXCIpXFxcIiksdGhpcy5fY2hlY2tDYWxsKFxcXCJfb25BcGlWaWRlb1N0YXJ0XFxcIikmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwidmlkZW9JZFxcXCIsXFxcInN0cmVhbVR5cGVcXFwiLFxcXCJ2aWRlb0xlbmd0aFxcXCIsXFxcInBsYXloZWFkXFxcIixcXFwicGxheWVyTmFtZVxcXCJdKSl7dGhpcy5fYWRvYmVBbmFseXRpY3NEYXRhLnJlcG9ydFN1aXRlSWQoYi5yc2lkKSx0aGlzLl9hZG9iZUFuYWx5dGljc0RhdGEudHJhY2tpbmdTZXJ2ZXIoYi50cmFja2luZ1NlcnZlciksdGhpcy5fYWRvYmVBbmFseXRpY3NEYXRhLnNzbChOdW1iZXIoYi51c2VTc2wpKSx0aGlzLl9zZXJ2aWNlUHJvdmlkZXJEYXRhLm92cChiLm92cCksdGhpcy5fc2VydmljZVByb3ZpZGVyRGF0YS5zZGsoYi5zZGspLHRoaXMuX3NlcnZpY2VQcm92aWRlckRhdGEuY2hhbm5lbChiLmNoYW5uZWwpLHRoaXMuX3NlcnZpY2VQcm92aWRlckRhdGEubGliVmVyc2lvbihiLnZlcnNpb24pLHRoaXMuX3NlcnZpY2VQcm92aWRlckRhdGEuYXBpTGV2ZWwoYi5hcGlMdmwpLHRoaXMuX2FjdGl2ZUFzc2V0SWQ9Yi52aWRlb0lkLHRoaXMuX3NlcnZpY2VQcm92aWRlckRhdGEucGxheWVyTmFtZShiLnBsYXllck5hbWUpLHRoaXMuX2Fzc2V0RGF0YS52aWRlb0lkKHRoaXMuX2FjdGl2ZUFzc2V0SWQpLHRoaXMuX2Fzc2V0RGF0YS5sZW5ndGgoYi52aWRlb0xlbmd0aCksdGhpcy5fYXNzZXREYXRhLnR5cGUoby5UWVBFX01BSU5fQ09OVEVOVCksdGhpcy5fYXNzZXREYXRhLnB1Ymxpc2hlcihiLnB1Ymxpc2hlciksdGhpcy5fYXNzZXREYXRhLm5hbWUoYi52aWRlb05hbWUpLHRoaXMuX3N0cmVhbURhdGEudHlwZShiLnN0cmVhbVR5cGUpLHRoaXMuX3VwZGF0ZVFvU0luZm8oYik7dmFyIGM9Yi5tZXRhTmllbHNlbj9nLm1lcmdlKGIubWV0YVZpZGVvLGIubWV0YU5pZWxzZW4pOmIubWV0YVZpZGVvLGQ9bmV3IHQodGhpcyxuLkVWRU5UX1RZUEVfU1RBUlQsYi5wbGF5aGVhZCxjLGIuX2V2ZW50RGF0YVtFXSk7dGhpcy5fc2VuZEhpdChkKX19LGUucHJvdG90eXBlLl9vbkFwaVZpZGVvUmVzdW1lPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YTtpZih0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaVZpZGVvUmVzdW1lKGlkPVxcXCIrYi52aWRlb0lkK1xcXCIsIG5hbWU9XFxcIitiLnZpZGVvTmFtZStcXFwiLCBsZW5ndGg9XFxcIitiLnZpZGVvTGVuZ3RoK1xcXCIsIHR5cGU9XFxcIitiLnN0cmVhbVR5cGUrXFxcIiwgcGxheWVyTmFtZT1cXFwiK2IucGxheWVyTmFtZStcXFwiKVxcXCIpLHRoaXMuX2NoZWNrQ2FsbChcXFwiX29uQXBpVmlkZW9SZXN1bWVcXFwiKSYmdGhpcy5faW5wdXREYXRhVmFsaWRhdG9yLnZhbGlkYXRlRmllbGRzKGIsW1xcXCJ2aWRlb0lkXFxcIixcXFwic3RyZWFtVHlwZVxcXCIsXFxcInZpZGVvTGVuZ3RoXFxcIixcXFwicGxheWhlYWRcXFwiLFxcXCJwbGF5ZXJOYW1lXFxcIl0pKXt0aGlzLl9hY3RpdmVBc3NldElkPWIudmlkZW9JZCx0aGlzLl9hc3NldERhdGEudmlkZW9JZCh0aGlzLl9hY3RpdmVBc3NldElkKSx0aGlzLl9hc3NldERhdGEubGVuZ3RoKGIudmlkZW9MZW5ndGgpLHRoaXMuX2Fzc2V0RGF0YS50eXBlKG8uVFlQRV9NQUlOX0NPTlRFTlQpLHRoaXMuX2Fzc2V0RGF0YS5uYW1lKGIudmlkZW9OYW1lKSx0aGlzLl9zdHJlYW1EYXRhLnR5cGUoYi5zdHJlYW1UeXBlKTt2YXIgYz1uZXcgdCh0aGlzLG4uRVZFTlRfVFlQRV9SRVNVTUUsYi5wbGF5aGVhZCxudWxsLGIuX2V2ZW50RGF0YVtFXSk7dGhpcy5fc2VuZEhpdChjKX19LGUucHJvdG90eXBlLl9vbkFwaVZpZGVvQ29tcGxldGU9ZnVuY3Rpb24oYSl7dGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNfb25BcGlWaWRlb0NvbXBsZXRlKClcXFwiKTt2YXIgYj1hLmRhdGE7aWYodGhpcy5fY2hlY2tDYWxsKFxcXCJfb25BcGlWaWRlb0NvbXBsZXRlXFxcIikpe3ZhciBjPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX0NPTVBMRVRFLHRoaXMuX2Fzc2V0RGF0YS5sZW5ndGgoKSxudWxsLGIuX2V2ZW50RGF0YVtFXSk7dGhpcy5fc2VuZEhpdChjKSx0aGlzLl9pc1ZpZGVvQ29tcGxldGU9ITB9fSxlLnByb3RvdHlwZS5fb25BcGlQbGF5PWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uQXBpUGxheSgpXFxcIik7dmFyIGI9YS5kYXRhO2lmKHRoaXMuX2NoZWNrQ2FsbChcXFwiX29uQXBpUGxheVxcXCIpJiZ0aGlzLl9pbnB1dERhdGFWYWxpZGF0b3IudmFsaWRhdGVGaWVsZHMoYixbXFxcInBsYXloZWFkXFxcIl0pKXt0aGlzLl91cGRhdGVRb1NJbmZvKGIpO3ZhciBjPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX1BMQVksYi5wbGF5aGVhZCxudWxsLGIuX2V2ZW50RGF0YVtFXSk7dGhpcy5fc2VuZEhpdChjKX19LGUucHJvdG90eXBlLl9vbkFwaVBhdXNlPWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uQXBpUGF1c2UoKVxcXCIpO3ZhciBiPWEuZGF0YTtpZih0aGlzLl9jaGVja0NhbGwoXFxcIl9vbkFwaVBhdXNlXFxcIikmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwicGxheWhlYWRcXFwiXSkpe3RoaXMuX3VwZGF0ZVFvU0luZm8oYik7dmFyIGM9Yi5wbGF5aGVhZFN0YWxsZWQ/bi5FVkVOVF9UWVBFX1NUQUxMOm4uRVZFTlRfVFlQRV9QQVVTRSxkPW5ldyB0KHRoaXMsYyxiLnBsYXloZWFkLG51bGwsYi5fZXZlbnREYXRhW0VdKTtiLl9ldmVudERhdGEuaGFzT3duUHJvcGVydHkoRikmJihkLmZpbHRlclJlcG9ydD1iLl9ldmVudERhdGFbRl0pLHRoaXMuX3NlbmRIaXQoZCl9fSxlLnByb3RvdHlwZS5fb25BcGlCdWZmZXJTdGFydD1mdW5jdGlvbihhKXt0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaUJ1ZmZlclN0YXJ0KClcXFwiKTt2YXIgYj1hLmRhdGE7aWYodGhpcy5fY2hlY2tDYWxsKFxcXCJfb25BcGlCdWZmZXJTdGFydFxcXCIpJiZ0aGlzLl9pbnB1dERhdGFWYWxpZGF0b3IudmFsaWRhdGVGaWVsZHMoYixbXFxcInBsYXloZWFkXFxcIl0pKXt0aGlzLl91cGRhdGVRb1NJbmZvKGIpO3ZhciBjPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX0JVRkZFUixiLnBsYXloZWFkLG51bGwsYi5fZXZlbnREYXRhW0VdKTt0aGlzLl9zZW5kSGl0KGMpfX0sZS5wcm90b3R5cGUuX29uQXBpU2Vla1N0YXJ0PWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uQXBpU2Vla1N0YXJ0KClcXFwiKSx0aGlzLl9jaGVja0NhbGwoXFxcIl9vbkFwaVNlZWtTdGFydFxcXCIpJiYodGhpcy5fc3Rhc2hlZEFkRGF0YT10aGlzLl9hc3NldERhdGEuYWREYXRhKCksdGhpcy5fc3Rhc2hlZENoYXB0ZXJEYXRhPXRoaXMuX2Fzc2V0RGF0YS5jaGFwdGVyRGF0YSgpLHRoaXMuX2Fzc2V0RGF0YS5hZERhdGEobnVsbCksdGhpcy5fYXNzZXREYXRhLnR5cGUoby5UWVBFX01BSU5fQ09OVEVOVCksdGhpcy5fYWN0aXZlQXNzZXRJZD10aGlzLl9hc3NldERhdGEudmlkZW9JZCgpLHRoaXMuX2Fzc2V0RGF0YS5jaGFwdGVyRGF0YShudWxsKSl9LGUucHJvdG90eXBlLl9vbkFwaVNlZWtDb21wbGV0ZT1mdW5jdGlvbihhKXt0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaVNlZWtDb21wbGV0ZSgpXFxcIik7dmFyIGI9YS5kYXRhO2lmKHRoaXMuX2NoZWNrQ2FsbChcXFwiX29uQXBpU2Vla0NvbXBsZXRlXFxcIikmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwicGxheWhlYWRcXFwiXSkpe2lmKGIuaXNJbkFkKXtpZighdGhpcy5faW5wdXREYXRhVmFsaWRhdG9yLnZhbGlkYXRlRmllbGRzKGIsW1xcXCJhZElkXFxcIixcXFwiYWRQb3NpdGlvblxcXCIsXFxcInBvZFBvc2l0aW9uXFxcIixcXFwicG9kUGxheWVyTmFtZVxcXCJdKSlyZXR1cm47dmFyIGM9Zih0aGlzLl9hc3NldERhdGEudmlkZW9JZCgpKStcXFwiX1xcXCIrYi5wb2RQb3NpdGlvbjtpZih0aGlzLl9zdGFzaGVkQWREYXRhJiZ0aGlzLl9zdGFzaGVkQWREYXRhLnBvZElkKCk9PWMmJnBhcnNlSW50KHRoaXMuX3N0YXNoZWRBZERhdGEucG9kUG9zaXRpb24oKSwxMCk9PWIuYWRQb3NpdGlvbil0aGlzLl9hc3NldERhdGEuYWREYXRhKHRoaXMuX3N0YXNoZWRBZERhdGEpLHRoaXMuX2FjdGl2ZUFzc2V0SWQ9dGhpcy5fc3Rhc2hlZEFkRGF0YS5hZElkKCk7ZWxzZSBpZighdGhpcy5fYXNzZXREYXRhLmFkRGF0YSgpKXt0aGlzLl9hY3RpdmVBc3NldElkPWIuYWRJZDt2YXIgZD1uZXcgcjtkLmFkSWQodGhpcy5fYWN0aXZlQXNzZXRJZCksZC5hZE5hbWUoYi5hZE5hbWUpLGQuYWRMZW5ndGgoYi5hZExlbmd0aCksZC5wb2RJZChjKSxkLnJlc29sdmVyKGIucG9kUGxheWVyTmFtZSksZC5wb2RQb3NpdGlvbihiLnBvZFBvc2l0aW9uK1xcXCJcXFwiKSxkLnBvZE5hbWUoYi5wb2ROYW1lKSxkLnBvZE9mZnNldChiLnBvZFNlY29uZCksZC5zaWQodGhpcy5fZ2VuZXJhdGVTZXNzaW9uSWQoKSksdGhpcy5fYXNzZXREYXRhLmFkRGF0YShkKX10aGlzLl9hc3NldERhdGEudHlwZShvLlRZUEVfQUQpfWVsc2UgdGhpcy5fYXNzZXREYXRhLmFkRGF0YShudWxsKSx0aGlzLl9hc3NldERhdGEudHlwZShvLlRZUEVfTUFJTl9DT05URU5UKSx0aGlzLl9hY3RpdmVBc3NldElkPXRoaXMuX2Fzc2V0RGF0YS52aWRlb0lkKCk7aWYoYi5pc0luQ2hhcHRlcil7aWYoIXRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwiY2hhcHRlclBvc2l0aW9uXFxcIixcXFwiY2hhcHRlckxlbmd0aFxcXCIsXFxcImNoYXB0ZXJPZmZzZXRcXFwiXSkpcmV0dXJuO2lmKHRoaXMuX3N0YXNoZWRDaGFwdGVyRGF0YSYmYi5jaGFwdGVyUG9zaXRpb249PXRoaXMuX3N0YXNoZWRDaGFwdGVyRGF0YS5wb3NpdGlvbigpKXRoaXMuX2Fzc2V0RGF0YS5jaGFwdGVyRGF0YSh0aGlzLl9zdGFzaGVkQ2hhcHRlckRhdGEpO2Vsc2UgaWYoIXRoaXMuX2Fzc2V0RGF0YS5jaGFwdGVyRGF0YSgpKXt2YXIgZT1uZXcgcztlLmlkKGYodGhpcy5fYXNzZXREYXRhLnZpZGVvSWQoKSkrXFxcIl9cXFwiK2IuY2hhcHRlclBvc2l0aW9uKSxlLm5hbWUoYi5jaGFwdGVyTmFtZSksZS5sZW5ndGgoYi5jaGFwdGVyTGVuZ3RoKSxlLnBvc2l0aW9uKGIuY2hhcHRlclBvc2l0aW9uKSxlLm9mZnNldChiLmNoYXB0ZXJPZmZzZXQpLGUuc2lkKHRoaXMuX2dlbmVyYXRlU2Vzc2lvbklkKCkpLHRoaXMuX2Fzc2V0RGF0YS5jaGFwdGVyRGF0YShlKX19ZWxzZSB0aGlzLl9hc3NldERhdGEuY2hhcHRlckRhdGEobnVsbCk7dGhpcy5fc3Rhc2hlZEFkRGF0YT1udWxsLHRoaXMuX3N0YXNoZWRDaGFwdGVyRGF0YT1udWxsfX0sZS5wcm90b3R5cGUuX29uQXBpQWRTdGFydD1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGE7aWYodGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNfb25BcGlBZFN0YXJ0KGlkPVxcXCIrYi5hZElkK1xcXCIsIHBsYXllcl9uYW1lPVxcXCIrYi5wb2RQbGF5ZXJOYW1lK1xcXCIsIHBhcmVudF9uYW1lPVxcXCIrdGhpcy5fYXNzZXREYXRhLnZpZGVvSWQoKStcXFwiLCBwb2RfcG9zPVxcXCIrYi5hZFBvc2l0aW9uK1xcXCIpXFxcIiksdGhpcy5fY2hlY2tDYWxsKFxcXCJfb25BcGlBZFN0YXJ0XFxcIikmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwicGxheWhlYWRcXFwiLFxcXCJwb2RQb3NpdGlvblxcXCIsXFxcInBvZFBsYXllck5hbWVcXFwiLFxcXCJhZElkXFxcIixcXFwiYWRQb3NpdGlvblxcXCJdKSl7dGhpcy5fYWN0aXZlQXNzZXRJZD1iLmFkSWQ7dmFyIGM9bmV3IHI7Yy5hZElkKHRoaXMuX2FjdGl2ZUFzc2V0SWQpLGMuYWROYW1lKGIuYWROYW1lKSxjLmFkTGVuZ3RoKGIuYWRMZW5ndGgpLGMucmVzb2x2ZXIoYi5wb2RQbGF5ZXJOYW1lKSxjLnBvZElkKGYodGhpcy5fYXNzZXREYXRhLnZpZGVvSWQoKSkrXFxcIl9cXFwiK2IucG9kUG9zaXRpb24pLGMucG9kUG9zaXRpb24oYi5hZFBvc2l0aW9uK1xcXCJcXFwiKSxjLnBvZE5hbWUoYi5wb2ROYW1lKSxjLnBvZE9mZnNldChiLnBvZFNlY29uZCksYy5zaWQodGhpcy5fZ2VuZXJhdGVTZXNzaW9uSWQoKSksdGhpcy5fYXNzZXREYXRhLmFkRGF0YShjKSx0aGlzLl9hc3NldERhdGEudHlwZShvLlRZUEVfQUQpLHRoaXMuX3VwZGF0ZVFvU0luZm8oYik7dmFyIGQ9Zy5tZXJnZShiLm1ldGFWaWRlbyxiLm1ldGFBZCk7ZD1iLm1ldGFOaWVsc2VuP2cubWVyZ2UoZCxiLm1ldGFOaWVsc2VuKTpkO3ZhciBlPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX1NUQVJULGIucGxheWhlYWQsZCxiLl9ldmVudERhdGFbRV0pO3RoaXMuX3NlbmRIaXQoZSl9fSxlLnByb3RvdHlwZS5fb25BcGlBZENvbXBsZXRlPWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uQXBpQWRDb21wbGV0ZSgpXFxcIik7dmFyIGI9YS5kYXRhO2lmKHRoaXMuX2NoZWNrQ2FsbChcXFwiX29uQXBpQWRDb21wbGV0ZVxcXCIpJiZ0aGlzLl9pbnB1dERhdGFWYWxpZGF0b3IudmFsaWRhdGVGaWVsZHMoYixbXFxcInBsYXloZWFkXFxcIl0pKXtpZih0aGlzLl9hc3NldERhdGEudHlwZSgpIT1vLlRZUEVfQUQpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLndhcm4odyxcXFwiI19vbkFwaUFkQ29tcGxldGUoKSA+IElnbm9yaW5nIHRoZSBhZCBjb21wbGV0ZSBldmVudCwgYmVjYXVzZSB3ZSBhcmUgbm8gbG9uZ2VyIGluIGFuIGFkLlxcXCIpO3RoaXMuX3VwZGF0ZVFvU0luZm8oYik7dmFyIGM9bmV3IHQodGhpcyxuLkVWRU5UX1RZUEVfQ09NUExFVEUsYi5wbGF5aGVhZCxudWxsLGIuX2V2ZW50RGF0YVtFXSk7dGhpcy5fc2VuZEhpdChjKSx0aGlzLl9hc3NldERhdGEuYWREYXRhKG51bGwpLHRoaXMuX2Fzc2V0RGF0YS50eXBlKG8uVFlQRV9NQUlOX0NPTlRFTlQpLHRoaXMuX2FjdGl2ZUFzc2V0SWQ9dGhpcy5fYXNzZXREYXRhLnZpZGVvSWQoKX19LGUucHJvdG90eXBlLl9vbkFwaUNoYXB0ZXJTdGFydD1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGE7aWYodGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNfb25BcGlDaGFwdGVyU3RhcnQobmFtZT1cXFwiK2IuY2hhcHRlck5hbWUrXFxcIiwgbGVuZ3RoPVxcXCIrYi5jaGFwdGVyTGVuZ3RoK1xcXCIsIHBvc2l0aW9uPVxcXCIrYi5jaGFwdGVyUG9zaXRpb24rXFxcIiwgY2hhcHRlcl9vZmZzZXQ9XFxcIitiLmNoYXB0ZXJPZmZzZXQrXFxcIilcXFwiKSx0aGlzLl9jaGVja0NhbGwoXFxcIl9vbkFwaUNoYXB0ZXJTdGFydFxcXCIpJiZ0aGlzLl9pbnB1dERhdGFWYWxpZGF0b3IudmFsaWRhdGVGaWVsZHMoYixbXFxcInBsYXloZWFkXFxcIixcXFwiY2hhcHRlclBvc2l0aW9uXFxcIixcXFwiY2hhcHRlck9mZnNldFxcXCIsXFxcImNoYXB0ZXJMZW5ndGhcXFwiXSkpe3ZhciBjPW5ldyBzO2MuaWQoZih0aGlzLl9hc3NldERhdGEudmlkZW9JZCgpKStcXFwiX1xcXCIrYi5jaGFwdGVyUG9zaXRpb24pLGMubmFtZShiLmNoYXB0ZXJOYW1lKSxjLmxlbmd0aChiLmNoYXB0ZXJMZW5ndGgpLGMucG9zaXRpb24oYi5jaGFwdGVyUG9zaXRpb24pLGMub2Zmc2V0KGIuY2hhcHRlck9mZnNldCksYy5zaWQodGhpcy5fZ2VuZXJhdGVTZXNzaW9uSWQoKSksdGhpcy5fYXNzZXREYXRhLmNoYXB0ZXJEYXRhKGMpLHRoaXMuX3VwZGF0ZVFvU0luZm8oYik7dmFyIGQ9Zy5tZXJnZShiLm1ldGFWaWRlbyxiLm1ldGFDaGFwdGVyKSxlPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX0NIQVBURVJfU1RBUlQsYi5wbGF5aGVhZCxkLGIuX2V2ZW50RGF0YVtFXSk7ZS5hc3NldERhdGEuYWREYXRhKG51bGwpLGUuYXNzZXREYXRhLnR5cGUoby5UWVBFX01BSU5fQ09OVEVOVCksdGhpcy5fc2VuZEhpdChlKX19LGUucHJvdG90eXBlLl9vbkFwaUNoYXB0ZXJDb21wbGV0ZT1mdW5jdGlvbihhKXt0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaUNoYXB0ZXJDb21wbGV0ZSgpXFxcIik7dmFyIGI9YS5kYXRhO2lmKHRoaXMuX2NoZWNrQ2FsbChcXFwiX29uQXBpQ2hhcHRlckNvbXBsZXRlXFxcIikmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwicGxheWhlYWRcXFwiXSkpe2lmKCF0aGlzLl9hc3NldERhdGEuY2hhcHRlckRhdGEoKSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIud2Fybih3LFxcXCIjX29uQXBpQ2hhcHRlckNvbXBsZXRlKCkgPiBJZ25vcmluZyB0aGUgY2hhcHRlciBjb21wbGV0ZSBldmVudCwgYmVjYXVzZSB3ZSBhcmUgbm8gbG9uZ2VyIGluIGEgY2hhcHRlci5cXFwiKTt0aGlzLl91cGRhdGVRb1NJbmZvKGIpO3ZhciBjPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX0NIQVBURVJfQ09NUExFVEUsYi5wbGF5aGVhZCxudWxsLGIuX2V2ZW50RGF0YVtFXSk7Yy5hc3NldERhdGEuYWREYXRhKG51bGwpLGMuYXNzZXREYXRhLnR5cGUoby5UWVBFX01BSU5fQ09OVEVOVCksdGhpcy5fc2VuZEhpdChjKSx0aGlzLl9hc3NldERhdGEuY2hhcHRlckRhdGEobnVsbCl9fSxlLnByb3RvdHlwZS5fb25BcGlCaXRyYXRlQ2hhbmdlPWZ1bmN0aW9uKGEpe3RoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uQXBpQml0cmF0ZUNoYW5nZSgpXFxcIik7dmFyIGI9YS5kYXRhO2lmKHRoaXMuX2NoZWNrQ2FsbChcXFwiX29uQXBpQml0cmF0ZUNoYW5nZVxcXCIpJiZ0aGlzLl9pbnB1dERhdGFWYWxpZGF0b3IudmFsaWRhdGVGaWVsZHMoYixbXFxcInBsYXloZWFkXFxcIl0pKXt0aGlzLl91cGRhdGVRb1NJbmZvKGIpO3ZhciBjPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX0JJVFJBVEVfQ0hBTkdFLGIucGxheWhlYWQsbnVsbCxiLl9ldmVudERhdGFbRV0pO3RoaXMuX3NlbmRIaXQoYyl9fSxlLnByb3RvdHlwZS5fb25BcGlUcmFja0Vycm9yPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YTtpZih0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaVRyYWNrRXJyb3Ioc291cmNlPVxcXCIrYi5fZXZlbnREYXRhLnNvdXJjZStcXFwiLCBlcnJfaWQ9XFxcIitiLl9ldmVudERhdGEuZXJyb3JfaWQrXFxcIilcXFwiKSwhdGhpcy5faXNUcmFja2luZ1Nlc3Npb25BY3RpdmUpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLndhcm4odyxcXFwiI19vbkFwaVRyYWNrRXJyb3IoKSA+IE5vIGFjdGl2ZSB0cmFja2luZyBzZXNzaW9uLlxcXCIpO2lmKHRoaXMuX3RyYWNrRXh0ZXJuYWxFcnJvcnN8fGIuX2V2ZW50RGF0YS5zb3VyY2U9PT14KXt0aGlzLl91cGRhdGVRb1NJbmZvKGIpO3ZhciBjPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX0VSUk9SLDAsbnVsbCxiLl9ldmVudERhdGFbRV0pO2MuZXZlbnREYXRhLmlkKGIuX2V2ZW50RGF0YS5lcnJvcl9pZCksYy5ldmVudERhdGEuc291cmNlKGIuX2V2ZW50RGF0YS5zb3VyY2UpLHRoaXMuX3NlbmRIaXQoYyl9fSxlLnByb3RvdHlwZS5fb25BcGlUcmFja0ludGVybmFsRXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhO3RoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uQXBpVHJhY2tJbnRlcm5hbEVycm9yKHNvdXJjZT1cXFwiK2Iuc291cmNlK1xcXCIsIGVycl9pZD1cXFwiK2IuZXJyb3JfaWQrXFxcIilcXFwiKSx0aGlzLl91cGRhdGVRb1NJbmZvKGIpO3ZhciBjPW5ldyB0KHRoaXMsbi5FVkVOVF9UWVBFX0VSUk9SLDApO2MuZXZlbnREYXRhLmlkKGIuZXJyb3JfaWQpLGMuZXZlbnREYXRhLnNvdXJjZShiLnNvdXJjZSksdGhpcy5fc2VuZEhpdChjKX0sZS5wcm90b3R5cGUuX29uQXBpUXVhbnR1bUVuZD1mdW5jdGlvbihhKXt0aGlzLl9sb2dnZXIuZGVidWcodyxcXFwiI19vbkFwaVF1YW50dW1FbmQoaW50ZXJ2YWw9XFxcIit0aGlzLl9jaGFubmVsLnJlcXVlc3QoQikrXFxcIilcXFwiKTt2YXIgYj1hLmRhdGE7dGhpcy5fY2hlY2tDYWxsKFxcXCJfb25BcGlRdWFudHVtRW5kXFxcIikmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhiLFtcXFwicGxheWhlYWRcXFwiXSkmJih0aGlzLl9sYXN0SW5CYW5kSXRlbSYmKHRoaXMuX2xhc3RJbkJhbmRJdGVtLmV2ZW50RGF0YS5wbGF5aGVhZChiLnBsYXloZWFkKSx0aGlzLl91cGRhdGVRb1NJbmZvKGIpLHRoaXMuX2xhc3RJbkJhbmRJdGVtLnFvc0RhdGEuYml0cmF0ZSh0aGlzLl9xb3NEYXRhLmJpdHJhdGUoKSksdGhpcy5fbGFzdEluQmFuZEl0ZW0ucW9zRGF0YS5mcHModGhpcy5fcW9zRGF0YS5mcHMoKSksdGhpcy5fbGFzdEluQmFuZEl0ZW0ucW9zRGF0YS5kcm9wcGVkRnJhbWVzKHRoaXMuX3Fvc0RhdGEuZHJvcHBlZEZyYW1lcygpKSx0aGlzLl9sYXN0SW5CYW5kSXRlbS5xb3NEYXRhLnN0YXJ0dXBUaW1lKHRoaXMuX3Fvc0RhdGEuc3RhcnR1cFRpbWUoKSkpLHRoaXMuX3NlbmRIaXQodGhpcy5fbGFzdEluQmFuZEl0ZW0pKX0sZS5wcm90b3R5cGUuX29uTmV0d29ya0NoZWNrU3RhdHVzQ29tcGxldGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhO3RoaXMuX3RyYWNrRXh0ZXJuYWxFcnJvcnM9YltJXSx0aGlzLl9yZXBvcnRpbmdJbnRlcnZhbD1iW0pdLHRoaXMuX3JlcG9ydGluZ0ludGVydmFsfHwodGhpcy5fcmVwb3J0aW5nSW50ZXJ2YWw9ZmEpLHRoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX29uTmV0d29ya0NoZWNrU3RhdHVzQ29tcGxldGUodHJhY2tfZXh0X2Vycj1cXFwiK3RoaXMuX3RyYWNrRXh0ZXJuYWxFcnJvcnMrXFxcIilcXFwiKX0sZS5wcm90b3R5cGUuX29uUmVzZXRTZXNzaW9uSWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZ2VuZXJhdGVTZXNzaW9uSWQoKTt0aGlzLl9zZXNzaW9uRGF0YT1uZXcgaSx0aGlzLl9zZXNzaW9uRGF0YS5zZXNzaW9uSWQoYiksdGhpcy5fbG9nZ2VyLmRlYnVnKHcsXFxcIiNfcmVzZXRTZXNzaW9uSWQobmV3IHNlc3Npb25JZD1cXFwiK2IrXFxcIilcXFwiKX0sZS5wcm90b3R5cGUuX2luc3RhbGxFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMuX2NoYW5uZWwub24oSyx0aGlzLl9vbkFwaUFuYWx5dGljc1N0YXJ0LHRoaXMpLHRoaXMuX2NoYW5uZWwub24oTCx0aGlzLl9vbkFwaUFuYWx5dGljc0FkU3RhcnQsdGhpcyksdGhpcy5fY2hhbm5lbC5vbihNLHRoaXMuX29uQXBpVmlkZW9Mb2FkLHRoaXMpLHRoaXMuX2NoYW5uZWwub24oTix0aGlzLl9vbkFwaVZpZGVvVW5sb2FkLHRoaXMpLHRoaXMuX2NoYW5uZWwub24oTyx0aGlzLl9vbkFwaVZpZGVvU3RhcnQsdGhpcyksdGhpcy5fY2hhbm5lbC5vbihQLHRoaXMuX29uQXBpVmlkZW9Db21wbGV0ZSx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKFEsdGhpcy5fb25BcGlWaWRlb1Jlc3VtZSx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKFIsdGhpcy5fb25BcGlBZFN0YXJ0LHRoaXMpLHRoaXMuX2NoYW5uZWwub24oUyx0aGlzLl9vbkFwaUFkQ29tcGxldGUsdGhpcyksdGhpcy5fY2hhbm5lbC5vbihULHRoaXMuX29uQXBpUGxheSx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKFUsdGhpcy5fb25BcGlQYXVzZSx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKFYsdGhpcy5fb25BcGlCdWZmZXJTdGFydCx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKFcsdGhpcy5fb25BcGlTZWVrU3RhcnQsdGhpcyksdGhpcy5fY2hhbm5lbC5vbihYLHRoaXMuX29uQXBpU2Vla0NvbXBsZXRlLHRoaXMpLHRoaXMuX2NoYW5uZWwub24oWSx0aGlzLl9vbkFwaUNoYXB0ZXJTdGFydCx0aGlzKSx0aGlzLl9jaGFubmVsLm9uKFosdGhpcy5fb25BcGlDaGFwdGVyQ29tcGxldGUsdGhpcyksdGhpcy5fY2hhbm5lbC5vbihhYSx0aGlzLl9vbkFwaUJpdHJhdGVDaGFuZ2UsdGhpcyksdGhpcy5fY2hhbm5lbC5vbigkLHRoaXMuX29uQXBpVHJhY2tFcnJvcix0aGlzKSx0aGlzLl9jaGFubmVsLm9uKF8sdGhpcy5fb25BcGlUcmFja0ludGVybmFsRXJyb3IsdGhpcyksdGhpcy5fY2hhbm5lbC5vbihiYSx0aGlzLl9vbkFwaVF1YW50dW1FbmQsdGhpcyksdGhpcy5fY2hhbm5lbC5vbihkYSx0aGlzLl9vbk5ldHdvcmtDaGVja1N0YXR1c0NvbXBsZXRlLHRoaXMpLHRoaXMuX2NoYW5uZWwub24oRCx0aGlzLl9vblJlc2V0U2Vzc2lvbklkLHRoaXMpLHRoaXMuX2NoYW5uZWwucmVwbHkoQyxmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXNzaW9uRGF0YSYmdGhpcy5fc2Vzc2lvbkRhdGEuc2Vzc2lvbklkKCk/dGhpcy5fc2Vzc2lvbkRhdGEuc2Vzc2lvbklkKCk6bnVsbH0sdGhpcyl9LGUucHJvdG90eXBlLl91bmluc3RhbGxFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMuX2NoYW5uZWwub2ZmKG51bGwsbnVsbCx0aGlzKX0sZS5wcm90b3R5cGUuX3Jlc2V0SW50ZXJuYWxTdGF0ZT1mdW5jdGlvbigpe3RoaXMuX2xvZ2dlci5kZWJ1Zyh3LFxcXCIjX3Jlc2V0SW50ZXJuYWxTdGF0ZSgpXFxcIiksdGhpcy5faXNUcmFja2luZ1Nlc3Npb25BY3RpdmU9ITEsdGhpcy5faXNWaWRlb0NvbXBsZXRlPSExLHRoaXMuX2F1dG9Db21wdXRlZFN0YXJ0dXBUaW1lPTAsdGhpcy5fc3RyZWFtRGF0YT1uZXcgcCx0aGlzLl9xb3NEYXRhPW5ldyBxLHRoaXMuX3Nlc3Npb25EYXRhPW5ldyBpLHRoaXMuX2Fzc2V0RGF0YT1uZXcgbyx0aGlzLl9jdXNlckRhdGE9bnVsbCx0aGlzLl9zdGFzaGVkQWREYXRhPW51bGwsdGhpcy5fc3Rhc2hlZENoYXB0ZXJEYXRhPW51bGwsdGhpcy5fbGFzdEluQmFuZEl0ZW09bnVsbH0sZS5wcm90b3R5cGUuX2dlbmVyYXRlU2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIlxcXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrTWF0aC5mbG9vcigxZTkqTWF0aC5yYW5kb20oKSl9LGUucHJvdG90eXBlLl91cGRhdGVRb1NJbmZvPWZ1bmN0aW9uKGEpe3RoaXMuX3Fvc0RhdGEuYml0cmF0ZShhLmJpdHJhdGV8fDApLHRoaXMuX3Fvc0RhdGEuZnBzKGEuZnBzfHwwKSx0aGlzLl9xb3NEYXRhLmRyb3BwZWRGcmFtZXMoYS5kcm9wcGVkRnJhbWVzfHwwKSxudWxsPT1hLnN0YXJ0dXBUaW1lfHxpc05hTihhLnN0YXJ0dXBUaW1lKT8odGhpcy5fcW9zRGF0YS5zdGFydHVwVGltZSh0aGlzLl9hdXRvQ29tcHV0ZWRTdGFydHVwVGltZSksdGhpcy5fcW9zRGF0YS5pc1N0YXJ0dXBUaW1lT3ZlcnJpZGRlbj0hMSk6KHRoaXMuX3Fvc0RhdGEuc3RhcnR1cFRpbWUoYS5zdGFydHVwVGltZSksdGhpcy5fcW9zRGF0YS5pc1N0YXJ0dXBUaW1lT3ZlcnJpZGRlbj0hMCl9LGUucHJvdG90eXBlLl9jaGVja0NhbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2lzVHJhY2tpbmdTZXNzaW9uQWN0aXZlPyF0aGlzLl9pc1ZpZGVvQ29tcGxldGV8fCh0aGlzLl9sb2dnZXIud2Fybih3LFxcXCIjXFxcIithK1xcXCIoKSA+IFRoZSB2aWRlbyBjb250ZW50IGFscmVhZHkgY29tcGxldGVkLlxcXCIpLCExKToodGhpcy5fbG9nZ2VyLndhcm4odyxcXFwiI1xcXCIrYStcXFwiKCkgPiBObyBhY3RpdmUgdHJhY2tpbmcgc2Vzc2lvbi5cXFwiKSwhMSl9LGUucHJvdG90eXBlLl91cGRhdGVMYXN0SW5CYW5kSXRlbT1mdW5jdGlvbihhKXt2YXIgYj0obmV3IERhdGUpLmdldFRpbWUoKSxjPTFlMypNYXRoLmFicyhhLmV2ZW50RGF0YS5wbGF5aGVhZCgpLXRoaXMuX2xhc3RJbkJhbmRJdGVtLmV2ZW50RGF0YS5wbGF5aGVhZCgpKSxkPU1hdGguYWJzKGItdGhpcy5fbGFzdEluQmFuZEl0ZW0uZXZlbnREYXRhLnRzKCkpO3RoaXMuX2xhc3RJbkJhbmRJdGVtLmV2ZW50RGF0YS50eXBlKCkhPW4uRVZFTlRfVFlQRV9QQVVTRSYmdGhpcy5fbGFzdEluQmFuZEl0ZW0uZXZlbnREYXRhLnR5cGUoKSE9bi5FVkVOVF9UWVBFX1NUQUxMPyhjPD1kKmVhfHx0aGlzLl9kb05vdE92ZXJyaWRlRXZlbnREdXJhdGlvbikmJmQ8PXRoaXMuX3JlcG9ydGluZ0ludGVydmFsKmVhKjFlMz90aGlzLl9sYXN0SW5CYW5kSXRlbS5ldmVudERhdGEuZHVyYXRpb24oYi10aGlzLl9sYXN0SW5CYW5kSXRlbS5ldmVudERhdGEudHMoKSk6KHRoaXMuX2xvZ2dlci53YXJuKHcsXFxcIltXQVJOSU5HXSBSZXNldHRpbmcgZHVyYXRpb24gaW4gbGFzdEluQmFuZEl0ZW0gdG8gMC4gcGxheWhlYWREZWx0YTpcXFwiK2MrXFxcIiB0c0RlbHRhOlxcXCIrZCtcXFwiIGV2ZW50IHR5cGU6XFxcIit0aGlzLl9sYXN0SW5CYW5kSXRlbS5ldmVudERhdGEudHlwZSgpKSx0aGlzLl9sYXN0SW5CYW5kSXRlbS5ldmVudERhdGEuZHVyYXRpb24oMCkpOnRoaXMuX2xhc3RJbkJhbmRJdGVtLmV2ZW50RGF0YS5kdXJhdGlvbihiLXRoaXMuX2xhc3RJbkJhbmRJdGVtLmV2ZW50RGF0YS50cygpKSx0aGlzLl9kb05vdE92ZXJyaWRlRXZlbnREdXJhdGlvbiYmKHRoaXMuX2RvTm90T3ZlcnJpZGVFdmVudER1cmF0aW9uPSExKSx0aGlzLl9sYXN0SW5CYW5kSXRlbS5ldmVudERhdGEudHMoYiksdGhpcy5fbGFzdEluQmFuZEl0ZW0uZXZlbnREYXRhLnBsYXloZWFkKGEuZXZlbnREYXRhLnBsYXloZWFkKCkpLHRoaXMuX2xhc3RJbkJhbmRJdGVtLnFvc0RhdGEuc3RhcnR1cFRpbWUoYS5xb3NEYXRhLnN0YXJ0dXBUaW1lKCkpLHRoaXMuX2xhc3RJbkJhbmRJdGVtLnFvc0RhdGEuaXNTdGFydHVwVGltZU92ZXJyaWRkZW49YS5xb3NEYXRhLmlzU3RhcnR1cFRpbWVPdmVycmlkZGVufSxlLnByb3RvdHlwZS5fc2VuZEhpdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWMuX3JlcG9ydEZhY3RvcnkuY3JlYXRlUmVwb3J0Rm9ySXRlbShhKTtiLnFvc0RhdGEuaXNTdGFydHVwVGltZU92ZXJyaWRkZW58fGIucW9zRGF0YS5zdGFydHVwVGltZShjLl9hdXRvQ29tcHV0ZWRTdGFydHVwVGltZSk7dmFyIGU9e307ZVtHXT1iLGMuX2NoYW5uZWwudHJpZ2dlcihuZXcgaChjYSxlKSksYi5ldmVudERhdGEudHlwZSgpIT1uLkVWRU5UX1RZUEVfUExBWSYmYi5ldmVudERhdGEudHlwZSgpIT1uLkVWRU5UX1RZUEVfQlVGRkVSJiZiLmV2ZW50RGF0YS50eXBlKCkhPW4uRVZFTlRfVFlQRV9TVEFSVHx8KGQ9e30sZFtIXT0hMCxjLl9jaGFubmVsLmNvbW1hbmQoeixkKSl9dmFyIGM9dGhpcyxkPXt9O3N3aXRjaChhLmV2ZW50RGF0YS50eXBlKCkpe2Nhc2Ugbi5FVkVOVF9UWVBFX1NUQVJUOmNhc2Ugbi5FVkVOVF9UWVBFX1BMQVk6Y2FzZSBuLkVWRU5UX1RZUEVfUEFVU0U6Y2FzZSBuLkVWRU5UX1RZUEVfU1RBTEw6Y2FzZSBuLkVWRU5UX1RZUEVfQlVGRkVSOnRoaXMuX2xhc3RJbkJhbmRJdGVtJiYodGhpcy5fdXBkYXRlTGFzdEluQmFuZEl0ZW0oYSksdGhpcy5fbGFzdEluQmFuZEl0ZW0uZXZlbnREYXRhLnR5cGUoKT09bi5FVkVOVF9UWVBFX1NUQVJUJiZ0aGlzLl9sYXN0SW5CYW5kSXRlbS5hc3NldERhdGEudHlwZSgpPT1vLlRZUEVfTUFJTl9DT05URU5UJiYodGhpcy5fYXV0b0NvbXB1dGVkU3RhcnR1cFRpbWUrPXRoaXMuX2xhc3RJbkJhbmRJdGVtLmV2ZW50RGF0YS5kdXJhdGlvbigpKSxhIT10aGlzLl9sYXN0SW5CYW5kSXRlbSYmYih0aGlzLl9sYXN0SW5CYW5kSXRlbSkpLGIoYSksdGhpcy5fbGFzdEluQmFuZEl0ZW09YSxkPXt9LGRbSF09ITAsdGhpcy5fY2hhbm5lbC5jb21tYW5kKHosZCk7YnJlYWs7Y2FzZSBuLkVWRU5UX1RZUEVfQ09NUExFVEU6dGhpcy5fbGFzdEluQmFuZEl0ZW0mJihhLmFzc2V0RGF0YS50eXBlKCk9PW8uVFlQRV9BRCYmKHRoaXMuX2RvTm90T3ZlcnJpZGVFdmVudER1cmF0aW9uPSEwKSx0aGlzLl91cGRhdGVMYXN0SW5CYW5kSXRlbShhKSxiKHRoaXMuX2xhc3RJbkJhbmRJdGVtKSksYihhKSxhLmFzc2V0RGF0YS50eXBlKCk9PW8uVFlQRV9NQUlOX0NPTlRFTlQ/KHRoaXMuX2xhc3RJbkJhbmRJdGVtPW51bGwsZD17fSxkW0hdPSEwLHRoaXMuX2NoYW5uZWwuY29tbWFuZChBLGQpKTphLmFzc2V0RGF0YS50eXBlKCk9PW8uVFlQRV9BRCYmKHRoaXMuX2xhc3RJbkJhbmRJdGVtLmFzc2V0RGF0YS5hZERhdGEobnVsbCksdGhpcy5fbGFzdEluQmFuZEl0ZW0uYXNzZXREYXRhLnR5cGUoby5UWVBFX01BSU5fQ09OVEVOVCksdGhpcy5fZG9Ob3RPdmVycmlkZUV2ZW50RHVyYXRpb249ITApO2JyZWFrO2Nhc2Ugbi5FVkVOVF9UWVBFX0NIQVBURVJfU1RBUlQ6Y2FzZSBuLkVWRU5UX1RZUEVfQ0hBUFRFUl9DT01QTEVURTp0aGlzLl9sYXN0SW5CYW5kSXRlbSYmKHRoaXMuX3VwZGF0ZUxhc3RJbkJhbmRJdGVtKGEpLGIodGhpcy5fbGFzdEluQmFuZEl0ZW0pKSxiKGEpLHRoaXMuX2xhc3RJbkJhbmRJdGVtJiYodGhpcy5fbGFzdEluQmFuZEl0ZW0uYXNzZXREYXRhLmNoYXB0ZXJEYXRhKGEuZXZlbnREYXRhLnR5cGUoKT09bi5FVkVOVF9UWVBFX0NIQVBURVJfU1RBUlQ/bmV3IHMoYS5hc3NldERhdGEuY2hhcHRlckRhdGEoKSk6bnVsbCksdGhpcy5fbGFzdEluQmFuZEl0ZW0uZXZlbnREYXRhLmR1cmF0aW9uKDApLGIodGhpcy5fbGFzdEluQmFuZEl0ZW0pKTticmVhaztkZWZhdWx0OmIoYSl9fTt2YXIgdz1cXFwiYWg6OkNvbnRleHRcXFwiLHg9XFxcInNvdXJjZUVycm9yU0RLXFxcIix5PVxcXCJlcnJvclxcXCIsej1cXFwiY2xvY2s6cmVwb3J0aW5nLnJlc3VtZVxcXCIsQT1cXFwiY2xvY2s6cmVwb3J0aW5nLnBhdXNlXFxcIixCPVxcXCJyZXBvcnRpbmdfaW50ZXJ2YWxcXFwiLEM9XFxcInNlc3Npb25faWRcXFwiLEQ9XFxcInJlc2V0X3Nlc3Npb25faWRcXFwiLEU9XFxcImNhbGxiYWNrXFxcIixGPVxcXCJmaWx0ZXJfcmVwb3J0XFxcIixHPVxcXCJyZXBvcnRcXFwiLEg9XFxcInJlc2V0XFxcIixJPVxcXCJ0cmFja19leHRlcm5hbF9lcnJvcnNcXFwiLEo9XFxcInJlcG9ydGluZ19pbnRlcnZhbFxcXCIsSz1cXFwiYXBpOmFhX3N0YXJ0XFxcIixMPVxcXCJhcGk6YWFfYWRfc3RhcnRcXFwiLE09XFxcImFwaTp2aWRlb19sb2FkXFxcIixOPVxcXCJhcGk6dmlkZW9fdW5sb2FkXFxcIixPPVxcXCJhcGk6dmlkZW9fc3RhcnRcXFwiLFA9XFxcImFwaTp2aWRlb19jb21wbGV0ZVxcXCIsUT1cXFwiYXBpOnZpZGVvX3Jlc3VtZVxcXCIsUj1cXFwiYXBpOmFkX3N0YXJ0XFxcIixTPVxcXCJhcGk6YWRfY29tcGxldGVcXFwiLFQ9XFxcImFwaTpwbGF5XFxcIixVPVxcXCJhcGk6cGF1c2VcXFwiLFY9XFxcImFwaTpidWZmZXJfc3RhcnRcXFwiLFc9XFxcImFwaTpzZWVrX3N0YXJ0XFxcIixYPVxcXCJhcGk6c2Vla19jb21wbGV0ZVxcXCIsWT1cXFwiYXBpOmNoYXB0ZXJfc3RhcnRcXFwiLFo9XFxcImFwaTpjaGFwdGVyX2NvbXBsZXRlXFxcIiwkPVxcXCJhcGk6dHJhY2tfZXJyb3JcXFwiLF89XFxcImFwaTp0cmFja19pbnRlcm5hbF9lcnJvclxcXCIsYWE9XFxcImFwaTpiaXRyYXRlX2NoYW5nZVxcXCIsYmE9XFxcImFwaTpxdWFudHVtX2VuZFxcXCIsY2E9XFxcImNvbnRleHQ6cmVwb3J0X2F2YWlsYWJsZVxcXCIsZGE9XFxcIm5ldDpjaGVja19zdGF0dXNfY29tcGxldGVcXFwiLGVhPTEuNSxmYT0xMDtkLmNvbnRleHQuQ29udGV4dD1lfShhLkFEQi5jb3JlLGEuQURCLnZhLGEuQURCLnZhLnV0aWxzLGIpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKGEsYil7dGhpcy50cmFja2luZ1NlcnZlcj1hLHRoaXMucHVibGlzaGVyPWIsdGhpcy5zc2w9ITEsdGhpcy5vdnA9Yyx0aGlzLnNkaz1jLHRoaXMucXVpZXRNb2RlPSExLHRoaXMuZGVidWdMb2dnaW5nPSExLHRoaXMuX19pc1ByaW1ldGltZT0hMSx0aGlzLl9fcHNka1ZlcnNpb249bnVsbH12YXIgYz1cXFwidW5rbm93blxcXCI7YS5BZG9iZUhlYXJ0YmVhdFBsdWdpbkNvbmZpZz1ifShiKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe31iLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGEpe30sYS5BZG9iZUhlYXJ0YmVhdFBsdWdpbkRlbGVnYXRlPWJ9KGIpLGZ1bmN0aW9uKGEsYixjKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gZChhKXtkLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMscSksdGhpcy5fcmFkaW89bmV3IGkodGhpcy5fbG9nZ2VyKSx0aGlzLl9jaGFubmVsPXRoaXMuX3JhZGlvLmNoYW5uZWwoeSksdGhpcy5fZGVsZWdhdGU9YSx0aGlzLl9jb250ZXh0PW5ldyBsKHRoaXMuX2NoYW5uZWwsdGhpcy5fbG9nZ2VyKSx0aGlzLl9maWx0ZXI9bmV3IG0odGhpcy5fY2hhbm5lbCx0aGlzLl9sb2dnZXIpLHRoaXMuX25ldHdvcms9bmV3IG4odGhpcy5fY2hhbm5lbCx0aGlzLl9sb2dnZXIpLHRoaXMuX3NldHVwRGF0YVJlc29sdmVyKCl9dmFyIGU9YS5FdmVudCxmPWEuVHJpZ2dlcixnPWEucGx1Z2luLkJhc2VQbHVnaW4saD1hLnBsdWdpbi5QYXJhbU1hcHBpbmcsaT1hLnJhZGlvLlJhZGlvLGo9Yi5FcnJvckluZm8saz1iLlZlcnNpb24sbD1jLmNvbnRleHQuQ29udGV4dCxtPWMuZmlsdGVyLlJlcG9ydEZpbHRlcixuPWMubmV0d29yay5OZXR3b3JrLG89Yy5jbG9jay5DbG9jayxwPWMuQWRvYmVIZWFydGJlYXRQbHVnaW5Db25maWc7YS5leHRlbmQoZCxnKSxkLnByb3RvdHlwZS5jb25maWd1cmU9ZnVuY3Rpb24oYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFxcXCJSZWZlcmVuY2UgdG8gdGhlIGNvbmZpZ3VyYXRpb24gZGF0YSBjYW5ub3QgYmUgTlVMTC5cXFwiKTtpZighKGEgaW5zdGFuY2VvZiBwKSl0aHJvdyBuZXcgRXJyb3IoXFxcIkV4cGVjdGVkIGNvbmZpZyBkYXRhIHRvIGJlIGluc3RhbmNlIG9mIEFkb2JlSGVhcnRiZWF0UGx1Z2luQ29uZmlnLlxcXCIpO3RoaXMuX2NvbmZpZz1hLHRoaXMuX2NvbmZpZy5kZWJ1Z0xvZ2dpbmc/dGhpcy5fbG9nZ2VyLmVuYWJsZSgpOnRoaXMuX2xvZ2dlci5kaXNhYmxlKCksdGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI2NvbmZpZ3VyZSh7dHJhY2tpbmdTZXJ2ZXI9XFxcIit0aGlzLl9jb25maWcudHJhY2tpbmdTZXJ2ZXIrXFxcIiwgcHVibGlzaGVyPVxcXCIrdGhpcy5fY29uZmlnLnB1Ymxpc2hlcitcXFwiLCBxdWlldE1vZGU9XFxcIit0aGlzLl9jb25maWcucXVpZXRNb2RlK1xcXCIsIHNzbD1cXFwiK3RoaXMuX2NvbmZpZy5zc2wrXFxcIn0pXFxcIik7dmFyIGI9dGhpcy5fY29uZmlnLnRyYWNraW5nU2VydmVyK1xcXCIvc2V0dGluZ3MvXFxcIixjPXt9O2NbYmFdPXRoaXMuX2NvbmZpZy50cmFja2luZ1NlcnZlcixjW2NhXT1iLGNbZGFdPXRoaXMuX2NvbmZpZy5wdWJsaXNoZXIsY1tlYV09dGhpcy5fY29uZmlnLnF1aWV0TW9kZSxjW2ZhXT10aGlzLl9jb25maWcuc3NsLHRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShqYSxjKSksdGhpcy5faXNDb25maWd1cmVkPSEwfSxkLnByb3RvdHlwZS5ib290c3RyYXA9ZnVuY3Rpb24oYSl7ZC5fX3N1cGVyX18uYm9vdHN0cmFwLmNhbGwodGhpcyxhKSx0aGlzLl9jaGFubmVsLm9uKHosdGhpcy5fb25FcnJvcix0aGlzKSx0aGlzLl9jbG9jaz1uZXcgbyh0aGlzLl9wbHVnaW5NYW5hZ2VyLHRoaXMuX2NoYW5uZWwsdGhpcy5fbG9nZ2VyKSx0aGlzLl9jaGFubmVsLmNvbW1hbmQoRWEpLHRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShMYSkpLHRoaXMuX3JlZ2lzdGVyQ29tbWFuZHMoKSx0aGlzLl9yZWdpc3RlckJlaGF2aW91cnMoKX0sZC5wcm90b3R5cGUuX3RlYXJkb3duPWZ1bmN0aW9uKCl7dGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI190ZWFyZG93bigpXFxcIiksdGhpcy5fcmFkaW8uc2h1dGRvd24oKSx0aGlzLl9jb250ZXh0LmRlc3Ryb3koKSx0aGlzLl9jbG9jay5kZXN0cm95KCksdGhpcy5fZmlsdGVyLmRlc3Ryb3koKSx0aGlzLl9uZXR3b3JrLmRlc3Ryb3koKX0sZC5wcm90b3R5cGUuX2NhblByb2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb25maWd1cmVkP3RoaXMuX2Vycm9ySW5mbz8odGhpcy5fbG9nZ2VyLmVycm9yKHRoaXMuX2xvZ1RhZyxcXFwiX2NhblByb2Nlc3MoKSA+IFBsdWdpbiBpbiBFUlJPUiBzdGF0ZS5cXFwiKSwhMSk6ZC5fX3N1cGVyX18uX2NhblByb2Nlc3MuY2FsbCh0aGlzKToodGhpcy5fbG9nZ2VyLmVycm9yKHRoaXMuX2xvZ1RhZyxcXFwiX2NhblByb2Nlc3MoKSA+IFBsdWdpbiBub3QgY29uZmlndXJlZC5cXFwiKSwhMSl9LGQucHJvdG90eXBlLl9jbWRBbmFseXRpY3NFcnJvcj1mdW5jdGlvbihhKXt0aGlzLl9lcnJvckluZm98fCh0aGlzLl9lcnJvckluZm89bmV3IGooXFxcIkludGVybmFsIGVycm9yXFxcIixcXFwiQWRvYmVBbmFseXRpY3NQbHVnaW4gaXMgaW4gRVJST1Igc3RhdGUuXFxcIiksdGhpcy5fdHJpZ2dlcih6LHRoaXMuX2Vycm9ySW5mbyksdGhpcy5fZGVsZWdhdGUmJnRoaXMuX2RlbGVnYXRlLm9uRXJyb3IodGhpcy5fZXJyb3JJbmZvKSl9LGQucHJvdG90eXBlLl9jbWRBbmFseXRpY3NTdGFydD1mdW5jdGlvbihhKXtpZih0aGlzLl9jYW5Qcm9jZXNzKCkpe3ZhciBiPXt9O2JbZ2FdPWEudmlzaXRvck9wdGVkT3V0LHRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShrYSxiKSksdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKGhhLGEpKX19LGQucHJvdG90eXBlLl9jbWRBbmFseXRpY3NBZFN0YXJ0PWZ1bmN0aW9uKGEpe3RoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKGlhLGEpKX0sZC5wcm90b3R5cGUuX2NtZFZpZGVvTG9hZD1mdW5jdGlvbihhKXt0aGlzLl9lcnJvckluZm89bnVsbCx0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZSYmdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKG1hLGEpKSx0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZT0hMSx0aGlzLl9pc1BhdXNlZD0hMCx0aGlzLl9pc1NlZWtpbmc9ITEsdGhpcy5faXNCdWZmZXJpbmc9ITEsdGhpcy5faXNWaWRlb0lkbGU9ITEsdGhpcy5fZmlsdGVyLmNsZWFyKCksdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKGxhLGEpKSx0aGlzLl9pc1RyYWNraW5nU2Vzc2lvbkFjdGl2ZT0hMCl9LGQucHJvdG90eXBlLl9jbWRWaWRlb1VubG9hZD1mdW5jdGlvbihhKXt0aGlzLl9lcnJvckluZm89bnVsbCx0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGUobWEsYSkpLHRoaXMuX2ZpbHRlci5mbHVzaCgpLHRoaXMuX3J1blJlcG9ydGluZ1RpbWVyKCExKSx0aGlzLl9ydW5GbHVzaEZpbHRlclRpbWVyKCExKSx0aGlzLl9ydW5JZGxlVGltZXIoITEpLHRoaXMuX2lzVHJhY2tpbmdTZXNzaW9uQWN0aXZlPSExKX0sZC5wcm90b3R5cGUuX2NtZFZpZGVvU3RhcnQ9ZnVuY3Rpb24oYSl7dGhpcy5fY2FuUHJvY2VzcygpJiZ0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGUobmEsYSkpfSxkLnByb3RvdHlwZS5fY21kVmlkZW9Db21wbGV0ZT1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShvYSxhKSl9LGQucHJvdG90eXBlLl9jbWRWaWRlb1Jlc3VtZT1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShwYSxhKSl9LGQucHJvdG90eXBlLl9jbWRQbGF5PWZ1bmN0aW9uKGEpe3RoaXMuX2NhblByb2Nlc3MoKSYmKHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3Jlc3VtZVBsYXliYWNrSWZQb3NzaWJsZShhKSl9LGQucHJvdG90eXBlLl9jbWRQYXVzZT1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGUodGEsYSkpLHRoaXMuX2lzUGF1c2VkPSEwLHRoaXMuX3J1bklkbGVUaW1lcighMCkpfSxkLnByb3RvdHlwZS5fY21kQWRTdGFydD1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGUocWEsYSkpLHRoaXMuX3Jlc3VtZVBsYXliYWNrSWZQb3NzaWJsZShhKSl9LGQucHJvdG90eXBlLl9jbWRBZENvbXBsZXRlPWZ1bmN0aW9uKGEpe3RoaXMuX2NhblByb2Nlc3MoKSYmKHRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShyYSxhKSksYS5pc0luQWRCcmVha3x8dGhpcy5fcmVzdW1lUGxheWJhY2tJZlBvc3NpYmxlKGEpKX0sZC5wcm90b3R5cGUuX2NtZEJ1ZmZlclN0YXJ0PWZ1bmN0aW9uKGEpe3RoaXMuX2NhblByb2Nlc3MoKSYmKHRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZSh1YSxhKSksdGhpcy5faXNCdWZmZXJpbmc9ITAsdGhpcy5fcnVuSWRsZVRpbWVyKCEwKSl9LGQucHJvdG90eXBlLl9jbWRCdWZmZXJDb21wbGV0ZT1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl9pc0J1ZmZlcmluZz0hMSx0aGlzLl9yZXN1bWVQbGF5YmFja0lmUG9zc2libGUoYSkpfSxkLnByb3RvdHlwZS5fY21kU2Vla1N0YXJ0PWZ1bmN0aW9uKGEpe3RoaXMuX2NhblByb2Nlc3MoKSYmKHRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZSh2YSxhKSksdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKHRhLGEpKSx0aGlzLl9pc1NlZWtpbmc9ITAsdGhpcy5fcnVuSWRsZVRpbWVyKCEwKSl9LGQucHJvdG90eXBlLl9jbWRTZWVrQ29tcGxldGU9ZnVuY3Rpb24oYSl7dGhpcy5fY2FuUHJvY2VzcygpJiYodGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKHdhLGEpKSx0aGlzLl9pc1NlZWtpbmc9ITEsdGhpcy5fcmVzdW1lUGxheWJhY2tJZlBvc3NpYmxlKGEpKX0sZC5wcm90b3R5cGUuX2NtZENoYXB0ZXJTdGFydD1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZSh4YSxhKSl9LGQucHJvdG90eXBlLl9jbWRDaGFwdGVyQ29tcGxldGU9ZnVuY3Rpb24oYSl7dGhpcy5fY2FuUHJvY2VzcygpJiZ0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGUoeWEsYSkpfSxkLnByb3RvdHlwZS5fY21kQml0cmF0ZUNoYW5nZT1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShCYSxhKSl9LGQucHJvdG90eXBlLl9jbWRUcmFja0Vycm9yPWZ1bmN0aW9uKGEpe3RoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKHphLGEpKX0sZC5wcm90b3R5cGUuX2NtZENsb2NrUmVwb3J0aW5nVGljaz1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX2NoYW5uZWwudHJpZ2dlcihuZXcgZShDYSxhKSl9LGQucHJvdG90eXBlLl9jbWRJZGxlVGljaz1mdW5jdGlvbihhKXt0aGlzLl9jYW5Qcm9jZXNzKCkmJih0aGlzLl9pc1ZpZGVvSWRsZT0hMCx0aGlzLl90cmlnZ2VyKFYpLHRoaXMuX2ZpbHRlci5mbHVzaCgpLHRoaXMuX3J1blJlcG9ydGluZ1RpbWVyKCExKSx0aGlzLl9ydW5GbHVzaEZpbHRlclRpbWVyKCExKSx0aGlzLl9ydW5JZGxlVGltZXIoITEpLHRoaXMuX3RyaWdnZXIoVCkpfSxkLnByb3RvdHlwZS5fb25FcnJvcj1mdW5jdGlvbihhKXt0aGlzLl9lcnJvckluZm89YS5kYXRhO3ZhciBiPXt9O2JbX109RGEsYlthYV09dGhpcy5fZXJyb3JJbmZvLmdldE1lc3NhZ2UoKStcXFwifFxcXCIrdGhpcy5fZXJyb3JJbmZvLmdldERldGFpbHMoKSx0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGUoQWEsYikpLHRoaXMuX3J1blJlcG9ydGluZ1RpbWVyKCExKSx0aGlzLl90cmlnZ2VyKHosdGhpcy5fZXJyb3JJbmZvKSx0aGlzLl9kZWxlZ2F0ZSYmdGhpcy5fZGVsZWdhdGUub25FcnJvcih0aGlzLl9lcnJvckluZm8pfSxkLnByb3RvdHlwZS5fcnVuSWRsZVRpbWVyPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2JbJF09ITAsYT90aGlzLl9jaGFubmVsLmNvbW1hbmQoSmEsYik6dGhpcy5fY2hhbm5lbC5jb21tYW5kKEthLGIpfSxkLnByb3RvdHlwZS5fcnVuRmx1c2hGaWx0ZXJUaW1lcj1mdW5jdGlvbihhKXt2YXIgYj17fTtiWyRdPSEwLGE/dGhpcy5fY2hhbm5lbC5jb21tYW5kKEhhLGIpOnRoaXMuX2NoYW5uZWwuY29tbWFuZChJYSxiKX0sZC5wcm90b3R5cGUuX3J1blJlcG9ydGluZ1RpbWVyPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2JbJF09ITAsYT90aGlzLl9jaGFubmVsLmNvbW1hbmQoRmEsYik6dGhpcy5fY2hhbm5lbC5jb21tYW5kKEdhLGIpfSxkLnByb3RvdHlwZS5fcmVnaXN0ZXJDb21tYW5kcz1mdW5jdGlvbigpe3RoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsXFxcImhhbmRsZUFuYWx5dGljc0Vycm9yXFxcIix0aGlzLl9jbWRBbmFseXRpY3NFcnJvciksdGhpcy5fcGx1Z2luTWFuYWdlci5jb21wbHkodGhpcyxcXFwiaGFuZGxlQW5hbHl0aWNzU3RhcnRcXFwiLHRoaXMuX2NtZEFuYWx5dGljc1N0YXJ0KSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVBbmFseXRpY3NBZFN0YXJ0XFxcIix0aGlzLl9jbWRBbmFseXRpY3NBZFN0YXJ0KSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVWaWRlb0xvYWRcXFwiLHRoaXMuX2NtZFZpZGVvTG9hZCksdGhpcy5fcGx1Z2luTWFuYWdlci5jb21wbHkodGhpcyxcXFwiaGFuZGxlVmlkZW9VbmxvYWRcXFwiLHRoaXMuX2NtZFZpZGVvVW5sb2FkKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVWaWRlb1N0YXJ0XFxcIix0aGlzLl9jbWRWaWRlb1N0YXJ0KSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVWaWRlb0NvbXBsZXRlXFxcIix0aGlzLl9jbWRWaWRlb0NvbXBsZXRlKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVWaWRlb1Jlc3VtZVxcXCIsdGhpcy5fY21kVmlkZW9SZXN1bWUpLHRoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsXFxcImhhbmRsZVBsYXlcXFwiLHRoaXMuX2NtZFBsYXkpLHRoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsXFxcImhhbmRsZVBhdXNlXFxcIix0aGlzLl9jbWRQYXVzZSksdGhpcy5fcGx1Z2luTWFuYWdlci5jb21wbHkodGhpcyxcXFwiaGFuZGxlQWRTdGFydFxcXCIsdGhpcy5fY21kQWRTdGFydCksdGhpcy5fcGx1Z2luTWFuYWdlci5jb21wbHkodGhpcyxcXFwiaGFuZGxlQWRDb21wbGV0ZVxcXCIsdGhpcy5fY21kQWRDb21wbGV0ZSksdGhpcy5fcGx1Z2luTWFuYWdlci5jb21wbHkodGhpcyxcXFwiaGFuZGxlQnVmZmVyU3RhcnRcXFwiLHRoaXMuX2NtZEJ1ZmZlclN0YXJ0KSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVCdWZmZXJDb21wbGV0ZVxcXCIsdGhpcy5fY21kQnVmZmVyQ29tcGxldGUpLHRoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsXFxcImhhbmRsZVNlZWtTdGFydFxcXCIsdGhpcy5fY21kU2Vla1N0YXJ0KSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVTZWVrQ29tcGxldGVcXFwiLHRoaXMuX2NtZFNlZWtDb21wbGV0ZSksdGhpcy5fcGx1Z2luTWFuYWdlci5jb21wbHkodGhpcyxcXFwiaGFuZGxlQ2hhcHRlclN0YXJ0XFxcIix0aGlzLl9jbWRDaGFwdGVyU3RhcnQpLHRoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsXFxcImhhbmRsZUNoYXB0ZXJDb21wbGV0ZVxcXCIsdGhpcy5fY21kQ2hhcHRlckNvbXBsZXRlKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVCaXRyYXRlQ2hhbmdlXFxcIix0aGlzLl9jbWRCaXRyYXRlQ2hhbmdlKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVUcmFja0Vycm9yXFxcIix0aGlzLl9jbWRUcmFja0Vycm9yKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVDbG9ja1JlcG9ydGluZ1RpY2tcXFwiLHRoaXMuX2NtZENsb2NrUmVwb3J0aW5nVGljayksdGhpcy5fcGx1Z2luTWFuYWdlci5jb21wbHkodGhpcyxcXFwiaGFuZGxlSWRsZVRpY2tcXFwiLHRoaXMuX2NtZElkbGVUaWNrKX0sZC5wcm90b3R5cGUuX3JlZ2lzdGVyQmVoYXZpb3Vycz1mdW5jdGlvbigpe3RoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxDKSx0aGlzLFxcXCJoYW5kbGVWaWRlb0xvYWRcXFwiLFtuZXcgaChzLFxcXCJyc2lkXFxcIixcXFwicnNpZFxcXCIpLG5ldyBoKHMsXFxcInRyYWNraW5nX3NlcnZlclxcXCIsXFxcInRyYWNraW5nU2VydmVyXFxcIildKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsRCksdGhpcyxcXFwiaGFuZGxlVmlkZW9VbmxvYWRcXFwiKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsRSksdGhpcyxcXFwiaGFuZGxlVmlkZW9TdGFydFxcXCIsW25ldyBoKHQsXFxcInZpZGVvLmlkXFxcIixcXFwidmlkZW9JZFxcXCIpLG5ldyBoKHQsXFxcInZpZGVvLm5hbWVcXFwiLFxcXCJ2aWRlb05hbWVcXFwiKSxuZXcgaCh0LFxcXCJ2aWRlby5sZW5ndGhcXFwiLFxcXCJ2aWRlb0xlbmd0aFxcXCIpLG5ldyBoKHQsXFxcInZpZGVvLnBsYXloZWFkXFxcIixcXFwicGxheWhlYWRcXFwiKSxuZXcgaCh0LFxcXCJ2aWRlby5wbGF5ZXJOYW1lXFxcIixcXFwicGxheWVyTmFtZVxcXCIpLG5ldyBoKHQsXFxcInZpZGVvLnN0cmVhbVR5cGVcXFwiLFxcXCJzdHJlYW1UeXBlXFxcIiksbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIiksbmV3IGgocyxcXFwicnNpZFxcXCIsXFxcInJzaWRcXFwiKSxuZXcgaChzLFxcXCJ0cmFja2luZ19zZXJ2ZXJcXFwiLFxcXCJ0cmFja2luZ1NlcnZlclxcXCIpLG5ldyBoKHMsXFxcImNoYW5uZWxcXFwiLFxcXCJjaGFubmVsXFxcIiksbmV3IGgocyxcXFwibWV0YS52aWRlby4qXFxcIixcXFwibWV0YVZpZGVvXFxcIiksbmV3IGgocyxcXFwic3NsXFxcIixcXFwidXNlU3NsXFxcIiksbmV3IGgodSxcXFwibWV0YVxcXCIsXFxcIm1ldGFOaWVsc2VuXFxcIiksbmV3IGgocixcXFwicHVibGlzaGVyXFxcIixcXFwicHVibGlzaGVyXFxcIiksbmV3IGgocixcXFwic2RrXFxcIixcXFwic2RrXFxcIiksbmV3IGgocixcXFwib3ZwXFxcIixcXFwib3ZwXFxcIiksbmV3IGgocixcXFwidmVyc2lvblxcXCIsXFxcInZlcnNpb25cXFwiKSxuZXcgaChyLFxcXCJhcGlfbGV2ZWxcXFwiLFxcXCJhcGlMdmxcXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxHKSx0aGlzLFxcXCJoYW5kbGVWaWRlb0NvbXBsZXRlXFxcIixbbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIildKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsRiksdGhpcyxcXFwiaGFuZGxlVmlkZW9SZXN1bWVcXFwiLFtuZXcgaCh0LFxcXCJ2aWRlby5pZFxcXCIsXFxcInZpZGVvSWRcXFwiKSxuZXcgaCh0LFxcXCJ2aWRlby5uYW1lXFxcIixcXFwidmlkZW9OYW1lXFxcIiksbmV3IGgodCxcXFwidmlkZW8ubGVuZ3RoXFxcIixcXFwidmlkZW9MZW5ndGhcXFwiKSxuZXcgaCh0LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIiksbmV3IGgodCxcXFwidmlkZW8ucGxheWVyTmFtZVxcXCIsXFxcInBsYXllck5hbWVcXFwiKSxuZXcgaCh0LFxcXCJ2aWRlby5zdHJlYW1UeXBlXFxcIixcXFwic3RyZWFtVHlwZVxcXCIpXSksdGhpcy5fcGx1Z2luTWFuYWdlci5yZWdpc3RlckJlaGF2aW91cihuZXcgZih0LEgpLHRoaXMsXFxcImhhbmRsZVBsYXlcXFwiLFtuZXcgaCh0LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIiksbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIildKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsSSksdGhpcyxcXFwiaGFuZGxlUGF1c2VcXFwiLFtuZXcgaCh0LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIiksbmV3IGgodCxcXFwidmlkZW8ucGxheWhlYWRTdGFsbGVkXFxcIixcXFwicGxheWhlYWRTdGFsbGVkXFxcIiksbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIildKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsSiksdGhpcyxcXFwiaGFuZGxlQWRTdGFydFxcXCIsW25ldyBoKHQsXFxcInZpZGVvLnBsYXloZWFkXFxcIixcXFwicGxheWhlYWRcXFwiKSxuZXcgaCh0LFxcXCJhZC5pZFxcXCIsXFxcImFkSWRcXFwiKSxuZXcgaCh0LFxcXCJhZC5uYW1lXFxcIixcXFwiYWROYW1lXFxcIiksbmV3IGgodCxcXFwiYWQubGVuZ3RoXFxcIixcXFwiYWRMZW5ndGhcXFwiKSxuZXcgaCh0LFxcXCJhZC5wb3NpdGlvblxcXCIsXFxcImFkUG9zaXRpb25cXFwiKSxuZXcgaCh0LFxcXCJwb2QubmFtZVxcXCIsXFxcInBvZE5hbWVcXFwiKSxuZXcgaCh0LFxcXCJwb2QucGxheWVyTmFtZVxcXCIsXFxcInBvZFBsYXllck5hbWVcXFwiKSxuZXcgaCh0LFxcXCJwb2QucG9zaXRpb25cXFwiLFxcXCJwb2RQb3NpdGlvblxcXCIpLG5ldyBoKHQsXFxcInBvZC5zdGFydFRpbWVcXFwiLFxcXCJwb2RTZWNvbmRcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZnBzXFxcIixcXFwiZnBzXFxcIiksbmV3IGgodCxcXFwicW9zLmRyb3BwZWRGcmFtZXNcXFwiLFxcXCJkcm9wcGVkRnJhbWVzXFxcIiksbmV3IGgodCxcXFwicW9zLmJpdHJhdGVcXFwiLFxcXCJiaXRyYXRlXFxcIiksbmV3IGgodCxcXFwicW9zLnN0YXJ0dXBUaW1lXFxcIixcXFwic3RhcnR1cFRpbWVcXFwiKSxuZXcgaChzLFxcXCJtZXRhLnZpZGVvLipcXFwiLFxcXCJtZXRhVmlkZW9cXFwiKSxuZXcgaChzLFxcXCJtZXRhLmFkLipcXFwiLFxcXCJtZXRhQWRcXFwiKSxuZXcgaCh1LFxcXCJtZXRhXFxcIixcXFwibWV0YU5pZWxzZW5cXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxLKSx0aGlzLFxcXCJoYW5kbGVBZENvbXBsZXRlXFxcIixbbmV3IGgodCxcXFwidmlkZW8ucGxheWhlYWRcXFwiLFxcXCJwbGF5aGVhZFxcXCIpLG5ldyBoKHQsXFxcImFkLmlzSW5BZEJyZWFrXFxcIixcXFwiaXNJbkFkQnJlYWtcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZnBzXFxcIixcXFwiZnBzXFxcIiksbmV3IGgodCxcXFwicW9zLmRyb3BwZWRGcmFtZXNcXFwiLFxcXCJkcm9wcGVkRnJhbWVzXFxcIiksbmV3IGgodCxcXFwicW9zLmJpdHJhdGVcXFwiLFxcXCJiaXRyYXRlXFxcIiksbmV3IGgodCxcXFwicW9zLnN0YXJ0dXBUaW1lXFxcIixcXFwic3RhcnR1cFRpbWVcXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxMKSx0aGlzLFxcXCJoYW5kbGVCdWZmZXJTdGFydFxcXCIsW25ldyBoKHQsXFxcInZpZGVvLnBsYXloZWFkXFxcIixcXFwicGxheWhlYWRcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZnBzXFxcIixcXFwiZnBzXFxcIiksbmV3IGgodCxcXFwicW9zLmRyb3BwZWRGcmFtZXNcXFwiLFxcXCJkcm9wcGVkRnJhbWVzXFxcIiksbmV3IGgodCxcXFwicW9zLmJpdHJhdGVcXFwiLFxcXCJiaXRyYXRlXFxcIiksbmV3IGgodCxcXFwicW9zLnN0YXJ0dXBUaW1lXFxcIixcXFwic3RhcnR1cFRpbWVcXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxNKSx0aGlzLFxcXCJoYW5kbGVCdWZmZXJDb21wbGV0ZVxcXCIsW25ldyBoKHQsXFxcInZpZGVvLnBsYXloZWFkXFxcIixcXFwicGxheWhlYWRcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZnBzXFxcIixcXFwiZnBzXFxcIiksbmV3IGgodCxcXFwicW9zLmRyb3BwZWRGcmFtZXNcXFwiLFxcXCJkcm9wcGVkRnJhbWVzXFxcIiksbmV3IGgodCxcXFwicW9zLmJpdHJhdGVcXFwiLFxcXCJiaXRyYXRlXFxcIiksbmV3IGgodCxcXFwicW9zLnN0YXJ0dXBUaW1lXFxcIixcXFwic3RhcnR1cFRpbWVcXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxOKSx0aGlzLFxcXCJoYW5kbGVTZWVrU3RhcnRcXFwiLFtuZXcgaCh0LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIildKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsTyksdGhpcyxcXFwiaGFuZGxlU2Vla0NvbXBsZXRlXFxcIixbbmV3IGgodCxcXFwidmlkZW8ucGxheWhlYWRcXFwiLFxcXCJwbGF5aGVhZFxcXCIpLG5ldyBoKHQsXFxcImFkLmlzSW5BZFxcXCIsXFxcImlzSW5BZFxcXCIpLG5ldyBoKHQsXFxcImFkLmlkXFxcIixcXFwiYWRJZFxcXCIpLG5ldyBoKHQsXFxcImFkLnBvc2l0aW9uXFxcIixcXFwiYWRQb3NpdGlvblxcXCIpLG5ldyBoKHQsXFxcInBvZC5wbGF5ZXJOYW1lXFxcIixcXFwicG9kUGxheWVyTmFtZVxcXCIpLG5ldyBoKHQsXFxcInBvZC5wb3NpdGlvblxcXCIsXFxcInBvZFBvc2l0aW9uXFxcIiksbmV3IGgodCxcXFwiY2hhcHRlci5pc0luQ2hhcHRlclxcXCIsXFxcImlzSW5DaGFwdGVyXFxcIiksbmV3IGgodCxcXFwiY2hhcHRlci5wb3NpdGlvblxcXCIsXFxcImNoYXB0ZXJQb3NpdGlvblxcXCIpLG5ldyBoKHQsXFxcImNoYXB0ZXIubmFtZVxcXCIsXFxcImNoYXB0ZXJOYW1lXFxcIiksbmV3IGgodCxcXFwiY2hhcHRlci5sZW5ndGhcXFwiLFxcXCJjaGFwdGVyTGVuZ3RoXFxcIiksbmV3IGgodCxcXFwiY2hhcHRlci5zdGFydFRpbWVcXFwiLFxcXCJjaGFwdGVyT2Zmc2V0XFxcIiksbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIildKSxcXG50aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsUCksdGhpcyxcXFwiaGFuZGxlQ2hhcHRlclN0YXJ0XFxcIixbbmV3IGgodCxcXFwidmlkZW8ucGxheWhlYWRcXFwiLFxcXCJwbGF5aGVhZFxcXCIpLG5ldyBoKHQsXFxcImNoYXB0ZXIucG9zaXRpb25cXFwiLFxcXCJjaGFwdGVyUG9zaXRpb25cXFwiKSxuZXcgaCh0LFxcXCJjaGFwdGVyLm5hbWVcXFwiLFxcXCJjaGFwdGVyTmFtZVxcXCIpLG5ldyBoKHQsXFxcImNoYXB0ZXIubGVuZ3RoXFxcIixcXFwiY2hhcHRlckxlbmd0aFxcXCIpLG5ldyBoKHQsXFxcImNoYXB0ZXIuc3RhcnRUaW1lXFxcIixcXFwiY2hhcHRlck9mZnNldFxcXCIpLG5ldyBoKHQsXFxcInFvcy5mcHNcXFwiLFxcXCJmcHNcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZHJvcHBlZEZyYW1lc1xcXCIsXFxcImRyb3BwZWRGcmFtZXNcXFwiKSxuZXcgaCh0LFxcXCJxb3MuYml0cmF0ZVxcXCIsXFxcImJpdHJhdGVcXFwiKSxuZXcgaCh0LFxcXCJxb3Muc3RhcnR1cFRpbWVcXFwiLFxcXCJzdGFydHVwVGltZVxcXCIpLG5ldyBoKHMsXFxcIm1ldGEudmlkZW8uKlxcXCIsXFxcIm1ldGFWaWRlb1xcXCIpLG5ldyBoKHMsXFxcIm1ldGEuY2hhcHRlci4qXFxcIixcXFwibWV0YUNoYXB0ZXJcXFwiKSxuZXcgaCh1LFxcXCJtZXRhXFxcIixcXFwibWV0YU5pZWxzZW5cXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxRKSx0aGlzLFxcXCJoYW5kbGVDaGFwdGVyQ29tcGxldGVcXFwiLFtuZXcgaCh0LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIiksbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIildKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHQsUiksdGhpcyxcXFwiaGFuZGxlQml0cmF0ZUNoYW5nZVxcXCIsW25ldyBoKHQsXFxcInZpZGVvLnBsYXloZWFkXFxcIixcXFwicGxheWhlYWRcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZnBzXFxcIixcXFwiZnBzXFxcIiksbmV3IGgodCxcXFwicW9zLmRyb3BwZWRGcmFtZXNcXFwiLFxcXCJkcm9wcGVkRnJhbWVzXFxcIiksbmV3IGgodCxcXFwicW9zLmJpdHJhdGVcXFwiLFxcXCJiaXRyYXRlXFxcIiksbmV3IGgodCxcXFwicW9zLnN0YXJ0dXBUaW1lXFxcIixcXFwic3RhcnR1cFRpbWVcXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodCxTKSx0aGlzLFxcXCJoYW5kbGVUcmFja0Vycm9yXFxcIiksdGhpcy5fcGx1Z2luTWFuYWdlci5yZWdpc3RlckJlaGF2aW91cihuZXcgZih2LFgpLHRoaXMsXFxcImhhbmRsZUNsb2NrUmVwb3J0aW5nVGlja1xcXCIsW25ldyBoKHQsXFxcInZpZGVvLnBsYXloZWFkXFxcIixcXFwicGxheWhlYWRcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZnBzXFxcIixcXFwiZnBzXFxcIiksbmV3IGgodCxcXFwicW9zLmRyb3BwZWRGcmFtZXNcXFwiLFxcXCJkcm9wcGVkRnJhbWVzXFxcIiksbmV3IGgodCxcXFwicW9zLmJpdHJhdGVcXFwiLFxcXCJiaXRyYXRlXFxcIiksbmV3IGgodCxcXFwicW9zLnN0YXJ0dXBUaW1lXFxcIixcXFwic3RhcnR1cFRpbWVcXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodixaKSx0aGlzLFxcXCJoYW5kbGVJZGxlVGlja1xcXCIsW10pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYocixWKSx0aGlzLFxcXCJoYW5kbGVDbG9ja1JlcG9ydGluZ1RpY2tcXFwiLFtuZXcgaCh0LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIiksbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIildKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHMseiksdGhpcyxcXFwiaGFuZGxlQW5hbHl0aWNzRXJyb3JcXFwiKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyQmVoYXZpb3VyKG5ldyBmKHMsQSksdGhpcyxcXFwiaGFuZGxlQW5hbHl0aWNzU3RhcnRcXFwiLFtuZXcgaChzLFxcXCJ2aWRcXFwiLFxcXCJ2aWRcXFwiKSxuZXcgaChzLFxcXCJhaWRcXFwiLFxcXCJhaWRcXFwiKSxuZXcgaChzLFxcXCJtaWRcXFwiLFxcXCJtaWRcXFwiKSxuZXcgaChzLFxcXCJjdXN0b21lcklEc1xcXCIsXFxcImN1c3RvbWVySURzXFxcIiksbmV3IGgocyxcXFwidmlzaXRvck9wdGVkT3V0XFxcIixcXFwidmlzaXRvck9wdGVkT3V0XFxcIiksbmV3IGgocyxcXFwiYmxvYlxcXCIsXFxcImJsb2JcXFwiKSxuZXcgaChzLFxcXCJsb2NfaGludFxcXCIsXFxcImxvY19oaW50XFxcIiksbmV3IGgodCxcXFwidmlkZW8ucGxheWhlYWRcXFwiLFxcXCJwbGF5aGVhZFxcXCIpLG5ldyBoKHQsXFxcInFvcy5mcHNcXFwiLFxcXCJmcHNcXFwiKSxuZXcgaCh0LFxcXCJxb3MuZHJvcHBlZEZyYW1lc1xcXCIsXFxcImRyb3BwZWRGcmFtZXNcXFwiKSxuZXcgaCh0LFxcXCJxb3MuYml0cmF0ZVxcXCIsXFxcImJpdHJhdGVcXFwiKSxuZXcgaCh0LFxcXCJxb3Muc3RhcnR1cFRpbWVcXFwiLFxcXCJzdGFydHVwVGltZVxcXCIpXSksdGhpcy5fcGx1Z2luTWFuYWdlci5yZWdpc3RlckJlaGF2aW91cihuZXcgZihzLEIpLHRoaXMsXFxcImhhbmRsZUFuYWx5dGljc0FkU3RhcnRcXFwiLFtuZXcgaCh0LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIiksbmV3IGgodCxcXFwicW9zLmZwc1xcXCIsXFxcImZwc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5kcm9wcGVkRnJhbWVzXFxcIixcXFwiZHJvcHBlZEZyYW1lc1xcXCIpLG5ldyBoKHQsXFxcInFvcy5iaXRyYXRlXFxcIixcXFwiYml0cmF0ZVxcXCIpLG5ldyBoKHQsXFxcInFvcy5zdGFydHVwVGltZVxcXCIsXFxcInN0YXJ0dXBUaW1lXFxcIildKX0sZC5wcm90b3R5cGUuX3NldHVwRGF0YVJlc29sdmVyPWZ1bmN0aW9uKCl7dmFyIGE9e30sYj10aGlzO2EudmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiBrLmdldFZlcnNpb24oKX0sYS5hcGlfbGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gay5nZXRBcGlMZXZlbCgpfSxhLnRyYWNraW5nX3NlcnZlcj1mdW5jdGlvbigpe3JldHVybiBiLl9jb25maWc/Yi5fY29uZmlnLnRyYWNraW5nU2VydmVyOm51bGx9LGEucHVibGlzaGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGIuX2NvbmZpZz9iLl9jb25maWcucHVibGlzaGVyOm51bGx9LGEucXVpZXRfbW9kZT1mdW5jdGlvbigpe3JldHVybiEhYi5fY29uZmlnJiZiLl9jb25maWcucXVpZXRNb2RlfSxhLm92cD1mdW5jdGlvbigpe3JldHVybiBiLl9jb25maWc/Yi5fY29uZmlnLm92cDpudWxsfSxhLnNkaz1mdW5jdGlvbigpe3JldHVybiBiLl9jb25maWc/Yi5fY29uZmlnLnNkazpudWxsfSxhLmlzX3ByaW1ldGltZT1mdW5jdGlvbigpe3JldHVybiEhYi5fY29uZmlnJiZiLl9jb25maWcuX19pc1ByaW1ldGltZX0sYS5wc2RrX3ZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gYi5fY29uZmlnP2IuX2NvbmZpZy5fX3BzZGtWZXJzaW9uOm51bGx9LGEuc2Vzc2lvbl9pZD1mdW5jdGlvbigpe3JldHVybiBiLl9jaGFubmVsLnJlcXVlc3Qodyl9LHRoaXMuX2RhdGFSZXNvbHZlcj1mdW5jdGlvbihiKXtpZighYnx8MD09Yi5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBjPW51bGwsZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO2M9Y3x8e30sY1tlXT1hLmhhc093blByb3BlcnR5KGUpP2FbZV0uY2FsbCh0aGlzKTpudWxsfXJldHVybiBjfX0sZC5wcm90b3R5cGUuX3Jlc3VtZVBsYXliYWNrSWZQb3NzaWJsZT1mdW5jdGlvbihhKXt0aGlzLl9lcnJvckluZm98fHRoaXMuX2lzUGF1c2VkfHx0aGlzLl9pc1NlZWtpbmd8fHRoaXMuX2lzQnVmZmVyaW5nfHwodGhpcy5faXNWaWRlb0lkbGUmJih0aGlzLl9pc1ZpZGVvSWRsZT0hMSx0aGlzLl9yZXN1bWVQbGF5YmFja0Zyb21JZGxlKCkpLHRoaXMuX3J1bklkbGVUaW1lcighMSksdGhpcy5fY2hhbm5lbC50cmlnZ2VyKG5ldyBlKHNhLGEpKSl9LGQucHJvdG90eXBlLl9yZXN1bWVQbGF5YmFja0Zyb21JZGxlPWZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcihWKSx0aGlzLl9maWx0ZXIuY2xlYXIoKSx0aGlzLl9jaGFubmVsLnRyaWdnZXIobmV3IGUoeCkpLHRoaXMuX3RyaWdnZXIoVSksdGhpcy5fcnVuUmVwb3J0aW5nVGltZXIoITApLHRoaXMuX3J1bkZsdXNoRmlsdGVyVGltZXIoITApfTt2YXIgcT1cXFwiYWRvYmUtaGVhcnRiZWF0XFxcIixyPXEscz1cXFwiYWRvYmUtYW5hbHl0aWNzXFxcIix0PVxcXCJwbGF5ZXJcXFwiLHU9XFxcIm5pZWxzZW5cXFwiLHY9XFxcInNlcnZpY2UuY2xvY2tcXFwiLHc9XFxcInNlc3Npb25faWRcXFwiLHg9XFxcInJlc2V0X3Nlc3Npb25faWRcXFwiLHk9XFxcImhlYXJ0YmVhdC1jaGFubmVsXFxcIix6PVxcXCJlcnJvclxcXCIsQT1cXFwiYWFfc3RhcnRcXFwiLEI9XFxcInNjX2FkX3N0YXJ0XFxcIixDPVxcXCJ2aWRlb19sb2FkXFxcIixEPVxcXCJ2aWRlb191bmxvYWRcXFwiLEU9XFxcInZpZGVvX3N0YXJ0XFxcIixGPVxcXCJ2aWRlb19yZXN1bWVcXFwiLEc9XFxcInZpZGVvX2NvbXBsZXRlXFxcIixIPVxcXCJwbGF5XFxcIixJPVxcXCJwYXVzZVxcXCIsSj1cXFwiYWRfc3RhcnRcXFwiLEs9XFxcImFkX2NvbXBsZXRlXFxcIixMPVxcXCJidWZmZXJfc3RhcnRcXFwiLE09XFxcImJ1ZmZlcl9jb21wbGV0ZVxcXCIsTj1cXFwic2Vla19zdGFydFxcXCIsTz1cXFwic2Vla19jb21wbGV0ZVxcXCIsUD1cXFwiY2hhcHRlcl9zdGFydFxcXCIsUT1cXFwiY2hhcHRlcl9jb21wbGV0ZVxcXCIsUj1cXFwiYml0cmF0ZV9jaGFuZ2VcXFwiLFM9XFxcInRyYWNrX2Vycm9yXFxcIixUPVxcXCJ2aWRlb19pZGxlX3N0YXJ0XFxcIixVPVxcXCJ2aWRlb19pZGxlX3Jlc3VtZVxcXCIsVj1cXFwicXVhbnR1bV9jbG9zZVxcXCIsVz1cXFwiaGVhcnRiZWF0LnJlcG9ydGluZ1xcXCIsWD1XK1xcXCIudGlja1xcXCIsWT1cXFwiaGVhcnRiZWF0LmlkbGVcXFwiLFo9WStcXFwiLnRpY2tcXFwiLCQ9XFxcInJlc2V0XFxcIixfPVxcXCJzb3VyY2VcXFwiLGFhPVxcXCJlcnJvcl9pZFxcXCIsYmE9XFxcInRyYWNraW5nX3NlcnZlclxcXCIsY2E9XFxcImNoZWNrX3N0YXR1c19zZXJ2ZXJcXFwiLGRhPVxcXCJwdWJsaXNoZXJcXFwiLGVhPVxcXCJxdWlldF9tb2RlXFxcIixmYT1cXFwic3NsXFxcIixnYT1cXFwidmlzaXRvcl9vcHRfb3V0XFxcIixoYT1cXFwiYXBpOmFhX3N0YXJ0XFxcIixpYT1cXFwiYXBpOmFhX2FkX3N0YXJ0XFxcIixqYT1cXFwiYXBpOmNvbmZpZ1xcXCIsa2E9XFxcImFwaTp1cGRhdGVfdmlzaXRvcl9vcHRvdXRcXFwiLGxhPVxcXCJhcGk6dmlkZW9fbG9hZFxcXCIsbWE9XFxcImFwaTp2aWRlb191bmxvYWRcXFwiLG5hPVxcXCJhcGk6dmlkZW9fc3RhcnRcXFwiLG9hPVxcXCJhcGk6dmlkZW9fY29tcGxldGVcXFwiLHBhPVxcXCJhcGk6dmlkZW9fcmVzdW1lXFxcIixxYT1cXFwiYXBpOmFkX3N0YXJ0XFxcIixyYT1cXFwiYXBpOmFkX2NvbXBsZXRlXFxcIixzYT1cXFwiYXBpOnBsYXlcXFwiLHRhPVxcXCJhcGk6cGF1c2VcXFwiLHVhPVxcXCJhcGk6YnVmZmVyX3N0YXJ0XFxcIix2YT1cXFwiYXBpOnNlZWtfc3RhcnRcXFwiLHdhPVxcXCJhcGk6c2Vla19jb21wbGV0ZVxcXCIseGE9XFxcImFwaTpjaGFwdGVyX3N0YXJ0XFxcIix5YT1cXFwiYXBpOmNoYXB0ZXJfY29tcGxldGVcXFwiLHphPVxcXCJhcGk6dHJhY2tfZXJyb3JcXFwiLEFhPVxcXCJhcGk6dHJhY2tfaW50ZXJuYWxfZXJyb3JcXFwiLEJhPVxcXCJhcGk6Yml0cmF0ZV9jaGFuZ2VcXFwiLENhPVxcXCJhcGk6cXVhbnR1bV9lbmRcXFwiLERhPVxcXCJzb3VyY2VFcnJvckhlYXJ0YmVhdFxcXCIsRWE9XFxcImNsb2NrOmNoZWNrX3N0YXR1cy5yZXN1bWVcXFwiLEZhPVxcXCJjbG9jazpyZXBvcnRpbmcucmVzdW1lXFxcIixHYT1cXFwiY2xvY2s6cmVwb3J0aW5nLnBhdXNlXFxcIixIYT1cXFwiY2xvY2s6Zmx1c2hfZmlsdGVyLnJlc3VtZVxcXCIsSWE9XFxcImNsb2NrOmZsdXNoX2ZpbHRlci5wYXVzZVxcXCIsSmE9XFxcImNsb2NrOmlkbGUucmVzdW1lXFxcIixLYT1cXFwiY2xvY2s6aWRsZS5wYXVzZVxcXCIsTGE9XFxcImNsb2NrOmNoZWNrX3N0YXR1cy5nZXRfc2V0dGluZ3NcXFwiO2MuQWRvYmVIZWFydGJlYXRQbHVnaW49ZH0oYS5BREIuY29yZSxhLkFEQi52YSxiKSxhLkFEQi52YS5wbHVnaW5zLmFofHwoYS5BREIudmEucGx1Z2lucy5haD1iKX0odGhpcyk7XFxuXFxuLy8gQWRvYmVBbmFseXRpY3NQbHVnaW5cXG4hZnVuY3Rpb24oYSl7aWYoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiKXZhciBiPXt9OyFmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKGEsYil7dGhpcy5fb25GYWlsPXtmbjphLGN0eDpifX12YXIgZD1hLkVycm9ySW5mbztjLnByb3RvdHlwZS52YWxpZGF0ZUZpZWxkcz1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiB0aGlzLl9mYWlsKFxcXCJEYXRhIGNhbm5vdCBiZSBudWxsXFxcIik7aWYoYilmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtzd2l0Y2goZCl7Y2FzZVxcXCJ2aWRlb0lkXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwidmlkZW9JZFxcXCIpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgSUQgZm9yIHRoZSBtYWluIHZpZGVvIG11c3QgYmUgc3BlY2lmaWVkLlxcXCIpO2lmKFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgYS52aWRlb0lkKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgSUQgZm9yIHRoZSBtYWluIHZpZGVvIG11c3QgYmUgYSBTdHJpbmcuXFxcIik7aWYoXFxcIlxcXCI9PT1hLnZpZGVvSWQpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBJRCBmb3IgdGhlIG1haW4gdmlkZW8gY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZy5cXFwiKTticmVhaztjYXNlXFxcInN0cmVhbVR5cGVcXFwiOmlmKCFhLmhhc093blByb3BlcnR5KFxcXCJzdHJlYW1UeXBlXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBzdHJlYW0gdHlwZSBmb3IgdGhlIG1haW4gdmlkZW8gbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBhLnN0cmVhbVR5cGUpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBzdHJlYW0gdHlwZSBmb3IgdGhlIG1haW4gdmlkZW8gbXVzdCBiZSBhIFN0cmluZy5cXFwiKTtpZihcXFwiXFxcIj09PWEuc3RyZWFtVHlwZSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHN0cmVhbSB0eXBlIGZvciB0aGUgbWFpbiB2aWRlbyBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nLlxcXCIpO2JyZWFrO2Nhc2VcXFwicGxheWVyTmFtZVxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcInBsYXllck5hbWVcXFwiKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXllciBuYW1lIGZvciB0aGUgbWFpbiB2aWRlbyBtdXN0IGJlIHNwZWNpZmllZC5cXFwiKTtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGEucGxheWVyTmFtZSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIHBsYXllciBuYW1lIGZvciB0aGUgbWFpbiB2aWRlbyBtdXN0IGJlIGEgU3RyaW5nLlxcXCIpO2lmKFxcXCJcXFwiPT09YS5wbGF5ZXJOYW1lKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgcGxheWVyIG5hbWUgZm9yIHRoZSBtYWluIHZpZGVvIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXFxcIik7YnJlYWs7Y2FzZVxcXCJ2aWRlb0xlbmd0aFxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcInZpZGVvTGVuZ3RoXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBsZW5ndGggb2YgdGhlIG1haW4gdmlkZW8gbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcIm51bWJlclxcXCIhPXR5cGVvZiBhLnZpZGVvTGVuZ3RoKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgbGVuZ3RoIG9mIHRoZSBtYWluIHZpZGVvIG11c3QgYmUgYSBOdW1iZXIuXFxcIik7aWYoaXNOYU4oYS52aWRlb0xlbmd0aCkpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBsZW5ndGggb2YgdGhlIG1haW4gdmlkZW8gY2Fubm90IGJlIE5hTi5cXFwiKTticmVhaztjYXNlXFxcInBvZFBsYXllck5hbWVcXFwiOmlmKCFhLmhhc093blByb3BlcnR5KFxcXCJwb2RQbGF5ZXJOYW1lXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBwbGF5ZXIgbmFtZSBmb3IgdGhlIGFkLWJyZWFrIG11c3QgYmUgc3BlY2lmaWVkLlxcXCIpO2lmKFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgYS5wb2RQbGF5ZXJOYW1lKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgcGxheWVyIG5hbWUgZm9yIHRoZSBhZC1icmVhayBtdXN0IGJlIGEgU3RyaW5nLlxcXCIpO2lmKFxcXCJcXFwiPT09YS5wb2RQbGF5ZXJOYW1lKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgcGxheWVyIG5hbWUgZm9yIHRoZSBhZC1icmVhayBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nLlxcXCIpO2JyZWFrO2Nhc2VcXFwicG9kUG9zaXRpb25cXFwiOmlmKCFhLmhhc093blByb3BlcnR5KFxcXCJwb2RQb3NpdGlvblxcXCIpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJQb3NpdGlvbiAoaW5kZXgpIG9mIHRoZSBhZC1icmVhayBtdXN0IGJlIHNwZWNpZmllZC5cXFwiKTtpZihcXFwibnVtYmVyXFxcIiE9dHlwZW9mIGEucG9kUG9zaXRpb24pcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlBvc2l0aW9uIChpbmRleCkgb2YgdGhlIGFkLWJyZWFrIG11c3QgYmUgYSBOdW1iZXIuXFxcIik7aWYoaXNOYU4oYS5wb2RQb3NpdGlvbikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlBvc2l0aW9uIChpbmRleCkgb2YgdGhlIGFkLWJyZWFrIGNhbm5vdCBiZSBOYU4uXFxcIik7YnJlYWs7Y2FzZVxcXCJhZElkXFxcIjppZighYS5oYXNPd25Qcm9wZXJ0eShcXFwiYWRJZFxcXCIpKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgYWQgSUQgbXVzdCBiZSBzcGVjaWZpZWQuXFxcIik7aWYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBhLmFkSWQpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBhZCBJRCBtdXN0IGJlIGEgU3RyaW5nLlxcXCIpO2lmKFxcXCJcXFwiPT09YS5hZElkKXJldHVybiB0aGlzLl9mYWlsKFxcXCJUaGUgYWQgSUQgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZy5cXFwiKTticmVhaztjYXNlXFxcImFkUG9zaXRpb25cXFwiOmlmKCFhLmhhc093blByb3BlcnR5KFxcXCJhZFBvc2l0aW9uXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlBvc2l0aW9uIChpbmRleCkgb2YgdGhlIGFkIG11c3QgYmUgc3BlY2lmaWVkLlxcXCIpO2lmKFxcXCJudW1iZXJcXFwiIT10eXBlb2YgYS5hZFBvc2l0aW9uKXJldHVybiB0aGlzLl9mYWlsKFxcXCJQb3NpdGlvbiAoaW5kZXgpIG9mIHRoZSBhZCBtdXN0IGJlIGEgTnVtYmVyLlxcXCIpO2lmKGlzTmFOKGEuYWRQb3NpdGlvbikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlBvc2l0aW9uIChpbmRleCkgb2YgdGhlIGFkIGNhbm5vdCBiZSBOYU4uXFxcIik7YnJlYWs7Y2FzZVxcXCJhZExlbmd0aFxcXCI6aWYoIWEuaGFzT3duUHJvcGVydHkoXFxcImFkTGVuZ3RoXFxcIikpcmV0dXJuIHRoaXMuX2ZhaWwoXFxcIlRoZSBsZW5ndGggb2YgdGhlIGFkIG11c3QgYmUgc3BlY2lmaWVkLlxcXCIpO2lmKFxcXCJudW1iZXJcXFwiIT10eXBlb2YgYS5hZExlbmd0aClyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIGxlbmd0aCBvZiB0aGUgYWQgbXVzdCBiZSBhIE51bWJlci5cXFwiKTtpZihpc05hTihhLmFkTGVuZ3RoKSlyZXR1cm4gdGhpcy5fZmFpbChcXFwiVGhlIGxlbmd0aCBvZiB0aGUgYWQgY2Fubm90IGJlIE5hTi5cXFwiKTticmVhaztkZWZhdWx0OnJldHVybiB0aGlzLl9mYWlsKFxcXCJVbmFibGUgdG8gdmFsaWRhdGUgdW5rbm93biBwYXJhbWV0ZXI6IFxcXCIrZCl9fXJldHVybiEwfSxjLnByb3RvdHlwZS5fZmFpbD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgZChcXFwiSW52YWxpZCBpbnB1dCBkYXRhXFxcIixhKTtyZXR1cm4gdGhpcy5fb25GYWlsLmZuJiZ0aGlzLl9vbkZhaWwuZm4uY2FsbCh0aGlzLl9vbkZhaWwuY3R4LGIpLCExfSxiLklucHV0RGF0YVZhbGlkYXRvcj1jfShhLkFEQi52YSxiKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe3RoaXMuY2hhbm5lbD1jLHRoaXMuZGVidWdMb2dnaW5nPSExfXZhciBjPVxcXCJcXFwiO2EuQWRvYmVBbmFseXRpY3NQbHVnaW5Db25maWc9Yn0oYiksZnVuY3Rpb24oYSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGIoKXt9Yi5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihhKXt9LGEuQWRvYmVBbmFseXRpY3NQbHVnaW5EZWxlZ2F0ZT1ifShiKSxmdW5jdGlvbihhLGIsYyxkKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gZShhLGIpe2lmKGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxyKSwhYSl0aHJvdyBuZXcgRXJyb3IoXFxcIlRoZSByZWZlcmVuY2UgdG8gdGhlIEFwcE1lYXN1cmVtZW50IG9iamVjdCBjYW5ub3QgYmUgTlVMTC5cXFwiKTt0aGlzLl9hcHBNZWFzdXJlbWVudD1hLHRoaXMuX2RlbGVnYXRlPWIsdGhpcy5fY3VzdG9tTWV0YUtleXM9W10sdGhpcy5fdmlkZW9NZXRhZGF0YT17fSx0aGlzLl9hZE1ldGFkYXRhPXt9LHRoaXMuX2NoYXB0ZXJNZXRhZGF0YT17fSx0aGlzLl9lcnJvckluZm89bnVsbCx0aGlzLl93b3JrUXVldWU9bmV3IGsoITAsdyksdGhpcy5faW5wdXREYXRhVmFsaWRhdG9yPW5ldyBxKGZ1bmN0aW9uKGEpe3RoaXMuX2Vycm9ySW5mbz1hLHRoaXMuX2xvZ2dlci5lcnJvcih0aGlzLl9sb2dUYWcsYS5nZXRNZXNzYWdlKCkrXFxcIiB8IFxcXCIrYS5nZXREZXRhaWxzKCkpO3ZhciBiPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2IuX3RyaWdnZXIoeCxhKSxiLl9kZWxlZ2F0ZSYmYi5fZGVsZWdhdGUub25FcnJvcihiLl9lcnJvckluZm8pfSwwKX0sdGhpcyksdGhpcy5fYXBwTWVhc3VyZW1lbnQuaXNSZWFkeVRvVHJhY2soKSx0aGlzLl9zZXR1cERhdGFSZXNvbHZlcigpfXZhciBmPWEuVHJpZ2dlcixnPWEucGx1Z2luLkJhc2VQbHVnaW4saD1hLnBsdWdpbi5QYXJhbU1hcHBpbmcsaT1hLnJhZGlvLkNoYW5uZWwsaj1hLnJhZGlvLkNvbW1hbmQsaz1hLnJhZGlvLkNvbW1hbmRRdWV1ZSxsPWIuRXJyb3JJbmZvLG09Yy5tZDUsbj1jLlN0cmluZ1V0aWxzLG89Yy5PYmplY3RVdGlscyxwPWQuQWRvYmVBbmFseXRpY3NQbHVnaW5Db25maWcscT1kLklucHV0RGF0YVZhbGlkYXRvcjthLmV4dGVuZChlLGcpLGUucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoXFxcIlJlZmVyZW5jZSB0byB0aGUgY29uZmlndXJhdGlvbiBkYXRhIGNhbm5vdCBiZSBOVUxMLlxcXCIpO2lmKCEoYSBpbnN0YW5jZW9mIHApKXRocm93IG5ldyBFcnJvcihcXFwiRXhwZWN0ZWQgY29uZmlnIGRhdGEgdG8gYmUgaW5zdGFuY2Ugb2YgQWRvYmVBbmFseXRpY3NQbHVnaW5Db25maWcuXFxcIik7dGhpcy5fY29uZmlnPWEsdGhpcy5fY29uZmlnLmRlYnVnTG9nZ2luZz90aGlzLl9sb2dnZXIuZW5hYmxlKCk6dGhpcy5fbG9nZ2VyLmRpc2FibGUoKSx0aGlzLl9sb2dnZXIuZGVidWcodGhpcy5fbG9nVGFnLFxcXCIjY29uZmlndXJlKHt0cmFja2luZ1NlcnZlcj1cXFwiK3RoaXMuX2NvbmZpZy5kZWJ1Z0xvZ2dpbmcrXFxcIiwgY2hhbm5lbD1cXFwiK3RoaXMuX2NvbmZpZy5jaGFubmVsK1xcXCIsIHNzbD1cXFwiK3RoaXMuX2FwcE1lYXN1cmVtZW50LnNzbCtcXFwifSlcXFwiKX0sZS5wcm90b3R5cGUuYm9vdHN0cmFwPWZ1bmN0aW9uKGEpe2UuX19zdXBlcl9fLmJvb3RzdHJhcC5jYWxsKHRoaXMsYSksdGhpcy5fcmVnaXN0ZXJDb21tYW5kcygpLHRoaXMuX3JlZ2lzdGVyQmVoYXZpb3VycygpfSxlLnByb3RvdHlwZS5zZXR1cD1mdW5jdGlvbigpe3RoaXMuX2FwcE1lYXN1cmVtZW50LmlzUmVhZHlUb1RyYWNrKCk/dGhpcy5fb25BcHBNZWFzdXJlbWVudFJlYWR5KCk6dGhpcy5fYXBwTWVhc3VyZW1lbnQuY2FsbGJhY2tXaGVuUmVhZHlUb1RyYWNrKHRoaXMsdGhpcy5fb25BcHBNZWFzdXJlbWVudFJlYWR5LFtdKSxlLl9fc3VwZXJfXy5zZXR1cC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zZXRWaWRlb01ldGFkYXRhPWZ1bmN0aW9uKGEpe3RoaXMuX3ZpZGVvTWV0YWRhdGE9by5jbG9uZShhKX0sZS5wcm90b3R5cGUuc2V0QWRNZXRhZGF0YT1mdW5jdGlvbihhKXt0aGlzLl9hZE1ldGFkYXRhPW8uY2xvbmUoYSl9LGUucHJvdG90eXBlLnNldENoYXB0ZXJNZXRhZGF0YT1mdW5jdGlvbihhKXt0aGlzLl9jaGFwdGVyTWV0YWRhdGE9by5jbG9uZShhKX0sZS5wcm90b3R5cGUuX2NhblByb2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JJbmZvPyh0aGlzLl9sb2dnZXIuZXJyb3IodGhpcy5fbG9nVGFnLFxcXCIjX2NhblByb2Nlc3MoKSA+IEluIEVSUk9SIHN0YXRlLlxcXCIpLCExKTplLl9fc3VwZXJfXy5fY2FuUHJvY2Vzcy5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fY21kVmlkZW9Mb2FkPWZ1bmN0aW9uKGEpe3RoaXMuX2Vycm9ySW5mbz1udWxsfSxlLnByb3RvdHlwZS5fY21kVmlkZW9TdGFydD1mdW5jdGlvbihhKXt0aGlzLl9sb2dnZXIuZGVidWcodGhpcy5fbG9nVGFnLFxcXCIjX2NtZFZpZGVvU3RhcnQoKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5fd29ya1F1ZXVlLmFkZENvbW1hbmQobmV3IGoodGhpcy5fZXhlY3V0ZU9wZW4sdGhpcyxbYV0pKX0sZS5wcm90b3R5cGUuX2NtZEFkU3RhcnQ9ZnVuY3Rpb24oYSl7dGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI19jbWRBZFN0YXJ0KClcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX3dvcmtRdWV1ZS5hZGRDb21tYW5kKG5ldyBqKHRoaXMuX2V4ZWN1dGVPcGVuQWQsdGhpcyxbYV0pKX0sZS5wcm90b3R5cGUuX2NtZEhlYXJ0YmVhdFBsdWdpbkVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuX2Vycm9ySW5mb3x8KHRoaXMuX2Vycm9ySW5mbz1uZXcgbChcXFwiSW50ZXJuYWwgZXJyb3JcXFwiLFxcXCJIZWFydGJlYXRQbHVnaW4gaXMgaW4gRVJST1Igc3RhdGUuXFxcIiksdGhpcy5fdHJpZ2dlcih4LHRoaXMuX2Vycm9ySW5mbyksdGhpcy5fZGVsZWdhdGUmJnRoaXMuX2RlbGVnYXRlLm9uRXJyb3IodGhpcy5fZXJyb3JJbmZvKSl9LGUucHJvdG90eXBlLl9yZXNldEFwcE1lYXN1cmVtZW50Q29udGV4dERhdGE9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEuY29udGVudFR5cGVcXFwiXSxkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEubmFtZVxcXCJdLGRlbGV0ZSB0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5mcmllbmRseU5hbWVcXFwiXSxkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEubGVuZ3RoXFxcIl0sZGVsZXRlIHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLnBsYXllck5hbWVcXFwiXSxkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuY2hhbm5lbFxcXCJdLGRlbGV0ZSB0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS52aWV3XFxcIl0sZGVsZXRlIHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLmFkLm5hbWVcXFwiXSxkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQuZnJpZW5kbHlOYW1lXFxcIl0sZGVsZXRlIHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLmFkLnBvZEZyaWVuZGx5TmFtZVxcXCJdLGRlbGV0ZSB0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5hZC5sZW5ndGhcXFwiXSxkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQucGxheWVyTmFtZVxcXCJdLGRlbGV0ZSB0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5hZC5wb2RcXFwiXSxkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQucG9kUG9zaXRpb25cXFwiXSxkZWxldGUgdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQucG9kU2Vjb25kXFxcIl0sZGVsZXRlIHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLmFkLnZpZXdcXFwiXTtmb3IodmFyIGE9MDthPHRoaXMuX2N1c3RvbU1ldGFLZXlzLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuX2N1c3RvbU1ldGFLZXlzW2FdO2RlbGV0ZSB0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtiXX10aGlzLl9jdXN0b21NZXRhS2V5cz1bXX0sZS5wcm90b3R5cGUuX2V4ZWN1dGVPcGVuPWZ1bmN0aW9uKGEpe2lmKHRoaXMuX2xvZ2dlci5kZWJ1Zyh0aGlzLl9sb2dUYWcsXFxcIiNfZXhlY3V0ZU9wZW4oaWQ9XFxcIithLnZpZGVvSWQrXFxcIiwgdmlkZW9OYW1lPVxcXCIrYS52aWRlb05hbWUrXFxcIiwgc3RyZWFtVHlwZT1cXFwiK2Euc3RyZWFtVHlwZStcXFwiLCBsZW5ndGg9XFxcIithLnZpZGVvTGVuZ3RoK1xcXCIsIHBsYXllck5hbWU9XFxcIithLnBsYXllck5hbWUrXFxcIiwgY2hhbm5lbD1cXFwiK2EuY2hhbm5lbCtcXFwiLCBpc1ByaW1ldGltZT1cXFwiK2EuaXNQcmltZXRpbWUrXFxcIiwgc2Vzc2lvbklkPVxcXCIrYS5zZXNzaW9uSWQrXFxcIilcXFwiKSx0aGlzLl9jYW5Qcm9jZXNzKCkmJnRoaXMuX2lucHV0RGF0YVZhbGlkYXRvci52YWxpZGF0ZUZpZWxkcyhhLFtcXFwidmlkZW9JZFxcXCIsXFxcInN0cmVhbVR5cGVcXFwiLFxcXCJ2aWRlb0xlbmd0aFxcXCIsXFxcInBsYXllck5hbWVcXFwiXSkpe3RoaXMuX3Jlc2V0QXBwTWVhc3VyZW1lbnRDb250ZXh0RGF0YSgpO2Zvcih2YXIgYiBpbiBhLm1ldGFWaWRlbylhLm1ldGFWaWRlby5oYXNPd25Qcm9wZXJ0eShiKSYmKHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW2JdPWEubWV0YVZpZGVvW2JdLHRoaXMuX2N1c3RvbU1ldGFLZXlzLnB1c2goYikpO2lmKGEubWV0YU5pZWxzZW4pZm9yKHZhciBiIGluIGEubWV0YU5pZWxzZW4pYS5tZXRhTmllbHNlbi5oYXNPd25Qcm9wZXJ0eShiKSYmKHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW2JdPWEubWV0YU5pZWxzZW5bYl0sdGhpcy5fY3VzdG9tTWV0YUtleXMucHVzaChiKSk7dGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEuY29udGVudFR5cGVcXFwiXT1hLnN0cmVhbVR5cGUsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEubmFtZVxcXCJdPWEudmlkZW9JZCx0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5mcmllbmRseU5hbWVcXFwiXT1hLnZpZGVvTmFtZXx8XFxcIlxcXCIsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEubGVuZ3RoXFxcIl09TWF0aC5mbG9vcihhLnZpZGVvTGVuZ3RoKXx8XFxcIjAuMFxcXCIsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEucGxheWVyTmFtZVxcXCJdPWEucGxheWVyTmFtZSx0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5jaGFubmVsXFxcIl09YS5jaGFubmVsfHxcXFwiXFxcIix0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS52aWV3XFxcIl09ITAsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEudnNpZFxcXCJdPWEuc2Vzc2lvbklkLHRoaXMuX2FwcE1lYXN1cmVtZW50LnBldjM9eSx0aGlzLl9hcHBNZWFzdXJlbWVudC5wZT1hLmlzUHJpbWV0aW1lP0I6QSx0aGlzLl9hcHBNZWFzdXJlbWVudC50cmFjaygpO3ZhciBjPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2MuX3RyaWdnZXIoRSxhKX0sMCl9fSxlLnByb3RvdHlwZS5fZXhlY3V0ZU9wZW5BZD1mdW5jdGlvbihhKXt2YXIgYj1tKGEudmlkZW9JZCkrXFxcIl9cXFwiK2EucG9kUG9zaXRpb247aWYodGhpcy5fbG9nZ2VyLmRlYnVnKHRoaXMuX2xvZ1RhZyxcXFwiI19leGVjdXRlT3BlbkFkKGlkPVxcXCIrYS5hZElkK1xcXCIsIHN0cmVhbVR5cGU9XFxcIithLnN0cmVhbVR5cGUrXFxcIiwgbGVuZ3RoPVxcXCIrYS5hZExlbmd0aCtcXFwiLCBwb2RQbGF5ZXJOYW1lPVxcXCIrYS5wb2RQbGF5ZXJOYW1lK1xcXCIsIHBhcmVudElkPVxcXCIrYS52aWRlb0lkK1xcXCIsIHBvZElkPVxcXCIrYitcXFwiLCBwYXJlbnRQb2RQb3NpdGlvbj1cXFwiK2EuYWRQb3NpdGlvbitcXFwiLCBwb2RTZWNvbmQ9XFxcIithLnBvZFNlY29uZCtcXFwiKVxcXCIpLHRoaXMuX2NhblByb2Nlc3MoKSYmdGhpcy5faW5wdXREYXRhVmFsaWRhdG9yLnZhbGlkYXRlRmllbGRzKGEsW1xcXCJ2aWRlb0lkXFxcIixcXFwic3RyZWFtVHlwZVxcXCIsXFxcInBsYXllck5hbWVcXFwiLFxcXCJhZElkXFxcIixcXFwiYWRMZW5ndGhcXFwiLFxcXCJwb2RQbGF5ZXJOYW1lXFxcIixcXFwiYWRQb3NpdGlvblxcXCJdKSl7YS5wb2RTZWNvbmQ9bnVsbD09YS5wb2RTZWNvbmR8fGlzTmFOKGEucG9kU2Vjb25kKT9hLnBsYXloZWFkOmEucG9kU2Vjb25kLHRoaXMuX3Jlc2V0QXBwTWVhc3VyZW1lbnRDb250ZXh0RGF0YSgpO3ZhciBjO2ZvcihjIGluIGEubWV0YVZpZGVvKWEubWV0YVZpZGVvLmhhc093blByb3BlcnR5KGMpJiYodGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbY109YS5tZXRhVmlkZW9bY10sdGhpcy5fY3VzdG9tTWV0YUtleXMucHVzaChjKSk7Zm9yKGMgaW4gYS5tZXRhQWQpYS5tZXRhQWQuaGFzT3duUHJvcGVydHkoYykmJih0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtjXT1hLm1ldGFBZFtjXSx0aGlzLl9jdXN0b21NZXRhS2V5cy5wdXNoKGMpKTtpZihhLm1ldGFOaWVsc2VuKWZvcih2YXIgYyBpbiBhLm1ldGFOaWVsc2VuKWEubWV0YU5pZWxzZW4uaGFzT3duUHJvcGVydHkoYykmJih0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtjXT1hLm1ldGFOaWVsc2VuW2NdLHRoaXMuX2N1c3RvbU1ldGFLZXlzLnB1c2goYykpO3RoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLmNvbnRlbnRUeXBlXFxcIl09YS5zdHJlYW1UeXBlLHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLm5hbWVcXFwiXT1hLnZpZGVvSWQsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEucGxheWVyTmFtZVxcXCJdPWEucGxheWVyTmFtZSx0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5jaGFubmVsXFxcIl09YS5jaGFubmVsfHxcXFwiXFxcIix0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS52c2lkXFxcIl09YS5zZXNzaW9uSWQsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuZnJpZW5kbHlOYW1lXFxcIl09YS52aWRlb05hbWV8fFxcXCJcXFwiLHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLmxlbmd0aFxcXCJdPU1hdGguZmxvb3IoYS52aWRlb0xlbmd0aCl8fFxcXCIwLjBcXFwiLHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLmFkLm5hbWVcXFwiXT1hLmFkSWQsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQuZnJpZW5kbHlOYW1lXFxcIl09YS5hZE5hbWV8fFxcXCJcXFwiLHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLmFkLnBvZEZyaWVuZGx5TmFtZVxcXCJdPWEucG9kTmFtZXx8XFxcIlxcXCIsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQubGVuZ3RoXFxcIl09TWF0aC5mbG9vcihhLmFkTGVuZ3RoKXx8XFxcIjAuMFxcXCIsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQucGxheWVyTmFtZVxcXCJdPWEucG9kUGxheWVyTmFtZSx0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5hZC5wb2RcXFwiXT1iLHRoaXMuX2FwcE1lYXN1cmVtZW50LmNvbnRleHREYXRhW1xcXCJhLm1lZGlhLmFkLnBvZFBvc2l0aW9uXFxcIl09TWF0aC5mbG9vcihhLmFkUG9zaXRpb24pfHxcXFwiMC4wXFxcIix0aGlzLl9hcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtcXFwiYS5tZWRpYS5hZC5wb2RTZWNvbmRcXFwiXT1NYXRoLmZsb29yKGEucG9kU2Vjb25kKXx8XFxcIjAuMFxcXCIsdGhpcy5fYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFbXFxcImEubWVkaWEuYWQudmlld1xcXCJdPSEwLHRoaXMuX2FwcE1lYXN1cmVtZW50LnBldjM9eix0aGlzLl9hcHBNZWFzdXJlbWVudC5wZT1hLmlzUHJpbWV0aW1lP0Q6Qyx0aGlzLl9hcHBNZWFzdXJlbWVudC50cmFjaygpO3ZhciBkPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2QuX3RyaWdnZXIoRixhKX0sMCl9fSxlLnByb3RvdHlwZS5fc2V0dXBEYXRhUmVzb2x2ZXI9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXM7YS5yc2lkPWZ1bmN0aW9uKCl7cmV0dXJuIGIuX2FwcE1lYXN1cmVtZW50LmFjY291bnR9LGEudHJhY2tpbmdfc2VydmVyPWZ1bmN0aW9uKCl7cmV0dXJuIGIuX2FwcE1lYXN1cmVtZW50LnNzbCYmYi5fYXBwTWVhc3VyZW1lbnQudHJhY2tpbmdTZXJ2ZXJTZWN1cmU/Yi5fYXBwTWVhc3VyZW1lbnQudHJhY2tpbmdTZXJ2ZXJTZWN1cmU6Yi5fYXBwTWVhc3VyZW1lbnQudHJhY2tpbmdTZXJ2ZXJ9LGEuc3NsPWZ1bmN0aW9uKCl7cmV0dXJuIGIuX2FwcE1lYXN1cmVtZW50LnNzbH0sYS52aWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi5fYXBwTWVhc3VyZW1lbnQudmlzaXRvcklEfSxhLmFpZD1mdW5jdGlvbigpe3JldHVybiBiLl9hcHBNZWFzdXJlbWVudC5hbmFseXRpY3NWaXNpdG9ySUR9LGEubWlkPWZ1bmN0aW9uKCl7cmV0dXJuIGIuX2FwcE1lYXN1cmVtZW50Lm1hcmtldGluZ0Nsb3VkVmlzaXRvcklEfSxhLmJsb2I9ZnVuY3Rpb24oKXtyZXR1cm4gYi5fYXBwTWVhc3VyZW1lbnQuYXVkaWVuY2VNYW5hZ2VyQmxvYn0sYS5sb2NfaGludD1mdW5jdGlvbigpe3JldHVybiBiLl9hcHBNZWFzdXJlbWVudC5hdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQ/cGFyc2VJbnQoYi5fYXBwTWVhc3VyZW1lbnQuYXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50KTpcXFwiXFxcIn0sYS5jdXN0b21lcklEcz1mdW5jdGlvbigpe3ZhciBhPWIuX2FwcE1lYXN1cmVtZW50LnZpc2l0b3IuZ2V0Q3VzdG9tZXJJRHMoKSxjPXt9O2Zvcih2YXIgZCBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWFbZF07aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBlKXtmb3IodmFyIGYgaW4gZSllLmhhc093blByb3BlcnR5KGYpJiYoXFxcImF1dGhTdGF0ZVxcXCI9PWY/Y1tkK1xcXCIuYXNcXFwiXT1lW2ZdOmNbZCtcXFwiLlxcXCIrZl09ZVtmXSk7Y1tkK1xcXCIuYXNcXFwiXXx8KGNbZCtcXFwiLmFzXFxcIl09XFxcIjBcXFwiKX19cmV0dXJuIGN9LGEuY2hhbm5lbD1mdW5jdGlvbigpe3JldHVybiBiLl9jb25maWc/Yi5fY29uZmlnLmNoYW5uZWw6bnVsbH0sYS5tZXRhPWZ1bmN0aW9uKGEpe3ZhciBjPWEuc3BsaXQoXFxcIi5cXFwiKTtpZihjLmxlbmd0aDwyKXJldHVybiBudWxsO3ZhciBkPWMuc2hpZnQoKTtzd2l0Y2goYT1jLmpvaW4oXFxcIi5cXFwiKSxkKXtjYXNlXFxcInZpZGVvXFxcIjpyZXR1cm4gYT09aS5XSUxEQ0FSRD9iLl92aWRlb01ldGFkYXRhOmIuX3ZpZGVvTWV0YWRhdGFbYV07Y2FzZVxcXCJhZFxcXCI6cmV0dXJuIGE9PWkuV0lMRENBUkQ/Yi5fYWRNZXRhZGF0YTpiLl9hZE1ldGFkYXRhW2FdO2Nhc2VcXFwiY2hhcHRlclxcXCI6cmV0dXJuIGE9PWkuV0lMRENBUkQ/Yi5fY2hhcHRlck1ldGFkYXRhOmIuX2NoYXB0ZXJNZXRhZGF0YVthXTtkZWZhdWx0OnJldHVybiBudWxsfX0sYS52aXNpdG9yT3B0ZWRPdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT1iLl9hcHBNZWFzdXJlbWVudC52aXNpdG9yT3B0ZWRPdXQmJmIuX2FwcE1lYXN1cmVtZW50LnZpc2l0b3JPcHRlZE91dH0sdGhpcy5fZGF0YVJlc29sdmVyPWZ1bmN0aW9uKGIpe2lmKCFifHwwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGM9bnVsbCxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF07Yz1jfHx7fSxuLnN0YXJ0c1dpdGgoZSxcXFwibWV0YS5cXFwiKT9jW2VdPWEubWV0YShlLnNwbGl0KFxcXCJtZXRhLlxcXCIpWzFdKTpjW2VdPWEuaGFzT3duUHJvcGVydHkoZSk/YVtlXS5jYWxsKHRoaXMpOm51bGx9cmV0dXJuIGN9fSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJDb21tYW5kcz1mdW5jdGlvbigpe3RoaXMuX3BsdWdpbk1hbmFnZXIuY29tcGx5KHRoaXMsXFxcImhhbmRsZVZpZGVvTG9hZFxcXCIsdGhpcy5fY21kVmlkZW9Mb2FkKSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVWaWRlb1N0YXJ0XFxcIix0aGlzLl9jbWRWaWRlb1N0YXJ0KSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVBZFN0YXJ0XFxcIix0aGlzLl9jbWRBZFN0YXJ0KSx0aGlzLl9wbHVnaW5NYW5hZ2VyLmNvbXBseSh0aGlzLFxcXCJoYW5kbGVIZWFydGJlYXRQbHVnaW5FcnJvclxcXCIsdGhpcy5fY21kSGVhcnRiZWF0UGx1Z2luRXJyb3IpfSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJCZWhhdmlvdXJzPWZ1bmN0aW9uKCl7dGhpcy5fcGx1Z2luTWFuYWdlci5yZWdpc3RlckJlaGF2aW91cihuZXcgZih1LEcpLHRoaXMsXFxcImhhbmRsZVZpZGVvTG9hZFxcXCIpLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodSxIKSx0aGlzLFxcXCJoYW5kbGVWaWRlb1N0YXJ0XFxcIixbbmV3IGgodSxcXFwidmlkZW8uaWRcXFwiLFxcXCJ2aWRlb0lkXFxcIiksbmV3IGgodSxcXFwidmlkZW8uc3RyZWFtVHlwZVxcXCIsXFxcInN0cmVhbVR5cGVcXFwiKSxuZXcgaCh1LFxcXCJ2aWRlby5uYW1lXFxcIixcXFwidmlkZW9OYW1lXFxcIiksbmV3IGgodSxcXFwidmlkZW8ubGVuZ3RoXFxcIixcXFwidmlkZW9MZW5ndGhcXFwiKSxuZXcgaCh1LFxcXCJ2aWRlby5wbGF5ZXJOYW1lXFxcIixcXFwicGxheWVyTmFtZVxcXCIpLG5ldyBoKHUsXFxcInZpZGVvLnN0cmVhbVR5cGVcXFwiLFxcXCJzdHJlYW1UeXBlXFxcIiksbmV3IGgodixcXFwiaXNfcHJpbWV0aW1lXFxcIixcXFwiaXNQcmltZXRpbWVcXFwiKSxuZXcgaCh2LFxcXCJzZXNzaW9uX2lkXFxcIixcXFwic2Vzc2lvbklkXFxcIiksbmV3IGgocyxcXFwiY2hhbm5lbFxcXCIsXFxcImNoYW5uZWxcXFwiKSxuZXcgaChzLFxcXCJtZXRhLnZpZGVvLipcXFwiLFxcXCJtZXRhVmlkZW9cXFwiKSxuZXcgaCh0LFxcXCJtZXRhXFxcIixcXFwibWV0YU5pZWxzZW5cXFwiKV0pLHRoaXMuX3BsdWdpbk1hbmFnZXIucmVnaXN0ZXJCZWhhdmlvdXIobmV3IGYodSxJKSx0aGlzLFxcXCJoYW5kbGVBZFN0YXJ0XFxcIixbbmV3IGgodSxcXFwidmlkZW8uaWRcXFwiLFxcXCJ2aWRlb0lkXFxcIiksbmV3IGgodSxcXFwidmlkZW8uc3RyZWFtVHlwZVxcXCIsXFxcInN0cmVhbVR5cGVcXFwiKSxuZXcgaCh1LFxcXCJ2aWRlby5wbGF5aGVhZFxcXCIsXFxcInBsYXloZWFkXFxcIiksbmV3IGgodSxcXFwidmlkZW8ucGxheWVyTmFtZVxcXCIsXFxcInBsYXllck5hbWVcXFwiKSxuZXcgaCh1LFxcXCJ2aWRlby5uYW1lXFxcIixcXFwidmlkZW9OYW1lXFxcIiksbmV3IGgodSxcXFwidmlkZW8ubGVuZ3RoXFxcIixcXFwidmlkZW9MZW5ndGhcXFwiKSxuZXcgaCh1LFxcXCJhZC5pZFxcXCIsXFxcImFkSWRcXFwiKSxuZXcgaCh1LFxcXCJhZC5sZW5ndGhcXFwiLFxcXCJhZExlbmd0aFxcXCIpLG5ldyBoKHUsXFxcImFkLnBvc2l0aW9uXFxcIixcXFwiYWRQb3NpdGlvblxcXCIpLG5ldyBoKHUsXFxcImFkLm5hbWVcXFwiLFxcXCJhZE5hbWVcXFwiKSxuZXcgaCh1LFxcXCJwb2QubmFtZVxcXCIsXFxcInBvZE5hbWVcXFwiKSxuZXcgaCh1LFxcXCJwb2QucG9zaXRpb25cXFwiLFxcXCJwb2RQb3NpdGlvblxcXCIpLG5ldyBoKHUsXFxcInBvZC5wbGF5ZXJOYW1lXFxcIixcXFwicG9kUGxheWVyTmFtZVxcXCIpLG5ldyBoKHUsXFxcInBvZC5zdGFydFRpbWVcXFwiLFxcXCJwb2RTZWNvbmRcXFwiKSxuZXcgaCh2LFxcXCJpc19wcmltZXRpbWVcXFwiLFxcXCJpc1ByaW1ldGltZVxcXCIpLG5ldyBoKHYsXFxcInNlc3Npb25faWRcXFwiLFxcXCJzZXNzaW9uSWRcXFwiKSxuZXcgaChzLFxcXCJjaGFubmVsXFxcIixcXFwiY2hhbm5lbFxcXCIpLG5ldyBoKHMsXFxcIm1ldGEudmlkZW8uKlxcXCIsXFxcIm1ldGFWaWRlb1xcXCIpLG5ldyBoKHMsXFxcIm1ldGEuYWQuKlxcXCIsXFxcIm1ldGFBZFxcXCIpLG5ldyBoKHQsXFxcIm1ldGFcXFwiLFxcXCJtZXRhTmllbHNlblxcXCIpXSksdGhpcy5fcGx1Z2luTWFuYWdlci5yZWdpc3RlckJlaGF2aW91cihuZXcgZih2LHgpLHRoaXMsXFxcImhhbmRsZUhlYXJ0YmVhdFBsdWdpbkVycm9yXFxcIil9LGUucHJvdG90eXBlLl9vbkFwcE1lYXN1cmVtZW50UmVhZHk9ZnVuY3Rpb24oKXt0aGlzLl93b3JrUXVldWUucmVzdW1lKCl9O3ZhciByPVxcXCJhZG9iZS1hbmFseXRpY3NcXFwiLHM9cix0PVxcXCJuaWVsc2VuXFxcIix1PVxcXCJwbGF5ZXJcXFwiLHY9XFxcImFkb2JlLWhlYXJ0YmVhdFxcXCIsdz0yZTMseD1cXFwiZXJyb3JcXFwiLHk9XFxcInZpZGVvXFxcIix6PVxcXCJ2aWRlb0FkXFxcIixBPVxcXCJtc19zXFxcIixCPVxcXCJtc3Bfc1xcXCIsQz1cXFwibXNhX3NcXFwiLEQ9XFxcIm1zcGFfc1xcXCIsRT1cXFwiYWFfc3RhcnRcXFwiLEY9XFxcInNjX2FkX3N0YXJ0XFxcIixHPVxcXCJ2aWRlb19sb2FkXFxcIixIPVxcXCJ2aWRlb19zdGFydFxcXCIsST1cXFwiYWRfc3RhcnRcXFwiO2QuQWRvYmVBbmFseXRpY3NQbHVnaW49ZX0oYS5BREIuY29yZSxhLkFEQi52YSxhLkFEQi52YS51dGlscyxiKSxmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIGI9e1NIT1c6XFxcImEubWVkaWEuc2hvd1xcXCIsU0VBU09OOlxcXCJhLm1lZGlhLnNlYXNvblxcXCIsRVBJU09ERTpcXFwiYS5tZWRpYS5lcGlzb2RlXFxcIixBU1NFVF9JRDpcXFwiYS5tZWRpYS5hc3NldFxcXCIsR0VOUkU6XFxcImEubWVkaWEuZ2VucmVcXFwiLEZJUlNUX0FJUl9EQVRFOlxcXCJhLm1lZGlhLmFpckRhdGVcXFwiLEZJUlNUX0RJR0lUQUxfREFURTpcXFwiYS5tZWRpYS5kaWdpdGFsRGF0ZVxcXCIsUkFUSU5HOlxcXCJhLm1lZGlhLnJhdGluZ1xcXCIsT1JJR0lOQVRPUjpcXFwiYS5tZWRpYS5vcmlnaW5hdG9yXFxcIixORVRXT1JLOlxcXCJhLm1lZGlhLm5ldHdvcmtcXFwiLFNIT1dfVFlQRTpcXFwiYS5tZWRpYS50eXBlXFxcIixBRF9MT0FEOlxcXCJhLm1lZGlhLmFkTG9hZFxcXCIsTVZQRDpcXFwiYS5tZWRpYS5wYXNzLm12cGRcXFwiLEFVVEhPUklaRUQ6XFxcImEubWVkaWEucGFzcy5hdXRoXFxcIixEQVlfUEFSVDpcXFwiYS5tZWRpYS5kYXlQYXJ0XFxcIixGRUVEOlxcXCJhLm1lZGlhLmZlZWRcXFwiLFNUUkVBTV9GT1JNQVQ6XFxcImEubWVkaWEuZm9ybWF0XFxcIn0sYz17QURWRVJUSVNFUjpcXFwiYS5tZWRpYS5hZC5hZHZlcnRpc2VyXFxcIixDQU1QQUlHTl9JRDpcXFwiYS5tZWRpYS5hZC5jYW1wYWlnblxcXCIsQ1JFQVRJVkVfSUQ6XFxcImEubWVkaWEuYWQuY3JlYXRpdmVcXFwiLFBMQUNFTUVOVF9JRDpcXFwiYS5tZWRpYS5hZC5wbGFjZW1lbnRcXFwiLFNJVEVfSUQ6XFxcImEubWVkaWEuYWQuc2l0ZVxcXCIsQ1JFQVRJVkVfVVJMOlxcXCJhLm1lZGlhLmFkLmNyZWF0aXZlVVJMXFxcIn07YS5WaWRlb01ldGFkYXRhS2V5cz1iLGEuQWRNZXRhZGF0YUtleXM9Y30oYiksYS5BREIudmEucGx1Z2lucy5hYXx8KGEuQURCLnZhLnBsdWdpbnMuYWE9Yil9KHRoaXMpO1xcblxcbi8vIE1lZGlhSGVhcnRiZWF0XFxuIWZ1bmN0aW9uKGEpeyFmdW5jdGlvbihhKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYigpe3RoaXMudHJhY2tpbmdTZXJ2ZXI9dm9pZCAwLHRoaXMuY2hhbm5lbD12b2lkIDAsdGhpcy5vdnA9dm9pZCAwLHRoaXMuYXBwVmVyc2lvbj12b2lkIDAsdGhpcy5wbGF5ZXJOYW1lPXZvaWQgMCx0aGlzLnNzbD0hMSx0aGlzLmRlYnVnTG9nZ2luZz0hMX1hLk1lZGlhSGVhcnRiZWF0Q29uZmlnPWIsYS5NZWRpYUhlYXJ0YmVhdENvbmZpZy5zaGFyZWRJbnN0YW5jZT1uZXcgYn0oYS5BREIudmEpLGZ1bmN0aW9uKGEpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBiKCl7dGhpcy5kYXRhPXt9fXZhciBjPWEucGx1Z2lucy52aWRlb3BsYXllci5WaWRlb0luZm8sZD1hLnBsdWdpbnMudmlkZW9wbGF5ZXIuQWRCcmVha0luZm8sZT1hLnBsdWdpbnMudmlkZW9wbGF5ZXIuQWRJbmZvLGY9YS5wbHVnaW5zLnZpZGVvcGxheWVyLkNoYXB0ZXJJbmZvLGc9YS5wbHVnaW5zLnZpZGVvcGxheWVyLlFvU0luZm87Yi5NRURJQUlORk9fS0VZX05BTUU9XFxcImEubmFtZVxcXCIsYi5NRURJQUlORk9fS0VZX1ZJREVPSUQ9XFxcImEudmlkZW9JZFxcXCIsYi5NRURJQUlORk9fS0VZX0FESUQ9XFxcImEuYWRJZFxcXCIsYi5NRURJQUlORk9fS0VZX0xFTkdUSD1cXFwiYS5sZW5ndGhcXFwiLGIuTUVESUFJTkZPX0tFWV9QTEFZSEVBRD1cXFwiYS5wbGF5aGVhZFxcXCIsYi5NRURJQUlORk9fS0VZX1NUUkVBTVRZUEU9XFxcImEuc3RyZWFtVHlwZVxcXCIsYi5NRURJQUlORk9fS0VZX1BPU0lUSU9OPVxcXCJhLnBvc2l0aW9uXFxcIixiLk1FRElBSU5GT19LRVlfU1RBUlRUSU1FPVxcXCJhLnN0YXJ0VGltZVxcXCIsYi5NRURJQUlORk9fS0VZX0JJVFJBVEU9XFxcImEuYml0cmF0ZVxcXCIsYi5NRURJQUlORk9fS0VZX0ZQUz1cXFwiYS5mcHNcXFwiLGIuTUVESUFJTkZPX0tFWV9EUk9QUEVERlJBTUVTPVxcXCJhLmRyb3BwZWRGcmFtZXNcXFwiLGIuTUVESUFJTkZPX0tFWV9TVEFSVFVQVElNRT1cXFwiYS5zdGFydHVwVGltZVxcXCIsYi5NRURJQUlORk9fS0VZX1RJTUVETUVUQURBVEE9XFxcImEudGltZWRNZXRhZGF0YVxcXCIsYi5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oYSxiKXt0aGlzLmRhdGFbYV09Yn0sYi5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmRhdGFbYV06bnVsbH0sYi5wcm90b3R5cGUuY3JlYXRlVmlkZW9JbmZvPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGM7cmV0dXJuIGEuaWQ9bnVsbCE9dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfVklERU9JRCk/dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfVklERU9JRCk6XFxcIlxcXCIsYS5uYW1lPW51bGwhPXRoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX05BTUUpP3RoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX05BTUUpOlxcXCJcXFwiLGEubGVuZ3RoPW51bGwhPXRoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX0xFTkdUSCk/dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfTEVOR1RIKTowLGEucGxheWhlYWQ9bnVsbCE9dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfUExBWUhFQUQpP3RoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX1BMQVlIRUFEKTowLGEuc3RyZWFtVHlwZT1udWxsIT10aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9TVFJFQU1UWVBFKT90aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9TVFJFQU1UWVBFKTpcXFwiXFxcIixhfSxiLnByb3RvdHlwZS5jcmVhdGVBZEJyZWFrSW5mbz1mdW5jdGlvbigpe3ZhciBhPW5ldyBkO3JldHVybiBhLm5hbWU9bnVsbCE9dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfTkFNRSk/dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfTkFNRSk6XFxcIlxcXCIsYS5wb3NpdGlvbj1udWxsIT10aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9QT1NJVElPTik/dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfUE9TSVRJT04pOjAsYS5zdGFydFRpbWU9bnVsbCE9dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfU1RBUlRUSU1FKT90aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9TVEFSVFRJTUUpOjAsYX0sYi5wcm90b3R5cGUuY3JlYXRlQWRJbmZvPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGU7cmV0dXJuIGEuaWQ9bnVsbCE9dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfQURJRCk/dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfQURJRCk6XFxcIlxcXCIsYS5uYW1lPW51bGwhPXRoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX05BTUUpP3RoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX05BTUUpOlxcXCJcXFwiLGEubGVuZ3RoPW51bGwhPXRoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX0xFTkdUSCk/dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfTEVOR1RIKTowLGEucG9zaXRpb249bnVsbCE9dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfUE9TSVRJT04pP3RoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX1BPU0lUSU9OKTowLGF9LGIucHJvdG90eXBlLmNyZWF0ZUNoYXB0ZXJJbmZvPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGY7cmV0dXJuIGEubmFtZT1udWxsIT10aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9OQU1FKT90aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9OQU1FKTpcXFwiXFxcIixhLmxlbmd0aD1udWxsIT10aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9MRU5HVEgpP3RoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX0xFTkdUSCk6MCxhLnN0YXJ0VGltZT1udWxsIT10aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9TVEFSVFRJTUUpP3RoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX1NUQVJUVElNRSk6MCxhLnBvc2l0aW9uPW51bGwhPXRoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX1BPU0lUSU9OKT90aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9QT1NJVElPTik6MCxhfSxiLnByb3RvdHlwZS5jcmVhdGVRb1NJbmZvPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGc7cmV0dXJuIGEuYml0cmF0ZT1udWxsIT10aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9CSVRSQVRFKT90aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9CSVRSQVRFKTowLGEuZnBzPW51bGwhPXRoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX0ZQUyk/dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfRlBTKTowLGEuZHJvcHBlZEZyYW1lcz1udWxsIT10aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9EUk9QUEVERlJBTUVTKT90aGlzLmdldFZhbHVlKGIuTUVESUFJTkZPX0tFWV9EUk9QUEVERlJBTUVTKTowLGEuc3RhcnR1cFRpbWU9bnVsbCE9dGhpcy5nZXRWYWx1ZShiLk1FRElBSU5GT19LRVlfU1RBUlRVUFRJTUUpP3RoaXMuZ2V0VmFsdWUoYi5NRURJQUlORk9fS0VZX1NUQVJUVVBUSU1FKTowLGF9LGEuTWVkaWFPYmplY3Q9Yn0oYS5BREIudmEpLGZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoYSl7Yy5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLl9oZWFydGJlYXQ9YX1mdW5jdGlvbiBkKGEpe2QuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5faGVhcnRiZWF0PWF9ZnVuY3Rpb24gZShhKXtlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuX2hlYXJ0YmVhdD1hfWZ1bmN0aW9uIGYoYSl7Zi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLl9oZWFydGJlYXQ9YX1hLmV4dGVuZChjLGIucGx1Z2lucy5hYS5BZG9iZUFuYWx5dGljc1BsdWdpbkRlbGVnYXRlKSxjLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGEpe2IuTWVkaWFIZWFydGJlYXQuX29uRGVsZWdhdGVFcnJvci5jYWxsKHRoaXMuX2hlYXJ0YmVhdCxhKX0sYS5leHRlbmQoZCxiLnBsdWdpbnMuYWguQWRvYmVIZWFydGJlYXRQbHVnaW5EZWxlZ2F0ZSksZC5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihhKXtiLk1lZGlhSGVhcnRiZWF0Ll9vbkRlbGVnYXRlRXJyb3IuY2FsbCh0aGlzLl9oZWFydGJlYXQsYSl9LGEuZXh0ZW5kKGUsYi5IZWFydGJlYXREZWxlZ2F0ZSksZS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihhKXtiLk1lZGlhSGVhcnRiZWF0Ll9vbkRlbGVnYXRlRXJyb3IuY2FsbCh0aGlzLl9oZWFydGJlYXQsYSl9LGEuZXh0ZW5kKGYsYi5wbHVnaW5zLnZpZGVvcGxheWVyLlZpZGVvUGxheWVyUGx1Z2luRGVsZWdhdGUpLGYucHJvdG90eXBlLmdldFZpZGVvSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWFydGJlYXQmJnRoaXMuX2hlYXJ0YmVhdC5fdmlkZW9JbmZvPyh0aGlzLl9oZWFydGJlYXQuX2RlbGVnYXRlJiYodGhpcy5faGVhcnRiZWF0Ll92aWRlb0luZm8ucGxheWhlYWQ9dGhpcy5faGVhcnRiZWF0Ll9kZWxlZ2F0ZS5nZXRDdXJyZW50UGxheWJhY2tUaW1lKCkpLHRoaXMuX2hlYXJ0YmVhdC5fdmlkZW9JbmZvKTpudWxsfSxmLnByb3RvdHlwZS5nZXRBZEJyZWFrSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWFydGJlYXQmJnRoaXMuX2hlYXJ0YmVhdC5fYWRCcmVha0luZm8/dGhpcy5faGVhcnRiZWF0Ll9hZEJyZWFrSW5mbzpudWxsfSxmLnByb3RvdHlwZS5nZXRBZEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVhcnRiZWF0JiZ0aGlzLl9oZWFydGJlYXQuX2FkSW5mbz90aGlzLl9oZWFydGJlYXQuX2FkSW5mbzpudWxsfSxmLnByb3RvdHlwZS5nZXRDaGFwdGVySW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWFydGJlYXQmJnRoaXMuX2hlYXJ0YmVhdC5fY2hhcHRlckluZm8/dGhpcy5faGVhcnRiZWF0Ll9jaGFwdGVySW5mbzpudWxsfSxmLnByb3RvdHlwZS5nZXRRb1NJbmZvPWZ1bmN0aW9uKCl7aWYodGhpcy5faGVhcnRiZWF0JiZ0aGlzLl9oZWFydGJlYXQuX2RlbGVnYXRlJiZ0aGlzLl9oZWFydGJlYXQuX2RlbGVnYXRlLmdldFFvU09iamVjdCgpKXt2YXIgYT10aGlzLl9oZWFydGJlYXQuX2RlbGVnYXRlLmdldFFvU09iamVjdCgpO2lmKGEmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYSYmYS5zZXRWYWx1ZSlyZXR1cm4gYS5jcmVhdGVRb1NJbmZvKCl9cmV0dXJuIG51bGx9LGIuX01lZGlhQW5hbHl0aWNzUGx1Z2luRGVsZWdhdGU9YyxiLl9NZWRpYUhlYXJ0YmVhdFBsdWdpbkRlbGVnYXRlPWQsYi5fQURCTWVkaWFIZWFydGJlYXREZWxlZ2F0ZT1lLGIuX01lZGlhSGVhcnRiZWF0VmlkZW9QbGF5ZXJQbHVnaW5EZWxlZ2F0ZT1mfShhLkFEQi5jb3JlLGEuQURCLnZhKSxmdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBjKCl7fWZ1bmN0aW9uIGQoYSl7ZC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLl9oZWFydGJlYXQ9YX12YXIgZT1iLk1lZGlhSGVhcnRiZWF0Q29uZmlnO2IucGx1Z2lucy5uaWVsc2VuJiYoYy5NRURJQUhFQVJUQkVBVF9OSUVMU0VOX0NPTlRFTlRfTUVUQURBVEE9XFxcIm1lZGlhX25pZWxzZW5fY29udGVudF9tZXRhZGF0YVxcXCIsYy5NRURJQUhFQVJUQkVBVF9OSUVMU0VOX0FEX01FVEFEQVRBPVxcXCJtZWRpYV9uaWVsc2VuX2FkX21ldGFkYXRhXFxcIixjLk1FRElBSEVBUlRCRUFUX05JRUxTRU5fQ0hBTk5FTF9NRVRBREFUQT1cXFwibWVkaWFfbmllbHNlbl9jaGFubmVsX21ldGFkYXRhXFxcIixlLnByb3RvdHlwZS5uaWVsc2VuQ29uZmlnS2V5PXZvaWQgMCxlLnByb3RvdHlwZS5uaWVsc2VuQXBwSW5mbz12b2lkIDAsYS5leHRlbmQoZCxiLnBsdWdpbnMubmllbHNlbi5OaWVsc2VuUGx1Z2luRGVsZWdhdGUpLGQucHJvdG90eXBlLmdldE1ldGFkYXRhSW5mbz1mdW5jdGlvbigpe2lmKHRoaXMuX2hlYXJ0YmVhdCYmdGhpcy5faGVhcnRiZWF0Ll9jdXJyZW50Q29udGVudE1lZGlhT2JqZWN0KXt2YXIgYT10aGlzLl9oZWFydGJlYXQuX2N1cnJlbnRDb250ZW50TWVkaWFPYmplY3QuZ2V0VmFsdWUoYy5NRURJQUhFQVJUQkVBVF9OSUVMU0VOX0NPTlRFTlRfTUVUQURBVEEpO2lmKFxcXCJvYmplY3RcXFwiPT10eXBlb2YgYSlyZXR1cm4gYX1yZXR1cm4gbnVsbH0sZC5wcm90b3R5cGUuZ2V0QWRNZXRhZGF0YUluZm89ZnVuY3Rpb24oKXtpZih0aGlzLl9oZWFydGJlYXQmJnRoaXMuX2hlYXJ0YmVhdC5fY3VycmVudEFkTWVkaWFPYmplY3Qpe3ZhciBhPXRoaXMuX2hlYXJ0YmVhdC5fY3VycmVudEFkTWVkaWFPYmplY3QuZ2V0VmFsdWUoYy5NRURJQUhFQVJUQkVBVF9OSUVMU0VOX0FEX01FVEFEQVRBKTtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGEpcmV0dXJuIGF9cmV0dXJuIG51bGx9LGQucHJvdG90eXBlLmdldENoYW5uZWxJbmZvPWZ1bmN0aW9uKCl7aWYodGhpcy5faGVhcnRiZWF0JiZ0aGlzLl9oZWFydGJlYXQuX2N1cnJlbnRDb250ZW50TWVkaWFPYmplY3Qpe3ZhciBhPXRoaXMuX2hlYXJ0YmVhdC5fY3VycmVudENvbnRlbnRNZWRpYU9iamVjdC5nZXRWYWx1ZShjLk1FRElBSEVBUlRCRUFUX05JRUxTRU5fQ0hBTk5FTF9NRVRBREFUQSk7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhKXJldHVybiBhfXJldHVybiBudWxsfSxkLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuX2hlYXJ0YmVhdCYmYi5NZWRpYUhlYXJ0YmVhdC5fb25FcnJvci5jYWxsKHRoaXMuX2hlYXJ0YmVhdCxhKX0sYi5fTWVkaWFIZWFydGJlYXROaWVsc2VuPWMsYi5fTWVkaWFIZWFydGJlYXROaWVsc2VuUGx1Z2luRGVsZWdhdGU9ZCl9KGEuQURCLmNvcmUsYS5BREIudmEpLGZ1bmN0aW9uKGIsYyl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGQoKXt9ZnVuY3Rpb24gZShiLGQsZSl7aWYodGhpcy5fbG9nZ2VyPW5ldyB6LHRoaXMuX3BsdWdpbnM9W10sdGhpcy5fcGxheWVyUGx1Z2luPW51bGwsdGhpcy5fYWFQbHVnaW49bnVsbCx0aGlzLl9haFBsdWdpbj1udWxsLHRoaXMuX25pZWxzZW5QbHVnaW49bnVsbCx0aGlzLl9jdXJyZW50Q29udGVudE1lZGlhT2JqZWN0PXZvaWQgMCx0aGlzLl9jdXJyZW50QWRNZWRpYU9iamVjdD12b2lkIDAsdGhpcy5fdmlkZW9JbmZvPXZvaWQgMCx0aGlzLl9hZEJyZWFrSW5mbz12b2lkIDAsdGhpcy5fYWRJbmZvPXZvaWQgMCx0aGlzLl9jaGFwdGVySW5mbz12b2lkIDAsdGhpcy5fc3RhdGU9e30sdGhpcy5fZGVsZWdhdGU9YixlKXRoaXMuYXBwTWVhc3VyZW1lbnQ9ZTtlbHNle2lmKCFhLnMpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIlZhbGlkIEFwcE1lYXN1cmVtZW50IGluc3RhbmNlIHJlcXVpcmVkIGZvciBpbml0aWFsaXNpbmcgTWVkaWFIZWFydGJlYXRcXFwiKTt0aGlzLmFwcE1lYXN1cmVtZW50PWEuc31kJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGQmJnZvaWQgMCE9ZC50cmFja2luZ1NlcnZlcj8odGhpcy5fY29uZmlnPWQsYy5NZWRpYUhlYXJ0YmVhdC5fZGVidWdMb2dnaW5nfHx0aGlzLl9jb25maWcuZGVidWdMb2dnaW5nP3RoaXMuX2xvZ2dlci5lbmFibGUoKTp0aGlzLl9sb2dnZXIuZGlzYWJsZSgpKTp0aGlzLl9sb2dnZXIuZXJyb3IoJCxcXFwiVmFsaWQgY29uZmlnIHJlcXVpcmVkIGZvciBpbml0aWFsaXNpbmcgTWVkaWFIZWFydGJlYXRcXFwiKX1mdW5jdGlvbiBmKGEsYil7aWYoYT09ZS5FdmVudC5BZEJyZWFrU3RhcnQpe2lmKHRoaXMuX2xvZ2dlci5pbmZvKCQsXFxcIiM6OnRyYWNrRXZlbnQoQWRCcmVha1N0YXJ0KVxcXCIpLCF0LmNhbGwodGhpcyxZKSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIuZXJyb3IoJCxcXFwiQVBJIGNhbGwgdHJhY2tFdmVudDpBZEJyZWFrU3RhcnQgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIik7YiYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBiJiZiLnNldFZhbHVlPyh0aGlzLl9hZEJyZWFrSW5mbz1iLmNyZWF0ZUFkQnJlYWtJbmZvKCksdGhpcy5fYWRCcmVha0luZm8ucGxheWVyTmFtZT10aGlzLl9jb25maWcucGxheWVyTmFtZT90aGlzLl9jb25maWcucGxheWVyTmFtZTpcXFwiXFxcIik6dGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkludmFsaWQgQWRCcmVhayBJbmZvIGZvciBNZWRpYUhlYXJ0YmVhdEV2ZW50LkFkQnJlYWtTdGFydCBldmVudC5cXFwiKX1lbHNle2lmKHRoaXMuX2xvZ2dlci5pbmZvKCQsXFxcIiM6OnRyYWNrRXZlbnQoQWRCcmVha0NvbXBsZXRlKVxcXCIpLCF0LmNhbGwodGhpcyxZLCEwKSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIuZXJyb3IoJCxcXFwiQVBJIGNhbGwgdHJhY2tFdmVudDpBZEJyZWFrQ29tcGxldGUgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIik7dGhpcy5fYWRCcmVha0luZm89dm9pZCAwfX1mdW5jdGlvbiBnKGEsYixjKXtpZihhPT1lLkV2ZW50LkFkU3RhcnQpe2lmKHRoaXMuX2xvZ2dlci5pbmZvKCQsXFxcIiM6OnRyYWNrRXZlbnQoQWRTdGFydClcXFwiKSwhdC5jYWxsKHRoaXMsWCkpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXZlbnQ6QWRTdGFydCBpcyB1bnN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBzdGF0ZS5cXFwiKTtpZihiJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGImJmIuc2V0VmFsdWUpe3RoaXMuX2N1cnJlbnRBZE1lZGlhT2JqZWN0PWIsdGhpcy5fYWRJbmZvPWIuY3JlYXRlQWRJbmZvKCk7dmFyIGQ9Yi5nZXRWYWx1ZShlLk1lZGlhT2JqZWN0S2V5LlN0YW5kYXJkQWRNZXRhZGF0YSk7aWYoZCYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBkKWZvcih2YXIgZiBpbiBkKWQuaGFzT3duUHJvcGVydHkoZikmJihjW2ZdPWRbZl0pO3RoaXMuX2FhUGx1Z2luJiZ0aGlzLl9hYVBsdWdpbi5zZXRBZE1ldGFkYXRhKGMpLHRoaXMuX3BsYXllclBsdWdpbi50cmFja0FkU3RhcnQoKSx0aGlzLl9zdGF0ZVtaXXx8dGhpcy5fc3RhdGVbU118fHRoaXMudHJhY2tQbGF5KCl9ZWxzZSB0aGlzLl9sb2dnZXIuZXJyb3IoJCxcXFwiSW52YWxpZCBBZCBJbmZvIGZvciBNZWRpYUhlYXJ0YmVhdEV2ZW50LkFkU3RhcnQgZXZlbnQuXFxcIil9ZWxzZSBpZihhPT1lLkV2ZW50LkFkQ29tcGxldGUpe2lmKHRoaXMuX2xvZ2dlci5pbmZvKCQsXFxcIiM6OnRyYWNrRXZlbnQoQWRDb21wbGV0ZSlcXFwiKSwhdC5jYWxsKHRoaXMsWCwhMCkpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXZlbnQ6QWRDb21wbGV0ZSBpcyB1bnN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBzdGF0ZS5cXFwiKTt0aGlzLl9wbGF5ZXJQbHVnaW4udHJhY2tBZENvbXBsZXRlKCksdGhpcy5fYWRJbmZvPW51bGx9ZWxzZXtpZih0aGlzLl9sb2dnZXIuaW5mbygkLFxcXCIjOjp0cmFja0V2ZW50KEFkU2tpcClcXFwiKSwhdC5jYWxsKHRoaXMsWCwhMCkpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXZlbnQ6QWRTa2lwIGlzIHVuc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IHN0YXRlLlxcXCIpO3RoaXMuX2FkSW5mbz1udWxsfX1mdW5jdGlvbiBoKGEpe2lmKGE9PWUuRXZlbnQuU2Vla1N0YXJ0KXtpZih0aGlzLl9sb2dnZXIuaW5mbygkLFxcXCIjOjp0cmFja0V2ZW50KFNlZWtTdGFydClcXFwiKSwhdC5jYWxsKHRoaXMsVikpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXZlbnQ6U2Vla1N0YXJ0IGlzIHVuc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IHN0YXRlLlxcXCIpO3RoaXMuX3BsYXllclBsdWdpbi50cmFja1NlZWtTdGFydCgpfWVsc2V7aWYodGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tFdmVudChTZWVrQ29tcGxldGUpXFxcIiksIXQuY2FsbCh0aGlzLFYsITApKXJldHVybiB2b2lkIHRoaXMuX2xvZ2dlci5lcnJvcigkLFxcXCJBUEkgY2FsbCB0cmFja0V2ZW50OlNlZWtDb21wbGV0ZSBpcyB1bnN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBzdGF0ZS5cXFwiKTt0aGlzLl9wbGF5ZXJQbHVnaW4udHJhY2tTZWVrQ29tcGxldGUoKX19ZnVuY3Rpb24gaShhLGIsYyl7aWYoYT09ZS5FdmVudC5DaGFwdGVyU3RhcnQpe2lmKHRoaXMuX2xvZ2dlci5pbmZvKCQsXFxcIiM6OnRyYWNrRXZlbnQoQ2hhcHRlclN0YXJ0KVxcXCIpLCF0LmNhbGwodGhpcyxXKSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIuZXJyb3IoJCxcXFwiQVBJIGNhbGwgdHJhY2tFdmVudDpDaGFwdGVyU3RhcnQgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIik7YiYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBiJiZiLnNldFZhbHVlPyh0aGlzLl9jaGFwdGVySW5mbz1iLmNyZWF0ZUNoYXB0ZXJJbmZvKCksdGhpcy5fYWFQbHVnaW4mJnRoaXMuX2FhUGx1Z2luLnNldENoYXB0ZXJNZXRhZGF0YShjKSx0aGlzLl9wbGF5ZXJQbHVnaW4udHJhY2tDaGFwdGVyU3RhcnQoKSx0aGlzLl9zdGF0ZVtaXXx8dGhpcy5fc3RhdGVbU118fHRoaXMudHJhY2tQbGF5KCkpOnRoaXMuX2xvZ2dlci5lcnJvcigkLFxcXCJJbnZhbGlkIENoYXB0ZXIgSW5mbyBmb3IgTWVkaWFIZWFydGJlYXRFdmVudC5DaGFwdGVyU3RhcnQgZXZlbnQuXFxcIil9ZWxzZSBpZihhPT1lLkV2ZW50LkNoYXB0ZXJDb21wbGV0ZSl7aWYodGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tFdmVudChDaGFwdGVyQ29tcGxldGUpXFxcIiksIXQuY2FsbCh0aGlzLFcsITApKXJldHVybiB2b2lkIHRoaXMuX2xvZ2dlci5lcnJvcigkLFxcXCJBUEkgY2FsbCB0cmFja0V2ZW50OkNoYXB0ZXJDb21wbGV0ZSBpcyB1bnN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBzdGF0ZS5cXFwiKTt0aGlzLl9jaGFwdGVySW5mbz1udWxsLHRoaXMuX3BsYXllclBsdWdpbi50cmFja0NoYXB0ZXJDb21wbGV0ZSgpfWVsc2V7aWYodGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tFdmVudChDaGFwdGVyU2tpcClcXFwiKSwhdC5jYWxsKHRoaXMsVywhMCkpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXZlbnQ6Q2hhcHRlclNraXAgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIik7dGhpcy5fY2hhcHRlckluZm89bnVsbH19ZnVuY3Rpb24gaihhKXtpZihhPT1lLkV2ZW50LkJ1ZmZlclN0YXJ0KXtpZih0aGlzLl9sb2dnZXIuaW5mbygkLFxcXCIjOjp0cmFja0V2ZW50KEJ1ZmZlclN0YXJ0KVxcXCIpLCF0LmNhbGwodGhpcyxVKSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIuZXJyb3IoJCxcXFwiQVBJIGNhbGwgdHJhY2tFdmVudDpCdWZmZXJTdGFydCBpcyB1bnN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBzdGF0ZS5cXFwiKTt0aGlzLl9wbGF5ZXJQbHVnaW4udHJhY2tCdWZmZXJTdGFydCgpfWVsc2V7aWYodGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tFdmVudChCdWZmZXJDb21wbGV0ZSlcXFwiKSwhdC5jYWxsKHRoaXMsVSwhMCkpcmV0dXJuIHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXZlbnQ6QnVmZmVyQ29tcGxldGUgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIik7dGhpcy5fcGxheWVyUGx1Z2luLnRyYWNrQnVmZmVyQ29tcGxldGUoKX19ZnVuY3Rpb24gaygpe3JldHVybiB0aGlzLl9sb2dnZXIuaW5mbygkLFxcXCIjOjp0cmFja0V2ZW50KEJpdHJhdGVDaGFuZ2UpXFxcIiksdy5jYWxsKHRoaXMpP3ZvaWQgdGhpcy5fcGxheWVyUGx1Z2luLnRyYWNrQml0cmF0ZUNoYW5nZSgpOnZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXZlbnQ6Qml0cmF0ZUNoYW5nZSBpcyB1bnN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBzdGF0ZS5cXFwiKX1mdW5jdGlvbiBsKGEpe2lmKHRoaXMuX2xvZ2dlci5pbmZvKCQsXFxcIiM6OnRyYWNrRXZlbnQoVGltZWRNZXRhZGF0YVVwZGF0ZSlcXFwiKSxhJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGEmJmEuc2V0VmFsdWUpe3ZhciBiPWEuZ2V0VmFsdWUoQi5NRURJQUlORk9fS0VZX1RJTUVETUVUQURBVEEpO3RoaXMuX3BsYXllclBsdWdpbiYmYiYmXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBiJiZ0aGlzLl9wbGF5ZXJQbHVnaW4udHJhY2tUaW1lZE1ldGFkYXRhKGIpfX1mdW5jdGlvbiBtKCl7dGhpcy5fYWFQbHVnaW49bmV3IEkodGhpcy5hcHBNZWFzdXJlbWVudCxuZXcgSyh0aGlzKSk7dmFyIGE9bmV3IEo7YS5jaGFubmVsPXRoaXMuX2NvbmZpZy5jaGFubmVsP3RoaXMuX2NvbmZpZy5jaGFubmVsOlxcXCJcXFwiLGEuZGVidWdMb2dnaW5nPWMuTWVkaWFIZWFydGJlYXQuX2RlYnVnTG9nZ2luZ3x8dGhpcy5fY29uZmlnLmRlYnVnTG9nZ2luZyx0aGlzLl9hYVBsdWdpbi5jb25maWd1cmUoYSksdGhpcy5fcGx1Z2lucy5wdXNoKHRoaXMuX2FhUGx1Z2luKX1mdW5jdGlvbiBuKCl7dGhpcy5fYWhQbHVnaW49bmV3IEwobmV3IE4odGhpcykpO3ZhciBhPW5ldyBNKHRoaXMuX2NvbmZpZy50cmFja2luZ1NlcnZlcix0aGlzLmFwcE1lYXN1cmVtZW50LnZpc2l0b3IubWFya2V0aW5nQ2xvdWRPcmdJRCk7YS5kZWJ1Z0xvZ2dpbmc9Yy5NZWRpYUhlYXJ0YmVhdC5fZGVidWdMb2dnaW5nfHx0aGlzLl9jb25maWcuZGVidWdMb2dnaW5nLGEub3ZwPXRoaXMuX2NvbmZpZy5vdnA/dGhpcy5fY29uZmlnLm92cDpcXFwiXFxcIixhLnNzbD10aGlzLl9jb25maWcuc3NsLGEuc2RrPXRoaXMuX2NvbmZpZy5hcHBWZXJzaW9uP3RoaXMuX2NvbmZpZy5hcHBWZXJzaW9uOlxcXCJcXFwiO3ZhciBiPXMuY2FsbCh0aGlzKTtiJiZiLmxlbmd0aD4wJiYoYS5fX3ByaW1ldGltZT0hMCxhLl9fcHNka1ZlcnNpb249YiksdGhpcy5fYWhQbHVnaW4uY29uZmlndXJlKGEpLHRoaXMuX3BsdWdpbnMucHVzaCh0aGlzLl9haFBsdWdpbil9ZnVuY3Rpb24gbygpe3RoaXMuX3BsYXllclBsdWdpbj1uZXcgRihuZXcgSCh0aGlzKSk7dmFyIGE9bmV3IEc7YS5kZWJ1Z0xvZ2dpbmc9Yy5NZWRpYUhlYXJ0YmVhdC5fZGVidWdMb2dnaW5nfHx0aGlzLl9jb25maWcuZGVidWdMb2dnaW5nLHRoaXMuX3BsYXllclBsdWdpbi5jb25maWd1cmUoYSksdGhpcy5fcGx1Z2lucy5wdXNoKHRoaXMuX3BsYXllclBsdWdpbil9ZnVuY3Rpb24gcCgpe2lmKGMucGx1Z2lucy5uaWVsc2VuJiZ0aGlzLl9jb25maWcubmllbHNlbkNvbmZpZ0tleSYmdGhpcy5fY29uZmlnLm5pZWxzZW5BcHBJbmZvKXt0aGlzLl9uaWVsc2VuUGx1Z2luPW5ldyBjLnBsdWdpbnMubmllbHNlbi5OaWVsc2VuUGx1Z2luKG5ldyBjLl9NZWRpYUhlYXJ0YmVhdE5pZWxzZW5QbHVnaW5EZWxlZ2F0ZSh0aGlzKSk7dmFyIGE9bmV3IGMucGx1Z2lucy5uaWVsc2VuLk5pZWxzZW5QbHVnaW5Db25maWc7YS5kZWJ1Z0xvZ2dpbmc9Yy5NZWRpYUhlYXJ0YmVhdC5fZGVidWdMb2dnaW5nfHx0aGlzLl9jb25maWcuZGVidWdMb2dnaW5nLGEuYXBwSW5mbz10aGlzLl9jb25maWcubmllbHNlbkFwcEluZm8sYS5jb25maWdLZXk9dGhpcy5fY29uZmlnLm5pZWxzZW5Db25maWdLZXksdGhpcy5fbmllbHNlblBsdWdpbi5jb25maWd1cmUoYSksdGhpcy5fcGx1Z2lucy5wdXNoKHRoaXMuX25pZWxzZW5QbHVnaW4pfX1mdW5jdGlvbiBxKCl7dmFyIGE9bmV3IEQ7YS5kZWJ1Z0xvZ2dpbmc9Yy5NZWRpYUhlYXJ0YmVhdC5fZGVidWdMb2dnaW5nfHx0aGlzLl9jb25maWcuZGVidWdMb2dnaW5nLHRoaXMuX2hlYXJ0YmVhdD1uZXcgQyhuZXcgRSh0aGlzKSx0aGlzLl9wbHVnaW5zKSx0aGlzLl9oZWFydGJlYXQuY29uZmlndXJlKGEpfWZ1bmN0aW9uIHIoYSl7dGhpcy5fbG9nZ2VyLmVycm9yKCQsYS5nZXRNZXNzYWdlKCkrXFxcIiB8IFxcXCIrYS5nZXREZXRhaWxzKCkpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gdGhpcy5fY3VycmVudENvbnRlbnRNZWRpYU9iamVjdD90aGlzLl9jdXJyZW50Q29udGVudE1lZGlhT2JqZWN0LmdldFZhbHVlKF8pOm51bGx9ZnVuY3Rpb24gdChhLGIpe2lmKGEhPVEmJighdGhpcy5fc3RhdGVbUV18fHRoaXMuX3N0YXRlW1RdKSlyZXR1cm4hMTthPT09UiYmdS5jYWxsKHRoaXMpO3ZhciBjPSEoYT09PVkmJiFiKTtpZihjJiYoYj8hdGhpcy5fc3RhdGVbYV06dGhpcy5fc3RhdGVbYV0pKXJldHVybiExO3N3aXRjaChhKXtjYXNlIFI6dGhpcy5fc3RhdGVbU109Yix0aGlzLl9zdGF0ZVtaXT0hMDticmVhaztjYXNlIFM6dGhpcy5fc3RhdGVbUl09YjticmVhaztjYXNlIFk6aWYoIWImJnRoaXMuX3N0YXRlW1hdKXJldHVybiExO2JyZWFrO2Nhc2UgWDppZighYiYmIXRoaXMuX3N0YXRlW1ldKXJldHVybiExfXJldHVybiB0aGlzLl9zdGF0ZVthXT0hYiwhMH1mdW5jdGlvbiB1KCl7dGhpcy5fc3RhdGVbVl0mJnRoaXMudHJhY2tFdmVudChlLkV2ZW50LlNlZWtDb21wbGV0ZSksdGhpcy5fc3RhdGVbVV0mJnRoaXMudHJhY2tFdmVudChlLkV2ZW50LkJ1ZmZlckNvbXBsZXRlKX1mdW5jdGlvbiB2KGEpe3RoaXMuX3N0YXRlW2FdPSExfWZ1bmN0aW9uIHcoKXtyZXR1cm4gdGhpcy5fc3RhdGVbUV19ZnVuY3Rpb24geCgpe3RoaXMuX3N0YXRlPXt9fWZ1bmN0aW9uIHkoKXt0aGlzLl9wbHVnaW5zPVtdLHRoaXMuX2FhUGx1Z2luPW51bGwsdGhpcy5fYWhQbHVnaW49bnVsbCx0aGlzLl9wbGF5ZXJQbHVnaW49bnVsbCx0aGlzLl9uaWVsc2VuUGx1Z2luPW51bGwsdGhpcy5faGVhcnRiZWF0JiYodGhpcy5faGVhcnRiZWF0LmRlc3Ryb3koKSx0aGlzLl9oZWFydGJlYXQ9bnVsbCl9dmFyIHo9Yi5Mb2dnZXIsQT1jLnBsdWdpbnMudmlkZW9wbGF5ZXIuQXNzZXRUeXBlLEI9Yy5NZWRpYU9iamVjdCxDPWMuSGVhcnRiZWF0LEQ9Yy5IZWFydGJlYXRDb25maWcsRT1jLl9BREJNZWRpYUhlYXJ0YmVhdERlbGVnYXRlLEY9Yy5wbHVnaW5zLnZpZGVvcGxheWVyLlZpZGVvUGxheWVyUGx1Z2luLEc9Yy5wbHVnaW5zLnZpZGVvcGxheWVyLlZpZGVvUGxheWVyUGx1Z2luQ29uZmlnLEg9Yy5fTWVkaWFIZWFydGJlYXRWaWRlb1BsYXllclBsdWdpbkRlbGVnYXRlLEk9Yy5wbHVnaW5zLmFhLkFkb2JlQW5hbHl0aWNzUGx1Z2luLEo9Yy5wbHVnaW5zLmFhLkFkb2JlQW5hbHl0aWNzUGx1Z2luQ29uZmlnLEs9Yy5fTWVkaWFBbmFseXRpY3NQbHVnaW5EZWxlZ2F0ZSxMPWMucGx1Z2lucy5haC5BZG9iZUhlYXJ0YmVhdFBsdWdpbixNPWMucGx1Z2lucy5haC5BZG9iZUhlYXJ0YmVhdFBsdWdpbkNvbmZpZyxOPWMuX01lZGlhSGVhcnRiZWF0UGx1Z2luRGVsZWdhdGU7aWYoZC5wcm90b3R5cGUuZ2V0Q3VycmVudFBsYXliYWNrVGltZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxkLnByb3RvdHlwZS5nZXRRb1NPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5FdmVudD17QWRCcmVha1N0YXJ0OlxcXCJhZEJyZWFrU3RhcnRcXFwiLEFkQnJlYWtDb21wbGV0ZTpcXFwiYWRCcmVha0NvbXBsZXRlXFxcIixBZFN0YXJ0OlxcXCJhZFN0YXJ0XFxcIixBZENvbXBsZXRlOlxcXCJhZENvbXBsZXRlXFxcIixBZFNraXA6XFxcImFkU2tpcFxcXCIsQ2hhcHRlclN0YXJ0OlxcXCJjaGFwdGVyU3RhcnRcXFwiLENoYXB0ZXJDb21wbGV0ZTpcXFwiY2hhcHRlckNvbXBsZXRlXFxcIixDaGFwdGVyU2tpcDpcXFwiY2hhcHRlclNraXBcXFwiLFNlZWtTdGFydDpcXFwic2Vla1N0YXJ0XFxcIixTZWVrQ29tcGxldGU6XFxcInNlZWtDb21wbGV0ZVxcXCIsQnVmZmVyU3RhcnQ6XFxcImJ1ZmZlclN0YXJ0XFxcIixCdWZmZXJDb21wbGV0ZTpcXFwiYnVmZmVyQ29tcGxldGVcXFwiLEJpdHJhdGVDaGFuZ2U6XFxcImJpdHJhdGVDaGFuZ2VcXFwiLFRpbWVkTWV0YWRhdGFVcGRhdGU6XFxcInRpbWVkTWV0YWRhdGFVcGRhdGVcXFwifSxlLlN0cmVhbVR5cGU9e1ZPRDpcXFwidm9kXFxcIixMSVZFOlxcXCJsaXZlXFxcIixMSU5FQVI6XFxcImxpbmVhclxcXCJ9LGUuTWVkaWFPYmplY3RLZXk9e1N0YW5kYXJkVmlkZW9NZXRhZGF0YTpcXFwibWVkaWFfc3RhbmRhcmRfY29udGVudF9tZXRhZGF0YVxcXCIsU3RhbmRhcmRBZE1ldGFkYXRhOlxcXCJtZWRpYV9zdGFuZGFyZF9hZF9tZXRhZGF0YVxcXCIsVmlkZW9SZXN1bWVkOlxcXCJyZXN1bWVkXFxcIn0sZS5WaWRlb01ldGFkYXRhS2V5cz1jLnBsdWdpbnMuYWEuVmlkZW9NZXRhZGF0YUtleXMsZS5BZE1ldGFkYXRhS2V5cz1jLnBsdWdpbnMuYWEuQWRNZXRhZGF0YUtleXMsZS52ZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGMuVmVyc2lvbi5nZXRWZXJzaW9uKCl9LGUucHJvdG90eXBlLnRyYWNrU2Vzc2lvblN0YXJ0PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tTZXNzaW9uU3RhcnQoKVxcXCIpLCF0LmNhbGwodGhpcyxRKSlyZXR1cm4gdm9pZCB0aGlzLl9sb2dnZXIuZXJyb3IoJCxcXFwiQVBJIGNhbGwgdHJhY2tTZXNzaW9uU3RhcnQgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIik7aWYoIWF8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgYXx8IWEuc2V0VmFsdWUpcmV0dXJuIHYuY2FsbCh0aGlzLFEpLHZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkludmFsaWQgTWVkaWEgSW5mbyBvYmplY3RcXFwiKTt0aGlzLl9jdXJyZW50Q29udGVudE1lZGlhT2JqZWN0PWEsdGhpcy5fdmlkZW9JbmZvPWEuY3JlYXRlVmlkZW9JbmZvKCksdGhpcy5fdmlkZW9JbmZvLnBsYXllck5hbWU9dm9pZCAwIT10aGlzLl9jb25maWcucGxheWVyTmFtZT90aGlzLl9jb25maWcucGxheWVyTmFtZTpcXFwiXFxcIjt2YXIgYz1hLmdldFZhbHVlKGUuTWVkaWFPYmplY3RLZXkuU3RhbmRhcmRWaWRlb01ldGFkYXRhKTtpZihjJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGMpZm9yKHZhciBkIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShkKSYmKGJbZF09Y1tkXSk7dmFyIGY9YS5nZXRWYWx1ZShlLk1lZGlhT2JqZWN0S2V5LlZpZGVvUmVzdW1lZCk7ZiYmXFxcImJvb2xlYW5cXFwiPT10eXBlb2YgZiYmKHRoaXMuX3ZpZGVvSW5mby5yZXN1bWVkPWEuZ2V0VmFsdWUoZS5NZWRpYU9iamVjdEtleS5WaWRlb1Jlc3VtZWQpKSxQLmNhbGwodGhpcyksdGhpcy5fcGxheWVyUGx1Z2luJiYodGhpcy5fYWFQbHVnaW4mJnRoaXMuX2FhUGx1Z2luLnNldFZpZGVvTWV0YWRhdGEoYiksdGhpcy5fcGxheWVyUGx1Z2luLnRyYWNrVmlkZW9Mb2FkKCksdGhpcy5fcGxheWVyUGx1Z2luLnRyYWNrU2Vzc2lvblN0YXJ0KCkpfSxlLnByb3RvdHlwZS50cmFja1BsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tQbGF5KClcXFwiKSx0LmNhbGwodGhpcyxSKT92b2lkIHRoaXMuX3BsYXllclBsdWdpbi50cmFja1BsYXkoKTp2b2lkIHRoaXMuX2xvZ2dlci5lcnJvcigkLFxcXCJBUEkgY2FsbCB0cmFja1BsYXkgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIil9LGUucHJvdG90eXBlLnRyYWNrUGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tQYXVzZSgpXFxcIiksdC5jYWxsKHRoaXMsUyk/dm9pZCh0aGlzLl9wbGF5ZXJQbHVnaW4mJnRoaXMuX3BsYXllclBsdWdpbi50cmFja1BhdXNlKCkpOnZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrUGF1c2UgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIil9LGUucHJvdG90eXBlLnRyYWNrQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nZ2VyLmluZm8oJCxcXFwiIzo6dHJhY2tDb21wbGV0ZSgpXFxcIiksdC5jYWxsKHRoaXMsVCk/dm9pZCh0aGlzLl9wbGF5ZXJQbHVnaW4mJnRoaXMuX3BsYXllclBsdWdpbi50cmFja0NvbXBsZXRlKGZ1bmN0aW9uKCl7fSkpOnZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrQ29tcGxldGUgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIil9LGUucHJvdG90eXBlLnRyYWNrU2Vzc2lvbkVuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dnZXIuaW5mbygkLFxcXCIjOjp0cmFja1Nlc3Npb25FbmQoKVxcXCIpLHQuY2FsbCh0aGlzLFEsITApPyh0aGlzLl9wbGF5ZXJQbHVnaW4mJnRoaXMuX3BsYXllclBsdWdpbi50cmFja1ZpZGVvVW5sb2FkKCkseC5jYWxsKHRoaXMpLHZvaWQgeS5jYWxsKHRoaXMpKTooeC5jYWxsKHRoaXMpLHkuY2FsbCh0aGlzKSx2b2lkIHRoaXMuX2xvZ2dlci5lcnJvcigkLFxcXCJBUEkgY2FsbCB0cmFja1Nlc3Npb25FbmQgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIikpfSxlLnByb3RvdHlwZS50cmFja0Vycm9yPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9sb2dnZXIuaW5mbygkLFxcXCIjOjp0cmFja0Vycm9yKClcXFwiKSx3LmNhbGwodGhpcyk/dm9pZCh0aGlzLl9wbGF5ZXJQbHVnaW4mJnRoaXMuX3BsYXllclBsdWdpbi50cmFja1ZpZGVvUGxheWVyRXJyb3IoYT9hOlxcXCJ1bmtub3duX2Vycm9yX2lkXFxcIikpOnZvaWQgdGhpcy5fbG9nZ2VyLmVycm9yKCQsXFxcIkFQSSBjYWxsIHRyYWNrRXJyb3IgaXMgdW5zdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgc3RhdGUuXFxcIil9LGUucHJvdG90eXBlLnRyYWNrRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe3N3aXRjaChhKXtjYXNlIGUuRXZlbnQuQWRCcmVha1N0YXJ0OmNhc2UgZS5FdmVudC5BZEJyZWFrQ29tcGxldGU6Zi5jYWxsKHRoaXMsYSxiKTticmVhaztjYXNlIGUuRXZlbnQuQWRTdGFydDpjYXNlIGUuRXZlbnQuQWRDb21wbGV0ZTpjYXNlIGUuRXZlbnQuQWRTa2lwOmcuY2FsbCh0aGlzLGEsYixjKTticmVhaztjYXNlIGUuRXZlbnQuU2Vla1N0YXJ0OmNhc2UgZS5FdmVudC5TZWVrQ29tcGxldGU6aC5jYWxsKHRoaXMsYSk7YnJlYWs7Y2FzZSBlLkV2ZW50LkNoYXB0ZXJTdGFydDpjYXNlIGUuRXZlbnQuQ2hhcHRlckNvbXBsZXRlOmNhc2UgZS5FdmVudC5DaGFwdGVyU2tpcDppLmNhbGwodGhpcyxhLGIsYyk7YnJlYWs7Y2FzZSBlLkV2ZW50LkJ1ZmZlclN0YXJ0OmNhc2UgZS5FdmVudC5CdWZmZXJDb21wbGV0ZTpqLmNhbGwodGhpcyxhKTticmVhaztjYXNlIGUuRXZlbnQuQml0cmF0ZUNoYW5nZTprLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSBlLkV2ZW50LlRpbWVkTWV0YWRhdGFVcGRhdGU6bC5jYWxsKHRoaXMsYil9fSxjLnBsdWdpbnMubmllbHNlbil7dmFyIE89Yy5fTWVkaWFIZWFydGJlYXROaWVsc2VuO2UuTWVkaWFPYmplY3RLZXkuTmllbHNlbkNvbnRlbnRNZXRhZGF0YT1PLk1FRElBSEVBUlRCRUFUX05JRUxTRU5fQ09OVEVOVF9NRVRBREFUQSxlLk1lZGlhT2JqZWN0S2V5Lk5pZWxzZW5BZE1ldGFkYXRhPU8uTUVESUFIRUFSVEJFQVRfTklFTFNFTl9BRF9NRVRBREFUQSxlLk1lZGlhT2JqZWN0S2V5Lk5pZWxzZW5DaGFubmVsTWV0YWRhdGE9Ty5NRURJQUhFQVJUQkVBVF9OSUVMU0VOX0NIQU5ORUxfTUVUQURBVEEsZS5wcm90b3R5cGUubmllbHNlbkxvYWRNZXRhZGF0YT1mdW5jdGlvbihhKXt0aGlzLl9uaWVsc2VuUGx1Z2luJiZ0aGlzLl9uaWVsc2VuUGx1Z2luLmxvYWRNZXRhZGF0YShhKX19dmFyIFA9ZnVuY3Rpb24oKXtpZighdGhpcy5hcHBNZWFzdXJlbWVudHx8IXRoaXMuYXBwTWVhc3VyZW1lbnQudmlzaXRvcil0aHJvdyBuZXcgRXJyb3IoXFxcImFwcE1lYXN1cmVtZW50LnZpc2l0b3Igb2JqZWN0IGNhbm5vdCBiZSBOVUxMLlxcXCIpO20uY2FsbCh0aGlzKSxuLmNhbGwodGhpcyksby5jYWxsKHRoaXMpLHAuY2FsbCh0aGlzKSxxLmNhbGwodGhpcyl9LFE9MSxSPTIsUz0zLFQ9NCxVPTUsVj02LFc9NyxYPTgsWT05LFo9MTA7ZS5jcmVhdGVNZWRpYU9iamVjdD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZj1uZXcgQjtmLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9WSURFT0lELGIpLGYuc2V0VmFsdWUoQi5NRURJQUlORk9fS0VZX05BTUUsYSksZi5zZXRWYWx1ZShCLk1FRElBSU5GT19LRVlfTEVOR1RILGMpLGYuc2V0VmFsdWUoQi5NRURJQUlORk9fS0VZX1BMQVlIRUFELDApO3ZhciBnPUEuQVNTRVRfVFlQRV9WT0Q7c3dpdGNoKGQpe2Nhc2UgZS5TdHJlYW1UeXBlLlZPRDpnPUEuQVNTRVRfVFlQRV9WT0Q7YnJlYWs7Y2FzZSBlLlN0cmVhbVR5cGUuTElWRTpnPUEuQVNTRVRfVFlQRV9MSVZFO2JyZWFrO2Nhc2UgZS5TdHJlYW1UeXBlLkxJTkVBUjpnPUEuQVNTRVRfVFlQRV9MSU5FQVJ9cmV0dXJuIGYuc2V0VmFsdWUoQi5NRURJQUlORk9fS0VZX1NUUkVBTVRZUEUsZyksZn0sZS5jcmVhdGVBZEJyZWFrT2JqZWN0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgQjtyZXR1cm4gZC5zZXRWYWx1ZShCLk1FRElBSU5GT19LRVlfTkFNRSxhKSxkLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9QT1NJVElPTixiKSxkLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9TVEFSVFVQVElNRSxjKSxkfSxlLmNyZWF0ZUFkT2JqZWN0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBCO3JldHVybiBlLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9OQU1FLGEpLGUuc2V0VmFsdWUoQi5NRURJQUlORk9fS0VZX0FESUQsYiksZS5zZXRWYWx1ZShCLk1FRElBSU5GT19LRVlfUE9TSVRJT04sYyksZS5zZXRWYWx1ZShCLk1FRElBSU5GT19LRVlfTEVOR1RILGQpLGV9LGUuY3JlYXRlQ2hhcHRlck9iamVjdD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uZXcgQjtyZXR1cm4gZS5zZXRWYWx1ZShCLk1FRElBSU5GT19LRVlfTkFNRSxhKSxlLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9QT1NJVElPTixiKSxlLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9MRU5HVEgsYyksZS5zZXRWYWx1ZShCLk1FRElBSU5GT19LRVlfU1RBUlRUSU1FLGQpLGV9LGUuY3JlYXRlUW9TT2JqZWN0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBCO3JldHVybiBlLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9CSVRSQVRFLGEpLGUuc2V0VmFsdWUoQi5NRURJQUlORk9fS0VZX0ZQUyxjKSxlLnNldFZhbHVlKEIuTUVESUFJTkZPX0tFWV9EUk9QUEVERlJBTUVTLGQpLGUuc2V0VmFsdWUoQi5NRURJQUlORk9fS0VZX1NUQVJUVVBUSU1FLGIpLGV9LGUuY3JlYXRlVGltZWRNZXRhZGF0YU9iamVjdD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgQjtyZXR1cm4gYi5zZXRWYWx1ZShCLk1FRElBSU5GT19LRVlfVElNRURNRVRBREFUQSxhKSxifTt2YXIgJD1cXFwiTWVkaWFIZWFydGJlYXRcXFwiLF89XFxcImEuX19wdHR2c2RrVmVyc2lvblxcXCI7Yy5NZWRpYUhlYXJ0YmVhdD1lLGMuTWVkaWFIZWFydGJlYXREZWxlZ2F0ZT1kLGMuTWVkaWFIZWFydGJlYXQuX29uRGVsZWdhdGVFcnJvcj1yLGMuTWVkaWFIZWFydGJlYXQuX2RlYnVnTG9nZ2luZz0hMX0oYS5BREIuY29yZSxhLkFEQi52YSksYS5BREJ8fChhLkFEQj17fSksYS5BREIuY29yZXx8KGEuQURCLmNvcmU9Y29yZSksYS5BREIudmF8fChhLkFEQi52YT12YSksYS5BREIudmEucGx1Z2luc3x8KGEuQURCLnZhLnBsdWdpbnM9e30pfSh0aGlzKTtcXG5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vcmF3LWxvYWRlciEuL2ludGVncmF0aW9ucy9hZG9iZS9saWIvdmlkZW9faGVhcnRiZWF0LTIuMC4yLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 9 */
/* unknown exports provided */
/* all exports used */
/*!*********************************************************************!*\
  !*** ../~/raw-loader!./integrations/adobe/lib/visitor_api-2.4.0.js ***!
  \*********************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"!function e(t,i,n){function r(s,o){if(!i[s]){if(!t[s]){var l=\\\"function\\\"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error(\\\"Cannot find module '\\\"+s+\\\"'\\\");throw u.code=\\\"MODULE_NOT_FOUND\\\",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var a=\\\"function\\\"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){(function(i){e(\\\"./utils/polyfills\\\");var n=e(\\\"./strategies/LocalVisitor\\\"),r=e(\\\"./strategies/ProxyVisitor\\\"),a=e(\\\"./strategies/PlaceholderVisitor\\\"),s=e(\\\"./utils/callbackRegistryFactory\\\"),o=e(\\\"./Message\\\"),l=e(\\\"./enums\\\"),u=l.MESSAGES;t.exports=function(e,t,l,c){function d(e){Object.assign(I,e)}function f(e){Object.assign(I.state,e),I.callbackRegistry.executeAll(I.state)}function g(e){if(!A.isInvalid(e)){v=!1;var t=A.parse(e);I.setStateAndPublish(t.state)}}function _(e){!v&&C&&(v=!0,A.send(c,e))}function m(){d(new n(l._generateID)),I.getMarketingCloudVisitorID(),I.callbackRegistry.executeAll(I.state,!0),i.removeEventListener(\\\"message\\\",p)}function p(e){if(!A.isInvalid(e)){var t=A.parse(e);v=!1,i.clearTimeout(this.timeout),i.removeEventListener(\\\"message\\\",p),d(new r(I)),i.addEventListener(\\\"message\\\",g),I.setStateAndPublish(t.state),I.callbackRegistry.hasCallbacks()&&_(u.GETSTATE)}}function h(){C&&postMessage?(i.addEventListener(\\\"message\\\",p),_(u.HANDSHAKE),this.timeout=setTimeout(m,250)):m()}function S(){i.s_c_in||(i.s_c_il=[],i.s_c_in=0),I._c=\\\"Visitor\\\",I._il=i.s_c_il,I._in=i.s_c_in,I._il[I._in]=I,i.s_c_in++}function D(){function e(e){0!==e.indexOf(\\\"_\\\")&&\\\"function\\\"==typeof l[e]&&(I[e]=function(){})}Object.keys(l).forEach(e),I.getSupplementalDataID=l.getSupplementalDataID}var I=this,C=t.whitelistParentDomain;I.state={},I.version=l.version,I.marketingCloudOrgID=e;var v=!1,A=new o(e,C);I.callbackRegistry=s(),I.findField=function(e,t){if(I.state[e])return t(I.state[e]),I.state[e]},I.messageParent=_,I.setStateAndPublish=f,function(){S(),D(),d(new a(I)),h()}()}}).call(this,\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:\\\"undefined\\\"!=typeof window?window:{})},{\\\"./Message\\\":2,\\\"./enums\\\":4,\\\"./strategies/LocalVisitor\\\":5,\\\"./strategies/PlaceholderVisitor\\\":6,\\\"./strategies/ProxyVisitor\\\":7,\\\"./utils/callbackRegistryFactory\\\":8,\\\"./utils/polyfills\\\":10}],2:[function(e,t,i){var n=e(\\\"./enums\\\"),r=n.MESSAGES,a={0:\\\"prefix\\\",1:\\\"orgID\\\",2:\\\"state\\\"};t.exports=function(e,t){this.parse=function(e){try{var t={};return e.data.split(\\\"|\\\").forEach(function(e,i){if(void 0!==e){t[a[i]]=2!==i?e:JSON.parse(e)}}),t}catch(e){}},this.isInvalid=function(i){var n=this.parse(i);if(!n||Object.keys(n).length<2)return!0;var a=e!==n.orgID,s=!t||i.origin!==t,o=-1===Object.keys(r).indexOf(n.prefix);return a||s||o},this.send=function(i,n,r){var a=n+\\\"|\\\"+e;r&&r===Object(r)&&(a+=\\\"|\\\"+JSON.stringify(r));try{i.postMessage(a,t)}catch(e){}}}},{\\\"./enums\\\":4}],3:[function(e,t,i){(function(i){function n(){function e(){o.windowLoaded=!0}i.addEventListener?i.addEventListener(\\\"load\\\",e):i.attachEvent&&i.attachEvent(\\\"onload\\\",e),o.codeLoadEnd=(new Date).getTime()}/** @license ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============\\n\\nAdobe Visitor API for JavaScript version: 2.4.0\\nCopyright 1996-2015 Adobe, Inc. All Rights Reserved\\nMore info available at https://marketing.adobe.com/resources/help/en_US/mcvid/\\n*/\\nvar r=e(\\\"./ChildVisitor\\\"),a=e(\\\"./Message\\\"),s=e(\\\"./utils/makeChildMessageListener\\\"),o=function(e,t){function n(e){var t=e;return function(e){var i=e||_.location.href;try{var n=g._extractParamFromUri(i,t);if(n)return R.parsePipeDelimetedKeyValues(n)}catch(e){}}}function r(e){function t(e,t){e&&e.match(h.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[I],g.setMarketingCloudVisitorID),g._setFieldExpire(L,-1),t(e[O],g.setAnalyticsVisitorID)}function o(e){e=e||{},g._supplementalDataIDCurrent=e.supplementalDataIDCurrent||\\\"\\\",g._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},g._supplementalDataIDLast=e.supplementalDataIDLast||\\\"\\\",g._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function l(e){for(var t=\\\"\\\",i=0,n=e.length;i<n;i++){var r=e[i],a=r[0],s=r[1];null!=s&&s!==P&&(t=function(e,t,i){return i=i?i+=\\\"|\\\":i,i+=e+\\\"=\\\"+encodeURIComponent(t)}(a,s,t))}return function(e){var t=R.getTimestampInSeconds();return e=e?e+=\\\"|\\\":e,e+=\\\"TS=\\\"+t}(t)}function u(e){var t=e.minutesToLive,i=\\\"\\\";return g.idSyncDisableSyncs&&(i=i||\\\"Error: id syncs have been disabled\\\"),\\\"string\\\"==typeof e.dpid&&e.dpid.length||(i=i||\\\"Error: config.dpid is empty\\\"),\\\"string\\\"==typeof e.url&&e.url.length||(i=i||\\\"Error: config.url is empty\\\"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(i=i||\\\"Error: config.minutesToLive needs to be a positive number\\\")),{error:i,ttl:t}}function c(e){for(var t=0,i=e.length;t<i;t++)if(!h.POSITIVE_INT_REGEX.test(e[t]))return!1;return!0}function d(e,t){for(;e.length<t.length;)e.push(\\\"0\\\");for(;t.length<e.length;)t.push(\\\"0\\\")}function f(e,t){for(var i=0;i<e.length;i++){var n=parseInt(e[i],10),r=parseInt(t[i],10);if(n>r)return 1;if(r>n)return-1}return 0}if(!e)throw new Error(\\\"Visitor requires Adobe Marketing Cloud Org ID\\\");var g=this;g.version=\\\"2.4.0\\\";var _=i,m=_.Visitor;m.version=g.version,_.s_c_in||(_.s_c_il=[],_.s_c_in=0),g._c=\\\"Visitor\\\",g._il=_.s_c_il,g._in=_.s_c_in,g._il[g._in]=g,_.s_c_in++,g._log={requests:[]};var p=_.document,h={POST_MESSAGE_ENABLED:!!_.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:\\\"adobe_mc\\\",ADOBE_MC_SDID:\\\"adobe_mc_sdid\\\",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\\\\-]+$/,ADOBE_MC_TTL_IN_MIN:5,POSITIVE_INT_REGEX:/^\\\\d+$/,VERSION_REGEX:/vVersion\\\\|((\\\\d+\\\\.)?(\\\\d+\\\\.)?(\\\\*|\\\\d+))(?=$|\\\\|)/,HAS_JSON_STRINGIFY:window.JSON===Object(window.JSON)&&\\\"function\\\"==typeof window.JSON.stringify},S=function(e){return!Object.prototype[e]};g._hash=function(e){var t,i,n=0;if(e)for(t=0;t<e.length;t++)i=e.charCodeAt(t),n=(n<<5)-n+i,n&=n;return n},g._generateID=function(e,t){var i,n,r=\\\"0123456789\\\",a=\\\"\\\",s=\\\"\\\",o=8,l=10,u=10;if(t===I&&(x.isClientSideMarketingCloudVisitorID=!0),1===e){for(r+=\\\"ABCDEF\\\",i=0;i<16;i++)n=Math.floor(Math.random()*o),a+=r.substring(n,n+1),n=Math.floor(Math.random()*o),s+=r.substring(n,n+1),o=16;return a+\\\"-\\\"+s}for(i=0;i<19;i++)n=Math.floor(Math.random()*l),a+=r.substring(n,n+1),0===i&&9===n?l=3:(1===i||2===i)&&10!==l&&n<2?l=10:i>2&&(l=10),n=Math.floor(Math.random()*u),s+=r.substring(n,n+1),0===i&&9===n?u=3:(1===i||2===i)&&10!==u&&n<2?u=10:i>2&&(u=10);return a+s},g._getDomain=function(e){var t;if(!e&&_.location&&(e=_.location.hostname),t=e)if(/^[0-9.]+$/.test(t))t=\\\"\\\";else{var i=\\\",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,\\\",n=t.split(\\\".\\\"),r=n.length-1,a=r-1;if(r>1&&n[r].length<=2&&(2===n[r-1].length||i.indexOf(\\\",\\\"+n[r]+\\\",\\\")<0)&&a--,a>0)for(t=\\\"\\\";r>=a;)t=n[r]+(t?\\\".\\\":\\\"\\\")+t,r--}return t},g.cookieRead=function(e){e=encodeURIComponent(e);var t=(\\\";\\\"+p.cookie).split(\\\" \\\").join(\\\";\\\"),i=t.indexOf(\\\";\\\"+e+\\\"=\\\"),n=i<0?i:t.indexOf(\\\";\\\",i+1);return i<0?\\\"\\\":decodeURIComponent(t.substring(i+2+e.length,n<0?t.length:n))},g.cookieWrite=function(e,t,i){var n,r=g.cookieLifetime;if(t=\\\"\\\"+t,r=r?(\\\"\\\"+r).toUpperCase():\\\"\\\",i&&\\\"SESSION\\\"!==r&&\\\"NONE\\\"!==r){if(n=\\\"\\\"!==t?parseInt(r||0,10):-60)i=new Date,i.setTime(i.getTime()+1e3*n);else if(1===i){i=new Date;var a=i.getYear();i.setYear(a+2+(a<1900?1900:0))}}else i=0;return e&&\\\"NONE\\\"!==r?(p.cookie=encodeURIComponent(e)+\\\"=\\\"+encodeURIComponent(t)+\\\"; path=/;\\\"+(i?\\\" expires=\\\"+i.toGMTString()+\\\";\\\":\\\"\\\")+(g.cookieDomain?\\\" domain=\\\"+g.cookieDomain+\\\";\\\":\\\"\\\"),g.cookieRead(e)===t):0},g._callbackList=null,g._callCallback=function(e,t){try{\\\"function\\\"==typeof e?e.apply(_,t):e[1].apply(e[0],t)}catch(e){}},g._registerCallback=function(e,t){t&&(null==g._callbackList&&(g._callbackList={}),void 0==g._callbackList[e]&&(g._callbackList[e]=[]),g._callbackList[e].push(t))},g._callAllCallbacks=function(e,t){if(null!=g._callbackList){var i=g._callbackList[e];if(i)for(;i.length>0;)g._callCallback(i.shift(),t)}},g._addQuerystringParam=function(e,t,i,n){var r=encodeURIComponent(t)+\\\"=\\\"+encodeURIComponent(i),a=R.parseHash(e),s=R.hashlessUrl(e);if(-1===s.indexOf(\\\"?\\\"))return s+\\\"?\\\"+r+a;var o=s.split(\\\"?\\\"),l=o[0]+\\\"?\\\",u=o[1];return l+R.addQueryParamAtLocation(u,r,n)+a},g._extractParamFromUri=function(e,t){var i=new RegExp(\\\"[\\\\\\\\?&#]\\\"+t+\\\"=([^&#]*)\\\"),n=i.exec(e);if(n&&n.length)return decodeURIComponent(n[1])},g._parseAdobeMcFromUrl=n(h.ADOBE_MC),g._parseAdobeMcSdidFromUrl=n(h.ADOBE_MC_SDID),g._attemptToPopulateSdidFromUrl=function(t){var i=g._parseAdobeMcSdidFromUrl(t),n=1e9;i&&i.TS&&(n=R.getTimestampInSeconds()-i.TS),i&&i.SDID&&i[C]===e&&n<g.sdidParamExpiry&&(g._supplementalDataIDCurrent=i.SDID,g._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},g._attemptToPopulateIdsFromUrl=function(){var t=g._parseAdobeMcFromUrl();if(t&&t.TS){var i=R.getTimestampInSeconds(),n=i-t.TS;if(Math.floor(n/60)>h.ADOBE_MC_TTL_IN_MIN||t[C]!==e)return;r(t)}},g.resetState=function(e){e?g._mergeServerState(e):o()},g._mergeServerState=function(e){if(e)try{if(e=function(e){return R.isObject(e)?e:R.parseJSON(e)}(e),e[g.marketingCloudOrgID]){var t=e[g.marketingCloudOrgID];!function(e){R.isObject(e)&&g.setCustomerIDs(e)}(t.customerIDs),o(t.sdid)}}catch(e){throw new Error(\\\"`serverState` has an invalid format.\\\")}},g._timeout=null,g._loadData=function(e,t,i,n){t=g._addQuerystringParam(t,\\\"d_fieldgroup\\\",e,1),n.url=g._addQuerystringParam(n.url,\\\"d_fieldgroup\\\",e,1),n.corsUrl=g._addQuerystringParam(n.corsUrl,\\\"d_fieldgroup\\\",e,1),x.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&\\\"XMLHttpRequest\\\"===g._requestProcs.corsMetadata.corsType?g._requestProcs.fireCORS(n,i,e):g.useCORSOnly||g._loadJSONP(e,t,i)},g._loadJSONP=function(e,t,i){var n,r=0,a=0;if(t&&p){for(n=0;!r&&n<2;){try{r=p.getElementsByTagName(n>0?\\\"HEAD\\\":\\\"head\\\"),r=r&&r.length>0?r[0]:0}catch(e){r=0}n++}if(!r)try{p.body&&(r=p.body)}catch(e){r=0}if(r)for(n=0;!a&&n<2;){try{a=p.createElement(n>0?\\\"SCRIPT\\\":\\\"script\\\")}catch(e){a=0}n++}}if(!t||!r||!a)return void(i&&i());a.type=\\\"text/javascript\\\",a.src=t,r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a);var s=g.loadTimeout;i&&(null==g._timeout&&(g._timeout={}),g._timeout[e]=setTimeout(function(){i(!0)},s)),g._log.requests.push(t)},g._clearTimeout=function(e){null!=g._timeout&&g._timeout[e]&&(clearTimeout(g._timeout[e]),g._timeout[e]=0)},g._isAllowedDone=!1,g._isAllowedFlag=!1,g.isAllowed=function(){return g._isAllowedDone||(g._isAllowedDone=!0,(g.cookieRead(g.cookieName)||g.cookieWrite(g.cookieName,\\\"T\\\",1))&&(g._isAllowedFlag=!0)),g._isAllowedFlag},g._fields=null,g._fieldsExpired=null;var D=\\\"MC\\\",I=\\\"MCMID\\\",C=\\\"MCORGID\\\",v=\\\"MCCIDH\\\",A=\\\"MCSYNCS\\\",y=\\\"MCSYNCSOP\\\",M=\\\"MCIDTS\\\",b=\\\"MCOPTOUT\\\",E=\\\"A\\\",O=\\\"MCAID\\\",T=\\\"AAM\\\",k=\\\"MCAAMLH\\\",L=\\\"MCAAMB\\\",P=\\\"NONE\\\";g._settingsDigest=0,g._getSettingsDigest=function(){if(!g._settingsDigest){var e=g.version;g.audienceManagerServer&&(e+=\\\"|\\\"+g.audienceManagerServer),g.audienceManagerServerSecure&&(e+=\\\"|\\\"+g.audienceManagerServerSecure),g._settingsDigest=g._hash(e)}return g._settingsDigest},g._readVisitorDone=!1,g._readVisitor=function(){if(!g._readVisitorDone){g._readVisitorDone=!0;var e,t,i,n,r,a,s=g._getSettingsDigest(),o=!1,l=g.cookieRead(g.cookieName),u=new Date;if(null==g._fields&&(g._fields={}),l&&\\\"T\\\"!==l)for(l=l.split(\\\"|\\\"),l[0].match(/^[\\\\-0-9]+$/)&&(parseInt(l[0],10)!==s&&(o=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)t=l[e].split(\\\"-\\\"),i=t[0],n=l[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf(\\\"s\\\")>0):(r=0,a=!1),o&&(i===v&&(n=\\\"\\\"),r>0&&(r=u.getTime()/1e3-60)),i&&n&&(g._setField(i,n,1),r>0&&(g._fields[\\\"expire\\\"+i]=r+(a?\\\"s\\\":\\\"\\\"),(u.getTime()>=1e3*r||a&&!g.cookieRead(g.sessionCookieName))&&(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[i]=!0)));!g._getField(O)&&R.isTrackingServerPopulated()&&(l=g.cookieRead(\\\"s_vi\\\"))&&(l=l.split(\\\"|\\\"),l.length>1&&l[0].indexOf(\\\"v1\\\")>=0&&(n=l[1],e=n.indexOf(\\\"[\\\"),e>=0&&(n=n.substring(0,e)),n&&n.match(h.VALID_VISITOR_ID_REGEX)&&g._setField(O,n)))}},g._appendVersionTo=function(e){var t=\\\"vVersion|\\\"+g.version,i=e?g._getCookieVersion(e):null;return i?R.areVersionsDifferent(i,g.version)&&(e=e.replace(h.VERSION_REGEX,t)):e+=(e?\\\"|\\\":\\\"\\\")+t,e},g._writeVisitor=function(){var e,t,i=g._getSettingsDigest();for(e in g._fields)S(e)&&g._fields[e]&&\\\"expire\\\"!==e.substring(0,6)&&(t=g._fields[e],i+=(i?\\\"|\\\":\\\"\\\")+e+(g._fields[\\\"expire\\\"+e]?\\\"-\\\"+g._fields[\\\"expire\\\"+e]:\\\"\\\")+\\\"|\\\"+t);i=g._appendVersionTo(i),g.cookieWrite(g.cookieName,i,1)},g._getField=function(e,t){return null==g._fields||!t&&g._fieldsExpired&&g._fieldsExpired[e]?null:g._fields[e]},g._setField=function(e,t,i){null==g._fields&&(g._fields={}),g._fields[e]=t,i||g._writeVisitor()},g._getFieldList=function(e,t){var i=g._getField(e,t);return i?i.split(\\\"*\\\"):null},g._setFieldList=function(e,t,i){g._setField(e,t?t.join(\\\"*\\\"):\\\"\\\",i)},g._getFieldMap=function(e,t){var i=g._getFieldList(e,t);if(i){var n,r={};for(n=0;n<i.length;n+=2)r[i[n]]=i[n+1];return r}return null},g._setFieldMap=function(e,t,i){var n,r=null;if(t){r=[];for(n in t)S(n)&&(r.push(n),r.push(t[n]))}g._setFieldList(e,r,i)},g._setFieldExpire=function(e,t,i){var n=new Date;n.setTime(n.getTime()+1e3*t),null==g._fields&&(g._fields={}),g._fields[\\\"expire\\\"+e]=Math.floor(n.getTime()/1e3)+(i?\\\"s\\\":\\\"\\\"),t<0?(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[e]=!0):g._fieldsExpired&&(g._fieldsExpired[e]=!1),i&&(g.cookieRead(g.sessionCookieName)||g.cookieWrite(g.sessionCookieName,\\\"1\\\"))},g._findVisitorID=function(e){return e&&(\\\"object\\\"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:\\\"\\\"+e),e&&\\\"NOTARGET\\\"===(e=e.toUpperCase())&&(e=P),e&&(e===P||e.match(h.VALID_VISITOR_ID_REGEX))||(e=\\\"\\\")),e},g._setFields=function(e,t){if(g._clearTimeout(e),null!=g._loading&&(g._loading[e]=!1),x.fieldGroupObj[e]&&x.setState(e,!1),e===D){!0!==x.isClientSideMarketingCloudVisitorID&&(x.isClientSideMarketingCloudVisitorID=!1);var i=g._getField(I);if(!i||g.overwriteCrossDomainMCIDAndAID){if(!(i=\\\"object\\\"==typeof t&&t.mid?t.mid:g._findVisitorID(t))){if(g._use1stPartyMarketingCloudServer&&!g.tried1stPartyMarketingCloudServer)return g.tried1stPartyMarketingCloudServer=!0,void g.getAnalyticsVisitorID(null,!1,!0);i=g._generateID(0,I)}g._setField(I,i)}i&&i!==P||(i=\\\"\\\"),\\\"object\\\"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&g._setFields(T,t),g._use1stPartyMarketingCloudServer&&t.mid&&g._setFields(E,{id:t.id})),g._callAllCallbacks(I,[i])}if(e===T&&\\\"object\\\"==typeof t){var n=604800;void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10));var r=g._getField(k);r||(r=t.d_region,r||(r=t.dcs_region),r&&(g._setFieldExpire(k,n),g._setField(k,r))),r||(r=\\\"\\\"),g._callAllCallbacks(k,[r]);var a=g._getField(L);(t.d_blob||t.blob)&&(a=t.d_blob,a||(a=t.blob),g._setFieldExpire(L,n),g._setField(L,a)),a||(a=\\\"\\\"),g._callAllCallbacks(L,[a]),!t.error_msg&&g._newCustomerIDsHash&&g._setField(v,g._newCustomerIDsHash)}if(e===E){var s=g._getField(O);s&&!g.overwriteCrossDomainMCIDAndAID||(s=g._findVisitorID(t),s?s!==P&&g._setFieldExpire(L,-1):s=P,g._setField(O,s)),s&&s!==P||(s=\\\"\\\"),g._callAllCallbacks(O,[s])}if(g.idSyncDisableSyncs)F.idCallNotProcesssed=!0;else{F.idCallNotProcesssed=!1;var o={};o.ibs=t.ibs,o.subdomain=t.subdomain,F.processIDCallData(o)}if(t===Object(t)){var l,u;g.isAllowed()&&(l=g._getField(b)),l||(l=P,t.d_optout&&t.d_optout instanceof Array&&(l=t.d_optout.join(\\\",\\\")),u=parseInt(t.d_ottl,10),isNaN(u)&&(u=7200),g._setFieldExpire(b,u,!0),g._setField(b,l)),g._callAllCallbacks(b,[l])}},g._loading=null,g._getRemoteField=function(e,t,i,n,r){var a,s=\\\"\\\",o=R.isFirstPartyAnalyticsVisitorIDCall(e);if(g.isAllowed()){g._readVisitor(),s=g._getField(e,!0===V[e]);if(function(){return(!s||g._fieldsExpired&&g._fieldsExpired[e])&&(!g.disableThirdPartyCalls||o)}()){if(e===I||e===b?a=D:e===k||e===L?a=T:e===O&&(a=E),a)return!t||null!=g._loading&&g._loading[a]||(null==g._loading&&(g._loading={}),g._loading[a]=!0,g._loadData(a,t,function(t){if(!g._getField(e)){t&&x.setState(a,!0);var i=\\\"\\\";e===I?i=g._generateID(0,I):a===T&&(i={error_msg:\\\"timeout\\\"}),g._setFields(a,i)}},r)),g._registerCallback(e,i),s||(t||g._setFields(a,{id:P}),\\\"\\\")}else s||(e===I?(g._registerCallback(e,i),s=g._generateID(0,I),g.setMarketingCloudVisitorID(s)):e===O?(g._registerCallback(e,i),s=\\\"\\\",g.setAnalyticsVisitorID(s)):(s=\\\"\\\",n=!0))}return e!==I&&e!==O||s!==P||(s=\\\"\\\",n=!0),i&&n&&g._callCallback(i,[s]),s},g._setMarketingCloudFields=function(e){g._readVisitor(),g._setFields(D,e)},g.setMarketingCloudVisitorID=function(e){g._setMarketingCloudFields(e)},g._use1stPartyMarketingCloudServer=!1,g.getMarketingCloudVisitorID=function(e,t){if(g.isAllowed()){g.marketingCloudServer&&g.marketingCloudServer.indexOf(\\\".demdex.net\\\")<0&&(g._use1stPartyMarketingCloudServer=!0);var i=g._getAudienceManagerURLData(\\\"_setMarketingCloudFields\\\"),n=i.url;return g._getRemoteField(I,n,e,t,i)}return\\\"\\\"},g._mapCustomerIDs=function(e){g.getAudienceManagerBlob(e,!0)},m.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},g._currentCustomerIDs={},g._customerIDsHashChanged=!1,g._newCustomerIDsHash=\\\"\\\",g.setCustomerIDs=function(e){function t(){g._customerIDsHashChanged=!1}if(g.isAllowed()&&e){g._readVisitor();var i,n;for(i in e)if(S(i)&&(n=e[i]))if(\\\"object\\\"==typeof n){var r={};n.id&&(r.id=n.id),void 0!=n.authState&&(r.authState=n.authState),g._currentCustomerIDs[i]=r}else g._currentCustomerIDs[i]={id:n};var a=g.getCustomerIDs(),s=g._getField(v),o=\\\"\\\";s||(s=0);for(i in a)S(i)&&(n=a[i],o+=(o?\\\"|\\\":\\\"\\\")+i+\\\"|\\\"+(n.id?n.id:\\\"\\\")+(n.authState?n.authState:\\\"\\\"));g._newCustomerIDsHash=g._hash(o),g._newCustomerIDsHash!==s&&(g._customerIDsHashChanged=!0,g._mapCustomerIDs(t))}},g.getCustomerIDs=function(){g._readVisitor();var e,t,i={};for(e in g._currentCustomerIDs)S(e)&&(t=g._currentCustomerIDs[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),void 0!=t.authState?i[e].authState=t.authState:i[e].authState=m.AuthState.UNKNOWN);return i},g._setAnalyticsFields=function(e){g._readVisitor(),g._setFields(E,e)},g.setAnalyticsVisitorID=function(e){g._setAnalyticsFields(e)},g.getAnalyticsVisitorID=function(e,t,i){if(!R.isTrackingServerPopulated()&&!i)return g._callCallback(e,[\\\"\\\"]),\\\"\\\";if(g.isAllowed()){var n=\\\"\\\";if(i||(n=g.getMarketingCloudVisitorID(function(t){g.getAnalyticsVisitorID(e,!0)})),n||i){var r=i?g.marketingCloudServer:g.trackingServer,a=\\\"\\\";g.loadSSL&&(i?g.marketingCloudServerSecure&&(r=g.marketingCloudServerSecure):g.trackingServerSecure&&(r=g.trackingServerSecure));var s={};if(r){var o=\\\"http\\\"+(g.loadSSL?\\\"s\\\":\\\"\\\")+\\\"://\\\"+r+\\\"/id\\\",l=\\\"d_visid_ver=\\\"+g.version+\\\"&mcorgid=\\\"+encodeURIComponent(g.marketingCloudOrgID)+(n?\\\"&mid=\\\"+encodeURIComponent(n):\\\"\\\")+(g.idSyncDisable3rdPartySyncing?\\\"&d_coppa=true\\\":\\\"\\\"),u=[\\\"s_c_il\\\",g._in,\\\"_set\\\"+(i?\\\"MarketingCloud\\\":\\\"Analytics\\\")+\\\"Fields\\\"];a=o+\\\"?\\\"+l+\\\"&callback=s_c_il%5B\\\"+g._in+\\\"%5D._set\\\"+(i?\\\"MarketingCloud\\\":\\\"Analytics\\\")+\\\"Fields\\\",s.corsUrl=o+\\\"?\\\"+l,s.callback=u}return s.url=a,g._getRemoteField(i?I:O,a,e,t,s)}}return\\\"\\\"},g._setAudienceManagerFields=function(e){g._readVisitor(),g._setFields(T,e)},g._getAudienceManagerURLData=function(e){var t=g.audienceManagerServer,i=\\\"\\\",n=g._getField(I),r=g._getField(L,!0),a=g._getField(O),s=a&&a!==P?\\\"&d_cid_ic=AVID%01\\\"+encodeURIComponent(a):\\\"\\\";if(g.loadSSL&&g.audienceManagerServerSecure&&(t=g.audienceManagerServerSecure),t){var o,l,u=g.getCustomerIDs();if(u)for(o in u)S(o)&&(l=u[o],s+=\\\"&d_cid_ic=\\\"+encodeURIComponent(o)+\\\"%01\\\"+encodeURIComponent(l.id?l.id:\\\"\\\")+(l.authState?\\\"%01\\\"+l.authState:\\\"\\\"));e||(e=\\\"_setAudienceManagerFields\\\");var c=\\\"http\\\"+(g.loadSSL?\\\"s\\\":\\\"\\\")+\\\"://\\\"+t+\\\"/id\\\",d=\\\"d_visid_ver=\\\"+g.version+\\\"&d_rtbd=json&d_ver=2\\\"+(!n&&g._use1stPartyMarketingCloudServer?\\\"&d_verify=1\\\":\\\"\\\")+\\\"&d_orgid=\\\"+encodeURIComponent(g.marketingCloudOrgID)+\\\"&d_nsid=\\\"+(g.idSyncContainerID||0)+(n?\\\"&d_mid=\\\"+encodeURIComponent(n):\\\"\\\")+(g.idSyncDisable3rdPartySyncing?\\\"&d_coppa=true\\\":\\\"\\\")+(!0===j?\\\"&d_coop_safe=1\\\":!1===j?\\\"&d_coop_unsafe=1\\\":\\\"\\\")+(r?\\\"&d_blob=\\\"+encodeURIComponent(r):\\\"\\\")+s,f=[\\\"s_c_il\\\",g._in,e];return i=c+\\\"?\\\"+d+\\\"&d_cb=s_c_il%5B\\\"+g._in+\\\"%5D.\\\"+e,{url:i,corsUrl:c+\\\"?\\\"+d,callback:f}}return{url:i}},g.getAudienceManagerLocationHint=function(e,t){if(g.isAllowed()){if(g.getMarketingCloudVisitorID(function(t){g.getAudienceManagerLocationHint(e,!0)})){var i=g._getField(O);if(!i&&R.isTrackingServerPopulated()&&(i=g.getAnalyticsVisitorID(function(t){g.getAudienceManagerLocationHint(e,!0)})),i||!R.isTrackingServerPopulated()){var n=g._getAudienceManagerURLData(),r=n.url;return g._getRemoteField(k,r,e,t,n)}}}return\\\"\\\"},g.getLocationHint=g.getAudienceManagerLocationHint,g.getAudienceManagerBlob=function(e,t){if(g.isAllowed()){if(g.getMarketingCloudVisitorID(function(t){g.getAudienceManagerBlob(e,!0)})){var i=g._getField(O);if(!i&&R.isTrackingServerPopulated()&&(i=g.getAnalyticsVisitorID(function(t){g.getAudienceManagerBlob(e,!0)})),i||!R.isTrackingServerPopulated()){var n=g._getAudienceManagerURLData(),r=n.url;return g._customerIDsHashChanged&&g._setFieldExpire(L,-1),g._getRemoteField(L,r,e,t,n)}}}return\\\"\\\"},g._supplementalDataIDCurrent=\\\"\\\",g._supplementalDataIDCurrentConsumed={},g._supplementalDataIDLast=\\\"\\\",g._supplementalDataIDLastConsumed={},g.getSupplementalDataID=function(e,t){g._supplementalDataIDCurrent||t||(g._supplementalDataIDCurrent=g._generateID(1));var i=g._supplementalDataIDCurrent;return g._supplementalDataIDLast&&!g._supplementalDataIDLastConsumed[e]?(i=g._supplementalDataIDLast,g._supplementalDataIDLastConsumed[e]=!0):i&&(g._supplementalDataIDCurrentConsumed[e]&&(g._supplementalDataIDLast=g._supplementalDataIDCurrent,g._supplementalDataIDLastConsumed=g._supplementalDataIDCurrentConsumed,g._supplementalDataIDCurrent=i=t?\\\"\\\":g._generateID(1),g._supplementalDataIDCurrentConsumed={}),i&&(g._supplementalDataIDCurrentConsumed[e]=!0)),i},m.OptOut={GLOBAL:\\\"global\\\"},g.getOptOut=function(e,t){if(g.isAllowed()){var i=g._getAudienceManagerURLData(\\\"_setMarketingCloudFields\\\"),n=i.url;return g._getRemoteField(b,n,e,t,i)}return\\\"\\\"},g.isOptedOut=function(e,t,i){if(g.isAllowed()){t||(t=m.OptOut.GLOBAL);var n=g.getOptOut(function(i){var n=i===m.OptOut.GLOBAL||i.indexOf(t)>=0;g._callCallback(e,[n])},i);return n?n===m.OptOut.GLOBAL||n.indexOf(t)>=0:null}return!1},g.appendVisitorIDsTo=function(e){var t=h.ADOBE_MC,i=[[I,g._getField(I)],[O,g._getField(O)],[C,g.marketingCloudOrgID]],n=l(i);try{return g._addQuerystringParam(e,t,n)}catch(t){return e}},g.appendSupplementalDataIDTo=function(e,t){if(!(t=t||g.getSupplementalDataID(R.generateRandomString(),!0)))return e;var i=h.ADOBE_MC_SDID,n=\\\"SDID=\\\"+encodeURIComponent(t)+\\\"|\\\";n+=C+\\\"=\\\"+encodeURIComponent(g.marketingCloudOrgID)+\\\"|\\\",n+=\\\"TS=\\\"+R.getTimestampInSeconds();try{return g._addQuerystringParam(e,i,n)}catch(t){return e}},g._xd={postMessage:function(e,t,i){var n=1;t&&(h.POST_MESSAGE_ENABLED?i.postMessage(e,t.replace(/([^:]+:\\\\/\\\\/[^\\\\/]+).*/,\\\"$1\\\")):t&&(i.location=t.replace(/#.*$/,\\\"\\\")+\\\"#\\\"+ +new Date+n+++\\\"&\\\"+e))},receiveMessage:function(e,t){var i;try{h.POST_MESSAGE_ENABLED&&(e&&(i=function(i){if(\\\"string\\\"==typeof t&&i.origin!==t||\\\"[object Function]\\\"===Object.prototype.toString.call(t)&&!1===t(i.origin))return!1;e(i)}),_.addEventListener?_[e?\\\"addEventListener\\\":\\\"removeEventListener\\\"](\\\"message\\\",i,!1):_[e?\\\"attachEvent\\\":\\\"detachEvent\\\"](\\\"\\\",i))}catch(e){}}};var R={addListener:function(){return p.addEventListener?function(e,t,i){e.addEventListener(t,function(e){\\\"function\\\"==typeof i&&i(e)},!1)}:p.attachEvent?function(e,t,i){e.attachEvent(\\\"on\\\"+t,function(e){\\\"function\\\"==typeof i&&i(e)})}:void 0}(),map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||null==e)throw new TypeError;var i=Object(e),n=i.length>>>0;if(\\\"function\\\"!=typeof t)throw new TypeError;for(var r=new Array(n),a=arguments[1],s=0;s<n;s++)s in i&&(r[s]=t.call(a,i[s],s,i));return r},encodeAndBuildRequest:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},parseHash:function(e){var t=e.indexOf(\\\"#\\\");return t>0?e.substr(t):\\\"\\\"},hashlessUrl:function(e){var t=e.indexOf(\\\"#\\\");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,i){var n=e.split(\\\"&\\\");return i=null!=i?i:n.length,n.splice(i,0,t),n.join(\\\"&\\\")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,i){if(e!==O)return!1;var n;return t||(t=g.trackingServer),i||(i=g.trackingServerSecure),!(\\\"string\\\"!=typeof(n=g.loadSSL?i:t)||!n.length)&&(n.indexOf(\\\"2o7.net\\\")<0&&n.indexOf(\\\"omtrdc.net\\\")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},isLessThan:function(e,t){return g._compareVersions(e,t)<0},areVersionsDifferent:function(e,t){return 0!==g._compareVersions(e,t)},removeCookie:function(e){document.cookie=encodeURIComponent(e)+\\\"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\\\"},isTrackingServerPopulated:function(){return!!g.trackingServer||!!g.trackingServerSecure},parseJSON:function(e,t){function i(e,n){var r,a,s=e[n];if(s&&\\\"object\\\"==typeof s)for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(a=i(s,r),void 0!==a?s[r]=a:delete s[r]);return t.call(e,n,s)}if(\\\"object\\\"==typeof JSON&&\\\"function\\\"==typeof JSON.parse)return JSON.parse(e,t);var n,r=/^[\\\\],:{}\\\\s]*$/,a=/\\\\\\\\(?:[\\\"\\\\\\\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/\\\"[^\\\"\\\\\\\\\\\\n\\\\r]*\\\"|true|false|null|-?\\\\d+(?:\\\\.\\\\d*)?(?:[eE][+\\\\-]?\\\\d+)?/g,o=/(?:^|:|,)(?:\\\\s*\\\\[)+/g,l=/[\\\\u0000\\\\u00ad\\\\u0600-\\\\u0604\\\\u070f\\\\u17b4\\\\u17b5\\\\u200c-\\\\u200f\\\\u2028-\\\\u202f\\\\u2060-\\\\u206f\\\\ufeff\\\\ufff0-\\\\uffff]/g;if(e=String(e),l.lastIndex=0,l.test(e)&&(e=e.replace(l,function(e){return\\\"\\\\\\\\u\\\"+(\\\"0000\\\"+e.charCodeAt(0).toString(16)).slice(-4)})),r.test(e.replace(a,\\\"@\\\").replace(s,\\\"]\\\").replace(o,\\\"\\\")))return n=eval(\\\"(\\\"+e+\\\")\\\"),\\\"function\\\"==typeof t?i({\\\"\\\":n},\\\"\\\"):n;throw new SyntaxError(\\\"JSON.parse\\\")},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){for(var t={},i=e.split(\\\"|\\\"),n=0,r=i.length;n<r;n++){var a=i[n].split(\\\"=\\\");t[a[0]]=decodeURIComponent(a[1])}return t},generateRandomString:function(e){e=e||5;for(var t=\\\"\\\",i=\\\"abcdefghijklmnopqrstuvwxyz0123456789\\\";e--;)t+=i[Math.floor(Math.random()*i.length)];return t},parseBoolean:function(e){return\\\"true\\\"===e||\\\"false\\\"!==e&&null}};g._helpers=R;var w={corsMetadata:function(){var e=\\\"none\\\",t=!0;return\\\"undefined\\\"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&(\\\"withCredentials\\\"in new XMLHttpRequest?e=\\\"XMLHttpRequest\\\":\\\"undefined\\\"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(_.HTMLElement).indexOf(\\\"Constructor\\\")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return\\\"none\\\"===this.corsMetadata.corsType?null:new _[this.corsMetadata.corsType]},fireCORS:function(e,t,i){function n(t){var i;try{if((i=JSON.parse(t))!==Object(i))return void r.handleCORSError(e,null,\\\"Response is not JSON\\\")}catch(t){return void r.handleCORSError(e,t,\\\"Error parsing response as JSON\\\")}try{for(var n=e.callback,a=_,s=0;s<n.length;s++)a=a[n[s]];a(i)}catch(t){r.handleCORSError(e,t,\\\"Error forming callback function\\\")}}var r=this;t&&(e.loadErrorHandler=t);try{var a=this.getCORSInstance();a.open(\\\"get\\\",e.corsUrl+\\\"&ts=\\\"+(new Date).getTime(),!0),\\\"XMLHttpRequest\\\"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=g.loadTimeout,a.setRequestHeader(\\\"Content-Type\\\",\\\"application/x-www-form-urlencoded\\\"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(this.responseText)}),a.onerror=function(t){r.handleCORSError(e,t,\\\"onerror\\\")},a.ontimeout=function(t){r.handleCORSError(e,t,\\\"ontimeout\\\")},a.send(),g._log.requests.push(e.corsUrl)}catch(t){this.handleCORSError(e,t,\\\"try-catch\\\")}},handleCORSError:function(e,t,i){g.CORSErrors.push({corsData:e,error:t,description:i}),e.loadErrorHandler&&(\\\"ontimeout\\\"===i?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};g._requestProcs=w;var F={THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if(\\\"string\\\"==typeof e){var t=e.split(\\\"/\\\");return t[0]+\\\"//\\\"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t=\\\"http://fast.\\\",i=\\\"?d_nsid=\\\"+g.idSyncContainerID+\\\"#\\\"+encodeURIComponent(p.location.href);return this.subdomain||(this.subdomain=\\\"nosubdomainreturned\\\"),g.loadSSL&&(t=g.idSyncSSLUseAkamai?\\\"https://fast.\\\":\\\"https://\\\"),e=t+this.subdomain+\\\".demdex.net/dest5.html\\\"+i,this.iframeHost=this.getIframeHost(e),this.id=\\\"destination_publishing_iframe_\\\"+this.subdomain+\\\"_\\\"+g.idSyncContainerID,e},checkDPIframeSrc:function(){var e=\\\"?d_nsid=\\\"+g.idSyncContainerID+\\\"#\\\"+encodeURIComponent(p.location.href);\\\"string\\\"==typeof g.dpIframeSrc&&g.dpIframeSrc.length&&(this.id=\\\"destination_publishing_iframe_\\\"+(g._subdomain||this.subdomain||(new Date).getTime())+\\\"_\\\"+g.idSyncContainerID,this.iframeHost=this.getIframeHost(g.dpIframeSrc),this.url=g.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:h.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframe:function(){return!g.idSyncDisable3rdPartySyncing&&(this.doAttachIframe||g._doAttachIframe)&&(this.subdomain&&\\\"nosubdomainreturned\\\"!==this.subdomain||g._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){n=document.createElement(\\\"iframe\\\"),n.sandbox=\\\"allow-scripts allow-same-origin\\\",n.title=\\\"Adobe ID Syncing iFrame\\\",n.id=i.id,n.style.cssText=\\\"display: none; width: 0; height: 0;\\\",n.src=i.url,i.newIframeCreated=!0,t(),document.body.appendChild(n)}function t(){R.addListener(n,\\\"load\\\",function(){n.className=\\\"aamIframeLoaded\\\",i.iframeHasLoaded=!0,i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,n=document.getElementById(this.id);n?\\\"IFRAME\\\"!==n.nodeName?(this.id+=\\\"_2\\\",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,\\\"aamIframeLoaded\\\"!==n.className?(this.originalIframeHasLoadedAlready=!1,t()):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.requestToProcess())):e(),this.iframe=n},requestToProcess:function(e){function t(){n.jsonForComparison.push(e),n.jsonWaiting.push(e),n.processSyncOnPage(e)}var i,n=this;if(e===Object(e)&&e.ibs)if(h.HAS_JSON_STRINGIFY)if(i=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var r,a,s,o=!1;for(r=0,a=this.jsonForComparison.length;r<a;r++)if(s=this.jsonForComparison[r],i===JSON.stringify(s.ibs||[])){o=!0;break}o?this.jsonDuplicates.push(e):t()}else t();else t();if((this.receivedThirdPartyCookiesNotification||!h.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l),this.requestToProcess()}!g.idSyncDisableSyncs&&this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){n.messageSendingInterval=h.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},processSyncOnPage:function(e){var t,i,n,r;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(n=0;n<i;n++)r=t[n],r.syncOnPage&&this.checkFirstPartyCookie(r,\\\"\\\",\\\"syncOnPage\\\")},process:function(e){var t,i,n,r,a,s=encodeURIComponent,o=!1;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(o=!0,n=0;n<i;n++)r=t[n],a=[s(\\\"ibs\\\"),s(r.id||\\\"\\\"),s(r.tag||\\\"\\\"),R.encodeAndBuildRequest(r.url||[],\\\",\\\"),s(r.ttl||\\\"\\\"),\\\"\\\",\\\"\\\",r.fireURLSync?\\\"true\\\":\\\"false\\\"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join(\\\"|\\\")):r.fireURLSync&&this.checkFirstPartyCookie(r,a.join(\\\"|\\\")));o&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,i){var n=\\\"syncOnPage\\\"===i,r=n?y:A;g._readVisitor();var a,s,o=g._getField(r),l=!1,u=!1,c=Math.ceil((new Date).getTime()/h.MILLIS_PER_DAY);o?(a=o.split(\\\"*\\\"),s=this.pruneSyncData(a,e.id,c),l=s.dataPresent,u=s.dataValid,l&&u||this.fireSync(n,e,t,a,r,c)):(a=[],this.fireSync(n,e,t,a,r,c))},pruneSyncData:function(e,t,i){var n,r,a,s=!1,o=!1;for(r=0;r<e.length;r++)n=e[r],a=parseInt(n.split(\\\"-\\\")[1],10),n.match(\\\"^\\\"+t+\\\"-\\\")?(s=!0,i<a?o=!0:(e.splice(r,1),r--)):i>=a&&(e.splice(r,1),r--);return{dataPresent:s,dataValid:o}},manageSyncsSize:function(e){if(e.join(\\\"*\\\").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split(\\\"-\\\")[1],10)-parseInt(t.split(\\\"-\\\")[1],10)});e.join(\\\"*\\\").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,i,n,r,a){var s=this;if(e){if(\\\"img\\\"===t.tag){var o,l,u,c,d=t.url,f=g.loadSSL?\\\"https:\\\":\\\"http:\\\";for(o=0,l=d.length;o<l;o++){u=d[o],c=/^\\\\/\\\\//.test(u);var _=new Image;R.addListener(_,\\\"load\\\",function(e,t,i,n){return function(){s.onPagePixels[e]=null,g._readVisitor();var a,o=g._getField(r),l=[];if(o){a=o.split(\\\"*\\\");var u,c,d;for(u=0,c=a.length;u<c;u++)d=a[u],d.match(\\\"^\\\"+t.id+\\\"-\\\")||l.push(d)}s.setSyncTrackingData(l,t,i,n)}}(this.onPagePixels.length,t,r,a)),_.src=(c?f:\\\"\\\")+u,this.onPagePixels.push(_)}}}else this.addMessage(i),this.setSyncTrackingData(n,t,r,a)},addMessage:function(e){var t=encodeURIComponent,i=t(g._enableErrorReporting?\\\"---destpub-debug---\\\":\\\"---destpub---\\\");this.messages.push((h.POST_MESSAGE_ENABLED?\\\"\\\":i)+e)},setSyncTrackingData:function(e,t,i,n){e.push(t.id+\\\"-\\\"+(n+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),g._setField(i,e.join(\\\"*\\\"))},sendMessages:function(){var e,t=this;this.messages.length?h.POST_MESSAGE_ENABLED?(e=encodeURIComponent(\\\"---destpub-combined---\\\")+this.messages.join(\\\"%01\\\"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){g._xd.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,i=/^---destpub-to-parent---/;\\\"string\\\"==typeof e&&i.test(e)&&(t=e.replace(i,\\\"\\\").split(\\\"|\\\"),\\\"canSetThirdPartyCookies\\\"===t[0]&&(this.canSetThirdPartyCookies=\\\"true\\\"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&\\\"nosubdomainreturned\\\"===this.subdomain)&&(\\\"string\\\"==typeof g._subdomain&&g._subdomain.length?this.subdomain=g._subdomain:this.subdomain=e.subdomain||\\\"\\\",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(g.idSyncAttachIframeOnWindowLoad?(m.windowLoaded||\\\"complete\\\"===p.readyState||\\\"loaded\\\"===p.readyState)&&this.attachIframe():this.attachIframeASAP()),\\\"function\\\"==typeof g.idSyncIDCallResult?g.idSyncIDCallResult(e):this.requestToProcess(e),\\\"function\\\"==typeof g.idSyncAfterIDCallResult&&g.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return g._forceSyncIDCall||!e||t-e>h.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(document.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}};g._destinationPublishing=F,g.timeoutMetricsLog=[];var N,x={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},\\nsetState:function(e,t){switch(e){case D:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case E:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case T:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};g.isClientSideMarketingCloudVisitorID=function(){return x.isClientSideMarketingCloudVisitorID},g.MCIDCallTimedOut=function(){return x.MCIDCallTimedOut},g.AnalyticsIDCallTimedOut=function(){return x.AnalyticsIDCallTimedOut},g.AAMIDCallTimedOut=function(){return x.AAMIDCallTimedOut},g.idSyncGetOnPageSyncInfo=function(){return g._readVisitor(),g._getField(y)},g.idSyncByURL=function(e){var t=u(e||{});if(t.error)return t.error;var i,n,r=e.url,a=encodeURIComponent,s=F;return r=r.replace(/^https:/,\\\"\\\").replace(/^http:/,\\\"\\\"),i=R.encodeAndBuildRequest([\\\"\\\",e.dpid,e.dpuuid||\\\"\\\"],\\\",\\\"),n=[\\\"ibs\\\",a(e.dpid),\\\"img\\\",a(r),t.ttl,\\\"\\\",i],s.addMessage(n.join(\\\"|\\\")),s.requestToProcess(),\\\"Successfully queued\\\"},g.idSyncByDataSource=function(e){return e===Object(e)&&\\\"string\\\"==typeof e.dpuuid&&e.dpuuid.length?(e.url=\\\"//dpm.demdex.net/ibs:dpid=\\\"+e.dpid+\\\"&dpuuid=\\\"+e.dpuuid,g.idSyncByURL(e)):\\\"Error: config or config.dpuuid is empty\\\"},g._compareVersions=function(e,t){if(e===t)return 0;var i=e.toString().split(\\\".\\\"),n=t.toString().split(\\\".\\\");return c(i.concat(n))?(d(i,n),f(i,n)):NaN},g._getCookieVersion=function(e){e=e||g.cookieRead(g.cookieName);var t=h.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},g._resetAmcvCookie=function(e){var t=g._getCookieVersion();t&&!R.isLessThan(t,e)||R.removeCookie(g.cookieName)},g.setAsCoopSafe=function(){j=!0},g.setAsCoopUnsafe=function(){j=!1},e.indexOf(\\\"@\\\")<0&&(e+=\\\"@AdobeOrg\\\"),g.marketingCloudOrgID=e,g.cookieName=\\\"AMCV_\\\"+e,g.sessionCookieName=\\\"AMCVS_\\\"+e,g.cookieDomain=g._getDomain(),g.cookieDomain===_.location.hostname&&(g.cookieDomain=\\\"\\\"),g.loadSSL=_.location.protocol.toLowerCase().indexOf(\\\"https\\\")>=0,g.loadTimeout=3e4,g.CORSErrors=[],g.marketingCloudServer=g.audienceManagerServer=\\\"dpm.demdex.net\\\",g.sdidParamExpiry=30;var V={};V[k]=!0,V[L]=!0;var j=null;if(t&&\\\"object\\\"==typeof t){var U;for(U in t)S(U)&&(g[U]=t[U]);g.idSyncContainerID=g.idSyncContainerID||0,j=\\\"boolean\\\"==typeof g.isCoopSafe?g.isCoopSafe:R.parseBoolean(g.isCoopSafe),g.resetBeforeVersion&&g._resetAmcvCookie(g.resetBeforeVersion),g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl(),g._readVisitor();var H=g._getField(M),B=Math.ceil((new Date).getTime()/h.MILLIS_PER_DAY);!g.idSyncDisableSyncs&&F.canMakeSyncIDCall(H,B)&&(g._setFieldExpire(L,-1),g._setField(M,B)),g.getMarketingCloudVisitorID(),g.getAudienceManagerLocationHint(),g.getAudienceManagerBlob(),g._mergeServerState(g.serverState)}else g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl();if(!g.idSyncDisableSyncs){F.checkDPIframeSrc();var G=function(){var e=F;e.readyToAttachIframe()&&e.attachIframe()};R.addListener(_,\\\"load\\\",function(){m.windowLoaded=!0,G()});try{g._xd.receiveMessage(function(e){F.receiveMessage(e.data)},F.iframeHost)}catch(e){}}g.whitelistIframeDomains&&h.POST_MESSAGE_ENABLED&&(g.whitelistIframeDomains=g.whitelistIframeDomains instanceof Array?g.whitelistIframeDomains:[g.whitelistIframeDomains],g.whitelistIframeDomains.forEach(function(t){var i=new a(e,t),n=s(g,i);g._xd.receiveMessage(n,t)}))};o.getInstance=function(e,t){if(!e)throw new Error(\\\"Visitor requires Adobe Marketing Cloud Org ID\\\");e.indexOf(\\\"@\\\")<0&&(e+=\\\"@AdobeOrg\\\");var n=function(){var t=i.s_c_il;if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r&&\\\"Visitor\\\"===r._c&&r.marketingCloudOrgID===e)return r}}();if(n)return n;var a=new o(e),s=a.isAllowed();return function(){i.s_c_il.splice(--i.s_c_in,1)}(),function(){try{return i.self!==i.parent}catch(e){return!0}}()&&!s&&i.parent?new r(e,t,a,i.parent):new o(e,t)},n(),i.Visitor=o,t.exports=o}).call(this,\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:\\\"undefined\\\"!=typeof window?window:{})},{\\\"./ChildVisitor\\\":1,\\\"./Message\\\":2,\\\"./utils/makeChildMessageListener\\\":9}],4:[function(e,t,i){i.MESSAGES={HANDSHAKE:\\\"HANDSHAKE\\\",GETSTATE:\\\"GETSTATE\\\",PARENTSTATE:\\\"PARENTSTATE\\\"},i.STATE_KEYS_MAP={MCMID:\\\"MCMID\\\",MCAID:\\\"MCAID\\\",MCAAMB:\\\"MCAAMB\\\",MCAAMLH:\\\"MCAAMLH\\\",MCOPTOUT:\\\"MCOPTOUT\\\",CUSTOMERIDS:\\\"CUSTOMERIDS\\\"},i.ASYNC_API_MAP={MCMID:\\\"getMarketingCloudVisitorID\\\",MCAID:\\\"getAnalyticsVisitorID\\\",MCAAMB:\\\"getAudienceManagerBlob\\\",MCAAMLH:\\\"getAudienceManagerLocationHint\\\",MCOPTOUT:\\\"getOptOut\\\"},i.SYNC_API_MAP={CUSTOMERIDS:\\\"getCustomerIDs\\\"},i.ALL_APIS={MCMID:\\\"getMarketingCloudVisitorID\\\",MCAAMB:\\\"getAudienceManagerBlob\\\",MCAAMLH:\\\"getAudienceManagerLocationHint\\\",MCOPTOUT:\\\"getOptOut\\\",MCAID:\\\"getAnalyticsVisitorID\\\",CUSTOMERIDS:\\\"getCustomerIDs\\\"},i.FIELDGROUP_TO_FIELD={MC:\\\"MCMID\\\",A:\\\"MCAID\\\",AAM:\\\"MCAAMB\\\"}},{}],5:[function(e,t,i){var n=e(\\\"../enums\\\"),r=n.STATE_KEYS_MAP;t.exports=function(e){function t(){}function i(t,i){var n=this;return function(){var t=e(0,r.MCMID),a={};return a[r.MCMID]=t,n.setStateAndPublish(a),i(t),t}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(r.MCMID,e),a=i.call(this,r.MCMID,e);return void 0!==n?n:a()}}},{\\\"../enums\\\":4}],6:[function(e,t,i){var n=e(\\\"../enums\\\"),r=n.ASYNC_API_MAP;t.exports=function(){Object.keys(r).forEach(function(e){this[r[e]]=function(t){this.callbackRegistry.add(e,t)}},this)}},{\\\"../enums\\\":4}],7:[function(e,t,i){var n=e(\\\"../enums\\\"),r=n.MESSAGES,a=n.ASYNC_API_MAP,s=n.SYNC_API_MAP;t.exports=function(){function e(){}function t(e,t){var i=this;return function(){return i.callbackRegistry.add(e,t),i.messageParent(r.GETSTATE),\\\"\\\"}}function i(i){this[a[i]]=function(n){n=n||e;var r=this.findField(i,n),a=t.call(this,i,n);return void 0!==r?r:a()}}function n(t){this[s[t]]=function(){return this.findField(t,e)||{}}}Object.keys(a).forEach(i,this),Object.keys(s).forEach(n,this)}},{\\\"../enums\\\":4}],8:[function(e,t,i){function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var i=this.callbacks[e].push(t)-1;return function(){this.callbacks[e].splice(i,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var i=this.callbacks[e].shift();\\\"function\\\"==typeof i?i.apply(null,t):i instanceof Array&&i[1].apply(i[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!r.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var i=void 0!==e[t]?e[t]:\\\"\\\";this.execute(t,i)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}var r=e(\\\"./utils\\\");t.exports=n},{\\\"./utils\\\":11}],9:[function(e,t,i){var n=e(\\\"../enums\\\"),r=e(\\\"./utils\\\"),a=n.MESSAGES,s=n.ALL_APIS,o=n.ASYNC_API_MAP,l=n.FIELDGROUP_TO_FIELD;t.exports=function(e,t){function i(){var t={};return Object.keys(s).forEach(function(i){var n=s[i],a=e[n]();r.isValueEmpty(a)||(t[i]=a)}),t}function n(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(i){if(e._loading[i]){var n=l[i];t.push(n)}}),t.length?t:null}function u(t){return function i(r){var a=n();if(a){var s=o[a[0]];e[s](i,!0)}else t()}}function c(e,n){var r=i();t.send(e,n,r)}function d(e){g(e),c(e,a.HANDSHAKE)}function f(e){u(function(){c(e,a.PARENTSTATE)})()}function g(i){function n(n){r.call(e,n),t.send(i,a.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=n}return function(e){if(!t.isInvalid(e)){(t.parse(e).prefix===a.HANDSHAKE?d:f)(e.source)}}}},{\\\"../enums\\\":4,\\\"./utils\\\":11}],10:[function(e,t,i){Object.keys=Object.keys||function(e){var t=[];for(var i in e)t.hasOwnProperty.call(e,i)&&t.push(i);return t},Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=this,n=0,r=i.length;n<r;n++)e.call(t,i[n],n,i)},Object.assign=Object.assign||function(e){for(var t,i,n=1;n<arguments.length;++n){i=arguments[n];for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}},{}],11:[function(e,t,i){i.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},i.isValueEmpty=function(e){return\\\"\\\"===e||i.isObjectEmpty(e)}},{}]},{},[1,2,3,4]);\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL3Zpc2l0b3JfYXBpLTIuNC4wLmpzPzk4MjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUNBQXFDLGdCQUFnQixVQUFVLFVBQVUsNENBQTRDLHdCQUF3QixvQkFBb0Isa0RBQWtELG9DQUFvQyxZQUFZLFlBQVksbUNBQW1DLGlCQUFpQixlQUFlLHNCQUFzQixvQkFBb0Isb0RBQW9ELFdBQVcsWUFBWSxTQUFTLEVBQUUsbUJBQW1CLGFBQWEseUJBQXlCLDZNQUE2TSw0QkFBNEIsY0FBYyxtQkFBbUIsY0FBYyxnRUFBZ0UsY0FBYyxvQkFBb0IsS0FBSyxpQkFBaUIsK0JBQStCLGNBQWMsMEJBQTBCLGFBQWEsc0lBQXNJLGNBQWMsb0JBQW9CLGlCQUFpQixxTUFBcU0sYUFBYSxxR0FBcUcsYUFBYSw0R0FBNEcsYUFBYSxjQUFjLG1FQUFtRSxFQUFFLDBFQUEwRSxxQ0FBcUMsVUFBVSw2Q0FBNkMsc0JBQXNCLGlEQUFpRCw4Q0FBOEMscURBQXFELHdCQUF3QixJQUFJLHNIQUFzSCxFQUFFLEVBQUUsbU1BQW1NLHFCQUFxQixxQ0FBcUMsc0NBQXNDLHdCQUF3Qix1QkFBdUIsSUFBSSxTQUFTLGlEQUFpRCxlQUFlLCtCQUErQixJQUFJLFdBQVcsNEJBQTRCLG9CQUFvQix3Q0FBd0MsNkVBQTZFLGVBQWUsMkJBQTJCLGdCQUFnQiwrQ0FBK0MsSUFBSSxtQkFBbUIsYUFBYSxFQUFFLGNBQWMscUJBQXFCLGFBQWEsYUFBYSxhQUFhLGtCQUFrQixnSUFBZ0ksdVhBQXVYLGNBQWMsUUFBUSxtQkFBbUIseUJBQXlCLElBQUksa0NBQWtDLDZDQUE2QyxZQUFZLGNBQWMsZ0JBQWdCLDJDQUEyQyw2RkFBNkYsY0FBYyxPQUFPLDRJQUE0SSxpSUFBaUksY0FBYyw4QkFBOEIsSUFBSSxLQUFLLHlCQUF5QixtQ0FBbUMsdURBQXVELFNBQVMsbUJBQW1CLGdDQUFnQyxtQ0FBbUMsSUFBSSxjQUFjLDZCQUE2Qix3V0FBd1csZUFBZSxjQUFjLHVCQUF1QixJQUFJLGlEQUFpRCxTQUFTLGdCQUFnQixLQUFLLGtCQUFrQixlQUFlLEtBQUssa0JBQWtCLGVBQWUsZ0JBQWdCLFlBQVksV0FBVyxLQUFLLDRDQUE0QyxnQkFBZ0IsZ0JBQWdCLFNBQVMseUVBQXlFLFdBQVcsb0JBQW9CLG9CQUFvQix3SUFBd0ksYUFBYSxvQkFBb0IsZ1pBQWdaLGVBQWUsNEJBQTRCLG9CQUFvQixZQUFZLGFBQWEsV0FBVyx3Q0FBd0MsU0FBUyw2QkFBNkIscURBQXFELDREQUE0RCxzQkFBc0IsS0FBSyxpSEFBaUgsaUJBQWlCLFFBQVEsS0FBSyx3T0FBd08sV0FBVywwQkFBMEIsTUFBTSw2RUFBNkUsS0FBSyx5dEJBQXl0QiwrRkFBK0YsS0FBSyw2QkFBNkIsU0FBUywwQkFBMEIsd0JBQXdCLFVBQVUsa0NBQWtDLG1CQUFtQixpQ0FBaUMsUUFBUSw2RUFBNkUsK0JBQStCLHlCQUF5Qiw4RUFBOEUsNEVBQTRFLGVBQWUsV0FBVyxrQkFBa0IsZ0NBQWdDLFNBQVMsc0ZBQXNGLFFBQVEsdUNBQXVDLHdEQUF3RCxnQ0FBZ0Msb0RBQW9ELElBQUksdURBQXVELFdBQVcsbUNBQW1DLDhDQUE4QyxrRkFBa0YsbUNBQW1DLDBCQUEwQix5QkFBeUIsVUFBVSxXQUFXLCtCQUErQiwwQ0FBMEMsNEZBQTRGLDRDQUE0Qyx5Q0FBeUMsNENBQTRDLHNDQUFzQyw0REFBNEQsK0NBQStDLGdJQUFnSSwwQ0FBMEMsbUxBQW1MLDJDQUEyQywrQkFBK0IsWUFBWSx5Q0FBeUMsMkRBQTJELE1BQU0sMEJBQTBCLDZCQUE2QixpQ0FBaUMsU0FBUyxpQkFBaUIsc0NBQXNDLDhCQUE4QiwrQkFBK0IsYUFBYSxtQ0FBbUMsMkJBQTJCLFNBQVMsMkRBQTJELCtDQUErQyx5VkFBeVYsOEJBQThCLGNBQWMsU0FBUyxRQUFRLFFBQVEsRUFBRSxJQUFJLHVFQUF1RSxTQUFTLElBQUksSUFBSSxVQUFVLG1CQUFtQixTQUFTLElBQUksYUFBYSxRQUFRLEVBQUUsSUFBSSw2Q0FBNkMsU0FBUyxJQUFJLEtBQUssa0NBQWtDLGdHQUFnRyxvQkFBb0Isb0NBQW9DLHNDQUFzQyxNQUFNLDZCQUE2Qiw2QkFBNkIsK0VBQStFLGdFQUFnRSx5SkFBeUosc0NBQXNDLGtMQUFrTCxvREFBb0QsdUJBQXVCLGdCQUFnQixpS0FBaUsseUJBQXlCLGlEQUFpRCx3QkFBd0Isc0JBQXNCLHNGQUFzRixpQ0FBaUMsb0lBQW9JLFdBQVcsMlVBQTJVLDRCQUE0QixtUEFBbVAsZ0NBQWdDLDhEQUE4RCxxR0FBcUcsNEJBQTRCLGlDQUFpQyxnTEFBZ0wsd0RBQXdELDJCQUEyQixvRkFBb0YsNkJBQTZCLDhCQUE4QixzQ0FBc0MsK0JBQStCLHVCQUF1Qiw2QkFBNkIsaUNBQWlDLHNDQUFzQyw4QkFBOEIsMkJBQTJCLE1BQU0sV0FBVyxRQUFRLFdBQVcsb0JBQW9CLFNBQVMsWUFBWSxnQ0FBZ0MsYUFBYSxNQUFNLEtBQUssMENBQTBDLHVCQUF1QixtQ0FBbUMsZUFBZSwyREFBMkQsZ0hBQWdILHNKQUFzSiw4QkFBOEIsb05BQW9OLDRCQUE0Qix1R0FBdUcsdUZBQXVGLHFCQUFxQix5Q0FBeUMsK0RBQStELG1LQUFtSyxxQkFBcUIsaUJBQWlCLHFLQUFxSyxRQUFRLDhCQUE4QixnQ0FBZ0MsYUFBYSxxRUFBcUUscUJBQXFCLDBIQUEwSCxxQkFBcUIsd01BQXdNLFVBQVUscUJBQXFCLGtLQUFrSyxpREFBaUQsS0FBSyx5QkFBeUIsU0FBUywyREFBMkQsa0JBQWtCLFFBQVEsaU9BQWlPLHVEQUF1RCx1REFBdUQsa0JBQWtCLDRDQUE0QyxjQUFjLGtGQUFrRixJQUFJLGdJQUFnSSwrQ0FBK0Msb0JBQW9CLG9CQUFvQixXQUFXLHNDQUFzQyxzQkFBc0IscUJBQXFCLHFEQUFxRCxLQUFLLFFBQVEsaUxBQWlMLHlFQUF5RSx3Q0FBd0MsbUNBQW1DLDBDQUEwQyw4QkFBOEIsa0ZBQWtGLGtCQUFrQixtSEFBbUgseUVBQXlFLG9DQUFvQyxXQUFXLCtCQUErQiwrQkFBK0IsY0FBYyx1Q0FBdUMseUJBQXlCLHNGQUFzRixhQUFhLDZCQUE2QixxQkFBcUIsaUJBQWlCLFFBQVEsc0RBQXNELFNBQVMsNEZBQTRGLCtCQUErQixNQUFNLGlEQUFpRCxTQUFTLG9HQUFvRyxpSEFBaUgsNkJBQTZCLGlCQUFpQixhQUFhLCtFQUErRSwwR0FBMEcsU0FBUyxtQ0FBbUMsbUNBQW1DLHFDQUFxQyx5QkFBeUIseUNBQXlDLDRFQUE0RSxrQkFBa0IsV0FBVyxrREFBa0QsOEJBQThCLFNBQVMsdURBQXVELGlJQUFpSSxTQUFTLE1BQU0sNFRBQTRULHdJQUF3SSxpREFBaUQsV0FBVyx5Q0FBeUMsbUNBQW1DLDBDQUEwQyx1SkFBdUosa0ZBQWtGLDZCQUE2Qix5SkFBeUoscUNBQXFDLCtlQUErZSx5REFBeUQsb0NBQW9DLE9BQU8sT0FBTyxnREFBZ0Qsa0JBQWtCLDRDQUE0Qyx1Q0FBdUMsR0FBRyxxQkFBcUIsNkVBQTZFLHVDQUF1QyxzQ0FBc0MsNkNBQTZDLHNDQUFzQyxXQUFXLDJGQUEyRixrQkFBa0IsNENBQTRDLCtCQUErQixHQUFHLHFCQUFxQiw2RUFBNkUsK0JBQStCLHNDQUFzQyw2Q0FBNkMseUZBQXlGLFdBQVcsMEVBQTBFLG9FQUFvRSx1Q0FBdUMsaUZBQWlGLG1DQUFtQyx3WkFBd1oscURBQXFELFdBQVcsa0JBQWtCLDJCQUEyQixrQkFBa0IseUVBQXlFLG9DQUFvQyxXQUFXLDhCQUE4QixrQkFBa0IsdUJBQXVCLDhCQUE4QiwyQ0FBMkMsdUJBQXVCLElBQUksbURBQW1ELFNBQVMsa0NBQWtDLDRGQUE0RixJQUFJLHFDQUFxQyxTQUFTLFVBQVUsNENBQTRDLHlFQUF5RSw4REFBOEQsZ0dBQWdHLElBQUkscUNBQXFDLFNBQVMsVUFBVSxRQUFRLDRCQUE0QixRQUFRLDZKQUE2Siw4QkFBOEIsTUFBTSxJQUFJLDJDQUEyQyw0SEFBNEgsS0FBSyx3SUFBd0ksYUFBYSxPQUFPLHVCQUF1QiwwQ0FBMEMsaUNBQWlDLDZCQUE2QixLQUFLLCtCQUErQixtQ0FBbUMsNkJBQTZCLEVBQUUsUUFBUSxxQkFBcUIsdUNBQXVDLDJDQUEyQywrQkFBK0IsOENBQThDLDBDQUEwQyxJQUFJLHNDQUFzQyxTQUFTLHFDQUFxQyw4QkFBOEIsNkJBQTZCLFVBQVUsdUJBQXVCLHVCQUF1Qiw0QkFBNEIseUJBQXlCLHVCQUF1QiwyQkFBMkIseUNBQXlDLHFCQUFxQiwwREFBMEQsb0RBQW9ELGtCQUFrQixNQUFNLHdLQUF3SyxzQkFBc0IsaUNBQWlDLDBCQUEwQixpQ0FBaUMsb0NBQW9DLG1DQUFtQywwQkFBMEIsMENBQTBDLFFBQVEsdUNBQXVDLEdBQUcsc0NBQXNDLG1EQUFtRCx5QkFBeUIsZ0JBQWdCLGVBQWUsMEhBQTBILHFCQUFxQixtRkFBbUYsa0JBQWtCLGdEQUFnRCxFQUFFLDZPQUE2TyxtRUFBbUUsa0VBQWtFLHNIQUFzSCxPQUFPLFNBQVMsc0NBQXNDLGtDQUFrQyw0Q0FBNEMseUNBQXlDLFlBQVksaUNBQWlDLElBQUksS0FBSyx3QkFBd0IsaUNBQWlDLFNBQVMsa0NBQWtDLE9BQU8sMERBQTBELElBQUksMENBQTBDLFNBQVMsMEJBQTBCLDBDQUEwQyxhQUFhLE9BQU8sd0JBQXdCLG9CQUFvQiw2VEFBNlQsaUNBQWlDLDhCQUE4QixtRkFBbUYsMEJBQTBCLGNBQWMsTUFBTSxJQUFJLGdHQUFnRyxTQUFTLHNFQUFzRSxJQUFJLDZCQUE2QixXQUFXLGNBQWMsS0FBSyxTQUFTLDREQUE0RCxXQUFXLDBCQUEwQixJQUFJLDZCQUE2QixxUUFBcVEsNkRBQTZELHdCQUF3QixtQ0FBbUMseUJBQXlCLHFDQUFxQywwQ0FBMEMsU0FBUyx5Q0FBeUMsaUNBQWlDLG1CQUFtQixpQ0FBaUMsMEZBQTBGLGtCQUFrQixPQUFPLDhIQUE4SCx5QkFBeUIscUJBQXFCLHlCQUF5QiwyQ0FBMkMsc0dBQXNHLCtTQUErUyw2QkFBNkIsaUZBQWlGLCtQQUErUCxnZEFBZ2Qsa01BQWtNLHlCQUF5QixhQUFhLGlLQUFpSyxVQUFVLFdBQVcsc0VBQXNFLGFBQWEsb0NBQW9DLDBFQUEwRSxFQUFFLCtCQUErQiw4Q0FBOEMsMlNBQTJTLDhCQUE4QixhQUFhLHlFQUF5RSxhQUFhLDhHQUE4RyxlQUFlLHdDQUF3QyxJQUFJLGtFQUFrRSxLQUFLLE1BQU0sa0NBQWtDLFNBQVMsU0FBUyx5SEFBeUgsK0JBQStCLHdDQUF3QyxrS0FBa0sseURBQXlELG9FQUFvRSwrQkFBK0IsWUFBWSx1REFBdUQsSUFBSSwyRUFBMkUscUJBQXFCLHdDQUF3Qyw0REFBNEQsSUFBSSxpU0FBaVMsOEJBQThCLHVDQUF1QyxpQ0FBaUMsaUJBQWlCLHNGQUFzRixxSkFBcUosK0JBQStCLG9CQUFvQixRQUFRLFdBQVcsaUlBQWlJLE9BQU8sMkJBQTJCLDZCQUE2Qix1RUFBdUUscUVBQXFFLEVBQUUsMkNBQTJDLFdBQVcsZ0NBQWdDLFdBQVcsTUFBTSxvQkFBb0IscURBQXFELG1CQUFtQixJQUFJLEtBQUssMkJBQTJCLGdCQUFnQiwyQ0FBMkMsa0JBQWtCLHdDQUF3Qyw0QkFBNEIsTUFBTSxpQkFBaUIsVUFBVSxtQkFBbUIsSUFBSSxnREFBZ0QsZ0NBQWdDLGlGQUFpRiwwREFBMEQsd0JBQXdCLGdHQUFnRyxzREFBc0QsdUNBQXVDLG1HQUFtRyx5QkFBeUIsYUFBYSwyUEFBMlAsaUJBQWlCLHVEQUF1RCx5QkFBeUIsb0ZBQW9GLDRCQUE0QixtQ0FBbUMsMlBBQTJQLCtCQUErQixnbkJBQWduQixpQ0FBaUMsZ0VBQWdFLDZCQUE2QixhQUFhLDRFQUE0RSxXQUFXLE1BQU0sa0RBQWtELFNBQVMsbUlBQW1JLDBCQUEwQixVQUFVLDZGQUE2RixNQUFNLGtIQUFrSCxNQUFNLG1HQUFtRyxpREFBaUQsNkNBQTZDLCtCQUErQiwwQkFBMEIsc0NBQXNDLGlDQUFpQyxnQ0FBZ0MsMkJBQTJCLHNDQUFzQyx1Q0FBdUMsMkJBQTJCLGFBQWEsRUFBRSwwQkFBMEIseUNBQXlDLGlQQUFpUCxrQ0FBa0Msb01BQW9NLGtDQUFrQyxrQkFBa0IsNERBQTRELDBDQUEwQyxpQ0FBaUMsZ0NBQWdDLDhCQUE4QiwrQkFBK0IsZ0NBQWdDLDRCQUE0QixvREFBb0QsNEJBQTRCLEtBQUssOEJBQThCLEtBQUssK1lBQStZLFNBQVMsZ0JBQWdCLFdBQVcsNEJBQTRCLE1BQU0sNkJBQTZCLDJRQUEyUSx3RUFBd0UsNE5BQTROLHdFQUF3RSwwQkFBMEIscUJBQXFCLGlCQUFpQixRQUFRLDJDQUEyQyxvQ0FBb0Msc0JBQXNCLEVBQUUsSUFBSSxpQ0FBaUMseUJBQXlCLGVBQWUsV0FBVyx1TkFBdU4sMEJBQTBCLDBCQUEwQixJQUFJLDRCQUE0Qix5RUFBeUUsdUNBQXVDLGlCQUFpQixlQUFlLGlCQUFpQixXQUFXLEtBQUssV0FBVyw4REFBOEQsR0FBRyxjQUFjLCtCQUErQixrQkFBa0IsOEJBQThCLGNBQWMsSUFBSSx5QkFBeUIsU0FBUyxVQUFVLGtEQUFrRCw2QkFBNkIsc0hBQXNILEVBQUUsRUFBRSw0RUFBNEUscUJBQXFCLFlBQVksMEVBQTBFLG1CQUFtQix3SEFBd0gsa0JBQWtCLHlLQUF5SyxpQkFBaUIsK0JBQStCLGFBQWEsd01BQXdNLHdCQUF3Qix5Q0FBeUMsR0FBRyxxQkFBcUIseUNBQXlDLHNCQUFzQixjQUFjLGdCQUFnQixXQUFXLGtCQUFrQix3QkFBd0Isb0RBQW9ELDRDQUE0QyxPQUFPLHlEQUF5RCwwQkFBMEIsRUFBRSxlQUFlLHFCQUFxQix3Q0FBd0MscUJBQXFCLG1DQUFtQyx1QkFBdUIsZ0NBQWdDLFFBQVEsRUFBRSxlQUFlLHFCQUFxQixzRUFBc0UscUJBQXFCLGNBQWMsZ0JBQWdCLFdBQVcsa0JBQWtCLHFFQUFxRSxjQUFjLHVCQUF1QixPQUFPLDZDQUE2Qyx5QkFBeUIsY0FBYyxzQkFBc0IsZ0NBQWdDLCtEQUErRCxFQUFFLGVBQWUscUJBQXFCLGFBQWEsT0FBTyxZQUFZLG1CQUFtQix3Q0FBd0Msa0NBQWtDLGtCQUFrQiwrQkFBK0IsdUJBQXVCLHNCQUFzQiw2Q0FBNkMsSUFBSSxLQUFLLHlCQUF5QixFQUFFLGdDQUFnQyw4RUFBOEUseUJBQXlCLFlBQVksMEJBQTBCLDZFQUE2RSw4QkFBOEIsa0JBQWtCLE9BQU8seUJBQXlCLHFEQUFxRCxxQkFBcUIsWUFBWSxFQUFFLGVBQWUscUJBQXFCLDJHQUEyRyx3QkFBd0IsYUFBYSxTQUFTLDBDQUEwQyxvQkFBb0IsNEJBQTRCLElBQUksYUFBYSxTQUFTLCtEQUErRCxrQkFBa0IsV0FBVyxXQUFXLGtCQUFrQixjQUFjLHFCQUFxQixVQUFVLE1BQU0sY0FBYyxXQUFXLFVBQVUsZ0JBQWdCLFVBQVUsY0FBYyxjQUFjLHNCQUFzQixjQUFjLGFBQWEsbUJBQW1CLElBQUksY0FBYyxjQUFjLG9DQUFvQywrQkFBK0IsRUFBRSx1QkFBdUIsbUJBQW1CLG1CQUFtQixvQkFBb0IsbURBQW1ELEVBQUUsOEJBQThCLHNCQUFzQixxQ0FBcUMsU0FBUyxxREFBcUQsU0FBUyxnRUFBZ0UsOEJBQThCLElBQUksdUJBQXVCLDBDQUEwQyxnQkFBZ0IsbUJBQW1CLEtBQUssZUFBZSxrRUFBa0UsVUFBVSxHQUFHLHNCQUFzQiw0QkFBNEIsZ0RBQWdELDRCQUE0QixvQ0FBb0MsR0FBRyxFQUFFLEdBQUcsWUFBWSIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIiFmdW5jdGlvbiBlKHQsaSxuKXtmdW5jdGlvbiByKHMsbyl7aWYoIWlbc10pe2lmKCF0W3NdKXt2YXIgbD1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighbyYmbClyZXR1cm4gbChzLCEwKTtpZihhKXJldHVybiBhKHMsITApO3ZhciB1PW5ldyBFcnJvcihcXFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcXFwiK3MrXFxcIidcXFwiKTt0aHJvdyB1LmNvZGU9XFxcIk1PRFVMRV9OT1RfRk9VTkRcXFwiLHV9dmFyIGM9aVtzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGMuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgaT10W3NdWzFdW2VdO3JldHVybiByKGl8fGUpfSxjLGMuZXhwb3J0cyxlLHQsaSxuKX1yZXR1cm4gaVtzXS5leHBvcnRzfWZvcih2YXIgYT1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxuLmxlbmd0aDtzKyspcihuW3NdKTtyZXR1cm4gcn0oezE6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24oaSl7ZShcXFwiLi91dGlscy9wb2x5ZmlsbHNcXFwiKTt2YXIgbj1lKFxcXCIuL3N0cmF0ZWdpZXMvTG9jYWxWaXNpdG9yXFxcIikscj1lKFxcXCIuL3N0cmF0ZWdpZXMvUHJveHlWaXNpdG9yXFxcIiksYT1lKFxcXCIuL3N0cmF0ZWdpZXMvUGxhY2Vob2xkZXJWaXNpdG9yXFxcIikscz1lKFxcXCIuL3V0aWxzL2NhbGxiYWNrUmVnaXN0cnlGYWN0b3J5XFxcIiksbz1lKFxcXCIuL01lc3NhZ2VcXFwiKSxsPWUoXFxcIi4vZW51bXNcXFwiKSx1PWwuTUVTU0FHRVM7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxsLGMpe2Z1bmN0aW9uIGQoZSl7T2JqZWN0LmFzc2lnbihJLGUpfWZ1bmN0aW9uIGYoZSl7T2JqZWN0LmFzc2lnbihJLnN0YXRlLGUpLEkuY2FsbGJhY2tSZWdpc3RyeS5leGVjdXRlQWxsKEkuc3RhdGUpfWZ1bmN0aW9uIGcoZSl7aWYoIUEuaXNJbnZhbGlkKGUpKXt2PSExO3ZhciB0PUEucGFyc2UoZSk7SS5zZXRTdGF0ZUFuZFB1Ymxpc2godC5zdGF0ZSl9fWZ1bmN0aW9uIF8oZSl7IXYmJkMmJih2PSEwLEEuc2VuZChjLGUpKX1mdW5jdGlvbiBtKCl7ZChuZXcgbihsLl9nZW5lcmF0ZUlEKSksSS5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCgpLEkuY2FsbGJhY2tSZWdpc3RyeS5leGVjdXRlQWxsKEkuc3RhdGUsITApLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwibWVzc2FnZVxcXCIscCl9ZnVuY3Rpb24gcChlKXtpZighQS5pc0ludmFsaWQoZSkpe3ZhciB0PUEucGFyc2UoZSk7dj0hMSxpLmNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwibWVzc2FnZVxcXCIscCksZChuZXcgcihJKSksaS5hZGRFdmVudExpc3RlbmVyKFxcXCJtZXNzYWdlXFxcIixnKSxJLnNldFN0YXRlQW5kUHVibGlzaCh0LnN0YXRlKSxJLmNhbGxiYWNrUmVnaXN0cnkuaGFzQ2FsbGJhY2tzKCkmJl8odS5HRVRTVEFURSl9fWZ1bmN0aW9uIGgoKXtDJiZwb3N0TWVzc2FnZT8oaS5hZGRFdmVudExpc3RlbmVyKFxcXCJtZXNzYWdlXFxcIixwKSxfKHUuSEFORFNIQUtFKSx0aGlzLnRpbWVvdXQ9c2V0VGltZW91dChtLDI1MCkpOm0oKX1mdW5jdGlvbiBTKCl7aS5zX2NfaW58fChpLnNfY19pbD1bXSxpLnNfY19pbj0wKSxJLl9jPVxcXCJWaXNpdG9yXFxcIixJLl9pbD1pLnNfY19pbCxJLl9pbj1pLnNfY19pbixJLl9pbFtJLl9pbl09SSxpLnNfY19pbisrfWZ1bmN0aW9uIEQoKXtmdW5jdGlvbiBlKGUpezAhPT1lLmluZGV4T2YoXFxcIl9cXFwiKSYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGxbZV0mJihJW2VdPWZ1bmN0aW9uKCl7fSl9T2JqZWN0LmtleXMobCkuZm9yRWFjaChlKSxJLmdldFN1cHBsZW1lbnRhbERhdGFJRD1sLmdldFN1cHBsZW1lbnRhbERhdGFJRH12YXIgST10aGlzLEM9dC53aGl0ZWxpc3RQYXJlbnREb21haW47SS5zdGF0ZT17fSxJLnZlcnNpb249bC52ZXJzaW9uLEkubWFya2V0aW5nQ2xvdWRPcmdJRD1lO3ZhciB2PSExLEE9bmV3IG8oZSxDKTtJLmNhbGxiYWNrUmVnaXN0cnk9cygpLEkuZmluZEZpZWxkPWZ1bmN0aW9uKGUsdCl7aWYoSS5zdGF0ZVtlXSlyZXR1cm4gdChJLnN0YXRlW2VdKSxJLnN0YXRlW2VdfSxJLm1lc3NhZ2VQYXJlbnQ9XyxJLnNldFN0YXRlQW5kUHVibGlzaD1mLGZ1bmN0aW9uKCl7UygpLEQoKSxkKG5ldyBhKEkpKSxoKCl9KCl9fSkuY2FsbCh0aGlzLFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHNlbGY/c2VsZjpcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XFxcIi4vTWVzc2FnZVxcXCI6MixcXFwiLi9lbnVtc1xcXCI6NCxcXFwiLi9zdHJhdGVnaWVzL0xvY2FsVmlzaXRvclxcXCI6NSxcXFwiLi9zdHJhdGVnaWVzL1BsYWNlaG9sZGVyVmlzaXRvclxcXCI6NixcXFwiLi9zdHJhdGVnaWVzL1Byb3h5VmlzaXRvclxcXCI6NyxcXFwiLi91dGlscy9jYWxsYmFja1JlZ2lzdHJ5RmFjdG9yeVxcXCI6OCxcXFwiLi91dGlscy9wb2x5ZmlsbHNcXFwiOjEwfV0sMjpbZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWUoXFxcIi4vZW51bXNcXFwiKSxyPW4uTUVTU0FHRVMsYT17MDpcXFwicHJlZml4XFxcIiwxOlxcXCJvcmdJRFxcXCIsMjpcXFwic3RhdGVcXFwifTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0aGlzLnBhcnNlPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD17fTtyZXR1cm4gZS5kYXRhLnNwbGl0KFxcXCJ8XFxcIikuZm9yRWFjaChmdW5jdGlvbihlLGkpe2lmKHZvaWQgMCE9PWUpe3RbYVtpXV09MiE9PWk/ZTpKU09OLnBhcnNlKGUpfX0pLHR9Y2F0Y2goZSl7fX0sdGhpcy5pc0ludmFsaWQ9ZnVuY3Rpb24oaSl7dmFyIG49dGhpcy5wYXJzZShpKTtpZighbnx8T2JqZWN0LmtleXMobikubGVuZ3RoPDIpcmV0dXJuITA7dmFyIGE9ZSE9PW4ub3JnSUQscz0hdHx8aS5vcmlnaW4hPT10LG89LTE9PT1PYmplY3Qua2V5cyhyKS5pbmRleE9mKG4ucHJlZml4KTtyZXR1cm4gYXx8c3x8b30sdGhpcy5zZW5kPWZ1bmN0aW9uKGksbixyKXt2YXIgYT1uK1xcXCJ8XFxcIitlO3ImJnI9PT1PYmplY3QocikmJihhKz1cXFwifFxcXCIrSlNPTi5zdHJpbmdpZnkocikpO3RyeXtpLnBvc3RNZXNzYWdlKGEsdCl9Y2F0Y2goZSl7fX19fSx7XFxcIi4vZW51bXNcXFwiOjR9XSwzOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG4oKXtmdW5jdGlvbiBlKCl7by53aW5kb3dMb2FkZWQ9ITB9aS5hZGRFdmVudExpc3RlbmVyP2kuYWRkRXZlbnRMaXN0ZW5lcihcXFwibG9hZFxcXCIsZSk6aS5hdHRhY2hFdmVudCYmaS5hdHRhY2hFdmVudChcXFwib25sb2FkXFxcIixlKSxvLmNvZGVMb2FkRW5kPShuZXcgRGF0ZSkuZ2V0VGltZSgpfS8qKiBAbGljZW5zZSA9PT09PT09PT09PT09PSBETyBOT1QgQUxURVIgQU5ZVEhJTkcgQkVMT1cgVEhJUyBMSU5FICEgPT09PT09PT09PT09XFxuXFxuQWRvYmUgVmlzaXRvciBBUEkgZm9yIEphdmFTY3JpcHQgdmVyc2lvbjogMi40LjBcXG5Db3B5cmlnaHQgMTk5Ni0yMDE1IEFkb2JlLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWRcXG5Nb3JlIGluZm8gYXZhaWxhYmxlIGF0IGh0dHBzOi8vbWFya2V0aW5nLmFkb2JlLmNvbS9yZXNvdXJjZXMvaGVscC9lbl9VUy9tY3ZpZC9cXG4qL1xcbnZhciByPWUoXFxcIi4vQ2hpbGRWaXNpdG9yXFxcIiksYT1lKFxcXCIuL01lc3NhZ2VcXFwiKSxzPWUoXFxcIi4vdXRpbHMvbWFrZUNoaWxkTWVzc2FnZUxpc3RlbmVyXFxcIiksbz1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9ZTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGk9ZXx8Xy5sb2NhdGlvbi5ocmVmO3RyeXt2YXIgbj1nLl9leHRyYWN0UGFyYW1Gcm9tVXJpKGksdCk7aWYobilyZXR1cm4gUi5wYXJzZVBpcGVEZWxpbWV0ZWRLZXlWYWx1ZXMobil9Y2F0Y2goZSl7fX19ZnVuY3Rpb24gcihlKXtmdW5jdGlvbiB0KGUsdCl7ZSYmZS5tYXRjaChoLlZBTElEX1ZJU0lUT1JfSURfUkVHRVgpJiZ0KGUpfXQoZVtJXSxnLnNldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEKSxnLl9zZXRGaWVsZEV4cGlyZShMLC0xKSx0KGVbT10sZy5zZXRBbmFseXRpY3NWaXNpdG9ySUQpfWZ1bmN0aW9uIG8oZSl7ZT1lfHx7fSxnLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50PWUuc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudHx8XFxcIlxcXCIsZy5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkPWUuc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkfHx7fSxnLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0PWUuc3VwcGxlbWVudGFsRGF0YUlETGFzdHx8XFxcIlxcXCIsZy5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkPWUuc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkfHx7fX1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdD1cXFwiXFxcIixpPTAsbj1lLmxlbmd0aDtpPG47aSsrKXt2YXIgcj1lW2ldLGE9clswXSxzPXJbMV07bnVsbCE9cyYmcyE9PVAmJih0PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gaT1pP2krPVxcXCJ8XFxcIjppLGkrPWUrXFxcIj1cXFwiK2VuY29kZVVSSUNvbXBvbmVudCh0KX0oYSxzLHQpKX1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9Ui5nZXRUaW1lc3RhbXBJblNlY29uZHMoKTtyZXR1cm4gZT1lP2UrPVxcXCJ8XFxcIjplLGUrPVxcXCJUUz1cXFwiK3R9KHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5taW51dGVzVG9MaXZlLGk9XFxcIlxcXCI7cmV0dXJuIGcuaWRTeW5jRGlzYWJsZVN5bmNzJiYoaT1pfHxcXFwiRXJyb3I6IGlkIHN5bmNzIGhhdmUgYmVlbiBkaXNhYmxlZFxcXCIpLFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZS5kcGlkJiZlLmRwaWQubGVuZ3RofHwoaT1pfHxcXFwiRXJyb3I6IGNvbmZpZy5kcGlkIGlzIGVtcHR5XFxcIiksXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBlLnVybCYmZS51cmwubGVuZ3RofHwoaT1pfHxcXFwiRXJyb3I6IGNvbmZpZy51cmwgaXMgZW1wdHlcXFwiKSx2b2lkIDA9PT10P3Q9MjAxNjA6KHQ9cGFyc2VJbnQodCwxMCksKGlzTmFOKHQpfHx0PD0wKSYmKGk9aXx8XFxcIkVycm9yOiBjb25maWcubWludXRlc1RvTGl2ZSBuZWVkcyB0byBiZSBhIHBvc2l0aXZlIG51bWJlclxcXCIpKSx7ZXJyb3I6aSx0dGw6dH19ZnVuY3Rpb24gYyhlKXtmb3IodmFyIHQ9MCxpPWUubGVuZ3RoO3Q8aTt0KyspaWYoIWguUE9TSVRJVkVfSU5UX1JFR0VYLnRlc3QoZVt0XSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZChlLHQpe2Zvcig7ZS5sZW5ndGg8dC5sZW5ndGg7KWUucHVzaChcXFwiMFxcXCIpO2Zvcig7dC5sZW5ndGg8ZS5sZW5ndGg7KXQucHVzaChcXFwiMFxcXCIpfWZ1bmN0aW9uIGYoZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49cGFyc2VJbnQoZVtpXSwxMCkscj1wYXJzZUludCh0W2ldLDEwKTtpZihuPnIpcmV0dXJuIDE7aWYocj5uKXJldHVybi0xfXJldHVybiAwfWlmKCFlKXRocm93IG5ldyBFcnJvcihcXFwiVmlzaXRvciByZXF1aXJlcyBBZG9iZSBNYXJrZXRpbmcgQ2xvdWQgT3JnIElEXFxcIik7dmFyIGc9dGhpcztnLnZlcnNpb249XFxcIjIuNC4wXFxcIjt2YXIgXz1pLG09Xy5WaXNpdG9yO20udmVyc2lvbj1nLnZlcnNpb24sXy5zX2NfaW58fChfLnNfY19pbD1bXSxfLnNfY19pbj0wKSxnLl9jPVxcXCJWaXNpdG9yXFxcIixnLl9pbD1fLnNfY19pbCxnLl9pbj1fLnNfY19pbixnLl9pbFtnLl9pbl09ZyxfLnNfY19pbisrLGcuX2xvZz17cmVxdWVzdHM6W119O3ZhciBwPV8uZG9jdW1lbnQsaD17UE9TVF9NRVNTQUdFX0VOQUJMRUQ6ISFfLnBvc3RNZXNzYWdlLERBWVNfQkVUV0VFTl9TWU5DX0lEX0NBTExTOjEsTUlMTElTX1BFUl9EQVk6ODY0ZTUsQURPQkVfTUM6XFxcImFkb2JlX21jXFxcIixBRE9CRV9NQ19TRElEOlxcXCJhZG9iZV9tY19zZGlkXFxcIixWQUxJRF9WSVNJVE9SX0lEX1JFR0VYOi9eWzAtOWEtZkEtRlxcXFwtXSskLyxBRE9CRV9NQ19UVExfSU5fTUlOOjUsUE9TSVRJVkVfSU5UX1JFR0VYOi9eXFxcXGQrJC8sVkVSU0lPTl9SRUdFWDovdlZlcnNpb25cXFxcfCgoXFxcXGQrXFxcXC4pPyhcXFxcZCtcXFxcLik/KFxcXFwqfFxcXFxkKykpKD89JHxcXFxcfCkvLEhBU19KU09OX1NUUklOR0lGWTp3aW5kb3cuSlNPTj09PU9iamVjdCh3aW5kb3cuSlNPTikmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB3aW5kb3cuSlNPTi5zdHJpbmdpZnl9LFM9ZnVuY3Rpb24oZSl7cmV0dXJuIU9iamVjdC5wcm90b3R5cGVbZV19O2cuX2hhc2g9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPTA7aWYoZSlmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKWk9ZS5jaGFyQ29kZUF0KHQpLG49KG48PDUpLW4raSxuJj1uO3JldHVybiBufSxnLl9nZW5lcmF0ZUlEPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyPVxcXCIwMTIzNDU2Nzg5XFxcIixhPVxcXCJcXFwiLHM9XFxcIlxcXCIsbz04LGw9MTAsdT0xMDtpZih0PT09SSYmKHguaXNDbGllbnRTaWRlTWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQ9ITApLDE9PT1lKXtmb3Iocis9XFxcIkFCQ0RFRlxcXCIsaT0wO2k8MTY7aSsrKW49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm8pLGErPXIuc3Vic3RyaW5nKG4sbisxKSxuPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpvKSxzKz1yLnN1YnN0cmluZyhuLG4rMSksbz0xNjtyZXR1cm4gYStcXFwiLVxcXCIrc31mb3IoaT0wO2k8MTk7aSsrKW49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmwpLGErPXIuc3Vic3RyaW5nKG4sbisxKSwwPT09aSYmOT09PW4/bD0zOigxPT09aXx8Mj09PWkpJiYxMCE9PWwmJm48Mj9sPTEwOmk+MiYmKGw9MTApLG49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnUpLHMrPXIuc3Vic3RyaW5nKG4sbisxKSwwPT09aSYmOT09PW4/dT0zOigxPT09aXx8Mj09PWkpJiYxMCE9PXUmJm48Mj91PTEwOmk+MiYmKHU9MTApO3JldHVybiBhK3N9LGcuX2dldERvbWFpbj1mdW5jdGlvbihlKXt2YXIgdDtpZighZSYmXy5sb2NhdGlvbiYmKGU9Xy5sb2NhdGlvbi5ob3N0bmFtZSksdD1lKWlmKC9eWzAtOS5dKyQvLnRlc3QodCkpdD1cXFwiXFxcIjtlbHNle3ZhciBpPVxcXCIsYWMsYWQsYWUsYWYsYWcsYWksYWwsYW0sYW4sYW8sYXEsYXIsYXMsYXQsYXUsYXcsYXgsYXosYmEsYmIsYmUsYmYsYmcsYmgsYmksYmosYm0sYm8sYnIsYnMsYnQsYnYsYncsYnksYnosY2EsY2MsY2QsY2YsY2csY2gsY2ksY2wsY20sY24sY28sY3IsY3UsY3YsY3csY3gsY3osZGUsZGosZGssZG0sZG8sZHosZWMsZWUsZWcsZXMsZXQsZXUsZmksZm0sZm8sZnIsZ2EsZ2IsZ2QsZ2UsZ2YsZ2csZ2gsZ2ksZ2wsZ20sZ24sZ3AsZ3EsZ3IsZ3MsZ3QsZ3csZ3ksaGssaG0saG4saHIsaHQsaHUsaWQsaWUsaW0saW4saW8saXEsaXIsaXMsaXQsamUsam8sanAsa2csa2ksa20sa24sa3Asa3Isa3ksa3osbGEsbGIsbGMsbGksbGssbHIsbHMsbHQsbHUsbHYsbHksbWEsbWMsbWQsbWUsbWcsbWgsbWssbWwsbW4sbW8sbXAsbXEsbXIsbXMsbXQsbXUsbXYsbXcsbXgsbXksbmEsbmMsbmUsbmYsbmcsbmwsbm8sbnIsbnUsbnosb20scGEscGUscGYscGgscGsscGwscG0scG4scHIscHMscHQscHcscHkscWEscmUscm8scnMscnUscncsc2Esc2Isc2Msc2Qsc2Usc2csc2gsc2ksc2osc2ssc2wsc20sc24sc28sc3Isc3Qsc3Usc3Ysc3gsc3ksc3osdGMsdGQsdGYsdGcsdGgsdGosdGssdGwsdG0sdG4sdG8sdHAsdHIsdHQsdHYsdHcsdHosdWEsdWcsdWssdXMsdXksdXosdmEsdmMsdmUsdmcsdmksdm4sdnUsd2Ysd3MseXQsXFxcIixuPXQuc3BsaXQoXFxcIi5cXFwiKSxyPW4ubGVuZ3RoLTEsYT1yLTE7aWYocj4xJiZuW3JdLmxlbmd0aDw9MiYmKDI9PT1uW3ItMV0ubGVuZ3RofHxpLmluZGV4T2YoXFxcIixcXFwiK25bcl0rXFxcIixcXFwiKTwwKSYmYS0tLGE+MClmb3IodD1cXFwiXFxcIjtyPj1hOyl0PW5bcl0rKHQ/XFxcIi5cXFwiOlxcXCJcXFwiKSt0LHItLX1yZXR1cm4gdH0sZy5jb29raWVSZWFkPWZ1bmN0aW9uKGUpe2U9ZW5jb2RlVVJJQ29tcG9uZW50KGUpO3ZhciB0PShcXFwiO1xcXCIrcC5jb29raWUpLnNwbGl0KFxcXCIgXFxcIikuam9pbihcXFwiO1xcXCIpLGk9dC5pbmRleE9mKFxcXCI7XFxcIitlK1xcXCI9XFxcIiksbj1pPDA/aTp0LmluZGV4T2YoXFxcIjtcXFwiLGkrMSk7cmV0dXJuIGk8MD9cXFwiXFxcIjpkZWNvZGVVUklDb21wb25lbnQodC5zdWJzdHJpbmcoaSsyK2UubGVuZ3RoLG48MD90Lmxlbmd0aDpuKSl9LGcuY29va2llV3JpdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI9Zy5jb29raWVMaWZldGltZTtpZih0PVxcXCJcXFwiK3Qscj1yPyhcXFwiXFxcIityKS50b1VwcGVyQ2FzZSgpOlxcXCJcXFwiLGkmJlxcXCJTRVNTSU9OXFxcIiE9PXImJlxcXCJOT05FXFxcIiE9PXIpe2lmKG49XFxcIlxcXCIhPT10P3BhcnNlSW50KHJ8fDAsMTApOi02MClpPW5ldyBEYXRlLGkuc2V0VGltZShpLmdldFRpbWUoKSsxZTMqbik7ZWxzZSBpZigxPT09aSl7aT1uZXcgRGF0ZTt2YXIgYT1pLmdldFllYXIoKTtpLnNldFllYXIoYSsyKyhhPDE5MDA/MTkwMDowKSl9fWVsc2UgaT0wO3JldHVybiBlJiZcXFwiTk9ORVxcXCIhPT1yPyhwLmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoZSkrXFxcIj1cXFwiK2VuY29kZVVSSUNvbXBvbmVudCh0KStcXFwiOyBwYXRoPS87XFxcIisoaT9cXFwiIGV4cGlyZXM9XFxcIitpLnRvR01UU3RyaW5nKCkrXFxcIjtcXFwiOlxcXCJcXFwiKSsoZy5jb29raWVEb21haW4/XFxcIiBkb21haW49XFxcIitnLmNvb2tpZURvbWFpbitcXFwiO1xcXCI6XFxcIlxcXCIpLGcuY29va2llUmVhZChlKT09PXQpOjB9LGcuX2NhbGxiYWNrTGlzdD1udWxsLGcuX2NhbGxDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3RyeXtcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZT9lLmFwcGx5KF8sdCk6ZVsxXS5hcHBseShlWzBdLHQpfWNhdGNoKGUpe319LGcuX3JlZ2lzdGVyQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0KXt0JiYobnVsbD09Zy5fY2FsbGJhY2tMaXN0JiYoZy5fY2FsbGJhY2tMaXN0PXt9KSx2b2lkIDA9PWcuX2NhbGxiYWNrTGlzdFtlXSYmKGcuX2NhbGxiYWNrTGlzdFtlXT1bXSksZy5fY2FsbGJhY2tMaXN0W2VdLnB1c2godCkpfSxnLl9jYWxsQWxsQ2FsbGJhY2tzPWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9Zy5fY2FsbGJhY2tMaXN0KXt2YXIgaT1nLl9jYWxsYmFja0xpc3RbZV07aWYoaSlmb3IoO2kubGVuZ3RoPjA7KWcuX2NhbGxDYWxsYmFjayhpLnNoaWZ0KCksdCl9fSxnLl9hZGRRdWVyeXN0cmluZ1BhcmFtPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPWVuY29kZVVSSUNvbXBvbmVudCh0KStcXFwiPVxcXCIrZW5jb2RlVVJJQ29tcG9uZW50KGkpLGE9Ui5wYXJzZUhhc2goZSkscz1SLmhhc2hsZXNzVXJsKGUpO2lmKC0xPT09cy5pbmRleE9mKFxcXCI/XFxcIikpcmV0dXJuIHMrXFxcIj9cXFwiK3IrYTt2YXIgbz1zLnNwbGl0KFxcXCI/XFxcIiksbD1vWzBdK1xcXCI/XFxcIix1PW9bMV07cmV0dXJuIGwrUi5hZGRRdWVyeVBhcmFtQXRMb2NhdGlvbih1LHIsbikrYX0sZy5fZXh0cmFjdFBhcmFtRnJvbVVyaT1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBSZWdFeHAoXFxcIltcXFxcXFxcXD8mI11cXFwiK3QrXFxcIj0oW14mI10qKVxcXCIpLG49aS5leGVjKGUpO2lmKG4mJm4ubGVuZ3RoKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoblsxXSl9LGcuX3BhcnNlQWRvYmVNY0Zyb21Vcmw9bihoLkFET0JFX01DKSxnLl9wYXJzZUFkb2JlTWNTZGlkRnJvbVVybD1uKGguQURPQkVfTUNfU0RJRCksZy5fYXR0ZW1wdFRvUG9wdWxhdGVTZGlkRnJvbVVybD1mdW5jdGlvbih0KXt2YXIgaT1nLl9wYXJzZUFkb2JlTWNTZGlkRnJvbVVybCh0KSxuPTFlOTtpJiZpLlRTJiYobj1SLmdldFRpbWVzdGFtcEluU2Vjb25kcygpLWkuVFMpLGkmJmkuU0RJRCYmaVtDXT09PWUmJm48Zy5zZGlkUGFyYW1FeHBpcnkmJihnLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50PWkuU0RJRCxnLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQuU0RJRF9VUkxfUEFSQU09ITApfSxnLl9hdHRlbXB0VG9Qb3B1bGF0ZUlkc0Zyb21Vcmw9ZnVuY3Rpb24oKXt2YXIgdD1nLl9wYXJzZUFkb2JlTWNGcm9tVXJsKCk7aWYodCYmdC5UUyl7dmFyIGk9Ui5nZXRUaW1lc3RhbXBJblNlY29uZHMoKSxuPWktdC5UUztpZihNYXRoLmZsb29yKG4vNjApPmguQURPQkVfTUNfVFRMX0lOX01JTnx8dFtDXSE9PWUpcmV0dXJuO3IodCl9fSxnLnJlc2V0U3RhdGU9ZnVuY3Rpb24oZSl7ZT9nLl9tZXJnZVNlcnZlclN0YXRlKGUpOm8oKX0sZy5fbWVyZ2VTZXJ2ZXJTdGF0ZT1mdW5jdGlvbihlKXtpZihlKXRyeXtpZihlPWZ1bmN0aW9uKGUpe3JldHVybiBSLmlzT2JqZWN0KGUpP2U6Ui5wYXJzZUpTT04oZSl9KGUpLGVbZy5tYXJrZXRpbmdDbG91ZE9yZ0lEXSl7dmFyIHQ9ZVtnLm1hcmtldGluZ0Nsb3VkT3JnSURdOyFmdW5jdGlvbihlKXtSLmlzT2JqZWN0KGUpJiZnLnNldEN1c3RvbWVySURzKGUpfSh0LmN1c3RvbWVySURzKSxvKHQuc2RpZCl9fWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcXFwiYHNlcnZlclN0YXRlYCBoYXMgYW4gaW52YWxpZCBmb3JtYXQuXFxcIil9fSxnLl90aW1lb3V0PW51bGwsZy5fbG9hZERhdGE9ZnVuY3Rpb24oZSx0LGksbil7dD1nLl9hZGRRdWVyeXN0cmluZ1BhcmFtKHQsXFxcImRfZmllbGRncm91cFxcXCIsZSwxKSxuLnVybD1nLl9hZGRRdWVyeXN0cmluZ1BhcmFtKG4udXJsLFxcXCJkX2ZpZWxkZ3JvdXBcXFwiLGUsMSksbi5jb3JzVXJsPWcuX2FkZFF1ZXJ5c3RyaW5nUGFyYW0obi5jb3JzVXJsLFxcXCJkX2ZpZWxkZ3JvdXBcXFwiLGUsMSkseC5maWVsZEdyb3VwT2JqW2VdPSEwLG49PT1PYmplY3QobikmJm4uY29yc1VybCYmXFxcIlhNTEh0dHBSZXF1ZXN0XFxcIj09PWcuX3JlcXVlc3RQcm9jcy5jb3JzTWV0YWRhdGEuY29yc1R5cGU/Zy5fcmVxdWVzdFByb2NzLmZpcmVDT1JTKG4saSxlKTpnLnVzZUNPUlNPbmx5fHxnLl9sb2FkSlNPTlAoZSx0LGkpfSxnLl9sb2FkSlNPTlA9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI9MCxhPTA7aWYodCYmcCl7Zm9yKG49MDshciYmbjwyOyl7dHJ5e3I9cC5nZXRFbGVtZW50c0J5VGFnTmFtZShuPjA/XFxcIkhFQURcXFwiOlxcXCJoZWFkXFxcIikscj1yJiZyLmxlbmd0aD4wP3JbMF06MH1jYXRjaChlKXtyPTB9bisrfWlmKCFyKXRyeXtwLmJvZHkmJihyPXAuYm9keSl9Y2F0Y2goZSl7cj0wfWlmKHIpZm9yKG49MDshYSYmbjwyOyl7dHJ5e2E9cC5jcmVhdGVFbGVtZW50KG4+MD9cXFwiU0NSSVBUXFxcIjpcXFwic2NyaXB0XFxcIil9Y2F0Y2goZSl7YT0wfW4rK319aWYoIXR8fCFyfHwhYSlyZXR1cm4gdm9pZChpJiZpKCkpO2EudHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIixhLnNyYz10LHIuZmlyc3RDaGlsZD9yLmluc2VydEJlZm9yZShhLHIuZmlyc3RDaGlsZCk6ci5hcHBlbmRDaGlsZChhKTt2YXIgcz1nLmxvYWRUaW1lb3V0O2kmJihudWxsPT1nLl90aW1lb3V0JiYoZy5fdGltZW91dD17fSksZy5fdGltZW91dFtlXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aSghMCl9LHMpKSxnLl9sb2cucmVxdWVzdHMucHVzaCh0KX0sZy5fY2xlYXJUaW1lb3V0PWZ1bmN0aW9uKGUpe251bGwhPWcuX3RpbWVvdXQmJmcuX3RpbWVvdXRbZV0mJihjbGVhclRpbWVvdXQoZy5fdGltZW91dFtlXSksZy5fdGltZW91dFtlXT0wKX0sZy5faXNBbGxvd2VkRG9uZT0hMSxnLl9pc0FsbG93ZWRGbGFnPSExLGcuaXNBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuIGcuX2lzQWxsb3dlZERvbmV8fChnLl9pc0FsbG93ZWREb25lPSEwLChnLmNvb2tpZVJlYWQoZy5jb29raWVOYW1lKXx8Zy5jb29raWVXcml0ZShnLmNvb2tpZU5hbWUsXFxcIlRcXFwiLDEpKSYmKGcuX2lzQWxsb3dlZEZsYWc9ITApKSxnLl9pc0FsbG93ZWRGbGFnfSxnLl9maWVsZHM9bnVsbCxnLl9maWVsZHNFeHBpcmVkPW51bGw7dmFyIEQ9XFxcIk1DXFxcIixJPVxcXCJNQ01JRFxcXCIsQz1cXFwiTUNPUkdJRFxcXCIsdj1cXFwiTUNDSURIXFxcIixBPVxcXCJNQ1NZTkNTXFxcIix5PVxcXCJNQ1NZTkNTT1BcXFwiLE09XFxcIk1DSURUU1xcXCIsYj1cXFwiTUNPUFRPVVRcXFwiLEU9XFxcIkFcXFwiLE89XFxcIk1DQUlEXFxcIixUPVxcXCJBQU1cXFwiLGs9XFxcIk1DQUFNTEhcXFwiLEw9XFxcIk1DQUFNQlxcXCIsUD1cXFwiTk9ORVxcXCI7Zy5fc2V0dGluZ3NEaWdlc3Q9MCxnLl9nZXRTZXR0aW5nc0RpZ2VzdD1mdW5jdGlvbigpe2lmKCFnLl9zZXR0aW5nc0RpZ2VzdCl7dmFyIGU9Zy52ZXJzaW9uO2cuYXVkaWVuY2VNYW5hZ2VyU2VydmVyJiYoZSs9XFxcInxcXFwiK2cuYXVkaWVuY2VNYW5hZ2VyU2VydmVyKSxnLmF1ZGllbmNlTWFuYWdlclNlcnZlclNlY3VyZSYmKGUrPVxcXCJ8XFxcIitnLmF1ZGllbmNlTWFuYWdlclNlcnZlclNlY3VyZSksZy5fc2V0dGluZ3NEaWdlc3Q9Zy5faGFzaChlKX1yZXR1cm4gZy5fc2V0dGluZ3NEaWdlc3R9LGcuX3JlYWRWaXNpdG9yRG9uZT0hMSxnLl9yZWFkVmlzaXRvcj1mdW5jdGlvbigpe2lmKCFnLl9yZWFkVmlzaXRvckRvbmUpe2cuX3JlYWRWaXNpdG9yRG9uZT0hMDt2YXIgZSx0LGksbixyLGEscz1nLl9nZXRTZXR0aW5nc0RpZ2VzdCgpLG89ITEsbD1nLmNvb2tpZVJlYWQoZy5jb29raWVOYW1lKSx1PW5ldyBEYXRlO2lmKG51bGw9PWcuX2ZpZWxkcyYmKGcuX2ZpZWxkcz17fSksbCYmXFxcIlRcXFwiIT09bClmb3IobD1sLnNwbGl0KFxcXCJ8XFxcIiksbFswXS5tYXRjaCgvXltcXFxcLTAtOV0rJC8pJiYocGFyc2VJbnQobFswXSwxMCkhPT1zJiYobz0hMCksbC5zaGlmdCgpKSxsLmxlbmd0aCUyPT0xJiZsLnBvcCgpLGU9MDtlPGwubGVuZ3RoO2UrPTIpdD1sW2VdLnNwbGl0KFxcXCItXFxcIiksaT10WzBdLG49bFtlKzFdLHQubGVuZ3RoPjE/KHI9cGFyc2VJbnQodFsxXSwxMCksYT10WzFdLmluZGV4T2YoXFxcInNcXFwiKT4wKToocj0wLGE9ITEpLG8mJihpPT09diYmKG49XFxcIlxcXCIpLHI+MCYmKHI9dS5nZXRUaW1lKCkvMWUzLTYwKSksaSYmbiYmKGcuX3NldEZpZWxkKGksbiwxKSxyPjAmJihnLl9maWVsZHNbXFxcImV4cGlyZVxcXCIraV09cisoYT9cXFwic1xcXCI6XFxcIlxcXCIpLCh1LmdldFRpbWUoKT49MWUzKnJ8fGEmJiFnLmNvb2tpZVJlYWQoZy5zZXNzaW9uQ29va2llTmFtZSkpJiYoZy5fZmllbGRzRXhwaXJlZHx8KGcuX2ZpZWxkc0V4cGlyZWQ9e30pLGcuX2ZpZWxkc0V4cGlyZWRbaV09ITApKSk7IWcuX2dldEZpZWxkKE8pJiZSLmlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQoKSYmKGw9Zy5jb29raWVSZWFkKFxcXCJzX3ZpXFxcIikpJiYobD1sLnNwbGl0KFxcXCJ8XFxcIiksbC5sZW5ndGg+MSYmbFswXS5pbmRleE9mKFxcXCJ2MVxcXCIpPj0wJiYobj1sWzFdLGU9bi5pbmRleE9mKFxcXCJbXFxcIiksZT49MCYmKG49bi5zdWJzdHJpbmcoMCxlKSksbiYmbi5tYXRjaChoLlZBTElEX1ZJU0lUT1JfSURfUkVHRVgpJiZnLl9zZXRGaWVsZChPLG4pKSl9fSxnLl9hcHBlbmRWZXJzaW9uVG89ZnVuY3Rpb24oZSl7dmFyIHQ9XFxcInZWZXJzaW9ufFxcXCIrZy52ZXJzaW9uLGk9ZT9nLl9nZXRDb29raWVWZXJzaW9uKGUpOm51bGw7cmV0dXJuIGk/Ui5hcmVWZXJzaW9uc0RpZmZlcmVudChpLGcudmVyc2lvbikmJihlPWUucmVwbGFjZShoLlZFUlNJT05fUkVHRVgsdCkpOmUrPShlP1xcXCJ8XFxcIjpcXFwiXFxcIikrdCxlfSxnLl93cml0ZVZpc2l0b3I9ZnVuY3Rpb24oKXt2YXIgZSx0LGk9Zy5fZ2V0U2V0dGluZ3NEaWdlc3QoKTtmb3IoZSBpbiBnLl9maWVsZHMpUyhlKSYmZy5fZmllbGRzW2VdJiZcXFwiZXhwaXJlXFxcIiE9PWUuc3Vic3RyaW5nKDAsNikmJih0PWcuX2ZpZWxkc1tlXSxpKz0oaT9cXFwifFxcXCI6XFxcIlxcXCIpK2UrKGcuX2ZpZWxkc1tcXFwiZXhwaXJlXFxcIitlXT9cXFwiLVxcXCIrZy5fZmllbGRzW1xcXCJleHBpcmVcXFwiK2VdOlxcXCJcXFwiKStcXFwifFxcXCIrdCk7aT1nLl9hcHBlbmRWZXJzaW9uVG8oaSksZy5jb29raWVXcml0ZShnLmNvb2tpZU5hbWUsaSwxKX0sZy5fZ2V0RmllbGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09Zy5fZmllbGRzfHwhdCYmZy5fZmllbGRzRXhwaXJlZCYmZy5fZmllbGRzRXhwaXJlZFtlXT9udWxsOmcuX2ZpZWxkc1tlXX0sZy5fc2V0RmllbGQ9ZnVuY3Rpb24oZSx0LGkpe251bGw9PWcuX2ZpZWxkcyYmKGcuX2ZpZWxkcz17fSksZy5fZmllbGRzW2VdPXQsaXx8Zy5fd3JpdGVWaXNpdG9yKCl9LGcuX2dldEZpZWxkTGlzdD1mdW5jdGlvbihlLHQpe3ZhciBpPWcuX2dldEZpZWxkKGUsdCk7cmV0dXJuIGk/aS5zcGxpdChcXFwiKlxcXCIpOm51bGx9LGcuX3NldEZpZWxkTGlzdD1mdW5jdGlvbihlLHQsaSl7Zy5fc2V0RmllbGQoZSx0P3Quam9pbihcXFwiKlxcXCIpOlxcXCJcXFwiLGkpfSxnLl9nZXRGaWVsZE1hcD1mdW5jdGlvbihlLHQpe3ZhciBpPWcuX2dldEZpZWxkTGlzdChlLHQpO2lmKGkpe3ZhciBuLHI9e307Zm9yKG49MDtuPGkubGVuZ3RoO24rPTIpcltpW25dXT1pW24rMV07cmV0dXJuIHJ9cmV0dXJuIG51bGx9LGcuX3NldEZpZWxkTWFwPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbixyPW51bGw7aWYodCl7cj1bXTtmb3IobiBpbiB0KVMobikmJihyLnB1c2gobiksci5wdXNoKHRbbl0pKX1nLl9zZXRGaWVsZExpc3QoZSxyLGkpfSxnLl9zZXRGaWVsZEV4cGlyZT1mdW5jdGlvbihlLHQsaSl7dmFyIG49bmV3IERhdGU7bi5zZXRUaW1lKG4uZ2V0VGltZSgpKzFlMyp0KSxudWxsPT1nLl9maWVsZHMmJihnLl9maWVsZHM9e30pLGcuX2ZpZWxkc1tcXFwiZXhwaXJlXFxcIitlXT1NYXRoLmZsb29yKG4uZ2V0VGltZSgpLzFlMykrKGk/XFxcInNcXFwiOlxcXCJcXFwiKSx0PDA/KGcuX2ZpZWxkc0V4cGlyZWR8fChnLl9maWVsZHNFeHBpcmVkPXt9KSxnLl9maWVsZHNFeHBpcmVkW2VdPSEwKTpnLl9maWVsZHNFeHBpcmVkJiYoZy5fZmllbGRzRXhwaXJlZFtlXT0hMSksaSYmKGcuY29va2llUmVhZChnLnNlc3Npb25Db29raWVOYW1lKXx8Zy5jb29raWVXcml0ZShnLnNlc3Npb25Db29raWVOYW1lLFxcXCIxXFxcIikpfSxnLl9maW5kVmlzaXRvcklEPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBlJiYoZT1lLmRfbWlkP2UuZF9taWQ6ZS52aXNpdG9ySUQ/ZS52aXNpdG9ySUQ6ZS5pZD9lLmlkOmUudXVpZD9lLnV1aWQ6XFxcIlxcXCIrZSksZSYmXFxcIk5PVEFSR0VUXFxcIj09PShlPWUudG9VcHBlckNhc2UoKSkmJihlPVApLGUmJihlPT09UHx8ZS5tYXRjaChoLlZBTElEX1ZJU0lUT1JfSURfUkVHRVgpKXx8KGU9XFxcIlxcXCIpKSxlfSxnLl9zZXRGaWVsZHM9ZnVuY3Rpb24oZSx0KXtpZihnLl9jbGVhclRpbWVvdXQoZSksbnVsbCE9Zy5fbG9hZGluZyYmKGcuX2xvYWRpbmdbZV09ITEpLHguZmllbGRHcm91cE9ialtlXSYmeC5zZXRTdGF0ZShlLCExKSxlPT09RCl7ITAhPT14LmlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEJiYoeC5pc0NsaWVudFNpZGVNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRD0hMSk7dmFyIGk9Zy5fZ2V0RmllbGQoSSk7aWYoIWl8fGcub3ZlcndyaXRlQ3Jvc3NEb21haW5NQ0lEQW5kQUlEKXtpZighKGk9XFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0JiZ0Lm1pZD90Lm1pZDpnLl9maW5kVmlzaXRvcklEKHQpKSl7aWYoZy5fdXNlMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlciYmIWcudHJpZWQxc3RQYXJ0eU1hcmtldGluZ0Nsb3VkU2VydmVyKXJldHVybiBnLnRyaWVkMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlcj0hMCx2b2lkIGcuZ2V0QW5hbHl0aWNzVmlzaXRvcklEKG51bGwsITEsITApO2k9Zy5fZ2VuZXJhdGVJRCgwLEkpfWcuX3NldEZpZWxkKEksaSl9aSYmaSE9PVB8fChpPVxcXCJcXFwiKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIHQmJigodC5kX3JlZ2lvbnx8dC5kY3NfcmVnaW9ufHx0LmRfYmxvYnx8dC5ibG9iKSYmZy5fc2V0RmllbGRzKFQsdCksZy5fdXNlMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlciYmdC5taWQmJmcuX3NldEZpZWxkcyhFLHtpZDp0LmlkfSkpLGcuX2NhbGxBbGxDYWxsYmFja3MoSSxbaV0pfWlmKGU9PT1UJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIHQpe3ZhciBuPTYwNDgwMDt2b2lkIDAhPXQuaWRfc3luY190dGwmJnQuaWRfc3luY190dGwmJihuPXBhcnNlSW50KHQuaWRfc3luY190dGwsMTApKTt2YXIgcj1nLl9nZXRGaWVsZChrKTtyfHwocj10LmRfcmVnaW9uLHJ8fChyPXQuZGNzX3JlZ2lvbiksciYmKGcuX3NldEZpZWxkRXhwaXJlKGssbiksZy5fc2V0RmllbGQoayxyKSkpLHJ8fChyPVxcXCJcXFwiKSxnLl9jYWxsQWxsQ2FsbGJhY2tzKGssW3JdKTt2YXIgYT1nLl9nZXRGaWVsZChMKTsodC5kX2Jsb2J8fHQuYmxvYikmJihhPXQuZF9ibG9iLGF8fChhPXQuYmxvYiksZy5fc2V0RmllbGRFeHBpcmUoTCxuKSxnLl9zZXRGaWVsZChMLGEpKSxhfHwoYT1cXFwiXFxcIiksZy5fY2FsbEFsbENhbGxiYWNrcyhMLFthXSksIXQuZXJyb3JfbXNnJiZnLl9uZXdDdXN0b21lcklEc0hhc2gmJmcuX3NldEZpZWxkKHYsZy5fbmV3Q3VzdG9tZXJJRHNIYXNoKX1pZihlPT09RSl7dmFyIHM9Zy5fZ2V0RmllbGQoTyk7cyYmIWcub3ZlcndyaXRlQ3Jvc3NEb21haW5NQ0lEQW5kQUlEfHwocz1nLl9maW5kVmlzaXRvcklEKHQpLHM/cyE9PVAmJmcuX3NldEZpZWxkRXhwaXJlKEwsLTEpOnM9UCxnLl9zZXRGaWVsZChPLHMpKSxzJiZzIT09UHx8KHM9XFxcIlxcXCIpLGcuX2NhbGxBbGxDYWxsYmFja3MoTyxbc10pfWlmKGcuaWRTeW5jRGlzYWJsZVN5bmNzKUYuaWRDYWxsTm90UHJvY2Vzc3NlZD0hMDtlbHNle0YuaWRDYWxsTm90UHJvY2Vzc3NlZD0hMTt2YXIgbz17fTtvLmlicz10LmlicyxvLnN1YmRvbWFpbj10LnN1YmRvbWFpbixGLnByb2Nlc3NJRENhbGxEYXRhKG8pfWlmKHQ9PT1PYmplY3QodCkpe3ZhciBsLHU7Zy5pc0FsbG93ZWQoKSYmKGw9Zy5fZ2V0RmllbGQoYikpLGx8fChsPVAsdC5kX29wdG91dCYmdC5kX29wdG91dCBpbnN0YW5jZW9mIEFycmF5JiYobD10LmRfb3B0b3V0LmpvaW4oXFxcIixcXFwiKSksdT1wYXJzZUludCh0LmRfb3R0bCwxMCksaXNOYU4odSkmJih1PTcyMDApLGcuX3NldEZpZWxkRXhwaXJlKGIsdSwhMCksZy5fc2V0RmllbGQoYixsKSksZy5fY2FsbEFsbENhbGxiYWNrcyhiLFtsXSl9fSxnLl9sb2FkaW5nPW51bGwsZy5fZ2V0UmVtb3RlRmllbGQ9ZnVuY3Rpb24oZSx0LGksbixyKXt2YXIgYSxzPVxcXCJcXFwiLG89Ui5pc0ZpcnN0UGFydHlBbmFseXRpY3NWaXNpdG9ySURDYWxsKGUpO2lmKGcuaXNBbGxvd2VkKCkpe2cuX3JlYWRWaXNpdG9yKCkscz1nLl9nZXRGaWVsZChlLCEwPT09VltlXSk7aWYoZnVuY3Rpb24oKXtyZXR1cm4oIXN8fGcuX2ZpZWxkc0V4cGlyZWQmJmcuX2ZpZWxkc0V4cGlyZWRbZV0pJiYoIWcuZGlzYWJsZVRoaXJkUGFydHlDYWxsc3x8byl9KCkpe2lmKGU9PT1JfHxlPT09Yj9hPUQ6ZT09PWt8fGU9PT1MP2E9VDplPT09TyYmKGE9RSksYSlyZXR1cm4hdHx8bnVsbCE9Zy5fbG9hZGluZyYmZy5fbG9hZGluZ1thXXx8KG51bGw9PWcuX2xvYWRpbmcmJihnLl9sb2FkaW5nPXt9KSxnLl9sb2FkaW5nW2FdPSEwLGcuX2xvYWREYXRhKGEsdCxmdW5jdGlvbih0KXtpZighZy5fZ2V0RmllbGQoZSkpe3QmJnguc2V0U3RhdGUoYSwhMCk7dmFyIGk9XFxcIlxcXCI7ZT09PUk/aT1nLl9nZW5lcmF0ZUlEKDAsSSk6YT09PVQmJihpPXtlcnJvcl9tc2c6XFxcInRpbWVvdXRcXFwifSksZy5fc2V0RmllbGRzKGEsaSl9fSxyKSksZy5fcmVnaXN0ZXJDYWxsYmFjayhlLGkpLHN8fCh0fHxnLl9zZXRGaWVsZHMoYSx7aWQ6UH0pLFxcXCJcXFwiKX1lbHNlIHN8fChlPT09ST8oZy5fcmVnaXN0ZXJDYWxsYmFjayhlLGkpLHM9Zy5fZ2VuZXJhdGVJRCgwLEkpLGcuc2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQocykpOmU9PT1PPyhnLl9yZWdpc3RlckNhbGxiYWNrKGUsaSkscz1cXFwiXFxcIixnLnNldEFuYWx5dGljc1Zpc2l0b3JJRChzKSk6KHM9XFxcIlxcXCIsbj0hMCkpfXJldHVybiBlIT09SSYmZSE9PU98fHMhPT1QfHwocz1cXFwiXFxcIixuPSEwKSxpJiZuJiZnLl9jYWxsQ2FsbGJhY2soaSxbc10pLHN9LGcuX3NldE1hcmtldGluZ0Nsb3VkRmllbGRzPWZ1bmN0aW9uKGUpe2cuX3JlYWRWaXNpdG9yKCksZy5fc2V0RmllbGRzKEQsZSl9LGcuc2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQ9ZnVuY3Rpb24oZSl7Zy5fc2V0TWFya2V0aW5nQ2xvdWRGaWVsZHMoZSl9LGcuX3VzZTFzdFBhcnR5TWFya2V0aW5nQ2xvdWRTZXJ2ZXI9ITEsZy5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRD1mdW5jdGlvbihlLHQpe2lmKGcuaXNBbGxvd2VkKCkpe2cubWFya2V0aW5nQ2xvdWRTZXJ2ZXImJmcubWFya2V0aW5nQ2xvdWRTZXJ2ZXIuaW5kZXhPZihcXFwiLmRlbWRleC5uZXRcXFwiKTwwJiYoZy5fdXNlMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlcj0hMCk7dmFyIGk9Zy5fZ2V0QXVkaWVuY2VNYW5hZ2VyVVJMRGF0YShcXFwiX3NldE1hcmtldGluZ0Nsb3VkRmllbGRzXFxcIiksbj1pLnVybDtyZXR1cm4gZy5fZ2V0UmVtb3RlRmllbGQoSSxuLGUsdCxpKX1yZXR1cm5cXFwiXFxcIn0sZy5fbWFwQ3VzdG9tZXJJRHM9ZnVuY3Rpb24oZSl7Zy5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKGUsITApfSxtLkF1dGhTdGF0ZT17VU5LTk9XTjowLEFVVEhFTlRJQ0FURUQ6MSxMT0dHRURfT1VUOjJ9LGcuX2N1cnJlbnRDdXN0b21lcklEcz17fSxnLl9jdXN0b21lcklEc0hhc2hDaGFuZ2VkPSExLGcuX25ld0N1c3RvbWVySURzSGFzaD1cXFwiXFxcIixnLnNldEN1c3RvbWVySURzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtnLl9jdXN0b21lcklEc0hhc2hDaGFuZ2VkPSExfWlmKGcuaXNBbGxvd2VkKCkmJmUpe2cuX3JlYWRWaXNpdG9yKCk7dmFyIGksbjtmb3IoaSBpbiBlKWlmKFMoaSkmJihuPWVbaV0pKWlmKFxcXCJvYmplY3RcXFwiPT10eXBlb2Ygbil7dmFyIHI9e307bi5pZCYmKHIuaWQ9bi5pZCksdm9pZCAwIT1uLmF1dGhTdGF0ZSYmKHIuYXV0aFN0YXRlPW4uYXV0aFN0YXRlKSxnLl9jdXJyZW50Q3VzdG9tZXJJRHNbaV09cn1lbHNlIGcuX2N1cnJlbnRDdXN0b21lcklEc1tpXT17aWQ6bn07dmFyIGE9Zy5nZXRDdXN0b21lcklEcygpLHM9Zy5fZ2V0RmllbGQodiksbz1cXFwiXFxcIjtzfHwocz0wKTtmb3IoaSBpbiBhKVMoaSkmJihuPWFbaV0sbys9KG8/XFxcInxcXFwiOlxcXCJcXFwiKStpK1xcXCJ8XFxcIisobi5pZD9uLmlkOlxcXCJcXFwiKSsobi5hdXRoU3RhdGU/bi5hdXRoU3RhdGU6XFxcIlxcXCIpKTtnLl9uZXdDdXN0b21lcklEc0hhc2g9Zy5faGFzaChvKSxnLl9uZXdDdXN0b21lcklEc0hhc2ghPT1zJiYoZy5fY3VzdG9tZXJJRHNIYXNoQ2hhbmdlZD0hMCxnLl9tYXBDdXN0b21lcklEcyh0KSl9fSxnLmdldEN1c3RvbWVySURzPWZ1bmN0aW9uKCl7Zy5fcmVhZFZpc2l0b3IoKTt2YXIgZSx0LGk9e307Zm9yKGUgaW4gZy5fY3VycmVudEN1c3RvbWVySURzKVMoZSkmJih0PWcuX2N1cnJlbnRDdXN0b21lcklEc1tlXSxpW2VdfHwoaVtlXT17fSksdC5pZCYmKGlbZV0uaWQ9dC5pZCksdm9pZCAwIT10LmF1dGhTdGF0ZT9pW2VdLmF1dGhTdGF0ZT10LmF1dGhTdGF0ZTppW2VdLmF1dGhTdGF0ZT1tLkF1dGhTdGF0ZS5VTktOT1dOKTtyZXR1cm4gaX0sZy5fc2V0QW5hbHl0aWNzRmllbGRzPWZ1bmN0aW9uKGUpe2cuX3JlYWRWaXNpdG9yKCksZy5fc2V0RmllbGRzKEUsZSl9LGcuc2V0QW5hbHl0aWNzVmlzaXRvcklEPWZ1bmN0aW9uKGUpe2cuX3NldEFuYWx5dGljc0ZpZWxkcyhlKX0sZy5nZXRBbmFseXRpY3NWaXNpdG9ySUQ9ZnVuY3Rpb24oZSx0LGkpe2lmKCFSLmlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQoKSYmIWkpcmV0dXJuIGcuX2NhbGxDYWxsYmFjayhlLFtcXFwiXFxcIl0pLFxcXCJcXFwiO2lmKGcuaXNBbGxvd2VkKCkpe3ZhciBuPVxcXCJcXFwiO2lmKGl8fChuPWcuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoZnVuY3Rpb24odCl7Zy5nZXRBbmFseXRpY3NWaXNpdG9ySUQoZSwhMCl9KSksbnx8aSl7dmFyIHI9aT9nLm1hcmtldGluZ0Nsb3VkU2VydmVyOmcudHJhY2tpbmdTZXJ2ZXIsYT1cXFwiXFxcIjtnLmxvYWRTU0wmJihpP2cubWFya2V0aW5nQ2xvdWRTZXJ2ZXJTZWN1cmUmJihyPWcubWFya2V0aW5nQ2xvdWRTZXJ2ZXJTZWN1cmUpOmcudHJhY2tpbmdTZXJ2ZXJTZWN1cmUmJihyPWcudHJhY2tpbmdTZXJ2ZXJTZWN1cmUpKTt2YXIgcz17fTtpZihyKXt2YXIgbz1cXFwiaHR0cFxcXCIrKGcubG9hZFNTTD9cXFwic1xcXCI6XFxcIlxcXCIpK1xcXCI6Ly9cXFwiK3IrXFxcIi9pZFxcXCIsbD1cXFwiZF92aXNpZF92ZXI9XFxcIitnLnZlcnNpb24rXFxcIiZtY29yZ2lkPVxcXCIrZW5jb2RlVVJJQ29tcG9uZW50KGcubWFya2V0aW5nQ2xvdWRPcmdJRCkrKG4/XFxcIiZtaWQ9XFxcIitlbmNvZGVVUklDb21wb25lbnQobik6XFxcIlxcXCIpKyhnLmlkU3luY0Rpc2FibGUzcmRQYXJ0eVN5bmNpbmc/XFxcIiZkX2NvcHBhPXRydWVcXFwiOlxcXCJcXFwiKSx1PVtcXFwic19jX2lsXFxcIixnLl9pbixcXFwiX3NldFxcXCIrKGk/XFxcIk1hcmtldGluZ0Nsb3VkXFxcIjpcXFwiQW5hbHl0aWNzXFxcIikrXFxcIkZpZWxkc1xcXCJdO2E9bytcXFwiP1xcXCIrbCtcXFwiJmNhbGxiYWNrPXNfY19pbCU1QlxcXCIrZy5faW4rXFxcIiU1RC5fc2V0XFxcIisoaT9cXFwiTWFya2V0aW5nQ2xvdWRcXFwiOlxcXCJBbmFseXRpY3NcXFwiKStcXFwiRmllbGRzXFxcIixzLmNvcnNVcmw9bytcXFwiP1xcXCIrbCxzLmNhbGxiYWNrPXV9cmV0dXJuIHMudXJsPWEsZy5fZ2V0UmVtb3RlRmllbGQoaT9JOk8sYSxlLHQscyl9fXJldHVyblxcXCJcXFwifSxnLl9zZXRBdWRpZW5jZU1hbmFnZXJGaWVsZHM9ZnVuY3Rpb24oZSl7Zy5fcmVhZFZpc2l0b3IoKSxnLl9zZXRGaWVsZHMoVCxlKX0sZy5fZ2V0QXVkaWVuY2VNYW5hZ2VyVVJMRGF0YT1mdW5jdGlvbihlKXt2YXIgdD1nLmF1ZGllbmNlTWFuYWdlclNlcnZlcixpPVxcXCJcXFwiLG49Zy5fZ2V0RmllbGQoSSkscj1nLl9nZXRGaWVsZChMLCEwKSxhPWcuX2dldEZpZWxkKE8pLHM9YSYmYSE9PVA/XFxcIiZkX2NpZF9pYz1BVklEJTAxXFxcIitlbmNvZGVVUklDb21wb25lbnQoYSk6XFxcIlxcXCI7aWYoZy5sb2FkU1NMJiZnLmF1ZGllbmNlTWFuYWdlclNlcnZlclNlY3VyZSYmKHQ9Zy5hdWRpZW5jZU1hbmFnZXJTZXJ2ZXJTZWN1cmUpLHQpe3ZhciBvLGwsdT1nLmdldEN1c3RvbWVySURzKCk7aWYodSlmb3IobyBpbiB1KVMobykmJihsPXVbb10scys9XFxcIiZkX2NpZF9pYz1cXFwiK2VuY29kZVVSSUNvbXBvbmVudChvKStcXFwiJTAxXFxcIitlbmNvZGVVUklDb21wb25lbnQobC5pZD9sLmlkOlxcXCJcXFwiKSsobC5hdXRoU3RhdGU/XFxcIiUwMVxcXCIrbC5hdXRoU3RhdGU6XFxcIlxcXCIpKTtlfHwoZT1cXFwiX3NldEF1ZGllbmNlTWFuYWdlckZpZWxkc1xcXCIpO3ZhciBjPVxcXCJodHRwXFxcIisoZy5sb2FkU1NMP1xcXCJzXFxcIjpcXFwiXFxcIikrXFxcIjovL1xcXCIrdCtcXFwiL2lkXFxcIixkPVxcXCJkX3Zpc2lkX3Zlcj1cXFwiK2cudmVyc2lvbitcXFwiJmRfcnRiZD1qc29uJmRfdmVyPTJcXFwiKyghbiYmZy5fdXNlMXN0UGFydHlNYXJrZXRpbmdDbG91ZFNlcnZlcj9cXFwiJmRfdmVyaWZ5PTFcXFwiOlxcXCJcXFwiKStcXFwiJmRfb3JnaWQ9XFxcIitlbmNvZGVVUklDb21wb25lbnQoZy5tYXJrZXRpbmdDbG91ZE9yZ0lEKStcXFwiJmRfbnNpZD1cXFwiKyhnLmlkU3luY0NvbnRhaW5lcklEfHwwKSsobj9cXFwiJmRfbWlkPVxcXCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pOlxcXCJcXFwiKSsoZy5pZFN5bmNEaXNhYmxlM3JkUGFydHlTeW5jaW5nP1xcXCImZF9jb3BwYT10cnVlXFxcIjpcXFwiXFxcIikrKCEwPT09aj9cXFwiJmRfY29vcF9zYWZlPTFcXFwiOiExPT09aj9cXFwiJmRfY29vcF91bnNhZmU9MVxcXCI6XFxcIlxcXCIpKyhyP1xcXCImZF9ibG9iPVxcXCIrZW5jb2RlVVJJQ29tcG9uZW50KHIpOlxcXCJcXFwiKStzLGY9W1xcXCJzX2NfaWxcXFwiLGcuX2luLGVdO3JldHVybiBpPWMrXFxcIj9cXFwiK2QrXFxcIiZkX2NiPXNfY19pbCU1QlxcXCIrZy5faW4rXFxcIiU1RC5cXFwiK2Use3VybDppLGNvcnNVcmw6YytcXFwiP1xcXCIrZCxjYWxsYmFjazpmfX1yZXR1cm57dXJsOml9fSxnLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludD1mdW5jdGlvbihlLHQpe2lmKGcuaXNBbGxvd2VkKCkpe2lmKGcuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoZnVuY3Rpb24odCl7Zy5nZXRBdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQoZSwhMCl9KSl7dmFyIGk9Zy5fZ2V0RmllbGQoTyk7aWYoIWkmJlIuaXNUcmFja2luZ1NlcnZlclBvcHVsYXRlZCgpJiYoaT1nLmdldEFuYWx5dGljc1Zpc2l0b3JJRChmdW5jdGlvbih0KXtnLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludChlLCEwKX0pKSxpfHwhUi5pc1RyYWNraW5nU2VydmVyUG9wdWxhdGVkKCkpe3ZhciBuPWcuX2dldEF1ZGllbmNlTWFuYWdlclVSTERhdGEoKSxyPW4udXJsO3JldHVybiBnLl9nZXRSZW1vdGVGaWVsZChrLHIsZSx0LG4pfX19cmV0dXJuXFxcIlxcXCJ9LGcuZ2V0TG9jYXRpb25IaW50PWcuZ2V0QXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50LGcuZ2V0QXVkaWVuY2VNYW5hZ2VyQmxvYj1mdW5jdGlvbihlLHQpe2lmKGcuaXNBbGxvd2VkKCkpe2lmKGcuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoZnVuY3Rpb24odCl7Zy5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKGUsITApfSkpe3ZhciBpPWcuX2dldEZpZWxkKE8pO2lmKCFpJiZSLmlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQoKSYmKGk9Zy5nZXRBbmFseXRpY3NWaXNpdG9ySUQoZnVuY3Rpb24odCl7Zy5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKGUsITApfSkpLGl8fCFSLmlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQoKSl7dmFyIG49Zy5fZ2V0QXVkaWVuY2VNYW5hZ2VyVVJMRGF0YSgpLHI9bi51cmw7cmV0dXJuIGcuX2N1c3RvbWVySURzSGFzaENoYW5nZWQmJmcuX3NldEZpZWxkRXhwaXJlKEwsLTEpLGcuX2dldFJlbW90ZUZpZWxkKEwscixlLHQsbil9fX1yZXR1cm5cXFwiXFxcIn0sZy5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudD1cXFwiXFxcIixnLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQ9e30sZy5fc3VwcGxlbWVudGFsRGF0YUlETGFzdD1cXFwiXFxcIixnLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0Q29uc3VtZWQ9e30sZy5nZXRTdXBwbGVtZW50YWxEYXRhSUQ9ZnVuY3Rpb24oZSx0KXtnLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50fHx0fHwoZy5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudD1nLl9nZW5lcmF0ZUlEKDEpKTt2YXIgaT1nLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50O3JldHVybiBnLl9zdXBwbGVtZW50YWxEYXRhSURMYXN0JiYhZy5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkW2VdPyhpPWcuX3N1cHBsZW1lbnRhbERhdGFJRExhc3QsZy5fc3VwcGxlbWVudGFsRGF0YUlETGFzdENvbnN1bWVkW2VdPSEwKTppJiYoZy5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudENvbnN1bWVkW2VdJiYoZy5fc3VwcGxlbWVudGFsRGF0YUlETGFzdD1nLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50LGcuX3N1cHBsZW1lbnRhbERhdGFJRExhc3RDb25zdW1lZD1nLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQsZy5fc3VwcGxlbWVudGFsRGF0YUlEQ3VycmVudD1pPXQ/XFxcIlxcXCI6Zy5fZ2VuZXJhdGVJRCgxKSxnLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWQ9e30pLGkmJihnLl9zdXBwbGVtZW50YWxEYXRhSURDdXJyZW50Q29uc3VtZWRbZV09ITApKSxpfSxtLk9wdE91dD17R0xPQkFMOlxcXCJnbG9iYWxcXFwifSxnLmdldE9wdE91dD1mdW5jdGlvbihlLHQpe2lmKGcuaXNBbGxvd2VkKCkpe3ZhciBpPWcuX2dldEF1ZGllbmNlTWFuYWdlclVSTERhdGEoXFxcIl9zZXRNYXJrZXRpbmdDbG91ZEZpZWxkc1xcXCIpLG49aS51cmw7cmV0dXJuIGcuX2dldFJlbW90ZUZpZWxkKGIsbixlLHQsaSl9cmV0dXJuXFxcIlxcXCJ9LGcuaXNPcHRlZE91dD1mdW5jdGlvbihlLHQsaSl7aWYoZy5pc0FsbG93ZWQoKSl7dHx8KHQ9bS5PcHRPdXQuR0xPQkFMKTt2YXIgbj1nLmdldE9wdE91dChmdW5jdGlvbihpKXt2YXIgbj1pPT09bS5PcHRPdXQuR0xPQkFMfHxpLmluZGV4T2YodCk+PTA7Zy5fY2FsbENhbGxiYWNrKGUsW25dKX0saSk7cmV0dXJuIG4/bj09PW0uT3B0T3V0LkdMT0JBTHx8bi5pbmRleE9mKHQpPj0wOm51bGx9cmV0dXJuITF9LGcuYXBwZW5kVmlzaXRvcklEc1RvPWZ1bmN0aW9uKGUpe3ZhciB0PWguQURPQkVfTUMsaT1bW0ksZy5fZ2V0RmllbGQoSSldLFtPLGcuX2dldEZpZWxkKE8pXSxbQyxnLm1hcmtldGluZ0Nsb3VkT3JnSURdXSxuPWwoaSk7dHJ5e3JldHVybiBnLl9hZGRRdWVyeXN0cmluZ1BhcmFtKGUsdCxuKX1jYXRjaCh0KXtyZXR1cm4gZX19LGcuYXBwZW5kU3VwcGxlbWVudGFsRGF0YUlEVG89ZnVuY3Rpb24oZSx0KXtpZighKHQ9dHx8Zy5nZXRTdXBwbGVtZW50YWxEYXRhSUQoUi5nZW5lcmF0ZVJhbmRvbVN0cmluZygpLCEwKSkpcmV0dXJuIGU7dmFyIGk9aC5BRE9CRV9NQ19TRElELG49XFxcIlNESUQ9XFxcIitlbmNvZGVVUklDb21wb25lbnQodCkrXFxcInxcXFwiO24rPUMrXFxcIj1cXFwiK2VuY29kZVVSSUNvbXBvbmVudChnLm1hcmtldGluZ0Nsb3VkT3JnSUQpK1xcXCJ8XFxcIixuKz1cXFwiVFM9XFxcIitSLmdldFRpbWVzdGFtcEluU2Vjb25kcygpO3RyeXtyZXR1cm4gZy5fYWRkUXVlcnlzdHJpbmdQYXJhbShlLGksbil9Y2F0Y2godCl7cmV0dXJuIGV9fSxnLl94ZD17cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTE7dCYmKGguUE9TVF9NRVNTQUdFX0VOQUJMRUQ/aS5wb3N0TWVzc2FnZShlLHQucmVwbGFjZSgvKFteOl0rOlxcXFwvXFxcXC9bXlxcXFwvXSspLiovLFxcXCIkMVxcXCIpKTp0JiYoaS5sb2NhdGlvbj10LnJlcGxhY2UoLyMuKiQvLFxcXCJcXFwiKStcXFwiI1xcXCIrICtuZXcgRGF0ZStuKysrXFxcIiZcXFwiK2UpKX0scmVjZWl2ZU1lc3NhZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgaTt0cnl7aC5QT1NUX01FU1NBR0VfRU5BQkxFRCYmKGUmJihpPWZ1bmN0aW9uKGkpe2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdCYmaS5vcmlnaW4hPT10fHxcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpJiYhMT09PXQoaS5vcmlnaW4pKXJldHVybiExO2UoaSl9KSxfLmFkZEV2ZW50TGlzdGVuZXI/X1tlP1xcXCJhZGRFdmVudExpc3RlbmVyXFxcIjpcXFwicmVtb3ZlRXZlbnRMaXN0ZW5lclxcXCJdKFxcXCJtZXNzYWdlXFxcIixpLCExKTpfW2U/XFxcImF0dGFjaEV2ZW50XFxcIjpcXFwiZGV0YWNoRXZlbnRcXFwiXShcXFwiw6VcXFwiLGkpKX1jYXRjaChlKXt9fX07dmFyIFI9e2FkZExpc3RlbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHAuYWRkRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihlLHQsaSl7ZS5hZGRFdmVudExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGkmJmkoZSl9LCExKX06cC5hdHRhY2hFdmVudD9mdW5jdGlvbihlLHQsaSl7ZS5hdHRhY2hFdmVudChcXFwib25cXFwiK3QsZnVuY3Rpb24oZSl7XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGkmJmkoZSl9KX06dm9pZCAwfSgpLG1hcDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LnByb3RvdHlwZS5tYXApcmV0dXJuIGUubWFwKHQpO2lmKHZvaWQgMD09PWV8fG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgaT1PYmplY3QoZSksbj1pLmxlbmd0aD4+PjA7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IodmFyIHI9bmV3IEFycmF5KG4pLGE9YXJndW1lbnRzWzFdLHM9MDtzPG47cysrKXMgaW4gaSYmKHJbc109dC5jYWxsKGEsaVtzXSxzLGkpKTtyZXR1cm4gcn0sZW5jb2RlQW5kQnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX0pLmpvaW4odCl9LHBhcnNlSGFzaDpmdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2YoXFxcIiNcXFwiKTtyZXR1cm4gdD4wP2Uuc3Vic3RyKHQpOlxcXCJcXFwifSxoYXNobGVzc1VybDpmdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2YoXFxcIiNcXFwiKTtyZXR1cm4gdD4wP2Uuc3Vic3RyKDAsdCk6ZX0sYWRkUXVlcnlQYXJhbUF0TG9jYXRpb246ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWUuc3BsaXQoXFxcIiZcXFwiKTtyZXR1cm4gaT1udWxsIT1pP2k6bi5sZW5ndGgsbi5zcGxpY2UoaSwwLHQpLG4uam9pbihcXFwiJlxcXCIpfSxpc0ZpcnN0UGFydHlBbmFseXRpY3NWaXNpdG9ySURDYWxsOmZ1bmN0aW9uKGUsdCxpKXtpZihlIT09TylyZXR1cm4hMTt2YXIgbjtyZXR1cm4gdHx8KHQ9Zy50cmFja2luZ1NlcnZlciksaXx8KGk9Zy50cmFja2luZ1NlcnZlclNlY3VyZSksIShcXFwic3RyaW5nXFxcIiE9dHlwZW9mKG49Zy5sb2FkU1NMP2k6dCl8fCFuLmxlbmd0aCkmJihuLmluZGV4T2YoXFxcIjJvNy5uZXRcXFwiKTwwJiZuLmluZGV4T2YoXFxcIm9tdHJkYy5uZXRcXFwiKTwwKX0saXNPYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIEJvb2xlYW4oZSYmZT09PU9iamVjdChlKSl9LGlzTGVzc1RoYW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZy5fY29tcGFyZVZlcnNpb25zKGUsdCk8MH0sYXJlVmVyc2lvbnNEaWZmZXJlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMCE9PWcuX2NvbXBhcmVWZXJzaW9ucyhlLHQpfSxyZW1vdmVDb29raWU6ZnVuY3Rpb24oZSl7ZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChlKStcXFwiPTsgUGF0aD0vOyBFeHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UO1xcXCJ9LGlzVHJhY2tpbmdTZXJ2ZXJQb3B1bGF0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWcudHJhY2tpbmdTZXJ2ZXJ8fCEhZy50cmFja2luZ1NlcnZlclNlY3VyZX0scGFyc2VKU09OOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlLG4pe3ZhciByLGEscz1lW25dO2lmKHMmJlxcXCJvYmplY3RcXFwiPT10eXBlb2Ygcylmb3IociBpbiBzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHIpJiYoYT1pKHMsciksdm9pZCAwIT09YT9zW3JdPWE6ZGVsZXRlIHNbcl0pO3JldHVybiB0LmNhbGwoZSxuLHMpfWlmKFxcXCJvYmplY3RcXFwiPT10eXBlb2YgSlNPTiYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIEpTT04ucGFyc2UpcmV0dXJuIEpTT04ucGFyc2UoZSx0KTt2YXIgbixyPS9eW1xcXFxdLDp7fVxcXFxzXSokLyxhPS9cXFxcXFxcXCg/OltcXFwiXFxcXFxcXFxcXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2cscz0vXFxcIlteXFxcIlxcXFxcXFxcXFxcXG5cXFxccl0qXFxcInx0cnVlfGZhbHNlfG51bGx8LT9cXFxcZCsoPzpcXFxcLlxcXFxkKik/KD86W2VFXVsrXFxcXC1dP1xcXFxkKyk/L2csbz0vKD86Xnw6fCwpKD86XFxcXHMqXFxcXFspKy9nLGw9L1tcXFxcdTAwMDBcXFxcdTAwYWRcXFxcdTA2MDAtXFxcXHUwNjA0XFxcXHUwNzBmXFxcXHUxN2I0XFxcXHUxN2I1XFxcXHUyMDBjLVxcXFx1MjAwZlxcXFx1MjAyOC1cXFxcdTIwMmZcXFxcdTIwNjAtXFxcXHUyMDZmXFxcXHVmZWZmXFxcXHVmZmYwLVxcXFx1ZmZmZl0vZztpZihlPVN0cmluZyhlKSxsLmxhc3RJbmRleD0wLGwudGVzdChlKSYmKGU9ZS5yZXBsYWNlKGwsZnVuY3Rpb24oZSl7cmV0dXJuXFxcIlxcXFxcXFxcdVxcXCIrKFxcXCIwMDAwXFxcIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSksci50ZXN0KGUucmVwbGFjZShhLFxcXCJAXFxcIikucmVwbGFjZShzLFxcXCJdXFxcIikucmVwbGFjZShvLFxcXCJcXFwiKSkpcmV0dXJuIG49ZXZhbChcXFwiKFxcXCIrZStcXFwiKVxcXCIpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0P2koe1xcXCJcXFwiOm59LFxcXCJcXFwiKTpuO3Rocm93IG5ldyBTeW50YXhFcnJvcihcXFwiSlNPTi5wYXJzZVxcXCIpfSxnZXRUaW1lc3RhbXBJblNlY29uZHM6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpfSxwYXJzZVBpcGVEZWxpbWV0ZWRLZXlWYWx1ZXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LGk9ZS5zcGxpdChcXFwifFxcXCIpLG49MCxyPWkubGVuZ3RoO248cjtuKyspe3ZhciBhPWlbbl0uc3BsaXQoXFxcIj1cXFwiKTt0W2FbMF1dPWRlY29kZVVSSUNvbXBvbmVudChhWzFdKX1yZXR1cm4gdH0sZ2VuZXJhdGVSYW5kb21TdHJpbmc6ZnVuY3Rpb24oZSl7ZT1lfHw1O2Zvcih2YXIgdD1cXFwiXFxcIixpPVxcXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcXFwiO2UtLTspdCs9aVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaS5sZW5ndGgpXTtyZXR1cm4gdH0scGFyc2VCb29sZWFuOmZ1bmN0aW9uKGUpe3JldHVyblxcXCJ0cnVlXFxcIj09PWV8fFxcXCJmYWxzZVxcXCIhPT1lJiZudWxsfX07Zy5faGVscGVycz1SO3ZhciB3PXtjb3JzTWV0YWRhdGE6ZnVuY3Rpb24oKXt2YXIgZT1cXFwibm9uZVxcXCIsdD0hMDtyZXR1cm5cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZYTUxIdHRwUmVxdWVzdD09PU9iamVjdChYTUxIdHRwUmVxdWVzdCkmJihcXFwid2l0aENyZWRlbnRpYWxzXFxcImluIG5ldyBYTUxIdHRwUmVxdWVzdD9lPVxcXCJYTUxIdHRwUmVxdWVzdFxcXCI6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdCYmWERvbWFpblJlcXVlc3Q9PT1PYmplY3QoWERvbWFpblJlcXVlc3QpJiYodD0hMSksT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKF8uSFRNTEVsZW1lbnQpLmluZGV4T2YoXFxcIkNvbnN0cnVjdG9yXFxcIik+MCYmKHQ9ITEpKSx7Y29yc1R5cGU6ZSxjb3JzQ29va2llc0VuYWJsZWQ6dH19KCksZ2V0Q09SU0luc3RhbmNlOmZ1bmN0aW9uKCl7cmV0dXJuXFxcIm5vbmVcXFwiPT09dGhpcy5jb3JzTWV0YWRhdGEuY29yc1R5cGU/bnVsbDpuZXcgX1t0aGlzLmNvcnNNZXRhZGF0YS5jb3JzVHlwZV19LGZpcmVDT1JTOmZ1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiBuKHQpe3ZhciBpO3RyeXtpZigoaT1KU09OLnBhcnNlKHQpKSE9PU9iamVjdChpKSlyZXR1cm4gdm9pZCByLmhhbmRsZUNPUlNFcnJvcihlLG51bGwsXFxcIlJlc3BvbnNlIGlzIG5vdCBKU09OXFxcIil9Y2F0Y2godCl7cmV0dXJuIHZvaWQgci5oYW5kbGVDT1JTRXJyb3IoZSx0LFxcXCJFcnJvciBwYXJzaW5nIHJlc3BvbnNlIGFzIEpTT05cXFwiKX10cnl7Zm9yKHZhciBuPWUuY2FsbGJhY2ssYT1fLHM9MDtzPG4ubGVuZ3RoO3MrKylhPWFbbltzXV07YShpKX1jYXRjaCh0KXtyLmhhbmRsZUNPUlNFcnJvcihlLHQsXFxcIkVycm9yIGZvcm1pbmcgY2FsbGJhY2sgZnVuY3Rpb25cXFwiKX19dmFyIHI9dGhpczt0JiYoZS5sb2FkRXJyb3JIYW5kbGVyPXQpO3RyeXt2YXIgYT10aGlzLmdldENPUlNJbnN0YW5jZSgpO2Eub3BlbihcXFwiZ2V0XFxcIixlLmNvcnNVcmwrXFxcIiZ0cz1cXFwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLCEwKSxcXFwiWE1MSHR0cFJlcXVlc3RcXFwiPT09dGhpcy5jb3JzTWV0YWRhdGEuY29yc1R5cGUmJihhLndpdGhDcmVkZW50aWFscz0hMCxhLnRpbWVvdXQ9Zy5sb2FkVGltZW91dCxhLnNldFJlcXVlc3RIZWFkZXIoXFxcIkNvbnRlbnQtVHlwZVxcXCIsXFxcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxcXCIpLGEub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXRoaXMucmVhZHlTdGF0ZSYmMjAwPT09dGhpcy5zdGF0dXMmJm4odGhpcy5yZXNwb25zZVRleHQpfSksYS5vbmVycm9yPWZ1bmN0aW9uKHQpe3IuaGFuZGxlQ09SU0Vycm9yKGUsdCxcXFwib25lcnJvclxcXCIpfSxhLm9udGltZW91dD1mdW5jdGlvbih0KXtyLmhhbmRsZUNPUlNFcnJvcihlLHQsXFxcIm9udGltZW91dFxcXCIpfSxhLnNlbmQoKSxnLl9sb2cucmVxdWVzdHMucHVzaChlLmNvcnNVcmwpfWNhdGNoKHQpe3RoaXMuaGFuZGxlQ09SU0Vycm9yKGUsdCxcXFwidHJ5LWNhdGNoXFxcIil9fSxoYW5kbGVDT1JTRXJyb3I6ZnVuY3Rpb24oZSx0LGkpe2cuQ09SU0Vycm9ycy5wdXNoKHtjb3JzRGF0YTplLGVycm9yOnQsZGVzY3JpcHRpb246aX0pLGUubG9hZEVycm9ySGFuZGxlciYmKFxcXCJvbnRpbWVvdXRcXFwiPT09aT9lLmxvYWRFcnJvckhhbmRsZXIoITApOmUubG9hZEVycm9ySGFuZGxlcighMSkpfX07Zy5fcmVxdWVzdFByb2NzPXc7dmFyIEY9e1RIUk9UVExFX1NUQVJUOjNlNCxNQVhfU1lOQ1NfTEVOR1RIOjY0OSx0aHJvdHRsZVRpbWVyU2V0OiExLGlkOm51bGwsb25QYWdlUGl4ZWxzOltdLGlmcmFtZUhvc3Q6bnVsbCxnZXRJZnJhbWVIb3N0OmZ1bmN0aW9uKGUpe2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZSl7dmFyIHQ9ZS5zcGxpdChcXFwiL1xcXCIpO3JldHVybiB0WzBdK1xcXCIvL1xcXCIrdFsyXX19LHN1YmRvbWFpbjpudWxsLHVybDpudWxsLGdldFVybDpmdW5jdGlvbigpe3ZhciBlLHQ9XFxcImh0dHA6Ly9mYXN0LlxcXCIsaT1cXFwiP2RfbnNpZD1cXFwiK2cuaWRTeW5jQ29udGFpbmVySUQrXFxcIiNcXFwiK2VuY29kZVVSSUNvbXBvbmVudChwLmxvY2F0aW9uLmhyZWYpO3JldHVybiB0aGlzLnN1YmRvbWFpbnx8KHRoaXMuc3ViZG9tYWluPVxcXCJub3N1YmRvbWFpbnJldHVybmVkXFxcIiksZy5sb2FkU1NMJiYodD1nLmlkU3luY1NTTFVzZUFrYW1haT9cXFwiaHR0cHM6Ly9mYXN0LlxcXCI6XFxcImh0dHBzOi8vXFxcIiksZT10K3RoaXMuc3ViZG9tYWluK1xcXCIuZGVtZGV4Lm5ldC9kZXN0NS5odG1sXFxcIitpLHRoaXMuaWZyYW1lSG9zdD10aGlzLmdldElmcmFtZUhvc3QoZSksdGhpcy5pZD1cXFwiZGVzdGluYXRpb25fcHVibGlzaGluZ19pZnJhbWVfXFxcIit0aGlzLnN1YmRvbWFpbitcXFwiX1xcXCIrZy5pZFN5bmNDb250YWluZXJJRCxlfSxjaGVja0RQSWZyYW1lU3JjOmZ1bmN0aW9uKCl7dmFyIGU9XFxcIj9kX25zaWQ9XFxcIitnLmlkU3luY0NvbnRhaW5lcklEK1xcXCIjXFxcIitlbmNvZGVVUklDb21wb25lbnQocC5sb2NhdGlvbi5ocmVmKTtcXFwic3RyaW5nXFxcIj09dHlwZW9mIGcuZHBJZnJhbWVTcmMmJmcuZHBJZnJhbWVTcmMubGVuZ3RoJiYodGhpcy5pZD1cXFwiZGVzdGluYXRpb25fcHVibGlzaGluZ19pZnJhbWVfXFxcIisoZy5fc3ViZG9tYWlufHx0aGlzLnN1YmRvbWFpbnx8KG5ldyBEYXRlKS5nZXRUaW1lKCkpK1xcXCJfXFxcIitnLmlkU3luY0NvbnRhaW5lcklELHRoaXMuaWZyYW1lSG9zdD10aGlzLmdldElmcmFtZUhvc3QoZy5kcElmcmFtZVNyYyksdGhpcy51cmw9Zy5kcElmcmFtZVNyYytlKX0saWRDYWxsTm90UHJvY2Vzc3NlZDpudWxsLGRvQXR0YWNoSWZyYW1lOiExLHN0YXJ0ZWRBdHRhY2hpbmdJZnJhbWU6ITEsaWZyYW1lSGFzTG9hZGVkOm51bGwsaWZyYW1lSWRDaGFuZ2VkOm51bGwsbmV3SWZyYW1lQ3JlYXRlZDpudWxsLG9yaWdpbmFsSWZyYW1lSGFzTG9hZGVkQWxyZWFkeTpudWxsLHNlbmRpbmdNZXNzYWdlczohMSxtZXNzYWdlczpbXSxtZXNzYWdlc1Bvc3RlZDpbXSxtZXNzYWdlc1JlY2VpdmVkOltdLG1lc3NhZ2VTZW5kaW5nSW50ZXJ2YWw6aC5QT1NUX01FU1NBR0VfRU5BQkxFRD9udWxsOjEwMCxqc29uRm9yQ29tcGFyaXNvbjpbXSxqc29uRHVwbGljYXRlczpbXSxqc29uV2FpdGluZzpbXSxqc29uUHJvY2Vzc2VkOltdLGNhblNldFRoaXJkUGFydHlDb29raWVzOiEwLHJlY2VpdmVkVGhpcmRQYXJ0eUNvb2tpZXNOb3RpZmljYXRpb246ITEscmVhZHlUb0F0dGFjaElmcmFtZTpmdW5jdGlvbigpe3JldHVybiFnLmlkU3luY0Rpc2FibGUzcmRQYXJ0eVN5bmNpbmcmJih0aGlzLmRvQXR0YWNoSWZyYW1lfHxnLl9kb0F0dGFjaElmcmFtZSkmJih0aGlzLnN1YmRvbWFpbiYmXFxcIm5vc3ViZG9tYWlucmV0dXJuZWRcXFwiIT09dGhpcy5zdWJkb21haW58fGcuX3N1YmRvbWFpbikmJnRoaXMudXJsJiYhdGhpcy5zdGFydGVkQXR0YWNoaW5nSWZyYW1lfSxhdHRhY2hJZnJhbWU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJpZnJhbWVcXFwiKSxuLnNhbmRib3g9XFxcImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW5cXFwiLG4udGl0bGU9XFxcIkFkb2JlIElEIFN5bmNpbmcgaUZyYW1lXFxcIixuLmlkPWkuaWQsbi5zdHlsZS5jc3NUZXh0PVxcXCJkaXNwbGF5OiBub25lOyB3aWR0aDogMDsgaGVpZ2h0OiAwO1xcXCIsbi5zcmM9aS51cmwsaS5uZXdJZnJhbWVDcmVhdGVkPSEwLHQoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pfWZ1bmN0aW9uIHQoKXtSLmFkZExpc3RlbmVyKG4sXFxcImxvYWRcXFwiLGZ1bmN0aW9uKCl7bi5jbGFzc05hbWU9XFxcImFhbUlmcmFtZUxvYWRlZFxcXCIsaS5pZnJhbWVIYXNMb2FkZWQ9ITAsaS5yZXF1ZXN0VG9Qcm9jZXNzKCl9KX10aGlzLnN0YXJ0ZWRBdHRhY2hpbmdJZnJhbWU9ITA7dmFyIGk9dGhpcyxuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpO24/XFxcIklGUkFNRVxcXCIhPT1uLm5vZGVOYW1lPyh0aGlzLmlkKz1cXFwiXzJcXFwiLHRoaXMuaWZyYW1lSWRDaGFuZ2VkPSEwLGUoKSk6KHRoaXMubmV3SWZyYW1lQ3JlYXRlZD0hMSxcXFwiYWFtSWZyYW1lTG9hZGVkXFxcIiE9PW4uY2xhc3NOYW1lPyh0aGlzLm9yaWdpbmFsSWZyYW1lSGFzTG9hZGVkQWxyZWFkeT0hMSx0KCkpOih0aGlzLm9yaWdpbmFsSWZyYW1lSGFzTG9hZGVkQWxyZWFkeT0hMCx0aGlzLmlmcmFtZUhhc0xvYWRlZD0hMCx0aGlzLmlmcmFtZT1uLHRoaXMucmVxdWVzdFRvUHJvY2VzcygpKSk6ZSgpLHRoaXMuaWZyYW1lPW59LHJlcXVlc3RUb1Byb2Nlc3M6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe24uanNvbkZvckNvbXBhcmlzb24ucHVzaChlKSxuLmpzb25XYWl0aW5nLnB1c2goZSksbi5wcm9jZXNzU3luY09uUGFnZShlKX12YXIgaSxuPXRoaXM7aWYoZT09PU9iamVjdChlKSYmZS5pYnMpaWYoaC5IQVNfSlNPTl9TVFJJTkdJRlkpaWYoaT1KU09OLnN0cmluZ2lmeShlLmlic3x8W10pLHRoaXMuanNvbkZvckNvbXBhcmlzb24ubGVuZ3RoKXt2YXIgcixhLHMsbz0hMTtmb3Iocj0wLGE9dGhpcy5qc29uRm9yQ29tcGFyaXNvbi5sZW5ndGg7cjxhO3IrKylpZihzPXRoaXMuanNvbkZvckNvbXBhcmlzb25bcl0saT09PUpTT04uc3RyaW5naWZ5KHMuaWJzfHxbXSkpe289ITA7YnJlYWt9bz90aGlzLmpzb25EdXBsaWNhdGVzLnB1c2goZSk6dCgpfWVsc2UgdCgpO2Vsc2UgdCgpO2lmKCh0aGlzLnJlY2VpdmVkVGhpcmRQYXJ0eUNvb2tpZXNOb3RpZmljYXRpb258fCFoLlBPU1RfTUVTU0FHRV9FTkFCTEVEfHx0aGlzLmlmcmFtZUhhc0xvYWRlZCkmJnRoaXMuanNvbldhaXRpbmcubGVuZ3RoKXt2YXIgbD10aGlzLmpzb25XYWl0aW5nLnNoaWZ0KCk7dGhpcy5wcm9jZXNzKGwpLHRoaXMucmVxdWVzdFRvUHJvY2VzcygpfSFnLmlkU3luY0Rpc2FibGVTeW5jcyYmdGhpcy5pZnJhbWVIYXNMb2FkZWQmJnRoaXMubWVzc2FnZXMubGVuZ3RoJiYhdGhpcy5zZW5kaW5nTWVzc2FnZXMmJih0aGlzLnRocm90dGxlVGltZXJTZXR8fCh0aGlzLnRocm90dGxlVGltZXJTZXQ9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe24ubWVzc2FnZVNlbmRpbmdJbnRlcnZhbD1oLlBPU1RfTUVTU0FHRV9FTkFCTEVEP251bGw6MTUwfSx0aGlzLlRIUk9UVExFX1NUQVJUKSksdGhpcy5zZW5kaW5nTWVzc2FnZXM9ITAsdGhpcy5zZW5kTWVzc2FnZXMoKSl9LHByb2Nlc3NTeW5jT25QYWdlOmZ1bmN0aW9uKGUpe3ZhciB0LGksbixyO2lmKCh0PWUuaWJzKSYmdCBpbnN0YW5jZW9mIEFycmF5JiYoaT10Lmxlbmd0aCkpZm9yKG49MDtuPGk7bisrKXI9dFtuXSxyLnN5bmNPblBhZ2UmJnRoaXMuY2hlY2tGaXJzdFBhcnR5Q29va2llKHIsXFxcIlxcXCIsXFxcInN5bmNPblBhZ2VcXFwiKX0scHJvY2VzczpmdW5jdGlvbihlKXt2YXIgdCxpLG4scixhLHM9ZW5jb2RlVVJJQ29tcG9uZW50LG89ITE7aWYoKHQ9ZS5pYnMpJiZ0IGluc3RhbmNlb2YgQXJyYXkmJihpPXQubGVuZ3RoKSlmb3Iobz0hMCxuPTA7bjxpO24rKylyPXRbbl0sYT1bcyhcXFwiaWJzXFxcIikscyhyLmlkfHxcXFwiXFxcIikscyhyLnRhZ3x8XFxcIlxcXCIpLFIuZW5jb2RlQW5kQnVpbGRSZXF1ZXN0KHIudXJsfHxbXSxcXFwiLFxcXCIpLHMoci50dGx8fFxcXCJcXFwiKSxcXFwiXFxcIixcXFwiXFxcIixyLmZpcmVVUkxTeW5jP1xcXCJ0cnVlXFxcIjpcXFwiZmFsc2VcXFwiXSxyLnN5bmNPblBhZ2V8fCh0aGlzLmNhblNldFRoaXJkUGFydHlDb29raWVzP3RoaXMuYWRkTWVzc2FnZShhLmpvaW4oXFxcInxcXFwiKSk6ci5maXJlVVJMU3luYyYmdGhpcy5jaGVja0ZpcnN0UGFydHlDb29raWUocixhLmpvaW4oXFxcInxcXFwiKSkpO28mJnRoaXMuanNvblByb2Nlc3NlZC5wdXNoKGUpfSxjaGVja0ZpcnN0UGFydHlDb29raWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPVxcXCJzeW5jT25QYWdlXFxcIj09PWkscj1uP3k6QTtnLl9yZWFkVmlzaXRvcigpO3ZhciBhLHMsbz1nLl9nZXRGaWVsZChyKSxsPSExLHU9ITEsYz1NYXRoLmNlaWwoKG5ldyBEYXRlKS5nZXRUaW1lKCkvaC5NSUxMSVNfUEVSX0RBWSk7bz8oYT1vLnNwbGl0KFxcXCIqXFxcIikscz10aGlzLnBydW5lU3luY0RhdGEoYSxlLmlkLGMpLGw9cy5kYXRhUHJlc2VudCx1PXMuZGF0YVZhbGlkLGwmJnV8fHRoaXMuZmlyZVN5bmMobixlLHQsYSxyLGMpKTooYT1bXSx0aGlzLmZpcmVTeW5jKG4sZSx0LGEscixjKSl9LHBydW5lU3luY0RhdGE6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHIsYSxzPSExLG89ITE7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyluPWVbcl0sYT1wYXJzZUludChuLnNwbGl0KFxcXCItXFxcIilbMV0sMTApLG4ubWF0Y2goXFxcIl5cXFwiK3QrXFxcIi1cXFwiKT8ocz0hMCxpPGE/bz0hMDooZS5zcGxpY2UociwxKSxyLS0pKTppPj1hJiYoZS5zcGxpY2UociwxKSxyLS0pO3JldHVybntkYXRhUHJlc2VudDpzLGRhdGFWYWxpZDpvfX0sbWFuYWdlU3luY3NTaXplOmZ1bmN0aW9uKGUpe2lmKGUuam9pbihcXFwiKlxcXCIpLmxlbmd0aD50aGlzLk1BWF9TWU5DU19MRU5HVEgpZm9yKGUuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBwYXJzZUludChlLnNwbGl0KFxcXCItXFxcIilbMV0sMTApLXBhcnNlSW50KHQuc3BsaXQoXFxcIi1cXFwiKVsxXSwxMCl9KTtlLmpvaW4oXFxcIipcXFwiKS5sZW5ndGg+dGhpcy5NQVhfU1lOQ1NfTEVOR1RIOyllLnNoaWZ0KCl9LGZpcmVTeW5jOmZ1bmN0aW9uKGUsdCxpLG4scixhKXt2YXIgcz10aGlzO2lmKGUpe2lmKFxcXCJpbWdcXFwiPT09dC50YWcpe3ZhciBvLGwsdSxjLGQ9dC51cmwsZj1nLmxvYWRTU0w/XFxcImh0dHBzOlxcXCI6XFxcImh0dHA6XFxcIjtmb3Iobz0wLGw9ZC5sZW5ndGg7bzxsO28rKyl7dT1kW29dLGM9L15cXFxcL1xcXFwvLy50ZXN0KHUpO3ZhciBfPW5ldyBJbWFnZTtSLmFkZExpc3RlbmVyKF8sXFxcImxvYWRcXFwiLGZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBmdW5jdGlvbigpe3Mub25QYWdlUGl4ZWxzW2VdPW51bGwsZy5fcmVhZFZpc2l0b3IoKTt2YXIgYSxvPWcuX2dldEZpZWxkKHIpLGw9W107aWYobyl7YT1vLnNwbGl0KFxcXCIqXFxcIik7dmFyIHUsYyxkO2Zvcih1PTAsYz1hLmxlbmd0aDt1PGM7dSsrKWQ9YVt1XSxkLm1hdGNoKFxcXCJeXFxcIit0LmlkK1xcXCItXFxcIil8fGwucHVzaChkKX1zLnNldFN5bmNUcmFja2luZ0RhdGEobCx0LGksbil9fSh0aGlzLm9uUGFnZVBpeGVscy5sZW5ndGgsdCxyLGEpKSxfLnNyYz0oYz9mOlxcXCJcXFwiKSt1LHRoaXMub25QYWdlUGl4ZWxzLnB1c2goXyl9fX1lbHNlIHRoaXMuYWRkTWVzc2FnZShpKSx0aGlzLnNldFN5bmNUcmFja2luZ0RhdGEobix0LHIsYSl9LGFkZE1lc3NhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZW5jb2RlVVJJQ29tcG9uZW50LGk9dChnLl9lbmFibGVFcnJvclJlcG9ydGluZz9cXFwiLS0tZGVzdHB1Yi1kZWJ1Zy0tLVxcXCI6XFxcIi0tLWRlc3RwdWItLS1cXFwiKTt0aGlzLm1lc3NhZ2VzLnB1c2goKGguUE9TVF9NRVNTQUdFX0VOQUJMRUQ/XFxcIlxcXCI6aSkrZSl9LHNldFN5bmNUcmFja2luZ0RhdGE6ZnVuY3Rpb24oZSx0LGksbil7ZS5wdXNoKHQuaWQrXFxcIi1cXFwiKyhuK01hdGguY2VpbCh0LnR0bC82MC8yNCkpKSx0aGlzLm1hbmFnZVN5bmNzU2l6ZShlKSxnLl9zZXRGaWVsZChpLGUuam9pbihcXFwiKlxcXCIpKX0sc2VuZE1lc3NhZ2VzOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzO3RoaXMubWVzc2FnZXMubGVuZ3RoP2guUE9TVF9NRVNTQUdFX0VOQUJMRUQ/KGU9ZW5jb2RlVVJJQ29tcG9uZW50KFxcXCItLS1kZXN0cHViLWNvbWJpbmVkLS0tXFxcIikrdGhpcy5tZXNzYWdlcy5qb2luKFxcXCIlMDFcXFwiKSx0aGlzLnBvc3RNZXNzYWdlKGUpLHRoaXMubWVzc2FnZXM9W10sdGhpcy5zZW5kaW5nTWVzc2FnZXM9ITEpOihlPXRoaXMubWVzc2FnZXMuc2hpZnQoKSx0aGlzLnBvc3RNZXNzYWdlKGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNlbmRNZXNzYWdlcygpfSx0aGlzLm1lc3NhZ2VTZW5kaW5nSW50ZXJ2YWwpKTp0aGlzLnNlbmRpbmdNZXNzYWdlcz0hMX0scG9zdE1lc3NhZ2U6ZnVuY3Rpb24oZSl7Zy5feGQucG9zdE1lc3NhZ2UoZSx0aGlzLnVybCx0aGlzLmlmcmFtZS5jb250ZW50V2luZG93KSx0aGlzLm1lc3NhZ2VzUG9zdGVkLnB1c2goZSl9LHJlY2VpdmVNZXNzYWdlOmZ1bmN0aW9uKGUpe3ZhciB0LGk9L14tLS1kZXN0cHViLXRvLXBhcmVudC0tLS87XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBlJiZpLnRlc3QoZSkmJih0PWUucmVwbGFjZShpLFxcXCJcXFwiKS5zcGxpdChcXFwifFxcXCIpLFxcXCJjYW5TZXRUaGlyZFBhcnR5Q29va2llc1xcXCI9PT10WzBdJiYodGhpcy5jYW5TZXRUaGlyZFBhcnR5Q29va2llcz1cXFwidHJ1ZVxcXCI9PT10WzFdLHRoaXMucmVjZWl2ZWRUaGlyZFBhcnR5Q29va2llc05vdGlmaWNhdGlvbj0hMCx0aGlzLnJlcXVlc3RUb1Byb2Nlc3MoKSksdGhpcy5tZXNzYWdlc1JlY2VpdmVkLnB1c2goZSkpfSxwcm9jZXNzSURDYWxsRGF0YTpmdW5jdGlvbihlKXsobnVsbD09dGhpcy51cmx8fGUuc3ViZG9tYWluJiZcXFwibm9zdWJkb21haW5yZXR1cm5lZFxcXCI9PT10aGlzLnN1YmRvbWFpbikmJihcXFwic3RyaW5nXFxcIj09dHlwZW9mIGcuX3N1YmRvbWFpbiYmZy5fc3ViZG9tYWluLmxlbmd0aD90aGlzLnN1YmRvbWFpbj1nLl9zdWJkb21haW46dGhpcy5zdWJkb21haW49ZS5zdWJkb21haW58fFxcXCJcXFwiLHRoaXMudXJsPXRoaXMuZ2V0VXJsKCkpLGUuaWJzIGluc3RhbmNlb2YgQXJyYXkmJmUuaWJzLmxlbmd0aCYmKHRoaXMuZG9BdHRhY2hJZnJhbWU9ITApLHRoaXMucmVhZHlUb0F0dGFjaElmcmFtZSgpJiYoZy5pZFN5bmNBdHRhY2hJZnJhbWVPbldpbmRvd0xvYWQ/KG0ud2luZG93TG9hZGVkfHxcXFwiY29tcGxldGVcXFwiPT09cC5yZWFkeVN0YXRlfHxcXFwibG9hZGVkXFxcIj09PXAucmVhZHlTdGF0ZSkmJnRoaXMuYXR0YWNoSWZyYW1lKCk6dGhpcy5hdHRhY2hJZnJhbWVBU0FQKCkpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBnLmlkU3luY0lEQ2FsbFJlc3VsdD9nLmlkU3luY0lEQ2FsbFJlc3VsdChlKTp0aGlzLnJlcXVlc3RUb1Byb2Nlc3MoZSksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGcuaWRTeW5jQWZ0ZXJJRENhbGxSZXN1bHQmJmcuaWRTeW5jQWZ0ZXJJRENhbGxSZXN1bHQoZSl9LGNhbk1ha2VTeW5jSURDYWxsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcuX2ZvcmNlU3luY0lEQ2FsbHx8IWV8fHQtZT5oLkRBWVNfQkVUV0VFTl9TWU5DX0lEX0NBTExTfSxhdHRhY2hJZnJhbWVBU0FQOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3Quc3RhcnRlZEF0dGFjaGluZ0lmcmFtZXx8KGRvY3VtZW50LmJvZHk/dC5hdHRhY2hJZnJhbWUoKTpzZXRUaW1lb3V0KGUsMzApKX12YXIgdD10aGlzO2UoKX19O2cuX2Rlc3RpbmF0aW9uUHVibGlzaGluZz1GLGcudGltZW91dE1ldHJpY3NMb2c9W107dmFyIE4seD17aXNDbGllbnRTaWRlTWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQ6bnVsbCxNQ0lEQ2FsbFRpbWVkT3V0Om51bGwsQW5hbHl0aWNzSURDYWxsVGltZWRPdXQ6bnVsbCxBQU1JRENhbGxUaW1lZE91dDpudWxsLGZpZWxkR3JvdXBPYmo6e30sXFxuc2V0U3RhdGU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSBEOiExPT09dD8hMCE9PXRoaXMuTUNJRENhbGxUaW1lZE91dCYmKHRoaXMuTUNJRENhbGxUaW1lZE91dD0hMSk6dGhpcy5NQ0lEQ2FsbFRpbWVkT3V0PXQ7YnJlYWs7Y2FzZSBFOiExPT09dD8hMCE9PXRoaXMuQW5hbHl0aWNzSURDYWxsVGltZWRPdXQmJih0aGlzLkFuYWx5dGljc0lEQ2FsbFRpbWVkT3V0PSExKTp0aGlzLkFuYWx5dGljc0lEQ2FsbFRpbWVkT3V0PXQ7YnJlYWs7Y2FzZSBUOiExPT09dD8hMCE9PXRoaXMuQUFNSURDYWxsVGltZWRPdXQmJih0aGlzLkFBTUlEQ2FsbFRpbWVkT3V0PSExKTp0aGlzLkFBTUlEQ2FsbFRpbWVkT3V0PXR9fX07Zy5pc0NsaWVudFNpZGVNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRD1mdW5jdGlvbigpe3JldHVybiB4LmlzQ2xpZW50U2lkZU1hcmtldGluZ0Nsb3VkVmlzaXRvcklEfSxnLk1DSURDYWxsVGltZWRPdXQ9ZnVuY3Rpb24oKXtyZXR1cm4geC5NQ0lEQ2FsbFRpbWVkT3V0fSxnLkFuYWx5dGljc0lEQ2FsbFRpbWVkT3V0PWZ1bmN0aW9uKCl7cmV0dXJuIHguQW5hbHl0aWNzSURDYWxsVGltZWRPdXR9LGcuQUFNSURDYWxsVGltZWRPdXQ9ZnVuY3Rpb24oKXtyZXR1cm4geC5BQU1JRENhbGxUaW1lZE91dH0sZy5pZFN5bmNHZXRPblBhZ2VTeW5jSW5mbz1mdW5jdGlvbigpe3JldHVybiBnLl9yZWFkVmlzaXRvcigpLGcuX2dldEZpZWxkKHkpfSxnLmlkU3luY0J5VVJMPWZ1bmN0aW9uKGUpe3ZhciB0PXUoZXx8e30pO2lmKHQuZXJyb3IpcmV0dXJuIHQuZXJyb3I7dmFyIGksbixyPWUudXJsLGE9ZW5jb2RlVVJJQ29tcG9uZW50LHM9RjtyZXR1cm4gcj1yLnJlcGxhY2UoL15odHRwczovLFxcXCJcXFwiKS5yZXBsYWNlKC9eaHR0cDovLFxcXCJcXFwiKSxpPVIuZW5jb2RlQW5kQnVpbGRSZXF1ZXN0KFtcXFwiXFxcIixlLmRwaWQsZS5kcHV1aWR8fFxcXCJcXFwiXSxcXFwiLFxcXCIpLG49W1xcXCJpYnNcXFwiLGEoZS5kcGlkKSxcXFwiaW1nXFxcIixhKHIpLHQudHRsLFxcXCJcXFwiLGldLHMuYWRkTWVzc2FnZShuLmpvaW4oXFxcInxcXFwiKSkscy5yZXF1ZXN0VG9Qcm9jZXNzKCksXFxcIlN1Y2Nlc3NmdWxseSBxdWV1ZWRcXFwifSxnLmlkU3luY0J5RGF0YVNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PU9iamVjdChlKSYmXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBlLmRwdXVpZCYmZS5kcHV1aWQubGVuZ3RoPyhlLnVybD1cXFwiLy9kcG0uZGVtZGV4Lm5ldC9pYnM6ZHBpZD1cXFwiK2UuZHBpZCtcXFwiJmRwdXVpZD1cXFwiK2UuZHB1dWlkLGcuaWRTeW5jQnlVUkwoZSkpOlxcXCJFcnJvcjogY29uZmlnIG9yIGNvbmZpZy5kcHV1aWQgaXMgZW1wdHlcXFwifSxnLl9jb21wYXJlVmVyc2lvbnM9ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gMDt2YXIgaT1lLnRvU3RyaW5nKCkuc3BsaXQoXFxcIi5cXFwiKSxuPXQudG9TdHJpbmcoKS5zcGxpdChcXFwiLlxcXCIpO3JldHVybiBjKGkuY29uY2F0KG4pKT8oZChpLG4pLGYoaSxuKSk6TmFOfSxnLl9nZXRDb29raWVWZXJzaW9uPWZ1bmN0aW9uKGUpe2U9ZXx8Zy5jb29raWVSZWFkKGcuY29va2llTmFtZSk7dmFyIHQ9aC5WRVJTSU9OX1JFR0VYLmV4ZWMoZSk7cmV0dXJuIHQmJnQubGVuZ3RoPjE/dFsxXTpudWxsfSxnLl9yZXNldEFtY3ZDb29raWU9ZnVuY3Rpb24oZSl7dmFyIHQ9Zy5fZ2V0Q29va2llVmVyc2lvbigpO3QmJiFSLmlzTGVzc1RoYW4odCxlKXx8Ui5yZW1vdmVDb29raWUoZy5jb29raWVOYW1lKX0sZy5zZXRBc0Nvb3BTYWZlPWZ1bmN0aW9uKCl7aj0hMH0sZy5zZXRBc0Nvb3BVbnNhZmU9ZnVuY3Rpb24oKXtqPSExfSxlLmluZGV4T2YoXFxcIkBcXFwiKTwwJiYoZSs9XFxcIkBBZG9iZU9yZ1xcXCIpLGcubWFya2V0aW5nQ2xvdWRPcmdJRD1lLGcuY29va2llTmFtZT1cXFwiQU1DVl9cXFwiK2UsZy5zZXNzaW9uQ29va2llTmFtZT1cXFwiQU1DVlNfXFxcIitlLGcuY29va2llRG9tYWluPWcuX2dldERvbWFpbigpLGcuY29va2llRG9tYWluPT09Xy5sb2NhdGlvbi5ob3N0bmFtZSYmKGcuY29va2llRG9tYWluPVxcXCJcXFwiKSxnLmxvYWRTU0w9Xy5sb2NhdGlvbi5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXFxcImh0dHBzXFxcIik+PTAsZy5sb2FkVGltZW91dD0zZTQsZy5DT1JTRXJyb3JzPVtdLGcubWFya2V0aW5nQ2xvdWRTZXJ2ZXI9Zy5hdWRpZW5jZU1hbmFnZXJTZXJ2ZXI9XFxcImRwbS5kZW1kZXgubmV0XFxcIixnLnNkaWRQYXJhbUV4cGlyeT0zMDt2YXIgVj17fTtWW2tdPSEwLFZbTF09ITA7dmFyIGo9bnVsbDtpZih0JiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIHQpe3ZhciBVO2ZvcihVIGluIHQpUyhVKSYmKGdbVV09dFtVXSk7Zy5pZFN5bmNDb250YWluZXJJRD1nLmlkU3luY0NvbnRhaW5lcklEfHwwLGo9XFxcImJvb2xlYW5cXFwiPT10eXBlb2YgZy5pc0Nvb3BTYWZlP2cuaXNDb29wU2FmZTpSLnBhcnNlQm9vbGVhbihnLmlzQ29vcFNhZmUpLGcucmVzZXRCZWZvcmVWZXJzaW9uJiZnLl9yZXNldEFtY3ZDb29raWUoZy5yZXNldEJlZm9yZVZlcnNpb24pLGcuX2F0dGVtcHRUb1BvcHVsYXRlSWRzRnJvbVVybCgpLGcuX2F0dGVtcHRUb1BvcHVsYXRlU2RpZEZyb21VcmwoKSxnLl9yZWFkVmlzaXRvcigpO3ZhciBIPWcuX2dldEZpZWxkKE0pLEI9TWF0aC5jZWlsKChuZXcgRGF0ZSkuZ2V0VGltZSgpL2guTUlMTElTX1BFUl9EQVkpOyFnLmlkU3luY0Rpc2FibGVTeW5jcyYmRi5jYW5NYWtlU3luY0lEQ2FsbChILEIpJiYoZy5fc2V0RmllbGRFeHBpcmUoTCwtMSksZy5fc2V0RmllbGQoTSxCKSksZy5nZXRNYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCgpLGcuZ2V0QXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50KCksZy5nZXRBdWRpZW5jZU1hbmFnZXJCbG9iKCksZy5fbWVyZ2VTZXJ2ZXJTdGF0ZShnLnNlcnZlclN0YXRlKX1lbHNlIGcuX2F0dGVtcHRUb1BvcHVsYXRlSWRzRnJvbVVybCgpLGcuX2F0dGVtcHRUb1BvcHVsYXRlU2RpZEZyb21VcmwoKTtpZighZy5pZFN5bmNEaXNhYmxlU3luY3Mpe0YuY2hlY2tEUElmcmFtZVNyYygpO3ZhciBHPWZ1bmN0aW9uKCl7dmFyIGU9RjtlLnJlYWR5VG9BdHRhY2hJZnJhbWUoKSYmZS5hdHRhY2hJZnJhbWUoKX07Ui5hZGRMaXN0ZW5lcihfLFxcXCJsb2FkXFxcIixmdW5jdGlvbigpe20ud2luZG93TG9hZGVkPSEwLEcoKX0pO3RyeXtnLl94ZC5yZWNlaXZlTWVzc2FnZShmdW5jdGlvbihlKXtGLnJlY2VpdmVNZXNzYWdlKGUuZGF0YSl9LEYuaWZyYW1lSG9zdCl9Y2F0Y2goZSl7fX1nLndoaXRlbGlzdElmcmFtZURvbWFpbnMmJmguUE9TVF9NRVNTQUdFX0VOQUJMRUQmJihnLndoaXRlbGlzdElmcmFtZURvbWFpbnM9Zy53aGl0ZWxpc3RJZnJhbWVEb21haW5zIGluc3RhbmNlb2YgQXJyYXk/Zy53aGl0ZWxpc3RJZnJhbWVEb21haW5zOltnLndoaXRlbGlzdElmcmFtZURvbWFpbnNdLGcud2hpdGVsaXN0SWZyYW1lRG9tYWlucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBhKGUsdCksbj1zKGcsaSk7Zy5feGQucmVjZWl2ZU1lc3NhZ2Uobix0KX0pKX07by5nZXRJbnN0YW5jZT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcihcXFwiVmlzaXRvciByZXF1aXJlcyBBZG9iZSBNYXJrZXRpbmcgQ2xvdWQgT3JnIElEXFxcIik7ZS5pbmRleE9mKFxcXCJAXFxcIik8MCYmKGUrPVxcXCJAQWRvYmVPcmdcXFwiKTt2YXIgbj1mdW5jdGlvbigpe3ZhciB0PWkuc19jX2lsO2lmKHQpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07aWYociYmXFxcIlZpc2l0b3JcXFwiPT09ci5fYyYmci5tYXJrZXRpbmdDbG91ZE9yZ0lEPT09ZSlyZXR1cm4gcn19KCk7aWYobilyZXR1cm4gbjt2YXIgYT1uZXcgbyhlKSxzPWEuaXNBbGxvd2VkKCk7cmV0dXJuIGZ1bmN0aW9uKCl7aS5zX2NfaWwuc3BsaWNlKC0taS5zX2NfaW4sMSl9KCksZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGkuc2VsZiE9PWkucGFyZW50fWNhdGNoKGUpe3JldHVybiEwfX0oKSYmIXMmJmkucGFyZW50P25ldyByKGUsdCxhLGkucGFyZW50KTpuZXcgbyhlLHQpfSxuKCksaS5WaXNpdG9yPW8sdC5leHBvcnRzPW99KS5jYWxsKHRoaXMsXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygc2VsZj9zZWxmOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcXFwiLi9DaGlsZFZpc2l0b3JcXFwiOjEsXFxcIi4vTWVzc2FnZVxcXCI6MixcXFwiLi91dGlscy9tYWtlQ2hpbGRNZXNzYWdlTGlzdGVuZXJcXFwiOjl9XSw0OltmdW5jdGlvbihlLHQsaSl7aS5NRVNTQUdFUz17SEFORFNIQUtFOlxcXCJIQU5EU0hBS0VcXFwiLEdFVFNUQVRFOlxcXCJHRVRTVEFURVxcXCIsUEFSRU5UU1RBVEU6XFxcIlBBUkVOVFNUQVRFXFxcIn0saS5TVEFURV9LRVlTX01BUD17TUNNSUQ6XFxcIk1DTUlEXFxcIixNQ0FJRDpcXFwiTUNBSURcXFwiLE1DQUFNQjpcXFwiTUNBQU1CXFxcIixNQ0FBTUxIOlxcXCJNQ0FBTUxIXFxcIixNQ09QVE9VVDpcXFwiTUNPUFRPVVRcXFwiLENVU1RPTUVSSURTOlxcXCJDVVNUT01FUklEU1xcXCJ9LGkuQVNZTkNfQVBJX01BUD17TUNNSUQ6XFxcImdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEXFxcIixNQ0FJRDpcXFwiZ2V0QW5hbHl0aWNzVmlzaXRvcklEXFxcIixNQ0FBTUI6XFxcImdldEF1ZGllbmNlTWFuYWdlckJsb2JcXFwiLE1DQUFNTEg6XFxcImdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludFxcXCIsTUNPUFRPVVQ6XFxcImdldE9wdE91dFxcXCJ9LGkuU1lOQ19BUElfTUFQPXtDVVNUT01FUklEUzpcXFwiZ2V0Q3VzdG9tZXJJRHNcXFwifSxpLkFMTF9BUElTPXtNQ01JRDpcXFwiZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySURcXFwiLE1DQUFNQjpcXFwiZ2V0QXVkaWVuY2VNYW5hZ2VyQmxvYlxcXCIsTUNBQU1MSDpcXFwiZ2V0QXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50XFxcIixNQ09QVE9VVDpcXFwiZ2V0T3B0T3V0XFxcIixNQ0FJRDpcXFwiZ2V0QW5hbHl0aWNzVmlzaXRvcklEXFxcIixDVVNUT01FUklEUzpcXFwiZ2V0Q3VzdG9tZXJJRHNcXFwifSxpLkZJRUxER1JPVVBfVE9fRklFTEQ9e01DOlxcXCJNQ01JRFxcXCIsQTpcXFwiTUNBSURcXFwiLEFBTTpcXFwiTUNBQU1CXFxcIn19LHt9XSw1OltmdW5jdGlvbihlLHQsaSl7dmFyIG49ZShcXFwiLi4vZW51bXNcXFwiKSxyPW4uU1RBVEVfS0VZU19NQVA7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gaSh0LGkpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9ZSgwLHIuTUNNSUQpLGE9e307cmV0dXJuIGFbci5NQ01JRF09dCxuLnNldFN0YXRlQW5kUHVibGlzaChhKSxpKHQpLHR9fXRoaXMuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQ9ZnVuY3Rpb24oZSl7ZT1lfHx0O3ZhciBuPXRoaXMuZmluZEZpZWxkKHIuTUNNSUQsZSksYT1pLmNhbGwodGhpcyxyLk1DTUlELGUpO3JldHVybiB2b2lkIDAhPT1uP246YSgpfX19LHtcXFwiLi4vZW51bXNcXFwiOjR9XSw2OltmdW5jdGlvbihlLHQsaSl7dmFyIG49ZShcXFwiLi4vZW51bXNcXFwiKSxyPW4uQVNZTkNfQVBJX01BUDt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXNbcltlXV09ZnVuY3Rpb24odCl7dGhpcy5jYWxsYmFja1JlZ2lzdHJ5LmFkZChlLHQpfX0sdGhpcyl9fSx7XFxcIi4uL2VudW1zXFxcIjo0fV0sNzpbZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWUoXFxcIi4uL2VudW1zXFxcIikscj1uLk1FU1NBR0VTLGE9bi5BU1lOQ19BUElfTUFQLHM9bi5TWU5DX0FQSV9NQVA7dC5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31mdW5jdGlvbiB0KGUsdCl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gaS5jYWxsYmFja1JlZ2lzdHJ5LmFkZChlLHQpLGkubWVzc2FnZVBhcmVudChyLkdFVFNUQVRFKSxcXFwiXFxcIn19ZnVuY3Rpb24gaShpKXt0aGlzW2FbaV1dPWZ1bmN0aW9uKG4pe249bnx8ZTt2YXIgcj10aGlzLmZpbmRGaWVsZChpLG4pLGE9dC5jYWxsKHRoaXMsaSxuKTtyZXR1cm4gdm9pZCAwIT09cj9yOmEoKX19ZnVuY3Rpb24gbih0KXt0aGlzW3NbdF1dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmluZEZpZWxkKHQsZSl8fHt9fX1PYmplY3Qua2V5cyhhKS5mb3JFYWNoKGksdGhpcyksT2JqZWN0LmtleXMocykuZm9yRWFjaChuLHRoaXMpfX0se1xcXCIuLi9lbnVtc1xcXCI6NH1dLDg6W2Z1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiBuKCl7cmV0dXJue2NhbGxiYWNrczp7fSxhZGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmNhbGxiYWNrc1tlXT10aGlzLmNhbGxiYWNrc1tlXXx8W107dmFyIGk9dGhpcy5jYWxsYmFja3NbZV0ucHVzaCh0KS0xO3JldHVybiBmdW5jdGlvbigpe3RoaXMuY2FsbGJhY2tzW2VdLnNwbGljZShpLDEpfX0sZXhlY3V0ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuY2FsbGJhY2tzW2VdKXt0PXZvaWQgMD09PXQ/W106dCx0PXQgaW5zdGFuY2VvZiBBcnJheT90Olt0XTt0cnl7Zm9yKDt0aGlzLmNhbGxiYWNrc1tlXS5sZW5ndGg7KXt2YXIgaT10aGlzLmNhbGxiYWNrc1tlXS5zaGlmdCgpO1xcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBpP2kuYXBwbHkobnVsbCx0KTppIGluc3RhbmNlb2YgQXJyYXkmJmlbMV0uYXBwbHkoaVswXSx0KX1kZWxldGUgdGhpcy5jYWxsYmFja3NbZV19Y2F0Y2goZSl7fX19LGV4ZWN1dGVBbGw6ZnVuY3Rpb24oZSx0KXsodHx8ZSYmIXIuaXNPYmplY3RFbXB0eShlKSkmJk9iamVjdC5rZXlzKHRoaXMuY2FsbGJhY2tzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPXZvaWQgMCE9PWVbdF0/ZVt0XTpcXFwiXFxcIjt0aGlzLmV4ZWN1dGUodCxpKX0sdGhpcyl9LGhhc0NhbGxiYWNrczpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKE9iamVjdC5rZXlzKHRoaXMuY2FsbGJhY2tzKS5sZW5ndGgpfX19dmFyIHI9ZShcXFwiLi91dGlsc1xcXCIpO3QuZXhwb3J0cz1ufSx7XFxcIi4vdXRpbHNcXFwiOjExfV0sOTpbZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWUoXFxcIi4uL2VudW1zXFxcIikscj1lKFxcXCIuL3V0aWxzXFxcIiksYT1uLk1FU1NBR0VTLHM9bi5BTExfQVBJUyxvPW4uQVNZTkNfQVBJX01BUCxsPW4uRklFTERHUk9VUF9UT19GSUVMRDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKHMpLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIG49c1tpXSxhPWVbbl0oKTtyLmlzVmFsdWVFbXB0eShhKXx8KHRbaV09YSl9KSx0fWZ1bmN0aW9uIG4oKXt2YXIgdD1bXTtyZXR1cm4gZS5fbG9hZGluZyYmT2JqZWN0LmtleXMoZS5fbG9hZGluZykuZm9yRWFjaChmdW5jdGlvbihpKXtpZihlLl9sb2FkaW5nW2ldKXt2YXIgbj1sW2ldO3QucHVzaChuKX19KSx0Lmxlbmd0aD90Om51bGx9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gZnVuY3Rpb24gaShyKXt2YXIgYT1uKCk7aWYoYSl7dmFyIHM9b1thWzBdXTtlW3NdKGksITApfWVsc2UgdCgpfX1mdW5jdGlvbiBjKGUsbil7dmFyIHI9aSgpO3Quc2VuZChlLG4scil9ZnVuY3Rpb24gZChlKXtnKGUpLGMoZSxhLkhBTkRTSEFLRSl9ZnVuY3Rpb24gZihlKXt1KGZ1bmN0aW9uKCl7YyhlLGEuUEFSRU5UU1RBVEUpfSkoKX1mdW5jdGlvbiBnKGkpe2Z1bmN0aW9uIG4obil7ci5jYWxsKGUsbiksdC5zZW5kKGksYS5QQVJFTlRTVEFURSx7Q1VTVE9NRVJJRFM6ZS5nZXRDdXN0b21lcklEcygpfSl9dmFyIHI9ZS5zZXRDdXN0b21lcklEcztlLnNldEN1c3RvbWVySURzPW59cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCF0LmlzSW52YWxpZChlKSl7KHQucGFyc2UoZSkucHJlZml4PT09YS5IQU5EU0hBS0U/ZDpmKShlLnNvdXJjZSl9fX19LHtcXFwiLi4vZW51bXNcXFwiOjQsXFxcIi4vdXRpbHNcXFwiOjExfV0sMTA6W2Z1bmN0aW9uKGUsdCxpKXtPYmplY3Qua2V5cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJnQucHVzaChpKTtyZXR1cm4gdH0sQXJyYXkucHJvdG90eXBlLmZvckVhY2g9QXJyYXkucHJvdG90eXBlLmZvckVhY2h8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPXRoaXMsbj0wLHI9aS5sZW5ndGg7bjxyO24rKyllLmNhbGwodCxpW25dLG4saSl9LE9iamVjdC5hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGksbj0xO248YXJndW1lbnRzLmxlbmd0aDsrK24pe2k9YXJndW1lbnRzW25dO2Zvcih0IGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksdCkmJihlW3RdPWlbdF0pfXJldHVybiBlfX0se31dLDExOltmdW5jdGlvbihlLHQsaSl7aS5pc09iamVjdEVtcHR5PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09T2JqZWN0KGUpJiYwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RofSxpLmlzVmFsdWVFbXB0eT1mdW5jdGlvbihlKXtyZXR1cm5cXFwiXFxcIj09PWV8fGkuaXNPYmplY3RFbXB0eShlKX19LHt9XX0se30sWzEsMiwzLDRdKTtcIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vcmF3LWxvYWRlciEuL2ludGVncmF0aW9ucy9hZG9iZS9saWIvdmlzaXRvcl9hcGktMi40LjAuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 10 */,
/* 11 */
/* unknown exports provided */
/* all exports used */
/*!********************************************************************************!*\
  !*** ../~/script-loader!./integrations/adobe/lib/video_heartbeat-2.0.2.min.js ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! !../~/script-loader/addScript.js */ 0)(__webpack_require__(/*! !../~/raw-loader!./integrations/adobe/lib/video_heartbeat-2.0.2.min.js */ 8))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL3ZpZGVvX2hlYXJ0YmVhdC0yLjAuMi5taW4uanM/YjhmNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCIhIS92aWR5YXJkL0d1YXJkdG93ZXIvbm9kZV9tb2R1bGVzL3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzXCIpKHJlcXVpcmUoXCIhIS92aWR5YXJkL0d1YXJkdG93ZXIvbm9kZV9tb2R1bGVzL3Jhdy1sb2FkZXIvaW5kZXguanMhL3ZpZHlhcmQvR3VhcmR0b3dlci9jbGllbnQvaW50ZWdyYXRpb25zL2Fkb2JlL2xpYi92aWRlb19oZWFydGJlYXQtMi4wLjIubWluLmpzXCIpKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vc2NyaXB0LWxvYWRlciEuL2ludGVncmF0aW9ucy9hZG9iZS9saWIvdmlkZW9faGVhcnRiZWF0LTIuMC4yLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 12 */
/* unknown exports provided */
/* all exports used */
/*!************************************************************************!*\
  !*** ../~/script-loader!./integrations/adobe/lib/visitor_api-2.4.0.js ***!
  \************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! !../~/script-loader/addScript.js */ 0)(__webpack_require__(/*! !../~/raw-loader!./integrations/adobe/lib/visitor_api-2.4.0.js */ 9))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL3Zpc2l0b3JfYXBpLTIuNC4wLmpzPzkzZjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiISEvdmlkeWFyZC9HdWFyZHRvd2VyL25vZGVfbW9kdWxlcy9zY3JpcHQtbG9hZGVyL2FkZFNjcmlwdC5qc1wiKShyZXF1aXJlKFwiISEvdmlkeWFyZC9HdWFyZHRvd2VyL25vZGVfbW9kdWxlcy9yYXctbG9hZGVyL2luZGV4LmpzIS92aWR5YXJkL0d1YXJkdG93ZXIvY2xpZW50L2ludGVncmF0aW9ucy9hZG9iZS9saWIvdmlzaXRvcl9hcGktMi40LjAuanNcIikpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi9zY3JpcHQtbG9hZGVyIS4vaW50ZWdyYXRpb25zL2Fkb2JlL2xpYi92aXNpdG9yX2FwaS0yLjQuMC5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 13 */
/* unknown exports provided */
/* all exports used */
/*!**********************************************************!*\
  !*** multi ../client/integrations/adobe/vidyard_main.js ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ../client/integrations/adobe/vidyard_main.js */1);


/***/ }),
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */
/* unknown exports provided */
/* all exports used */
/*!*******************************************************************************!*\
  !*** ../~/raw-loader!./integrations/adobe/lib/app_measurement-2.3.0.unmin.js ***!
  \*******************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"/*\\n Start ActivityMap Module\\n\\n The following module enables ActivityMap tracking in Adobe Analytics. ActivityMap\\n allows you to view data overlays on your links and content to understand how\\n users engage with your web site. If you do not intend to use ActivityMap, you\\n can remove the following block of code from your AppMeasurement.js file.\\n Additional documentation on how to configure ActivityMap is available at:\\n https://marketing.adobe.com/resources/help/en_US/analytics/activitymap/getting-started-admins.html\\n*/\\nfunction AppMeasurement_Module_ActivityMap(f) {\\n    function g(a, d) {\\n        var b, c, n;\\n        if (a && d && (b = e.c[d] || (e.c[d] = d.split(\\\",\\\"))))\\n            for (n = 0; n < b.length && (c = b[n++]);)\\n                if (-1 < a.indexOf(c)) return null;\\n        p = 1;\\n        return a\\n    }\\n\\n    function q(a, d, b, c, e) {\\n        var g, h;\\n        if (a.dataset && (h = a.dataset[d])) g = h;\\n        else if (a.getAttribute)\\n            if (h = a.getAttribute(\\\"data-\\\" + b)) g = h;\\n            else if (h = a.getAttribute(b)) g = h;\\n        if (!g && f.useForcedLinkTracking && e && (g = \\\"\\\", d = a.onclick ? \\\"\\\" + a.onclick : \\\"\\\")) {\\n            b = d.indexOf(c);\\n            var l, k;\\n            if (0 <= b) {\\n                for (b += 10; b < d.length && 0 <= \\\"= \\\\t\\\\r\\\\n\\\".indexOf(d.charAt(b));) b++;\\n                if (b < d.length) {\\n                    h = b;\\n                    for (l = k = 0; h < d.length && (\\\";\\\" != d.charAt(h) || l);) l ? d.charAt(h) != l || k ? k = \\\"\\\\\\\\\\\" == d.charAt(h) ? !k : 0 : l = 0 : (l = d.charAt(h), '\\\"' != l && \\\"'\\\" != l && (l = 0)), h++;\\n                    if (d = d.substring(b, h)) a.e = new Function(\\\"s\\\", \\\"var e;try{s.w.\\\" + c + \\\"=\\\" + d + \\\"}catch(e){}\\\"), a.e(f)\\n                }\\n            }\\n        }\\n        return g || e && f.w[c]\\n    }\\n\\n    function r(a, d, b) {\\n        var c;\\n        return (c = e[d](a, b)) && (p ? (p = 0, c) : g(k(c), e[d + \\\"Exclusions\\\"]))\\n    }\\n\\n    function s(a, d, b) {\\n        var c;\\n        if (a && !(1 === (c = a.nodeType) && (c = a.nodeName) && (c = c.toUpperCase()) && t[c]) && (1 === a.nodeType && (c = a.nodeValue) && (d[d.length] = c), b.a ||\\n                b.t || b.s || !a.getAttribute || ((c = a.getAttribute(\\\"alt\\\")) ? b.a = c : (c = a.getAttribute(\\\"title\\\")) ? b.t = c : \\\"IMG\\\" == (\\\"\\\" + a.nodeName).toUpperCase() && (c = a.getAttribute(\\\"src\\\") || a.src) && (b.s = c)), (c = a.childNodes) && c.length))\\n            for (a = 0; a < c.length; a++) s(c[a], d, b)\\n    }\\n\\n    function k(a) {\\n        if (null == a || void 0 == a) return a;\\n        try {\\n            return a.replace(RegExp(\\\"^[\\\\\\\\s\\\\\\\\n\\\\\\\\f\\\\\\\\r\\\\\\\\t\\\\t-\\\\r \\\\u00a0\\\\u1680\\\\u180e\\\\u2000-\\\\u200a\\\\u2028\\\\u2029\\\\u205f\\\\u3000\\\\ufeff]+\\\", \\\"mg\\\"), \\\"\\\").replace(RegExp(\\\"[\\\\\\\\s\\\\\\\\n\\\\\\\\f\\\\\\\\r\\\\\\\\t\\\\t-\\\\r \\\\u00a0\\\\u1680\\\\u180e\\\\u2000-\\\\u200a\\\\u2028\\\\u2029\\\\u205f\\\\u3000\\\\ufeff]+$\\\",\\n                \\\"mg\\\"), \\\"\\\").replace(RegExp(\\\"[\\\\\\\\s\\\\\\\\n\\\\\\\\f\\\\\\\\r\\\\\\\\t\\\\t-\\\\r \\\\u00a0\\\\u1680\\\\u180e\\\\u2000-\\\\u200a\\\\u2028\\\\u2029\\\\u205f\\\\u3000\\\\ufeff]{1,}\\\", \\\"mg\\\"), \\\" \\\").substring(0, 254)\\n        } catch (d) {}\\n    }\\n    var e = this;\\n    e.s = f;\\n    var _window = window;\\n    _window.s_c_in || (_window.s_c_il = [], _window.s_c_in = 0);\\n    e._il = _window.s_c_il;\\n    e._in = _window.s_c_in;\\n    e._il[e._in] = e;\\n    _window.s_c_in++;\\n    e._c = \\\"s_m\\\";\\n    e.c = {};\\n    var p = 0,\\n        t = {\\n            SCRIPT: 1,\\n            STYLE: 1,\\n            LINK: 1,\\n            CANVAS: 1\\n        };\\n    e._g = function () {\\n        var a, d, b, c = f.contextData,\\n            e = f.linkObject;\\n        (a = f.pageName || f.pageURL) && (d = r(e, \\\"link\\\", f.linkName)) && (b = r(e, \\\"region\\\")) && (c[\\\"a.activitymap.page\\\"] = a.substring(0,\\n            255), c[\\\"a.activitymap.link\\\"] = 128 < d.length ? d.substring(0, 128) : d, c[\\\"a.activitymap.region\\\"] = 127 < b.length ? b.substring(0, 127) : b, c[\\\"a.activitymap.pageIDType\\\"] = f.pageName ? 1 : 0)\\n    };\\n    e.link = function (a, d) {\\n        var b;\\n        if (d) b = g(k(d), e.linkExclusions);\\n        else if ((b = a) && !(b = q(a, \\\"sObjectId\\\", \\\"s-object-id\\\", \\\"s_objectID\\\", 1))) {\\n            var c, f;\\n            (f = g(k(a.innerText || a.textContent), e.linkExclusions)) || (s(a, c = [], b = {\\n                a: void 0,\\n                t: void 0,\\n                s: void 0\\n            }), (f = g(k(c.join(\\\"\\\")))) || (f = g(k(b.a ? b.a : b.t ? b.t : b.s ? b.s : void 0))) || !(c = (c = a.tagName) && c.toUpperCase ? c.toUpperCase() :\\n                \\\"\\\") || (\\\"INPUT\\\" == c || \\\"SUBMIT\\\" == c && a.value ? f = g(k(a.value)) : \\\"IMAGE\\\" == c && a.src && (f = g(k(a.src)))));\\n            b = f\\n        }\\n        return b\\n    };\\n    e.region = function (a) {\\n        for (var d, b = e.regionIDAttribute || \\\"id\\\"; a && (a = a.parentNode);) {\\n            if (d = q(a, b, b, b)) return d;\\n            if (\\\"BODY\\\" == a.nodeName) return \\\"BODY\\\"\\n        }\\n    }\\n}\\n/* End ActivityMap Module */\\n/*\\n ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ===============\\n\\nAppMeasurement for JavaScript version: 2.3.0\\nCopyright 1996-2016 Adobe, Inc. All Rights Reserved\\nMore info available at http://www.adobe.com/marketing-cloud.html\\n*/\\nfunction AppMeasurement(r) {\\n    var appMeasurement = this;\\n    appMeasurement.version = \\\"2.3.0\\\";\\n    var _window = window;\\n    // s_c_il => Instance List\\n    // s_c_in => Instance Number\\n    _window.s_c_in || (_window.s_c_il = [], _window.s_c_in = 0);\\n    appMeasurement._il = _window.s_c_il;\\n    appMeasurement._in = _window.s_c_in;\\n    appMeasurement._il[appMeasurement._in] = appMeasurement;\\n    _window.s_c_in++;\\n    appMeasurement._c = \\\"s_c\\\";\\n    var p = _window.AppMeasurement.Pb;\\n    p || (p = null);\\n    var n = _window,\\n        m, s;\\n    try {\\n        for (m = n.parent, s = n.location; m && m.location && s && \\\"\\\" + m.location != \\\"\\\" + s && n.location && \\\"\\\" + m.location != \\\"\\\" + n.location && m.location.host == s.host;) n = m, m = n.parent\\n    } catch (u) {}\\n    appMeasurement.F = function (a) {\\n        try {\\n            console.log(a)\\n        } catch (b) {}\\n    };\\n    appMeasurement.Ma = function (a) {\\n        return \\\"\\\" + parseInt(a) == \\\"\\\" + a\\n    };\\n    appMeasurement.replace = function (a, b, d) {\\n        return !a ||\\n            0 > a.indexOf(b) ? a : a.split(b).join(d)\\n    };\\n    appMeasurement.escape = function (c) {\\n        var b, d;\\n        if (!c) return c;\\n        c = encodeURIComponent(c);\\n        for (b = 0; 7 > b; b++) d = \\\"+~!*()'\\\".substring(b, b + 1), 0 <= c.indexOf(d) && (c = appMeasurement.replace(c, d, \\\"%\\\" + d.charCodeAt(0).toString(16).toUpperCase()));\\n        return c\\n    };\\n    appMeasurement.unescape = function (c) {\\n        if (!c) return c;\\n        c = 0 <= c.indexOf(\\\"+\\\") ? appMeasurement.replace(c, \\\"+\\\", \\\" \\\") : c;\\n        try {\\n            return decodeURIComponent(c)\\n        } catch (b) {}\\n        return unescape(c)\\n    };\\n    appMeasurement.wb = function () {\\n        var c = _window.location.hostname,\\n            b = appMeasurement.fpCookieDomainPeriods,\\n            d;\\n        b || (b = appMeasurement.cookieDomainPeriods);\\n        if (c && !appMeasurement.Ea && !/^[0-9.]+$/.test(c) &&\\n            (b = b ? parseInt(b) : 2, b = 2 < b ? b : 2, d = c.lastIndexOf(\\\".\\\"), 0 <= d)) {\\n            for (; 0 <= d && 1 < b;) d = c.lastIndexOf(\\\".\\\", d - 1), b--;\\n            appMeasurement.Ea = 0 < d ? c.substring(d) : c\\n        }\\n        return appMeasurement.Ea\\n    };\\n    //\\n    // Cookie Read\\n    //\\n    appMeasurement.c_r = appMeasurement.cookieRead = function (c) {\\n        c = appMeasurement.escape(c);\\n        var b = \\\" \\\" + appMeasurement._document.cookie,\\n            d = b.indexOf(\\\" \\\" + c + \\\"=\\\"),\\n            f = 0 > d ? d : b.indexOf(\\\";\\\", d);\\n        c = 0 > d ? \\\"\\\" : appMeasurement.unescape(b.substring(d + 2 + c.length, 0 > f ? b.length : f));\\n        return \\\"[[B]]\\\" != c ? c : \\\"\\\"\\n    };\\n    //\\n    // Cookie Write\\n    //\\n    appMeasurement.c_w = appMeasurement.cookieWrite = function (cookieName, cookieValue, expiry) {\\n        console.log(\\\"Writing cookie: \\\" + cookieName + \\\": \\\" + cookieValue);\\n        var f = appMeasurement.wb(),\\n            cookieLifetime = appMeasurement.cookieLifetime,\\n            g;\\n        var documentCookie = \\\"\\\";\\n        cookieValue = \\\"\\\" + cookieValue;\\n        cookieLifetime = cookieLifetime ? (\\\"\\\" + cookieLifetime).toUpperCase() : \\\"\\\";\\n        expiry && \\\"SESSION\\\" != cookieLifetime && \\\"NONE\\\" != cookieLifetime && ((g = \\\"\\\" != cookieValue ? parseInt(cookieLifetime ? cookieLifetime : 0) : -60) ?\\n            (expiry = new Date, expiry.setTime(expiry.getTime() + 1E3 * g)) :\\n            1 == expiry && (expiry = new Date, g = expiry.getYear(), expiry.setYear(g + 5 + (1900 > g ? 1900 : 0))));\\n        return cookieName && \\\"NONE\\\" != cookieLifetime ?\\n            (documentCookie = appMeasurement.escape(cookieName) + \\\"=\\\" +\\n                appMeasurement.escape(\\\"\\\" != cookieValue ? cookieValue : \\\"[[B]]\\\") +\\n                \\\"; path=/;\\\" + (expiry && \\\"SESSION\\\" != cookieLifetime ? \\\" expires=\\\" + expiry.toGMTString() + \\\";\\\" : \\\"\\\") +\\n                (f ? \\\" domain=\\\" + f + \\\";\\\" : \\\"\\\"),\\n                appMeasurement._document.cookie = documentCookie,\\n                console.log(\\\"Desired cookie: \\\" + documentCookie + \\n                            \\\"\\\\nCookie at end of write: \\\" + appMeasurement.cookieRead(cookieName) + \\n                            \\\"\\\\nDocument cookie \\\" + appMeasurement._document.cookie),\\n                appMeasurement.cookieRead(cookieName) == cookieValue) : 0\\n    };\\n    appMeasurement.L = [];\\n    appMeasurement.ia = function (c, b, d) {\\n        if (appMeasurement.Fa) return 0;\\n        appMeasurement.maxDelay || (appMeasurement.maxDelay = 250);\\n        var f = 0,\\n            e = (new Date).getTime() + appMeasurement.maxDelay,\\n            g = appMeasurement._document.visibilityState,\\n            h = [\\\"webkitvisibilitychange\\\", \\\"visibilitychange\\\"];\\n        g || (g = appMeasurement._document.webkitVisibilityState);\\n        if (g && \\\"prerender\\\" == g) {\\n            if (!appMeasurement.ja)\\n                for (appMeasurement.ja = 1, d = 0; d < h.length; d++) appMeasurement._document.addEventListener(h[d], function () {\\n                    var c = appMeasurement._document.visibilityState;\\n                    c || (c = appMeasurement._document.webkitVisibilityState);\\n                    \\\"visible\\\" == c && (appMeasurement.ja = 0, appMeasurement.delayReady())\\n                });\\n            f = 1;\\n            e = 0\\n        } else d || appMeasurement.p(\\\"_d\\\") && (f = 1);\\n        f && (appMeasurement.L.push({\\n            m: c,\\n            a: b,\\n            t: e\\n        }), appMeasurement.ja || setTimeout(appMeasurement.delayReady, appMeasurement.maxDelay));\\n        return f\\n    };\\n    appMeasurement.delayReady = function () {\\n        var c = (new Date).getTime(),\\n            b = 0,\\n            d;\\n        for (appMeasurement.p(\\\"_d\\\") ? b = 1 : appMeasurement.xa(); 0 < appMeasurement.L.length;) {\\n            d = appMeasurement.L.shift();\\n            if (b && !d.t && d.t > c) {\\n                appMeasurement.L.unshift(d);\\n                setTimeout(appMeasurement.delayReady, parseInt(appMeasurement.maxDelay / 2));\\n                break\\n            }\\n            appMeasurement.Fa = 1;\\n            appMeasurement[d.m].apply(appMeasurement, d.a);\\n            appMeasurement.Fa = 0\\n        }\\n    };\\n    // Change report suites\\n    appMeasurement.setAccount = appMeasurement.sa = function (rsid) {\\n        var b, d;\\n        if (!appMeasurement.ia(\\\"setAccount\\\", arguments))\\n            if (appMeasurement.account = rsid, appMeasurement.allAccounts)\\n                for (b = appMeasurement.allAccounts.concat(rsid.split(\\\",\\\")), appMeasurement.allAccounts = [], b.sort(), d = 0; d < b.length; d++) 0 != d && b[d - 1] == b[d] || appMeasurement.allAccounts.push(b[d]);\\n            else appMeasurement.allAccounts = rsid.split(\\\",\\\")\\n    };\\n    appMeasurement.foreachVar = function (c, b) {\\n        var d, f, e, g, h = \\\"\\\";\\n        e = f = \\\"\\\";\\n        if (appMeasurement.lightProfileID) d = appMeasurement.P, (h = appMeasurement.lightTrackVars) && (h = \\\",\\\" + h + \\\",\\\" + appMeasurement.na.join(\\\",\\\") + \\\",\\\");\\n        else {\\n            d = appMeasurement.g;\\n            if (appMeasurement.pe || appMeasurement.linkType) h = appMeasurement.linkTrackVars, f = appMeasurement.linkTrackEvents,\\n                appMeasurement.pe && (e = appMeasurement.pe.substring(0, 1).toUpperCase() + appMeasurement.pe.substring(1), appMeasurement[e] && (h = appMeasurement[e].Nb, f = appMeasurement[e].Mb));\\n            h && (h = \\\",\\\" + h + \\\",\\\" + appMeasurement.H.join(\\\",\\\") + \\\",\\\");\\n            f && h && (h += \\\",events,\\\")\\n        }\\n        b && (b = \\\",\\\" + b + \\\",\\\");\\n        for (f = 0; f < d.length; f++) e = d[f], (g = appMeasurement[e]) && (!h || 0 <= h.indexOf(\\\",\\\" + e + \\\",\\\")) && (!b || 0 <= b.indexOf(\\\",\\\" + e + \\\",\\\")) && c(e, g)\\n    };\\n    appMeasurement.r = function (c, b, d, f, e) {\\n        var g = \\\"\\\",\\n            h, l, k, q, m = 0;\\n        \\\"contextData\\\" == c && (c = \\\"c\\\");\\n        if (b) {\\n            for (h in b)\\n                if (!(Object.prototype[h] || e && h.substring(0, e.length) != e) && b[h] && (!d || 0 <= d.indexOf(\\\",\\\" + (f ? f + \\\".\\\" : \\\"\\\") + h + \\\",\\\"))) {\\n                    k = !1;\\n                    if (m)\\n                        for (l = 0; l < m.length; l++) h.substring(0,\\n                            m[l].length) == m[l] && (k = !0);\\n                    if (!k && (\\\"\\\" == g && (g += \\\"&\\\" + c + \\\".\\\"), l = b[h], e && (h = h.substring(e.length)), 0 < h.length))\\n                        if (k = h.indexOf(\\\".\\\"), 0 < k) l = h.substring(0, k), k = (e ? e : \\\"\\\") + l + \\\".\\\", m || (m = []), m.push(k), g += appMeasurement.r(l, b, d, f, k);\\n                        else if (\\\"boolean\\\" == typeof l && (l = l ? \\\"true\\\" : \\\"false\\\"), l) {\\n                        if (\\\"retrieveLightData\\\" == f && 0 > e.indexOf(\\\".contextData.\\\")) switch (k = h.substring(0, 4), q = h.substring(4), h) {\\n                            case \\\"transactionID\\\":\\n                                h = \\\"xact\\\";\\n                                break;\\n                            case \\\"channel\\\":\\n                                h = \\\"ch\\\";\\n                                break;\\n                            case \\\"campaign\\\":\\n                                h = \\\"v0\\\";\\n                                break;\\n                            default:\\n                                appMeasurement.Ma(q) && (\\\"prop\\\" == k ? h = \\\"c\\\" + q : \\\"eVar\\\" == k ? h = \\\"v\\\" +\\n                                    q : \\\"list\\\" == k ? h = \\\"l\\\" + q : \\\"hier\\\" == k && (h = \\\"h\\\" + q, l = l.substring(0, 255)))\\n                        }\\n                        g += \\\"&\\\" + appMeasurement.escape(h) + \\\"=\\\" + appMeasurement.escape(l)\\n                    }\\n                }\\n            \\\"\\\" != g && (g += \\\"&.\\\" + c)\\n        }\\n        return g\\n    };\\n    appMeasurement.usePostbacks = 0;\\n    appMeasurement.zb = function () {\\n        var c = \\\"\\\",\\n            b, d, f, e, g, h, l, k, q = \\\"\\\",\\n            m = \\\"\\\",\\n            n = e = \\\"\\\";\\n        if (appMeasurement.lightProfileID) b = appMeasurement.P, (q = appMeasurement.lightTrackVars) && (q = \\\",\\\" + q + \\\",\\\" + appMeasurement.na.join(\\\",\\\") + \\\",\\\");\\n        else {\\n            b = appMeasurement.g;\\n            if (appMeasurement.pe || appMeasurement.linkType) q = appMeasurement.linkTrackVars, m = appMeasurement.linkTrackEvents, appMeasurement.pe && (e = appMeasurement.pe.substring(0, 1).toUpperCase() + appMeasurement.pe.substring(1), appMeasurement[e] && (q = appMeasurement[e].Nb, m = appMeasurement[e].Mb));\\n            q && (q = \\\",\\\" + q + \\\",\\\" + appMeasurement.H.join(\\\",\\\") + \\\",\\\");\\n            m && (m = \\\",\\\" + m + \\\",\\\", q && (q +=\\n                \\\",events,\\\"));\\n            appMeasurement.events2 && (n += (\\\"\\\" != n ? \\\",\\\" : \\\"\\\") + appMeasurement.events2)\\n        }\\n        if (appMeasurement.visitor && appMeasurement.visitor.getCustomerIDs) {\\n            e = p;\\n            if (g = appMeasurement.visitor.getCustomerIDs())\\n                for (d in g) Object.prototype[d] || (f = g[d], \\\"object\\\" == typeof f && (e || (e = {}), f.id && (e[d + \\\".id\\\"] = f.id), f.authState && (e[d + \\\".as\\\"] = f.authState)));\\n            e && (c += appMeasurement.r(\\\"cid\\\", e))\\n        }\\n        appMeasurement.AudienceManagement && appMeasurement.AudienceManagement.isReady() && (c += appMeasurement.r(\\\"d\\\", appMeasurement.AudienceManagement.getEventCallConfigParams()));\\n        for (d = 0; d < b.length; d++) {\\n            e = b[d];\\n            g = appMeasurement[e];\\n            f = e.substring(0, 4);\\n            h = e.substring(4);\\n            g || (\\\"events\\\" == e && n ? (g = n, n =\\n                \\\"\\\") : \\\"marketingCloudOrgID\\\" == e && appMeasurement.visitor && (g = appMeasurement.visitor.marketingCloudOrgID));\\n            if (g && (!q || 0 <= q.indexOf(\\\",\\\" + e + \\\",\\\"))) {\\n                switch (e) {\\n                    case \\\"customerPerspective\\\":\\n                        e = \\\"cp\\\";\\n                        break;\\n                    case \\\"marketingCloudOrgID\\\":\\n                        e = \\\"mcorgid\\\";\\n                        break;\\n                    case \\\"supplementalDataID\\\":\\n                        e = \\\"sdid\\\";\\n                        break;\\n                    case \\\"timestamp\\\":\\n                        e = \\\"ts\\\";\\n                        break;\\n                    case \\\"dynamicVariablePrefix\\\":\\n                        e = \\\"D\\\";\\n                        break;\\n                    case \\\"visitorID\\\":\\n                        e = \\\"vid\\\";\\n                        break;\\n                    case \\\"marketingCloudVisitorID\\\":\\n                        e = \\\"mid\\\";\\n                        break;\\n                    case \\\"analyticsVisitorID\\\":\\n                        e = \\\"aid\\\";\\n                        break;\\n                    case \\\"audienceManagerLocationHint\\\":\\n                        e = \\\"aamlh\\\";\\n                        break;\\n                    case \\\"audienceManagerBlob\\\":\\n                        e =\\n                            \\\"aamb\\\";\\n                        break;\\n                    case \\\"authState\\\":\\n                        e = \\\"as\\\";\\n                        break;\\n                    case \\\"pageURL\\\":\\n                        e = \\\"g\\\";\\n                        255 < g.length && (appMeasurement.pageURLRest = g.substring(255), g = g.substring(0, 255));\\n                        break;\\n                    case \\\"pageURLRest\\\":\\n                        e = \\\"-g\\\";\\n                        break;\\n                    case \\\"referrer\\\":\\n                        e = \\\"r\\\";\\n                        break;\\n                    case \\\"vmk\\\":\\n                    case \\\"visitorMigrationKey\\\":\\n                        e = \\\"vmt\\\";\\n                        break;\\n                    case \\\"visitorMigrationServer\\\":\\n                        e = \\\"vmf\\\";\\n                        appMeasurement.ssl && appMeasurement.visitorMigrationServerSecure && (g = \\\"\\\");\\n                        break;\\n                    case \\\"visitorMigrationServerSecure\\\":\\n                        e = \\\"vmf\\\";\\n                        !appMeasurement.ssl && appMeasurement.visitorMigrationServer && (g = \\\"\\\");\\n                        break;\\n                    case \\\"charSet\\\":\\n                        e = \\\"ce\\\";\\n                        break;\\n                    case \\\"visitorNamespace\\\":\\n                        e = \\\"ns\\\";\\n                        break;\\n                    case \\\"cookieDomainPeriods\\\":\\n                        e =\\n                            \\\"cdp\\\";\\n                        break;\\n                    case \\\"cookieLifetime\\\":\\n                        e = \\\"cl\\\";\\n                        break;\\n                    case \\\"variableProvider\\\":\\n                        e = \\\"vvp\\\";\\n                        break;\\n                    case \\\"currencyCode\\\":\\n                        e = \\\"cc\\\";\\n                        break;\\n                    case \\\"channel\\\":\\n                        e = \\\"ch\\\";\\n                        break;\\n                    case \\\"transactionID\\\":\\n                        e = \\\"xact\\\";\\n                        break;\\n                    case \\\"campaign\\\":\\n                        e = \\\"v0\\\";\\n                        break;\\n                    case \\\"latitude\\\":\\n                        e = \\\"lat\\\";\\n                        break;\\n                    case \\\"longitude\\\":\\n                        e = \\\"lon\\\";\\n                        break;\\n                    case \\\"resolution\\\":\\n                        e = \\\"s\\\";\\n                        break;\\n                    case \\\"colorDepth\\\":\\n                        e = \\\"c\\\";\\n                        break;\\n                    case \\\"javascriptVersion\\\":\\n                        e = \\\"j\\\";\\n                        break;\\n                    case \\\"javaEnabled\\\":\\n                        e = \\\"v\\\";\\n                        break;\\n                    case \\\"cookiesEnabled\\\":\\n                        e = \\\"k\\\";\\n                        break;\\n                    case \\\"browserWidth\\\":\\n                        e = \\\"bw\\\";\\n                        break;\\n                    case \\\"browserHeight\\\":\\n                        e = \\\"bh\\\";\\n                        break;\\n                    case \\\"connectionType\\\":\\n                        e = \\\"ct\\\";\\n                        break;\\n                    case \\\"homepage\\\":\\n                        e = \\\"hp\\\";\\n                        break;\\n                    case \\\"events\\\":\\n                        n && (g += (\\\"\\\" != g ? \\\",\\\" : \\\"\\\") + n);\\n                        if (m)\\n                            for (h = g.split(\\\",\\\"), g = \\\"\\\", f = 0; f < h.length; f++) l = h[f], k = l.indexOf(\\\"=\\\"), 0 <= k && (l = l.substring(0, k)), k = l.indexOf(\\\":\\\"), 0 <= k && (l = l.substring(0, k)), 0 <= m.indexOf(\\\",\\\" + l + \\\",\\\") && (g += (g ? \\\",\\\" : \\\"\\\") + h[f]);\\n                        break;\\n                    case \\\"events2\\\":\\n                        g = \\\"\\\";\\n                        break;\\n                    case \\\"contextData\\\":\\n                        c += appMeasurement.r(\\\"c\\\", appMeasurement[e], q, e);\\n                        g = \\\"\\\";\\n                        break;\\n                    case \\\"lightProfileID\\\":\\n                        e = \\\"mtp\\\";\\n                        break;\\n                    case \\\"lightStoreForSeconds\\\":\\n                        e = \\\"mtss\\\";\\n                        appMeasurement.lightProfileID || (g = \\\"\\\");\\n                        break;\\n                    case \\\"lightIncrementBy\\\":\\n                        e =\\n                            \\\"mti\\\";\\n                        appMeasurement.lightProfileID || (g = \\\"\\\");\\n                        break;\\n                    case \\\"retrieveLightProfiles\\\":\\n                        e = \\\"mtsr\\\";\\n                        break;\\n                    case \\\"deleteLightProfiles\\\":\\n                        e = \\\"mtsd\\\";\\n                        break;\\n                    case \\\"retrieveLightData\\\":\\n                        appMeasurement.retrieveLightProfiles && (c += appMeasurement.r(\\\"mts\\\", appMeasurement[e], q, e));\\n                        g = \\\"\\\";\\n                        break;\\n                    default:\\n                        appMeasurement.Ma(h) && (\\\"prop\\\" == f ? e = \\\"c\\\" + h : \\\"eVar\\\" == f ? e = \\\"v\\\" + h : \\\"list\\\" == f ? e = \\\"l\\\" + h : \\\"hier\\\" == f && (e = \\\"h\\\" + h, g = g.substring(0, 255)))\\n                }\\n                g && (c += \\\"&\\\" + e + \\\"=\\\" + (\\\"pev\\\" != e.substring(0, 3) ? appMeasurement.escape(g) : g))\\n            }\\n            \\\"pev3\\\" == e && appMeasurement.e && (c += appMeasurement.e)\\n        }\\n        return c\\n    };\\n    appMeasurement.D = function (a) {\\n        var b = a.tagName;\\n        if (\\\"undefined\\\" != \\\"\\\" + a.Sb || \\\"undefined\\\" != \\\"\\\" + a.Ib && \\\"HTML\\\" !=\\n            (\\\"\\\" + a.Ib).toUpperCase()) return \\\"\\\";\\n        b = b && b.toUpperCase ? b.toUpperCase() : \\\"\\\";\\n        \\\"SHAPE\\\" == b && (b = \\\"\\\");\\n        b && ((\\\"INPUT\\\" == b || \\\"BUTTON\\\" == b) && a.type && a.type.toUpperCase ? b = a.type.toUpperCase() : !b && a.href && (b = \\\"A\\\"));\\n        return b\\n    };\\n    appMeasurement.Ia = function (a) {\\n        var b = _window.location,\\n            d = a.href ? a.href : \\\"\\\",\\n            f, e, g;\\n        f = d.indexOf(\\\":\\\");\\n        e = d.indexOf(\\\"?\\\");\\n        g = d.indexOf(\\\"/\\\");\\n        d && (0 > f || 0 <= e && f > e || 0 <= g && f > g) && (e = a.protocol && 1 < a.protocol.length ? a.protocol : b.protocol ? b.protocol : \\\"\\\", f = b.pathname.lastIndexOf(\\\"/\\\"), d = (e ? e + \\\"//\\\" : \\\"\\\") + (a.host ? a.host : b.host ? b.host : \\\"\\\") + (\\\"/\\\" != d.substring(0,\\n            1) ? b.pathname.substring(0, 0 > f ? 0 : f) + \\\"/\\\" : \\\"\\\") + d);\\n        return d\\n    };\\n    appMeasurement.M = function (c) {\\n        var b = appMeasurement.D(c),\\n            d, f, e = \\\"\\\",\\n            g = 0;\\n        return b && (d = c.protocol, f = c.onclick, !c.href || \\\"A\\\" != b && \\\"AREA\\\" != b || f && d && !(0 > d.toLowerCase().indexOf(\\\"javascript\\\")) ? f ? (e = appMeasurement.replace(appMeasurement.replace(appMeasurement.replace(appMeasurement.replace(\\\"\\\" + f, \\\"\\\\r\\\", \\\"\\\"), \\\"\\\\n\\\", \\\"\\\"), \\\"\\\\t\\\", \\\"\\\"), \\\" \\\", \\\"\\\"), g = 2) : \\\"INPUT\\\" == b || \\\"SUBMIT\\\" == b ? (c.value ? e = c.value : c.innerText ? e = c.innerText : c.textContent && (e = c.textContent), g = 3) : \\\"IMAGE\\\" == b && c.src && (e = c.src) : e = appMeasurement.Ia(c), e) ? {\\n            id: e.substring(0, 100),\\n            type: g\\n        } : 0\\n    };\\n    appMeasurement.Qb = function (c) {\\n        for (var b =\\n                appMeasurement.D(c), d = appMeasurement.M(c); c && !d && \\\"BODY\\\" != b;)\\n            if (c = c.parentElement ? c.parentElement : c.parentNode) b = appMeasurement.D(c), d = appMeasurement.M(c);\\n        d && \\\"BODY\\\" != b || (c = 0);\\n        c && (b = c.onclick ? \\\"\\\" + c.onclick : \\\"\\\", 0 <= b.indexOf(\\\".tl(\\\") || 0 <= b.indexOf(\\\".trackLink(\\\")) && (c = 0);\\n        return c\\n    };\\n    appMeasurement.Hb = function () {\\n        var c, b, d = appMeasurement.linkObject,\\n            f = appMeasurement.linkType,\\n            e = appMeasurement.linkURL,\\n            g, h;\\n        appMeasurement.oa = 1;\\n        d || (appMeasurement.oa = 0, d = appMeasurement.clickObject);\\n        if (d) {\\n            c = appMeasurement.D(d);\\n            for (b = appMeasurement.M(d); d && !b && \\\"BODY\\\" != c;)\\n                if (d = d.parentElement ? d.parentElement : d.parentNode) c = appMeasurement.D(d), b = appMeasurement.M(d);\\n            b && \\\"BODY\\\" != c || (d = 0);\\n            if (d && !appMeasurement.linkObject) {\\n                var l = d.onclick ? \\\"\\\" + d.onclick :\\n                    \\\"\\\";\\n                if (0 <= l.indexOf(\\\".tl(\\\") || 0 <= l.indexOf(\\\".trackLink(\\\")) d = 0\\n            }\\n        } else appMeasurement.oa = 1;\\n        !e && d && (e = appMeasurement.Ia(d));\\n        e && !appMeasurement.linkLeaveQueryString && (g = e.indexOf(\\\"?\\\"), 0 <= g && (e = e.substring(0, g)));\\n        if (!f && e) {\\n            var m = 0,\\n                q = 0,\\n                n;\\n            if (appMeasurement.trackDownloadLinks && appMeasurement.linkDownloadFileTypes)\\n                for (l = e.toLowerCase(), g = l.indexOf(\\\"?\\\"), h = l.indexOf(\\\"#\\\"), 0 <= g ? 0 <= h && h < g && (g = h) : g = h, 0 <= g && (l = l.substring(0, g)), g = appMeasurement.linkDownloadFileTypes.toLowerCase().split(\\\",\\\"), h = 0; h < g.length; h++)(n = g[h]) && l.substring(l.length - (n.length + 1)) == \\\".\\\" + n && (f = \\\"d\\\");\\n            if (appMeasurement.trackExternalLinks &&\\n                !f && (l = e.toLowerCase(), appMeasurement.La(l) && (appMeasurement.linkInternalFilters || (appMeasurement.linkInternalFilters = _window.location.hostname), g = 0, appMeasurement.linkExternalFilters ? (g = appMeasurement.linkExternalFilters.toLowerCase().split(\\\",\\\"), m = 1) : appMeasurement.linkInternalFilters && (g = appMeasurement.linkInternalFilters.toLowerCase().split(\\\",\\\")), g))) {\\n                for (h = 0; h < g.length; h++) n = g[h], 0 <= l.indexOf(n) && (q = 1);\\n                q ? m && (f = \\\"e\\\") : m || (f = \\\"e\\\")\\n            }\\n        }\\n        appMeasurement.linkObject = d;\\n        appMeasurement.linkURL = e;\\n        appMeasurement.linkType = f;\\n        if (appMeasurement.trackClickMap || appMeasurement.trackInlineStats) appMeasurement.e = \\\"\\\", d && (f = appMeasurement.pageName, e = 1, d = d.sourceIndex, f || (f = appMeasurement.pageURL, e = 0), _window.s_objectID && (b.id =\\n            _window.s_objectID, d = b.type = 1), f && b && b.id && c && (appMeasurement.e = \\\"&pid=\\\" + appMeasurement.escape(f.substring(0, 255)) + (e ? \\\"&pidt=\\\" + e : \\\"\\\") + \\\"&oid=\\\" + appMeasurement.escape(b.id.substring(0, 100)) + (b.type ? \\\"&oidt=\\\" + b.type : \\\"\\\") + \\\"&ot=\\\" + c + (d ? \\\"&oi=\\\" + d : \\\"\\\")))\\n    };\\n\\n    appMeasurement.Ab = function () {\\n        var c = appMeasurement.oa,\\n            b = appMeasurement.linkType,\\n            d = appMeasurement.linkURL,\\n            f = appMeasurement.linkName;\\n        b && (d || f) && (b = b.toLowerCase(), \\\"d\\\" != b && \\\"e\\\" != b && (b = \\\"o\\\"), appMeasurement.pe = \\\"lnk_\\\" + b, appMeasurement.pev1 = d ? appMeasurement.escape(d) : \\\"\\\", appMeasurement.pev2 = f ? appMeasurement.escape(f) : \\\"\\\", c = 1);\\n        appMeasurement.abort && (c = 0);\\n        if (appMeasurement.trackClickMap || appMeasurement.trackInlineStats || appMeasurement.ActivityMap) {\\n            var b = {},\\n                d = 0,\\n                e = appMeasurement.cookieRead(\\\"s_sq\\\"),\\n                g = e ? e.split(\\\"&\\\") :\\n                0,\\n                h, l, k, e = 0;\\n            if (g)\\n                for (h = 0; h < g.length; h++) l = g[h].split(\\\"=\\\"), f = appMeasurement.unescape(l[0]).split(\\\",\\\"), l = appMeasurement.unescape(l[1]), b[l] = f;\\n            f = appMeasurement.account.split(\\\",\\\");\\n            h = {};\\n            for (k in appMeasurement.contextData) k && !Object.prototype[k] && \\\"a.activitymap.\\\" == k.substring(0, 14) && (h[k] = appMeasurement.contextData[k], appMeasurement.contextData[k] = \\\"\\\");\\n            appMeasurement.e = appMeasurement.r(\\\"c\\\", h) + (appMeasurement.e ? appMeasurement.e : \\\"\\\");\\n            if (c || appMeasurement.e) {\\n                c && !appMeasurement.e && (e = 1);\\n                for (l in b)\\n                    if (!Object.prototype[l])\\n                        for (k = 0; k < f.length; k++)\\n                            for (e && (g = b[l].join(\\\",\\\"), g == appMeasurement.account && (appMeasurement.e += (\\\"&\\\" != l.charAt(0) ? \\\"&\\\" : \\\"\\\") + l, b[l] = [], d = 1)), h = 0; h < b[l].length; h++) g = b[l][h],\\n                                g == f[k] && (e && (appMeasurement.e += \\\"&u=\\\" + appMeasurement.escape(g) + (\\\"&\\\" != l.charAt(0) ? \\\"&\\\" : \\\"\\\") + l + \\\"&u=0\\\"), b[l].splice(h, 1), d = 1);\\n                c || (d = 1);\\n                if (d) {\\n                    e = \\\"\\\";\\n                    h = 2;\\n                    !c && appMeasurement.e && (e = appMeasurement.escape(f.join(\\\",\\\")) + \\\"=\\\" + appMeasurement.escape(appMeasurement.e), h = 1);\\n                    for (l in b) !Object.prototype[l] && 0 < h && 0 < b[l].length && (e += (e ? \\\"&\\\" : \\\"\\\") + appMeasurement.escape(b[l].join(\\\",\\\")) + \\\"=\\\" + appMeasurement.escape(l), h--);\\n                    appMeasurement.cookieWrite(\\\"s_sq\\\", e)\\n                }\\n            }\\n        }\\n        return c\\n    };\\n    //\\n    // Prepare query params\\n    //\\n    appMeasurement.Bb = function () {\\n        if (!appMeasurement.Lb) {\\n            var c = new Date,\\n                b = n.location,\\n                d, f, e = f = d = \\\"\\\",\\n                g = \\\"\\\",\\n                h = \\\"\\\",\\n                l = \\\"1.2\\\",\\n                // TODO: !!! This appears to be the problematic param\\n                k = appMeasurement.cookieWrite(\\\"s_cc\\\", \\\"true\\\", 0) ? \\\"Y\\\" : \\\"N\\\",\\n                m = \\\"\\\",\\n                p = \\\"\\\";\\n            if (c.setUTCDate && (l = \\\"1.3\\\", (0).toPrecision &&\\n                    (l = \\\"1.5\\\", c = [], c.forEach))) {\\n                l = \\\"1.6\\\";\\n                f = 0;\\n                d = {};\\n                try {\\n                    f = new Iterator(d), f.next && (l = \\\"1.7\\\", c.reduce && (l = \\\"1.8\\\", l.trim && (l = \\\"1.8.1\\\", Date.parse && (l = \\\"1.8.2\\\", Object.create && (l = \\\"1.8.5\\\")))))\\n                } catch (r) {}\\n            }\\n            d = screen.width + \\\"x\\\" + screen.height;\\n            e = navigator.javaEnabled() ? \\\"Y\\\" : \\\"N\\\";\\n            f = screen.pixelDepth ? screen.pixelDepth : screen.colorDepth;\\n            g = appMeasurement.w.innerWidth ? appMeasurement.w.innerWidth : appMeasurement._document.documentElement.offsetWidth;\\n            h = appMeasurement.w.innerHeight ? appMeasurement.w.innerHeight : appMeasurement._document.documentElement.offsetHeight;\\n            try {\\n                appMeasurement.b.addBehavior(\\\"#default#homePage\\\"), m = appMeasurement.b.Rb(b) ? \\\"Y\\\" : \\\"N\\\"\\n            } catch (s) {}\\n            try {\\n                appMeasurement.b.addBehavior(\\\"#default#clientCaps\\\"),\\n                    p = appMeasurement.b.connectionType\\n            } catch (t) {}\\n            appMeasurement.resolution = d;\\n            appMeasurement.colorDepth = f;\\n            appMeasurement.javascriptVersion = l;\\n            appMeasurement.javaEnabled = e;\\n            appMeasurement.cookiesEnabled = k;\\n            appMeasurement.browserWidth = g;\\n            appMeasurement.browserHeight = h;\\n            appMeasurement.connectionType = p;\\n            appMeasurement.homepage = m;\\n            appMeasurement.Lb = 1\\n        }\\n    };\\n    appMeasurement.Q = {};\\n    appMeasurement.loadModule = function (c, b) {\\n        var d = appMeasurement.Q[c];\\n        if (!d) {\\n            d = _window[\\\"AppMeasurement_Module_\\\" + c] ? new _window[\\\"AppMeasurement_Module_\\\" + c](appMeasurement) : {};\\n            appMeasurement.Q[c] = appMeasurement[c] = d;\\n            d.eb = function () {\\n                return d.ib\\n            };\\n            d.jb = function (b) {\\n                if (d.ib = b) appMeasurement[c + \\\"_onLoad\\\"] = b, appMeasurement.ia(c + \\\"_onLoad\\\", [appMeasurement, d], 1) || b(appMeasurement, d)\\n            };\\n            try {\\n                Object.defineProperty ? Object.defineProperty(d, \\\"onLoad\\\", {\\n                    get: d.eb,\\n                    set: d.jb\\n                }) : d._olc = 1\\n            } catch (f) {\\n                d._olc = 1\\n            }\\n        }\\n        b && (appMeasurement[c + \\\"_onLoad\\\"] = b, appMeasurement.ia(c + \\\"_onLoad\\\", [appMeasurement, d], 1) || b(appMeasurement, d))\\n    };\\n    appMeasurement.p = function (c) {\\n        var b, d;\\n        for (b in appMeasurement.Q)\\n            if (!Object.prototype[b] && (d = appMeasurement.Q[b]) && (d._olc && d.onLoad && (d._olc = 0, d.onLoad(appMeasurement, d)), d[c] && d[c]())) return 1;\\n        return 0\\n    };\\n    appMeasurement.Db = function () {\\n        var c = Math.floor(1E13 * Math.random()),\\n            b = appMeasurement.visitorSampling,\\n            d = appMeasurement.visitorSamplingGroup,\\n            d = \\\"s_vsn_\\\" + (appMeasurement.visitorNamespace ? appMeasurement.visitorNamespace : appMeasurement.account) + (d ? \\\"_\\\" + d : \\\"\\\"),\\n            f = appMeasurement.cookieRead(d);\\n        if (b) {\\n            b *= 100;\\n            f && (f = parseInt(f));\\n            if (!f) {\\n                if (!appMeasurement.cookieWrite(d,\\n                        c)) return 0;\\n                f = c\\n            }\\n            if (f % 1E4 > b) return 0\\n        }\\n        return 1\\n    };\\n    appMeasurement.R = function (c, b) {\\n        var d, f, e, g, h, l;\\n        for (d = 0; 2 > d; d++)\\n            for (f = 0 < d ? appMeasurement.Aa : appMeasurement.g, e = 0; e < f.length; e++)\\n                if (g = f[e], (h = c[g]) || c[\\\"!\\\" + g]) {\\n                    if (!b && (\\\"contextData\\\" == g || \\\"retrieveLightData\\\" == g) && appMeasurement[g])\\n                        for (l in appMeasurement[g]) h[l] || (h[l] = appMeasurement[g][l]);\\n                    appMeasurement[g] = h\\n                }\\n    };\\n    appMeasurement.Va = function (c, b) {\\n        var d, f, e, g;\\n        for (d = 0; 2 > d; d++)\\n            for (f = 0 < d ? appMeasurement.Aa : appMeasurement.g, e = 0; e < f.length; e++) g = f[e], c[g] = appMeasurement[g], b || c[g] || (c[\\\"!\\\" + g] = 1)\\n    };\\n    appMeasurement.vb = function (a) {\\n        var b, d, f, e, g, h = 0,\\n            l, k = \\\"\\\",\\n            m = \\\"\\\";\\n        if (a && 255 < a.length && (b = \\\"\\\" + a, d = b.indexOf(\\\"?\\\"), 0 < d && (l = b.substring(d +\\n                1), b = b.substring(0, d), e = b.toLowerCase(), f = 0, \\\"http://\\\" == e.substring(0, 7) ? f += 7 : \\\"https://\\\" == e.substring(0, 8) && (f += 8), d = e.indexOf(\\\"/\\\", f), 0 < d && (e = e.substring(f, d), g = b.substring(d), b = b.substring(0, d), 0 <= e.indexOf(\\\"google\\\") ? h = \\\",q,ie,start,search_key,word,kw,cd,\\\" : 0 <= e.indexOf(\\\"yahoo.co\\\") && (h = \\\",p,ei,\\\"), h && l)))) {\\n            if ((a = l.split(\\\"&\\\")) && 1 < a.length) {\\n                for (f = 0; f < a.length; f++) e = a[f], d = e.indexOf(\\\"=\\\"), 0 < d && 0 <= h.indexOf(\\\",\\\" + e.substring(0, d) + \\\",\\\") ? k += (k ? \\\"&\\\" : \\\"\\\") + e : m += (m ? \\\"&\\\" : \\\"\\\") + e;\\n                k && m ? l = k + \\\"&\\\" + m : m = \\\"\\\"\\n            }\\n            d = 253 - (l.length - m.length) -\\n                b.length;\\n            a = b + (0 < d ? g.substring(0, d) : \\\"\\\") + \\\"?\\\" + l\\n        }\\n        return a\\n    };\\n    appMeasurement.ab = function (c) {\\n        var b = appMeasurement._document.visibilityState,\\n            d = [\\\"webkitvisibilitychange\\\", \\\"visibilitychange\\\"];\\n        b || (b = appMeasurement._document.webkitVisibilityState);\\n        if (b && \\\"prerender\\\" == b) {\\n            if (c)\\n                for (b = 0; b < d.length; b++) appMeasurement._document.addEventListener(d[b], function () {\\n                    var b = appMeasurement._document.visibilityState;\\n                    b || (b = appMeasurement._document.webkitVisibilityState);\\n                    \\\"visible\\\" == b && c()\\n                });\\n            return !1\\n        }\\n        return !0\\n    };\\n    appMeasurement.ea = !1;\\n    appMeasurement.J = !1;\\n    appMeasurement.lb = function () {\\n        appMeasurement.J = !0;\\n        appMeasurement.j()\\n    };\\n    appMeasurement.ca = !1;\\n    appMeasurement.V = !1;\\n    appMeasurement.hb = function (c) {\\n        appMeasurement.marketingCloudVisitorID = c;\\n        appMeasurement.V = !0;\\n        appMeasurement.j()\\n    };\\n    appMeasurement.fa = !1;\\n    appMeasurement.W = !1;\\n    appMeasurement.mb =\\n        function (c) {\\n            appMeasurement.visitorOptedOut = c;\\n            appMeasurement.W = !0;\\n            appMeasurement.j()\\n        };\\n    appMeasurement.Z = !1;\\n    appMeasurement.S = !1;\\n    appMeasurement.Xa = function (c) {\\n        appMeasurement.analyticsVisitorID = c;\\n        appMeasurement.S = !0;\\n        appMeasurement.j()\\n    };\\n    appMeasurement.ba = !1;\\n    appMeasurement.U = !1;\\n    appMeasurement.Za = function (c) {\\n        appMeasurement.audienceManagerLocationHint = c;\\n        appMeasurement.U = !0;\\n        appMeasurement.j()\\n    };\\n    appMeasurement.aa = !1;\\n    appMeasurement.T = !1;\\n    appMeasurement.Ya = function (c) {\\n        appMeasurement.audienceManagerBlob = c;\\n        appMeasurement.T = !0;\\n        appMeasurement.j()\\n    };\\n    appMeasurement.$a = function (c) {\\n        appMeasurement.maxDelay || (appMeasurement.maxDelay = 250);\\n        return appMeasurement.p(\\\"_d\\\") ? (c && setTimeout(function () {\\n            c()\\n        }, appMeasurement.maxDelay), !1) : !0\\n    };\\n    appMeasurement.da = !1;\\n    appMeasurement.I = !1;\\n    appMeasurement.xa = function () {\\n        appMeasurement.I = !0;\\n        appMeasurement.j()\\n    };\\n    appMeasurement.isReadyToTrack = function () {\\n        var c = !0,\\n            b = appMeasurement.visitor,\\n            d, f, e;\\n        appMeasurement.ea || appMeasurement.J || (appMeasurement.ab(appMeasurement.lb) ? appMeasurement.J = !0 : appMeasurement.ea = !0);\\n        if (appMeasurement.ea && !appMeasurement.J) return !1;\\n        b && b.isAllowed() && (appMeasurement.ca || appMeasurement.marketingCloudVisitorID || !b.getMarketingCloudVisitorID || (appMeasurement.ca = !0, appMeasurement.marketingCloudVisitorID = b.getMarketingCloudVisitorID([appMeasurement, appMeasurement.hb]), appMeasurement.marketingCloudVisitorID && (appMeasurement.V = !0)), appMeasurement.fa || appMeasurement.visitorOptedOut || !b.isOptedOut || (appMeasurement.fa = !0, appMeasurement.visitorOptedOut = b.isOptedOut([appMeasurement, appMeasurement.mb]), appMeasurement.visitorOptedOut != p && (appMeasurement.W = !0)), appMeasurement.Z || appMeasurement.analyticsVisitorID || !b.getAnalyticsVisitorID || (appMeasurement.Z = !0, appMeasurement.analyticsVisitorID = b.getAnalyticsVisitorID([appMeasurement, appMeasurement.Xa]), appMeasurement.analyticsVisitorID && (appMeasurement.S = !0)), appMeasurement.ba ||\\n            appMeasurement.audienceManagerLocationHint || !b.getAudienceManagerLocationHint || (appMeasurement.ba = !0, appMeasurement.audienceManagerLocationHint = b.getAudienceManagerLocationHint([appMeasurement, appMeasurement.Za]), appMeasurement.audienceManagerLocationHint && (appMeasurement.U = !0)), appMeasurement.aa || appMeasurement.audienceManagerBlob || !b.getAudienceManagerBlob || (appMeasurement.aa = !0, appMeasurement.audienceManagerBlob = b.getAudienceManagerBlob([appMeasurement, appMeasurement.Ya]), appMeasurement.audienceManagerBlob && (appMeasurement.T = !0)), c = appMeasurement.ca && !appMeasurement.V && !appMeasurement.marketingCloudVisitorID, b = appMeasurement.Z && !appMeasurement.S && !appMeasurement.analyticsVisitorID, d = appMeasurement.ba && !appMeasurement.U && !appMeasurement.audienceManagerLocationHint, f = appMeasurement.aa && !appMeasurement.T && !appMeasurement.audienceManagerBlob,\\n            e = appMeasurement.fa && !appMeasurement.W, c = c || b || d || f || e ? !1 : !0);\\n        appMeasurement.da || appMeasurement.I || (appMeasurement.$a(appMeasurement.xa) ? appMeasurement.I = !0 : appMeasurement.da = !0);\\n        appMeasurement.da && !appMeasurement.I && (c = !1);\\n        return c\\n    };\\n    appMeasurement.o = p;\\n    appMeasurement.u = 0;\\n    appMeasurement.callbackWhenReadyToTrack = function (c, b, d) {\\n        var f;\\n        f = {};\\n        f.qb = c;\\n        f.pb = b;\\n        f.nb = d;\\n        appMeasurement.o == p && (appMeasurement.o = []);\\n        appMeasurement.o.push(f);\\n        0 == appMeasurement.u && (appMeasurement.u = setInterval(appMeasurement.j, 100))\\n    };\\n    appMeasurement.j = function () {\\n        var c;\\n        if (appMeasurement.isReadyToTrack() && (appMeasurement.kb(), appMeasurement.o != p))\\n            for (; 0 < appMeasurement.o.length;) c = appMeasurement.o.shift(), c.pb.apply(c.qb, c.nb)\\n    };\\n    appMeasurement.kb = function () {\\n        appMeasurement.u && (clearInterval(appMeasurement.u), appMeasurement.u = 0)\\n    };\\n    appMeasurement.fb = function (c) {\\n        var b, d, f = p,\\n            e = p;\\n        if (!appMeasurement.isReadyToTrack()) {\\n            b = [];\\n            if (c != p)\\n                for (d in f = {}, c) f[d] = c[d];\\n            e = {};\\n            appMeasurement.Va(e, !0);\\n            b.push(f);\\n            b.push(e);\\n            appMeasurement.callbackWhenReadyToTrack(appMeasurement, appMeasurement.track, b);\\n            return !0\\n        }\\n        return !1\\n    };\\n    appMeasurement.xb = function () {\\n        var c = appMeasurement.cookieRead(\\\"s_fid\\\"),\\n            b = \\\"\\\",\\n            d = \\\"\\\",\\n            f;\\n        f = 8;\\n        var e = 4;\\n        if (!c || 0 > c.indexOf(\\\"-\\\")) {\\n            for (c = 0; 16 > c; c++) f = Math.floor(Math.random() * f), b += \\\"0123456789ABCDEF\\\".substring(f, f + 1), f = Math.floor(Math.random() * e), d += \\\"0123456789ABCDEF\\\".substring(f, f + 1), f = e = 16;\\n            c = b + \\\"-\\\" + d\\n        }\\n        appMeasurement.cookieWrite(\\\"s_fid\\\", c, 1) || (c = 0);\\n        return c\\n    };\\n    // -------------------\\n    // Track Page View\\n    // https://marketing.adobe.com/resources/help/en_US/sc/implement/function_t.html\\n    appMeasurement.t = appMeasurement.track = function (c, b) {\\n        var d,\\n            timestamp = new Date,\\n            // e => Randomly generated visitor ID?\\n            e = \\\"s\\\" + Math.floor(timestamp.getTime() / 108E5) % 10 +\\n            Math.floor(1E13 * Math.random()),\\n            // g => url escaped timestamp query param\\n            g = timestamp.getYear(),\\n            g = \\\"t=\\\" + appMeasurement.escape(timestamp.getDate() +\\n                \\\"/\\\" + timestamp.getMonth() + \\\"/\\\" + (1900 > g ? g + 1900 : g) +\\n                \\\" \\\" + timestamp.getHours() + \\\":\\\" + timestamp.getMinutes() + \\\":\\\" +\\n                timestamp.getSeconds() + \\\" \\\" + timestamp.getDay() + \\\" \\\" + timestamp.getTimezoneOffset());\\n        appMeasurement.visitor && appMeasurement.visitor.getAuthState && (appMeasurement.authState = appMeasurement.visitor.getAuthState());\\n        appMeasurement.p(\\\"_s\\\");\\n        appMeasurement.fb(c) ||\\n            (b && appMeasurement.R(b),\\n                c &&\\n                (d = {},\\n                    appMeasurement.Va(d, 0),\\n                    appMeasurement.R(c)),\\n                appMeasurement.Db() &&\\n                !appMeasurement.visitorOptedOut &&\\n                (appMeasurement.analyticsVisitorID || appMeasurement.marketingCloudVisitorID ||\\n                    (appMeasurement.fid = appMeasurement.xb()),\\n                    appMeasurement.Hb(),\\n                    appMeasurement.usePlugins &&\\n                    appMeasurement.doPlugins &&\\n                    appMeasurement.doPlugins(appMeasurement),\\n                    appMeasurement.account &&\\n                    (appMeasurement.abort ||\\n                        (appMeasurement.trackOffline &&\\n                            !appMeasurement.timestamp &&\\n                            (appMeasurement.timestamp = Math.floor(timestamp.getTime() / 1E3)),\\n                            timestamp = _window.location,\\n                            appMeasurement.pageURL ||\\n                            (appMeasurement.pageURL = timestamp.href ? timestamp.href : timestamp),\\n                            appMeasurement.referrer ||\\n                            appMeasurement.Wa ||\\n                            (timestamp = appMeasurement.Util.getQueryParam(\\\"adobe_mc_ref\\\", null, null, !0),\\n                                appMeasurement.referrer = timestamp ||\\n                                void 0 === timestamp ? void 0 === timestamp ? \\\"\\\" : timestamp : n.document.referrer),\\n                            appMeasurement.Wa = 1,\\n                            appMeasurement.referrer = appMeasurement.vb(appMeasurement.referrer),\\n                            appMeasurement.p(\\\"_g\\\")),\\n                        appMeasurement.Ab() &&\\n                        !appMeasurement.abort &&\\n                        (appMeasurement.visitor && !appMeasurement.supplementalDataID && appMeasurement.visitor.getSupplementalDataID &&\\n                            (appMeasurement.supplementalDataID = appMeasurement.visitor.getSupplementalDataID(\\\"AppMeasurement:\\\" + appMeasurement._in, appMeasurement.expectSupplementalData ? !1 : !0)),\\n                            // Query param setup\\n                            appMeasurement.Bb(),\\n                            g += appMeasurement.zb(),\\n                            appMeasurement.Gb(e, g),\\n                            appMeasurement.p(\\\"_t\\\"),\\n                            appMeasurement.referrer = \\\"\\\"))),\\n                c &&\\n                appMeasurement.R(d, 1));\\n        appMeasurement.abort = appMeasurement.supplementalDataID = appMeasurement.timestamp = appMeasurement.pageURLRest = appMeasurement.linkObject = appMeasurement.clickObject = appMeasurement.linkURL = appMeasurement.linkName = appMeasurement.linkType = _window.s_objectID = appMeasurement.pe = appMeasurement.pev1 = appMeasurement.pev2 = appMeasurement.pev3 = appMeasurement.e = appMeasurement.lightProfileID = 0\\n    };\\n\\n    appMeasurement.za = [];\\n    appMeasurement.registerPreTrackCallback = function (c) {\\n        for (var b = [], d = 1; d < arguments.length; d++) b.push(arguments[d]);\\n        \\\"function\\\" == typeof c ? appMeasurement.za.push([c, b]) : appMeasurement.debugTracking && appMeasurement.F(\\\"DEBUG: Non function type passed to registerPreTrackCallback\\\")\\n    };\\n    appMeasurement.cb = function (c) {\\n        appMeasurement.wa(appMeasurement.za,\\n            c)\\n    };\\n    appMeasurement.ya = [];\\n    appMeasurement.registerPostTrackCallback = function (c) {\\n        for (var b = [], d = 1; d < arguments.length; d++) b.push(arguments[d]);\\n        \\\"function\\\" == typeof c ? appMeasurement.ya.push([c, b]) : appMeasurement.debugTracking && appMeasurement.F(\\\"DEBUG: Non function type passed to registerPostTrackCallback\\\")\\n    };\\n    appMeasurement.bb = function (c) {\\n        appMeasurement.wa(appMeasurement.ya, c)\\n    };\\n    appMeasurement.wa = function (c, b) {\\n        if (\\\"object\\\" == typeof c)\\n            for (var d = 0; d < c.length; d++) {\\n                var f = c[d][0],\\n                    e = c[d][1];\\n                e.unshift(b);\\n                if (\\\"function\\\" == typeof f) try {\\n                    f.apply(null, e)\\n                } catch (g) {\\n                    appMeasurement.debugTracking && appMeasurement.F(g.message)\\n                }\\n            }\\n    };\\n    // Link Tracking for tracking exits and file downloads\\n    // https://marketing.adobe.com/resources/help/en_US/sc/implement/function_tl.html\\n    appMeasurement.tl = appMeasurement.trackLink = function (c, b, d, f, e) {\\n        appMeasurement.linkObject =\\n            c;\\n        appMeasurement.linkType = b;\\n        appMeasurement.linkName = d;\\n        e && (appMeasurement.l = c, appMeasurement.A = e);\\n        return appMeasurement.track(f)\\n    };\\n    appMeasurement.trackLight = function (c, b, d, f) {\\n        appMeasurement.lightProfileID = c;\\n        appMeasurement.lightStoreForSeconds = b;\\n        appMeasurement.lightIncrementBy = d;\\n        return appMeasurement.track(f)\\n    };\\n    appMeasurement.clearVars = function () {\\n        var c, b;\\n        for (c = 0; c < appMeasurement.g.length; c++)\\n            if (b = appMeasurement.g[c], \\\"prop\\\" == b.substring(0, 4) || \\\"eVar\\\" == b.substring(0, 4) || \\\"hier\\\" == b.substring(0, 4) || \\\"list\\\" == b.substring(0, 4) || \\\"channel\\\" == b || \\\"events\\\" == b || \\\"eventList\\\" == b || \\\"products\\\" == b || \\\"productList\\\" == b || \\\"purchaseID\\\" == b || \\\"transactionID\\\" == b || \\\"state\\\" == b || \\\"zip\\\" == b || \\\"campaign\\\" == b) appMeasurement[b] =\\n                void 0\\n    };\\n    appMeasurement.tagContainerMarker = \\\"\\\";\\n    appMeasurement.Gb = function (c, b) {\\n        var d, f = appMeasurement.trackingServer;\\n        d = \\\"\\\";\\n        var e = appMeasurement.dc,\\n            g = \\\"sc.\\\",\\n            h = appMeasurement.visitorNamespace;\\n        f ? appMeasurement.trackingServerSecure && appMeasurement.ssl && (f = appMeasurement.trackingServerSecure) : (h || (h = appMeasurement.account, f = h.indexOf(\\\",\\\"), 0 <= f && (h = h.substring(0, f)), h = h.replace(/[^A-Za-z0-9]/g, \\\"\\\")), d || (d = \\\"2o7.net\\\"), e = e ? (\\\"\\\" + e).toLowerCase() : \\\"d1\\\", \\\"2o7.net\\\" == d && (\\\"d1\\\" == e ? e = \\\"112\\\" : \\\"d2\\\" == e && (e = \\\"122\\\"), g = \\\"\\\"), f = h + \\\".\\\" + e + \\\".\\\" + g + d);\\n        d = appMeasurement.ssl ? \\\"https://\\\" : \\\"http://\\\";\\n        e = appMeasurement.AudienceManagement && appMeasurement.AudienceManagement.isReady() || 0 != appMeasurement.usePostbacks;\\n        d +=\\n            f + \\\"/b/ss/\\\" + appMeasurement.account + \\\"/\\\" + (appMeasurement.mobile ? \\\"5.\\\" : \\\"\\\") + (e ? \\\"10\\\" : \\\"1\\\") + \\\"/JS-\\\" + appMeasurement.version + (appMeasurement.Kb ? \\\"T\\\" : \\\"\\\") + (appMeasurement.tagContainerMarker ? \\\"-\\\" + appMeasurement.tagContainerMarker : \\\"\\\") + \\\"/\\\" + c + \\\"?AQB=1&ndh=1&pf=1&\\\" + (e ? \\\"callback=s_c_il[\\\" + appMeasurement._in + \\\"].doPostbacks&et=1&\\\" : \\\"\\\") + b + \\\"&AQE=1\\\";\\n        appMeasurement.cb(d);\\n        appMeasurement.tb(d);\\n        appMeasurement.ka()\\n    };\\n    appMeasurement.Ua = /{(%?)(.*?)(%?)}/;\\n    appMeasurement.Ob = RegExp(appMeasurement.Ua.source, \\\"g\\\");\\n    appMeasurement.ub = function (c) {\\n        if (\\\"object\\\" == typeof c.dests)\\n            for (var b = 0; b < c.dests.length; ++b) {\\n                var d = c.dests[b];\\n                if (\\\"string\\\" == typeof d.c && \\\"aa.\\\" == d.id.substr(0, 3))\\n                    for (var f = d.c.match(appMeasurement.Ob), e = 0; e < f.length; ++e) {\\n                        var g =\\n                            f[e],\\n                            h = g.match(appMeasurement.Ua),\\n                            k = \\\"\\\";\\n                        \\\"%\\\" == h[1] && \\\"timezone_offset\\\" == h[2] ? k = (new Date).getTimezoneOffset() : \\\"%\\\" == h[1] && \\\"timestampz\\\" == h[2] && (k = appMeasurement.yb());\\n                        d.c = d.c.replace(g, appMeasurement.escape(k))\\n                    }\\n            }\\n    };\\n    appMeasurement.yb = function () {\\n        var c = new Date,\\n            b = new Date(6E4 * Math.abs(c.getTimezoneOffset()));\\n        return appMeasurement.k(4, c.getFullYear()) + \\\"-\\\" + appMeasurement.k(2, c.getMonth() + 1) + \\\"-\\\" + appMeasurement.k(2, c.getDate()) + \\\"T\\\" + appMeasurement.k(2, c.getHours()) + \\\":\\\" + appMeasurement.k(2, c.getMinutes()) + \\\":\\\" + appMeasurement.k(2, c.getSeconds()) + (0 < c.getTimezoneOffset() ? \\\"-\\\" : \\\"+\\\") + appMeasurement.k(2, b.getUTCHours()) + \\\":\\\" + appMeasurement.k(2, b.getUTCMinutes())\\n    };\\n    appMeasurement.k = function (a,\\n        b) {\\n        return (Array(a + 1).join(0) + b).slice(-a)\\n    };\\n    appMeasurement.ta = {};\\n    appMeasurement.doPostbacks = function (c) {\\n        if (\\\"object\\\" == typeof c)\\n            if (appMeasurement.ub(c), \\\"object\\\" == typeof appMeasurement.AudienceManagement && \\\"function\\\" == typeof appMeasurement.AudienceManagement.isReady && appMeasurement.AudienceManagement.isReady() && \\\"function\\\" == typeof appMeasurement.AudienceManagement.passData) appMeasurement.AudienceManagement.passData(c);\\n            else if (\\\"object\\\" == typeof c && \\\"object\\\" == typeof c.dests)\\n            for (var b = 0; b < c.dests.length; ++b) {\\n                var d = c.dests[b];\\n                \\\"object\\\" == typeof d && \\\"string\\\" == typeof d.c && \\\"string\\\" == typeof d.id && \\\"aa.\\\" == d.id.substr(0,\\n                    3) && (appMeasurement.ta[d.id] = new Image, appMeasurement.ta[d.id].alt = \\\"\\\", appMeasurement.ta[d.id].src = d.c)\\n            }\\n    };\\n    appMeasurement.tb = function (c) {\\n        appMeasurement.i || appMeasurement.Cb();\\n        appMeasurement.i.push(c);\\n        appMeasurement.ma = appMeasurement.C();\\n        appMeasurement.Sa()\\n    };\\n    appMeasurement.Cb = function () {\\n        appMeasurement.i = appMeasurement.Eb();\\n        appMeasurement.i || (appMeasurement.i = [])\\n    };\\n    appMeasurement.Eb = function () {\\n        var c, b;\\n        if (appMeasurement.ra()) {\\n            try {\\n                (b = _window.localStorage.getItem(appMeasurement.pa())) && (c = _window.JSON.parse(b))\\n            } catch (d) {}\\n            return c\\n        }\\n    };\\n    appMeasurement.ra = function () {\\n        var c = !0;\\n        appMeasurement.trackOffline && appMeasurement.offlineFilename && _window.localStorage && _window.JSON || (c = !1);\\n        return c\\n    };\\n    appMeasurement.Ja = function () {\\n        var c = 0;\\n        appMeasurement.i && (c = appMeasurement.i.length);\\n        appMeasurement.q && c++;\\n        return c\\n    };\\n    appMeasurement.ka = function () {\\n        if (appMeasurement.q && (appMeasurement.B && appMeasurement.B.complete && appMeasurement.B.G && appMeasurement.B.va(),\\n                appMeasurement.q)) return;\\n        appMeasurement.Ka = p;\\n        if (appMeasurement.qa) appMeasurement.ma > appMeasurement.O && appMeasurement.Qa(appMeasurement.i), appMeasurement.ua(500);\\n        else {\\n            var c = appMeasurement.ob();\\n            if (0 < c) appMeasurement.ua(c);\\n            else if (c = appMeasurement.Ga()) appMeasurement.q = 1, appMeasurement.Fb(c), appMeasurement.Jb(c)\\n        }\\n    };\\n    appMeasurement.ua = function (c) {\\n        appMeasurement.Ka || (c || (c = 0), appMeasurement.Ka = setTimeout(appMeasurement.ka, c))\\n    };\\n    appMeasurement.ob = function () {\\n        var c;\\n        if (!appMeasurement.trackOffline || 0 >= appMeasurement.offlineThrottleDelay) return 0;\\n        c = appMeasurement.C() - appMeasurement.Pa;\\n        return appMeasurement.offlineThrottleDelay < c ? 0 : appMeasurement.offlineThrottleDelay - c\\n    };\\n    appMeasurement.Ga = function () {\\n        if (0 < appMeasurement.i.length) return appMeasurement.i.shift()\\n    };\\n    appMeasurement.Fb = function (c) {\\n        if (appMeasurement.debugTracking) {\\n            var b = \\\"AppMeasurement Debug: \\\" + c;\\n            c = c.split(\\\"&\\\");\\n            var d;\\n            for (d = 0; d < c.length; d++) b +=\\n                \\\"\\\\n\\\\t\\\" + appMeasurement.unescape(c[d]);\\n            appMeasurement.F(b)\\n        }\\n    };\\n    // Get ID\\n    appMeasurement.gb = function () {\\n        return appMeasurement.marketingCloudVisitorID || appMeasurement.analyticsVisitorID\\n    };\\n    appMeasurement.getId = appMeasurement.gb;\\n    appMeasurement.Y = !1;\\n    var t;\\n    try {\\n        t = JSON.parse('{\\\"x\\\":\\\"y\\\"}')\\n    } catch (w) {\\n        t = null\\n    }\\n    t && \\\"y\\\" == t.x ? (appMeasurement.Y = !0, appMeasurement.X = function (a) {\\n        return JSON.parse(a)\\n    }) : _window.$ && _window.$.parseJSON ? (appMeasurement.X = function (a) {\\n        return _window.$.parseJSON(a)\\n    }, appMeasurement.Y = !0) : appMeasurement.X = function () {\\n        return null\\n    };\\n    // Send HTTP Request\\n    appMeasurement.Jb = function (c) {\\n        var _request, d, f;\\n\\n        appMeasurement.getId() && 2047 < c.length &&\\n            (\\\"undefined\\\" != typeof XMLHttpRequest &&\\n                (_request = new XMLHttpRequest,\\n                    \\\"withCredentials\\\" in _request ? d = 1 : _request = 0), _request ||\\n                \\\"undefined\\\" == typeof XDomainRequest ||\\n                (_request = new XDomainRequest, d = 2), _request &&\\n                (appMeasurement.AudienceManagement &&\\n                    appMeasurement.AudienceManagement.isReady() ||\\n                    0 != appMeasurement.usePostbacks) &&\\n                (appMeasurement.Y ? _request.Ba = !0 : _request = 0));\\n\\n        !_request && appMeasurement.Ta && (c = c.substring(0, 2047));\\n\\n        !_request && appMeasurement._document.createElement &&\\n            (0 != appMeasurement.usePostbacks ||\\n                appMeasurement.AudienceManagement &&\\n                appMeasurement.AudienceManagement.isReady()) &&\\n            (_request = appMeasurement._document.createElement(\\\"SCRIPT\\\")) &&\\n            \\\"async\\\" in _request &&\\n            ((f =\\n                    (f = appMeasurement._document.getElementsByTagName(\\\"HEAD\\\")) &&\\n                    f[0] ? f[0] : appMeasurement._document.body) ?\\n                (_request.type = \\\"text/javascript\\\", _request.setAttribute(\\\"async\\\", \\\"async\\\"), d = 3) : _request = 0);\\n\\n        _request || (_request = new Image, _request.alt = \\\"\\\", _request.abort || \\\"undefined\\\" === typeof _window.InstallTrigger ||\\n            (_request.abort = function () {\\n                _request.src = p\\n            }));\\n        _request.Da = function () {\\n            try {\\n                _request.G && (clearTimeout(_request.G), _request.G = 0)\\n            } catch (a) {}\\n        };\\n        _request.onload = _request.va = function () {\\n            appMeasurement.bb(c);\\n            _request.Da();\\n            appMeasurement.sb();\\n            appMeasurement.ga();\\n            appMeasurement.q = 0;\\n            appMeasurement.ka();\\n            if (_request.Ba) {\\n                _request.Ba = !1;\\n                try {\\n                    appMeasurement.doPostbacks(appMeasurement.X(_request.responseText))\\n                } catch (d) {}\\n            }\\n        };\\n        _request.onabort = _request.onerror = _request.Ha = function () {\\n            _request.Da();\\n            (appMeasurement.trackOffline || appMeasurement.qa) && appMeasurement.q && appMeasurement.i.unshift(appMeasurement.rb);\\n            appMeasurement.q = 0;\\n            appMeasurement.ma > appMeasurement.O && appMeasurement.Qa(appMeasurement.i);\\n            appMeasurement.ga();\\n            appMeasurement.ua(500)\\n        };\\n        _request.onreadystatechange = function () {\\n            4 == _request.readyState && (200 == _request.status ? _request.va() : _request.Ha())\\n        };\\n        appMeasurement.Pa = appMeasurement.C();\\n        if (1 == d || 2 == d) {\\n            var e = c.indexOf(\\\"?\\\");\\n            f = c.substring(0,\\n                e);\\n            e = c.substring(e + 1);\\n            e = e.replace(/&callback=[a-zA-Z0-9_.\\\\[\\\\]]+/, \\\"\\\");\\n            1 == d ? (_request.open(\\\"POST\\\", f, !0), _request.send(e)) : 2 == d && (_request.open(\\\"POST\\\", f), _request.send(e))\\n        } else if (_request.src = c, 3 == d) {\\n            if (appMeasurement.Na) try {\\n                f.removeChild(appMeasurement.Na)\\n            } catch (g) {}\\n            f.firstChild ? f.insertBefore(_request, f.firstChild) : f.appendChild(_request);\\n            appMeasurement.Na = appMeasurement.B\\n        }\\n        _request.G = setTimeout(function () {\\n            _request.G && (_request.complete ? _request.va() : (appMeasurement.trackOffline && _request.abort && _request.abort(), _request.Ha()))\\n        }, 5E3);\\n        appMeasurement.rb = c;\\n        appMeasurement.B = _window[\\\"s_i_\\\" + appMeasurement.replace(appMeasurement.account, \\\",\\\", \\\"_\\\")] = _request;\\n        if (appMeasurement.useForcedLinkTracking && appMeasurement.K || appMeasurement.A) appMeasurement.forcedLinkTrackingTimeout || (appMeasurement.forcedLinkTrackingTimeout =\\n            250), appMeasurement.ha = setTimeout(appMeasurement.ga, appMeasurement.forcedLinkTrackingTimeout)\\n    };\\n    appMeasurement.sb = function () {\\n        if (appMeasurement.ra() && !(appMeasurement.Oa > appMeasurement.O)) try {\\n            _window.localStorage.removeItem(appMeasurement.pa()), appMeasurement.Oa = appMeasurement.C()\\n        } catch (c) {}\\n    };\\n    appMeasurement.Qa = function (c) {\\n        if (appMeasurement.ra()) {\\n            appMeasurement.Sa();\\n            try {\\n                _window.localStorage.setItem(appMeasurement.pa(), _window.JSON.stringify(c)), appMeasurement.O = appMeasurement.C()\\n            } catch (b) {}\\n        }\\n    };\\n    appMeasurement.Sa = function () {\\n        if (appMeasurement.trackOffline) {\\n            if (!appMeasurement.offlineLimit || 0 >= appMeasurement.offlineLimit) appMeasurement.offlineLimit = 10;\\n            for (; appMeasurement.i.length > appMeasurement.offlineLimit;) appMeasurement.Ga()\\n        }\\n    };\\n    appMeasurement.forceOffline = function () {\\n        appMeasurement.qa = !0\\n    };\\n    appMeasurement.forceOnline = function () {\\n        appMeasurement.qa = !1\\n    };\\n    appMeasurement.pa = function () {\\n        return appMeasurement.offlineFilename +\\n            \\\"-\\\" + appMeasurement.visitorNamespace + appMeasurement.account\\n    };\\n    appMeasurement.C = function () {\\n        return (new Date).getTime()\\n    };\\n    appMeasurement.La = function (a) {\\n        a = a.toLowerCase();\\n        return 0 != a.indexOf(\\\"#\\\") && 0 != a.indexOf(\\\"about:\\\") && 0 != a.indexOf(\\\"opera:\\\") && 0 != a.indexOf(\\\"javascript:\\\") ? !0 : !1\\n    };\\n    appMeasurement.setTagContainer = function (c) {\\n        var b, d, f;\\n        appMeasurement.Kb = c;\\n        for (b = 0; b < appMeasurement._il.length; b++)\\n            if ((d = appMeasurement._il[b]) && \\\"s_l\\\" == d._c && d.tagContainerName == c) {\\n                appMeasurement.R(d);\\n                if (d.lmq)\\n                    for (b = 0; b < d.lmq.length; b++) f = d.lmq[b], appMeasurement.loadModule(f.n);\\n                if (d.ml)\\n                    for (f in d.ml)\\n                        if (appMeasurement[f])\\n                            for (b in c = appMeasurement[f], f = d.ml[f], f) !Object.prototype[b] && (\\\"function\\\" !=\\n                                typeof f[b] || 0 > (\\\"\\\" + f[b]).indexOf(\\\"s_c_il\\\")) && (c[b] = f[b]);\\n                if (d.mmq)\\n                    for (b = 0; b < d.mmq.length; b++) f = d.mmq[b], appMeasurement[f.m] && (c = appMeasurement[f.m], c[f.f] && \\\"function\\\" == typeof c[f.f] && (f.a ? c[f.f].apply(c, f.a) : c[f.f].apply(c)));\\n                if (d.tq)\\n                    for (b = 0; b < d.tq.length; b++) appMeasurement.track(d.tq[b]);\\n                d.s = appMeasurement;\\n                break\\n            }\\n    };\\n    appMeasurement.Util = {\\n        urlEncode: appMeasurement.escape,\\n        urlDecode: appMeasurement.unescape,\\n        cookieRead: appMeasurement.cookieRead,\\n        cookieWrite: appMeasurement.cookieWrite,\\n        getQueryParam: function (c, b, d, f) {\\n            var e, g = \\\"\\\";\\n            b || (b = appMeasurement.pageURL ? appMeasurement.pageURL : _window.location);\\n            d = d ? d : \\\"&\\\";\\n            if (!c || !b) return g;\\n            b = \\\"\\\" + b;\\n            e = b.indexOf(\\\"?\\\");\\n            if (0 >\\n                e) return g;\\n            b = d + b.substring(e + 1) + d;\\n            if (!f || !(0 <= b.indexOf(d + c + d) || 0 <= b.indexOf(d + c + \\\"=\\\" + d))) {\\n                e = b.indexOf(\\\"#\\\");\\n                0 <= e && (b = b.substr(0, e) + d);\\n                e = b.indexOf(d + c + \\\"=\\\");\\n                if (0 > e) return g;\\n                b = b.substring(e + d.length + c.length + 1);\\n                e = b.indexOf(d);\\n                0 <= e && (b = b.substring(0, e));\\n                0 < b.length && (g = appMeasurement.unescape(b));\\n                return g\\n            }\\n        }\\n    };\\n    appMeasurement.H = \\\"supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData\\\".split(\\\" \\\");\\n    appMeasurement.g = appMeasurement.H.concat(\\\"purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt\\\".split(\\\" \\\"));\\n    appMeasurement.na = \\\"timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy\\\".split(\\\" \\\");\\n    appMeasurement.P = appMeasurement.na.slice(0);\\n    appMeasurement.Aa = \\\"account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement\\\".split(\\\" \\\");\\n    for (m = 0; 250 >= m; m++) 76 > m && (appMeasurement.g.push(\\\"prop\\\" + m), appMeasurement.P.push(\\\"prop\\\" + m)), appMeasurement.g.push(\\\"eVar\\\" + m), appMeasurement.P.push(\\\"eVar\\\" + m), 6 > m && appMeasurement.g.push(\\\"hier\\\" + m), 4 > m && appMeasurement.g.push(\\\"list\\\" + m);\\n    m = \\\"pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID\\\".split(\\\" \\\");\\n    appMeasurement.g = appMeasurement.g.concat(m);\\n    appMeasurement.H = appMeasurement.H.concat(m);\\n    appMeasurement.ssl = 0 <= _window.location.protocol.toLowerCase().indexOf(\\\"https\\\");\\n    appMeasurement.charSet = \\\"UTF-8\\\";\\n    appMeasurement.contextData = {};\\n    appMeasurement.offlineThrottleDelay =\\n        0;\\n    appMeasurement.offlineFilename = \\\"AppMeasurement.offline\\\";\\n    appMeasurement.Pa = 0;\\n    appMeasurement.ma = 0;\\n    appMeasurement.O = 0;\\n    appMeasurement.Oa = 0;\\n    appMeasurement.linkDownloadFileTypes = \\\"exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx\\\";\\n    appMeasurement.w = _window;\\n    appMeasurement.d = _window.document;\\n    appMeasurement._document = appMeasurement.d;\\n    try {\\n        if (appMeasurement.Ta = !1, navigator) {\\n            var v = navigator.userAgent;\\n            if (\\\"Microsoft Internet Explorer\\\" == navigator.appName || 0 <= v.indexOf(\\\"MSIE \\\") || 0 <= v.indexOf(\\\"Trident/\\\") && 0 <= v.indexOf(\\\"Windows NT 6\\\")) appMeasurement.Ta = !0\\n        }\\n    } catch (x) {}\\n    appMeasurement.ga = function () {\\n        appMeasurement.ha && (_window.clearTimeout(appMeasurement.ha), appMeasurement.ha = p);\\n        appMeasurement.l && appMeasurement.K && appMeasurement.l.dispatchEvent(appMeasurement.K);\\n        appMeasurement.A && (\\\"function\\\" == typeof appMeasurement.A ? appMeasurement.A() :\\n            appMeasurement.l && appMeasurement.l.href && (appMeasurement._document.location = appMeasurement.l.href));\\n        appMeasurement.l = appMeasurement.K = appMeasurement.A = 0\\n    };\\n    appMeasurement.Ra = function () {\\n        appMeasurement.b = appMeasurement._document.body;\\n        appMeasurement._body = appMeasurement.b;\\n        appMeasurement._body ? (appMeasurement.v = function (c) {\\n            var b, d, f, e, g;\\n            if (!(appMeasurement.d && appMeasurement._document.getElementById(\\\"cppXYctnr\\\") || c && c[\\\"s_fe_\\\" + appMeasurement._in])) {\\n                if (appMeasurement.Ca)\\n                    if (appMeasurement.useForcedLinkTracking) appMeasurement._body.removeEventListener(\\\"click\\\", appMeasurement.v, !1);\\n                    else {\\n                        appMeasurement._body.removeEventListener(\\\"click\\\", appMeasurement.v, !0);\\n                        appMeasurement.Ca = appMeasurement.useForcedLinkTracking = 0;\\n                        return\\n                    }\\n                else appMeasurement.useForcedLinkTracking = 0;\\n                appMeasurement.clickObject = c.srcElement ? c.srcElement : c.target;\\n                try {\\n                    if (!appMeasurement.clickObject || appMeasurement.N && appMeasurement.N == appMeasurement.clickObject || !(appMeasurement.clickObject.tagName || appMeasurement.clickObject.parentElement ||\\n                            appMeasurement.clickObject.parentNode)) appMeasurement.clickObject = 0;\\n                    else {\\n                        var h = appMeasurement.N = appMeasurement.clickObject;\\n                        appMeasurement.la && (clearTimeout(appMeasurement.la), appMeasurement.la = 0);\\n                        appMeasurement.la = setTimeout(function () {\\n                            appMeasurement.N == h && (appMeasurement.N = 0)\\n                        }, 1E4);\\n                        f = appMeasurement.Ja();\\n                        appMeasurement.track();\\n                        if (f < appMeasurement.Ja() && appMeasurement.useForcedLinkTracking && c.target) {\\n                            for (e = c.target; e && e != appMeasurement._body && \\\"A\\\" != e.tagName.toUpperCase() && \\\"AREA\\\" != e.tagName.toUpperCase();) e = e.parentNode;\\n                            if (e && (g = e.href, appMeasurement.La(g) || (g = 0), d = e.target, c.target.dispatchEvent && g && (!d || \\\"_self\\\" == d || \\\"_top\\\" == d || \\\"_parent\\\" == d || _window.name && d == _window.name))) {\\n                                try {\\n                                    b = appMeasurement._document.createEvent(\\\"MouseEvents\\\")\\n                                } catch (l) {\\n                                    b =\\n                                        new _window.MouseEvent\\n                                }\\n                                if (b) {\\n                                    try {\\n                                        b.initMouseEvent(\\\"click\\\", c.bubbles, c.cancelable, c.view, c.detail, c.screenX, c.screenY, c.clientX, c.clientY, c.ctrlKey, c.altKey, c.shiftKey, c.metaKey, c.button, c.relatedTarget)\\n                                    } catch (m) {\\n                                        b = 0\\n                                    }\\n                                    b && (b[\\\"s_fe_\\\" + appMeasurement._in] = b.s_fe = 1, c.stopPropagation(), c.stopImmediatePropagation && c.stopImmediatePropagation(), c.preventDefault(), appMeasurement.l = c.target, appMeasurement.K = b)\\n                                }\\n                            }\\n                        }\\n                    }\\n                } catch (n) {\\n                    appMeasurement.clickObject = 0\\n                }\\n            }\\n        }, appMeasurement._body && appMeasurement._body.attachEvent ? appMeasurement._body.attachEvent(\\\"onclick\\\", appMeasurement.v) : appMeasurement._body && appMeasurement._body.addEventListener && (navigator && (0 <= navigator.userAgent.indexOf(\\\"WebKit\\\") &&\\n            appMeasurement._document.createEvent || 0 <= navigator.userAgent.indexOf(\\\"Firefox/2\\\") && _window.MouseEvent) && (appMeasurement.Ca = 1, appMeasurement.useForcedLinkTracking = 1, appMeasurement._body.addEventListener(\\\"click\\\", appMeasurement.v, !0)), appMeasurement._body.addEventListener(\\\"click\\\", appMeasurement.v, !1))) : setTimeout(appMeasurement.Ra, 30)\\n    };\\n    appMeasurement.Ra();\\n    r ? appMeasurement.setAccount(r) : appMeasurement.F(\\\"Error, missing Report Suite ID in AppMeasurement initialization\\\");\\n    appMeasurement.loadModule(\\\"ActivityMap\\\")\\n}\\n\\n// GetInstance(RSID)\\nfunction s_gi(rsid) {\\n    var a, k = window.s_c_il,\\n        p, n, m = rsid.split(\\\",\\\"),\\n        s, u, t = 0;\\n    if (k)\\n        for (p = 0; !t && p < k.length;) {\\n            a = k[p];\\n            if (\\\"s_c\\\" == a._c && (a.account || a.oun))\\n                if (a.account && a.account == rsid) t = 1;\\n                else\\n                    for (n = a.account ? a.account : a.oun, n = a.allAccounts ? a.allAccounts : n.split(\\\",\\\"), s = 0; s < m.length; s++)\\n                        for (u = 0; u < n.length; u++) m[s] == n[u] && (t = 1);\\n            p++\\n        }\\n    t || (a = new AppMeasurement(rsid));\\n    return a\\n}\\nAppMeasurement.getInstance = s_gi;\\nwindow.s_objectID || (window.s_objectID = 0);\\n\\nfunction s_pgicq() {\\n    var r = window,\\n        a = r.s_giq,\\n        k, p, n;\\n    if (a)\\n        for (k = 0; k < a.length; k++) p = a[k], n = s_gi(p.oun), n.setAccount(p.un), n.setTagContainer(p.tagContainerName);\\n    r.s_giq = 0\\n}\\ns_pgicq();\\n\\ntry {\\n    exports.AppMeasurement = AppMeasurement;\\n} catch (Error) {\\n    console.log(\\\"not node env\\\");\\n}\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL2FwcF9tZWFzdXJlbWVudC0yLjMuMC51bm1pbi5qcz9mNjFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFsQkFBcWxCLHdCQUF3QixzQkFBc0IsMkZBQTJGLDhCQUE4QixzREFBc0QsZ0JBQWdCLHlCQUF5QixtQ0FBbUMsbUJBQW1CLHFEQUFxRCw2RkFBNkYsb0RBQW9ELDBHQUEwRywrQkFBK0IsdUJBQXVCLDJCQUEyQiwrQkFBK0IsMkRBQTJELE1BQU0scUNBQXFDLDRCQUE0QixxQ0FBcUMscUJBQXFCLHdCQUF3Qix3SUFBd0ksbUZBQW1GLElBQUksNEJBQTRCLFVBQVUsOEJBQThCLGVBQWUsV0FBVyx3Q0FBd0MsNkJBQTZCLGdCQUFnQiw2RkFBNkYsNkJBQTZCLGdCQUFnQixpZEFBaWQsY0FBYywwQkFBMEIsdUJBQXVCLGlEQUFpRCxlQUFlLG9jQUFvYyxHQUFHLGdEQUFnRCxhQUFhLE9BQU8sbUJBQW1CLGNBQWMsMkJBQTJCLGtFQUFrRSw2QkFBNkIsNkJBQTZCLHVCQUF1Qix1QkFBdUIscUJBQXFCLGVBQWUsK0JBQStCLHdHQUF3RywwQkFBMEIsd0VBQXdFLG1YQUFtWCxnQ0FBZ0MsZ0JBQWdCLCtDQUErQywrRkFBK0YsdUJBQXVCLCtGQUErRixrR0FBa0csaVNBQWlTLDhCQUE4QiwwQkFBMEIsK0JBQStCLHdEQUF3RCx5QkFBeUIsR0FBRyw4Q0FBOEMsb0VBQW9FLE9BQU8sR0FBRyxvVEFBb1QsZ0NBQWdDLHlDQUF5QywyQkFBMkIsb0lBQW9JLDBDQUEwQywwQ0FBMEMsOERBQThELHVCQUF1QixrQ0FBa0Msd0NBQXdDLHNCQUFzQixxQ0FBcUMsV0FBVyw0Q0FBNEMsNElBQTRJLDRCQUE0QixhQUFhLHVDQUF1QyxlQUFlLHVDQUF1QyxhQUFhLFFBQVEsd0NBQXdDLHVEQUF1RCxtREFBbUQscUZBQXFGLDRDQUE0QyxtQkFBbUIsMkJBQTJCLG9DQUFvQyxxQkFBcUIsT0FBTyx1SkFBdUosMEJBQTBCLDhDQUE4QywyQkFBMkIsa0ZBQWtGLGVBQWUscURBQXFELGFBQWEsb0NBQW9DLHVDQUF1QyxtSEFBbUgsd0RBQXdELCtKQUErSixvQkFBb0IsaUJBQWlCLHVDQUF1Qyx1RUFBdUUsMENBQTBDLHlHQUF5Ryx1Q0FBdUMsb0pBQW9KLE9BQU8sMEdBQTBHLGtEQUFrRCx5SUFBeUksZ0ZBQWdGLG1IQUFtSCxvQ0FBb0MsMkNBQTJDLHlGQUF5RiwyV0FBMlcsbVBBQW1QLFFBQVEsMEZBQTBGLHlEQUF5RCx3YUFBd2EsNEJBQTRCLDhDQUE4QywwQ0FBMEMscUVBQXFFLHFOQUFxTixvRUFBb0Usd0NBQXdDLHlGQUF5RixjQUFjLG1FQUFtRSx1RUFBdUUsZ0ZBQWdGLGlIQUFpSCxFQUFFLG9CQUFvQiw4QkFBOEIsK0NBQStDLHVDQUF1QyxtRUFBbUUsd0ZBQXdGLDBCQUEwQiwrQ0FBK0MsMkVBQTJFLHNFQUFzRSw2QkFBNkIsR0FBRywyQ0FBMkMseUNBQXlDLDhDQUE4QywrRkFBK0Ysc0NBQXNDLG9DQUFvQyw2REFBNkQsOENBQThDLFFBQVEsb0dBQW9HLG1CQUFtQiwwUUFBMFEsY0FBYywwRUFBMEUseUVBQXlFLG1EQUFtRCxtQ0FBbUMsdUJBQXVCLDBLQUEwSyxnQkFBZ0IsbUNBQW1DLDhVQUE4VSxrRkFBa0Ysc0RBQXNELHVDQUF1QyxxQkFBcUIsY0FBYyxvSkFBb0osbURBQW1ELHVEQUF1RCw4Q0FBOEMsa0JBQWtCLDZMQUE2TCw2QkFBNkIsaUVBQWlFLGNBQWMsbUZBQW1GLG1UQUFtVCxrR0FBa0cscUpBQXFKLG9HQUFvRyx3Q0FBd0MsNEZBQTRGLHdDQUF3Qyw2RkFBNkYsd0NBQXdDLDJUQUEyVCx5SEFBeUgsbUJBQW1CLHVEQUF1RCwwQkFBMEIsc0NBQXNDLHVDQUF1Qyx3SEFBd0gsMEtBQTBLLGdCQUFnQixtQ0FBbUMsNlRBQTZULGtGQUFrRixzRkFBc0YsNkdBQTZHLGdGQUFnRixvQkFBb0Isc0tBQXNLLG9GQUFvRixpRUFBaUUsMkxBQTJMLHFCQUFxQixjQUFjLE9BQU8sdUJBQXVCLG9DQUFvQyxvQ0FBb0MsaUNBQWlDLDRMQUE0TCxtRUFBbUUsOEJBQThCLHdGQUF3RixnQ0FBZ0MsNkZBQTZGLGdDQUFnQyx5RkFBeUYsZ0NBQWdDLDhFQUE4RSxnQ0FBZ0MseUZBQXlGLGdDQUFnQywrRUFBK0UsZ0NBQWdDLDZGQUE2RixnQ0FBZ0Msd0ZBQXdGLGdDQUFnQyxtR0FBbUcsZ0NBQWdDLHVIQUF1SCxnQ0FBZ0MsOEVBQThFLGdDQUFnQywyRUFBMkUscUhBQXFILGdDQUFnQyxnRkFBZ0YsZ0NBQWdDLDRFQUE0RSxnQ0FBZ0MsNEhBQTRILGdDQUFnQyw0RkFBNEYsMEdBQTBHLGdDQUFnQyxrR0FBa0cscUdBQXFHLGdDQUFnQyw0RUFBNEUsZ0NBQWdDLHFGQUFxRixnQ0FBZ0Msc0hBQXNILGdDQUFnQyxtRkFBbUYsZ0NBQWdDLHNGQUFzRixnQ0FBZ0MsaUZBQWlGLGdDQUFnQyw0RUFBNEUsZ0NBQWdDLG9GQUFvRixnQ0FBZ0MsNkVBQTZFLGdDQUFnQyw4RUFBOEUsZ0NBQWdDLCtFQUErRSxnQ0FBZ0MsOEVBQThFLGdDQUFnQyw4RUFBOEUsZ0NBQWdDLHFGQUFxRixnQ0FBZ0MsK0VBQStFLGdDQUFnQyxrRkFBa0YsZ0NBQWdDLGlGQUFpRixnQ0FBZ0Msa0ZBQWtGLGdDQUFnQyxtRkFBbUYsZ0NBQWdDLDZFQUE2RSxnQ0FBZ0MsMkdBQTJHLHVHQUF1RyxjQUFjLHdNQUF3TSxnQ0FBZ0MsMEVBQTBFLGdDQUFnQywySEFBMkgsbUNBQW1DLGdDQUFnQyxvRkFBb0YsZ0NBQWdDLDJGQUEyRixzRUFBc0UsZ0NBQWdDLG1IQUFtSCxzRUFBc0UsZ0NBQWdDLDRGQUE0RixnQ0FBZ0MsMEZBQTBGLGdDQUFnQyw2S0FBNkssbUNBQW1DLGdDQUFnQyw4UEFBOFAsOEhBQThILHFGQUFxRiwwQkFBMEIsdUNBQXVDLDRCQUE0QixnSkFBZ0osMERBQTBELHVDQUF1Qyw4SUFBOEksMEJBQTBCLHdDQUF3QyxrR0FBa0csK0JBQStCLCtCQUErQiwrQkFBK0IsNldBQTZXLDBCQUEwQix1Q0FBdUMsdUZBQXVGLHNpQkFBc2lCLHNFQUFzRSxZQUFZLHdDQUF3QyxxRkFBcUYsMEJBQTBCLDBIQUEwSCx3Q0FBd0MsaUlBQWlJLDBCQUEwQix1Q0FBdUMsd0pBQXdKLGdDQUFnQyx1RUFBdUUsa0JBQWtCLHNDQUFzQywyQ0FBMkMsMEJBQTBCLDhIQUE4SCw0Q0FBNEMsb0RBQW9ELG1GQUFtRix1R0FBdUcsV0FBVyw0QkFBNEIsZ0RBQWdELGlIQUFpSCx3QkFBd0Isb0VBQW9FLCtVQUErVSxjQUFjLHNGQUFzRiwrY0FBK2MsNkJBQTZCLGNBQWMsNkNBQTZDLHdFQUF3RSxXQUFXLHdDQUF3QyxxQ0FBcUMsc0NBQXNDLHVqQkFBdWpCLHlDQUF5QyxpS0FBaUsseVBBQXlQLDBDQUEwQyw4R0FBOEcsd0JBQXdCLGtMQUFrTCxpREFBaUQsY0FBYyx5SEFBeUgsc0RBQXNELHFCQUFxQiwwTUFBME0sMkdBQTJHLDBDQUEwQyxvREFBb0Qsa0hBQWtILGNBQWMsNkxBQTZMLGlCQUFpQixrTkFBa04sK0JBQStCLDBCQUEwQiwrQkFBK0IsNEJBQTRCLG9KQUFvSixtTUFBbU0sZ0ZBQWdGLGVBQWUsV0FBVywwQkFBMEIsb0ZBQW9GLG1DQUFtQyxrWkFBa1osNEhBQTRILDhCQUE4Qix3QkFBd0IseUJBQXlCLHVCQUF1Qiw0TUFBNE0sYUFBYSxlQUFlLHVEQUF1RCwwREFBMEQsNEVBQTRFLG1JQUFtSSxzSUFBc0ksbUJBQW1CLGdJQUFnSSxhQUFhLG1CQUFtQixnSkFBZ0osYUFBYSw0Q0FBNEMsNENBQTRDLG1EQUFtRCw2Q0FBNkMsZ0RBQWdELDhDQUE4QywrQ0FBK0MsZ0RBQWdELDBDQUEwQyw4Q0FBOEMsUUFBUSw0QkFBNEIsbURBQW1ELHNDQUFzQyxtQkFBbUIsNkhBQTZILDBEQUEwRCxrQ0FBa0MsNkNBQTZDLG1DQUFtQyx1S0FBdUssbUJBQW1CLGdGQUFnRixrRkFBa0YsNkJBQTZCLFlBQVksMkNBQTJDLFdBQVcsZ0pBQWdKLHVDQUF1QyxtQkFBbUIsd01BQXdNLDBCQUEwQix1Q0FBdUMsOFZBQThWLGtCQUFrQix1QkFBdUIscUNBQXFDLHVCQUF1QiwyRkFBMkYsc0NBQXNDLGtEQUFrRCwwQkFBMEIsMENBQTBDLCtCQUErQixxQkFBcUIsT0FBTyxnRkFBZ0YsY0FBYyxrRUFBa0UsdU1BQXVNLDhEQUE4RCxRQUFRLDJDQUEyQyx5QkFBeUIscUJBQXFCLE9BQU8sZ0ZBQWdGLGNBQWMsaUZBQWlGLHdDQUF3QyxvRkFBb0Ysd2ZBQXdmLHlEQUF5RCw2QkFBNkIsY0FBYyw2SkFBNkosc0VBQXNFLDBFQUEwRSwrRUFBK0UsMEJBQTBCLHdDQUF3QyxnSUFBZ0ksb0VBQW9FLHdDQUF3QyxpREFBaUQsY0FBYyxtRUFBbUUsdUVBQXVFLGdGQUFnRixnRUFBZ0UsRUFBRSxrQ0FBa0MsMkJBQTJCLDZCQUE2Qiw0QkFBNEIsdUNBQXVDLGdDQUFnQyxvQ0FBb0MsNkJBQTZCLDRCQUE0Qix3Q0FBd0MscURBQXFELGdDQUFnQyxvQ0FBb0MsNkJBQTZCLDRCQUE0QixpREFBaUQsaURBQWlELG9DQUFvQyw0Q0FBNEMsNEJBQTRCLDRCQUE0Qix3Q0FBd0MsZ0RBQWdELGdDQUFnQyxvQ0FBb0MsNkJBQTZCLDRCQUE0Qix3Q0FBd0MseURBQXlELGdDQUFnQyxvQ0FBb0MsNkJBQTZCLDRCQUE0Qix3Q0FBd0MsaURBQWlELGdDQUFnQyxvQ0FBb0Msd0NBQXdDLHFFQUFxRSwwRUFBMEUsNEJBQTRCLDRDQUE0Qyw2QkFBNkIsNEJBQTRCLHVDQUF1QyxnQ0FBZ0Msb0NBQW9DLG1EQUFtRCxvRkFBb0YsMklBQTJJLGdFQUFnRSxpMkRBQWkyRCwySUFBMkksNkRBQTZELDBCQUEwQiwyQkFBMkIsMkJBQTJCLG9FQUFvRSxnQkFBZ0IsaUJBQWlCLG1CQUFtQixtQkFBbUIsbUJBQW1CLDJEQUEyRCxtQ0FBbUMsa0dBQWtHLHNDQUFzQyxnQkFBZ0Isa0hBQWtILDZCQUE2Qiw4REFBOEQsdUNBQXVDLDZGQUE2Rix3Q0FBd0MsOENBQThDLGlEQUFpRCxxQkFBcUIsMkRBQTJELGlCQUFpQixxQkFBcUIsdUNBQXVDLHdCQUF3Qix3QkFBd0IsK0ZBQStGLGtDQUFrQywyQkFBMkIsdUNBQXVDLHFIQUFxSCxnQkFBZ0Isb0JBQW9CLDJDQUEyQyx5QkFBeUIsUUFBUSxxTEFBcUwsMENBQTBDLGlFQUFpRSwwQkFBMEIsMk1BQTJNLDZwQkFBNnBCLDhJQUE4SSxtQ0FBbUMsd0hBQXdILG85RUFBbzlFLDBhQUEwYSwrQkFBK0IsOERBQThELGlDQUFpQyxzQkFBc0IsMkJBQTJCLCtMQUErTCx3Q0FBd0Msc0VBQXNFLDZCQUE2QiwrREFBK0QsaUNBQWlDLHNCQUFzQiwyQkFBMkIsZ01BQWdNLHdDQUF3Qyx5REFBeUQsMkNBQTJDLGtFQUFrRSxjQUFjLE9BQU8sb0VBQW9FLCtCQUErQixxREFBcUQseURBQXlELFlBQVksb0dBQW9HLGVBQWUsUUFBUSxrT0FBa08scURBQXFELHNDQUFzQyxzQ0FBc0MsNERBQTRELGdEQUFnRCx5REFBeUQsNENBQTRDLGtEQUFrRCw4Q0FBOEMsZ0RBQWdELDhDQUE4QyxtQkFBbUIscUJBQXFCLDZCQUE2Qix1YkFBdWIsK0NBQStDLDJDQUEyQyxtREFBbUQsbUJBQW1CLGdIQUFnSCwwYkFBMGIsOERBQThELG1JQUFtSSx3YkFBd2IsK0JBQStCLCtCQUErQixxQ0FBcUMsNEJBQTRCLGNBQWMsRUFBRSxrRUFBa0Usd0NBQXdDLHdFQUF3RSxvQkFBb0IsT0FBTyxxQ0FBcUMsc0pBQXNKLGNBQWMsT0FBTyx3S0FBd0ssbUxBQW1MLCtGQUErRixlQUFlLFFBQVEsdUNBQXVDLDZGQUE2RixzYUFBc2EsbURBQW1ELDZEQUE2RCw2QkFBNkIsaURBQWlELDJXQUEyVywyR0FBMkcsb0JBQW9CLE9BQU8scUNBQXFDLHFSQUFxUixRQUFRLHdDQUF3QyxrREFBa0QsbUNBQW1DLGlEQUFpRCxxQ0FBcUMsdUNBQXVDLGlEQUFpRCw2REFBNkQsdUNBQXVDLG1CQUFtQixvQ0FBb0MsbUJBQW1CLHVIQUF1SCxhQUFhLGlDQUFpQyxRQUFRLHVDQUF1QyxxQkFBcUIsNEhBQTRILDBCQUEwQix1Q0FBdUMsb0JBQW9CLDREQUE0RCxrQ0FBa0MsMEJBQTBCLHVDQUF1Qyw0S0FBNEssZ0NBQWdDLHFJQUFxSSxnQkFBZ0IsMENBQTBDLDhDQUE4QywySEFBMkgsUUFBUSx3Q0FBd0MsMkdBQTJHLHVDQUF1QyxnQkFBZ0IsaUdBQWlHLHFEQUFxRCw4R0FBOEcsdUNBQXVDLGtGQUFrRix3Q0FBd0MsNkNBQTZDLHFEQUFxRCxpQ0FBaUMsb0JBQW9CLHlCQUF5QixjQUFjLHVFQUF1RSw0Q0FBNEMsUUFBUSxzREFBc0Qsb0dBQW9HLCtDQUErQyw0QkFBNEIsWUFBWSxXQUFXLDJCQUEyQixZQUFZLFNBQVMsWUFBWSx5QkFBeUIsbUZBQW1GLHFDQUFxQyx5RUFBeUUsOENBQThDLDJEQUEyRCw2QkFBNkIsa0VBQWtFLDZCQUE2Qix3bkJBQXduQix5RUFBeUUsMG9CQUEwb0IscUxBQXFMLGlEQUFpRCxHQUFHLHFDQUFxQyxtQkFBbUIseUZBQXlGLGFBQWEsWUFBWSx1REFBdUQsbUNBQW1DLDRCQUE0QixrQ0FBa0Msa0NBQWtDLG1DQUFtQyxrQ0FBa0MsZ0NBQWdDLG1DQUFtQyx1QkFBdUIsNEdBQTRHLGFBQWEsZUFBZSxZQUFZLDJFQUEyRSw0QkFBNEIsb0lBQW9JLG1DQUFtQywwRkFBMEYsa0NBQWtDLGdEQUFnRCxxREFBcUQsOEdBQThHLGlEQUFpRCxpQ0FBaUMsdUNBQXVDLHFEQUFxRCxxQ0FBcUMsb0VBQW9FLCtJQUErSSxxQ0FBcUMsMENBQTBDLGlFQUFpRSxhQUFhLDhGQUE4Riw2REFBNkQsK0NBQStDLCtKQUErSixPQUFPLGdDQUFnQyx5SEFBeUgsMFNBQTBTLHVDQUF1QyxtRkFBbUYscUhBQXFILGFBQWEsUUFBUSx3Q0FBd0Msb0NBQW9DLGtDQUFrQyxtQkFBbUIsb0pBQW9KLGFBQWEsV0FBVyxRQUFRLHVDQUF1Qyw0Q0FBNEMscUhBQXFILG9CQUFvQix1REFBdUQsZ0NBQWdDLFFBQVEsaURBQWlELHdDQUF3QyxnREFBZ0Qsd0NBQXdDLHVDQUF1Qyx1SUFBdUksc0NBQXNDLDZDQUE2Qyx3Q0FBd0MsOEJBQThCLHVKQUF1SixxREFBcUQsc0JBQXNCLGdDQUFnQyxxQkFBcUIsK0JBQStCLG1HQUFtRyxzQ0FBc0MsNkRBQTZELGtCQUFrQixtREFBbUQsZ1ZBQWdWLDZEQUE2RCxrQkFBa0IsZ0tBQWdLLDREQUE0RCxpQkFBaUIsb0NBQW9DLHVDQUF1QyxzQ0FBc0MsUUFBUSw2QkFBNkIsME9BQTBPLDhCQUE4Qiw0RkFBNEYsZ0NBQWdDLHFDQUFxQywyQkFBMkIsbUNBQW1DLG1EQUFtRCw2Q0FBNkMsNEZBQTRGLHVDQUF1QyxxREFBcUQsK0NBQStDLHNDQUFzQywrREFBK0QsbUNBQW1DLG9EQUFvRCxtRUFBbUUseUNBQXlDLFdBQVcsUUFBUSxraEJBQWtoQix3TUFBd00sa0xBQWtMLG9EQUFvRCx5ckJBQXlyQixpQkFBaUIsVUFBVSxpUUFBaVEsc05BQXNOLG9EQUFvRCxvREFBb0QsMkZBQTJGLHlDQUF5QyxzQ0FBc0MsdURBQXVELGtFQUFrRSw0QkFBNEIsNEJBQTRCLDJCQUEyQiw0QkFBNEIsZ0hBQWdILGlDQUFpQywwQ0FBMEMsa0RBQWtELFdBQVcsa0RBQWtELDBDQUEwQywwTUFBME0sT0FBTyxhQUFhLHVDQUF1QyxnR0FBZ0csbUdBQW1HLHFOQUFxTiw0RUFBNEUsdUNBQXVDLDJEQUEyRCxrREFBa0QsbUVBQW1FLGdDQUFnQyw0SUFBNEksa0xBQWtMLDRCQUE0QixvR0FBb0csdUZBQXVGLHVEQUF1RCxnRUFBZ0Usc0ZBQXNGLHVCQUF1Qix1VEFBdVQsNEJBQTRCLGdGQUFnRix3R0FBd0csc0VBQXNFLHdHQUF3RyxPQUFPLGtEQUFrRCxpREFBaUQsNEdBQTRHLGdEQUFnRCwyR0FBMkcsbUJBQW1CLHNPQUFzTyx1Q0FBdUMsa0lBQWtJLFlBQVksNElBQTRJLDBDQUEwQywyQ0FBMkMsMFFBQTBRLFlBQVksc0ZBQXNGLHNSQUFzUiwrQkFBK0IsMkJBQTJCLHVCQUF1QixtQkFBbUIsWUFBWSx1RUFBdUUsZUFBZSxXQUFXLDZuQkFBNm5CLDBCQUEwQiwrSEFBK0gsbURBQW1ELCtDQUErQywyRkFBMkYsaUNBQWlDLG9CQUFvQixHQUFHLHVCQUF1QixzSEFBc0gsOElBQThJLGNBQWMsMENBQTBDLGNBQWMsOEJBQThCLDRCQUE0QiwwQ0FBMEMsaUJBQWlCLG9DQUFvQywrQ0FBK0Msd0JBQXdCLDZEQUE2RCxpQ0FBaUMsY0FBYywyRkFBMkYsb0JBQW9CLFlBQVksU0FBUyw4Q0FBOEMsR0FBRyxnQkFBZ0Isb0NBQW9DLEdBQUciLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiLypcXG4gU3RhcnQgQWN0aXZpdHlNYXAgTW9kdWxlXFxuXFxuIFRoZSBmb2xsb3dpbmcgbW9kdWxlIGVuYWJsZXMgQWN0aXZpdHlNYXAgdHJhY2tpbmcgaW4gQWRvYmUgQW5hbHl0aWNzLiBBY3Rpdml0eU1hcFxcbiBhbGxvd3MgeW91IHRvIHZpZXcgZGF0YSBvdmVybGF5cyBvbiB5b3VyIGxpbmtzIGFuZCBjb250ZW50IHRvIHVuZGVyc3RhbmQgaG93XFxuIHVzZXJzIGVuZ2FnZSB3aXRoIHlvdXIgd2ViIHNpdGUuIElmIHlvdSBkbyBub3QgaW50ZW5kIHRvIHVzZSBBY3Rpdml0eU1hcCwgeW91XFxuIGNhbiByZW1vdmUgdGhlIGZvbGxvd2luZyBibG9jayBvZiBjb2RlIGZyb20geW91ciBBcHBNZWFzdXJlbWVudC5qcyBmaWxlLlxcbiBBZGRpdGlvbmFsIGRvY3VtZW50YXRpb24gb24gaG93IHRvIGNvbmZpZ3VyZSBBY3Rpdml0eU1hcCBpcyBhdmFpbGFibGUgYXQ6XFxuIGh0dHBzOi8vbWFya2V0aW5nLmFkb2JlLmNvbS9yZXNvdXJjZXMvaGVscC9lbl9VUy9hbmFseXRpY3MvYWN0aXZpdHltYXAvZ2V0dGluZy1zdGFydGVkLWFkbWlucy5odG1sXFxuKi9cXG5mdW5jdGlvbiBBcHBNZWFzdXJlbWVudF9Nb2R1bGVfQWN0aXZpdHlNYXAoZikge1xcbiAgICBmdW5jdGlvbiBnKGEsIGQpIHtcXG4gICAgICAgIHZhciBiLCBjLCBuO1xcbiAgICAgICAgaWYgKGEgJiYgZCAmJiAoYiA9IGUuY1tkXSB8fCAoZS5jW2RdID0gZC5zcGxpdChcXFwiLFxcXCIpKSkpXFxuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGIubGVuZ3RoICYmIChjID0gYltuKytdKTspXFxuICAgICAgICAgICAgICAgIGlmICgtMSA8IGEuaW5kZXhPZihjKSkgcmV0dXJuIG51bGw7XFxuICAgICAgICBwID0gMTtcXG4gICAgICAgIHJldHVybiBhXFxuICAgIH1cXG5cXG4gICAgZnVuY3Rpb24gcShhLCBkLCBiLCBjLCBlKSB7XFxuICAgICAgICB2YXIgZywgaDtcXG4gICAgICAgIGlmIChhLmRhdGFzZXQgJiYgKGggPSBhLmRhdGFzZXRbZF0pKSBnID0gaDtcXG4gICAgICAgIGVsc2UgaWYgKGEuZ2V0QXR0cmlidXRlKVxcbiAgICAgICAgICAgIGlmIChoID0gYS5nZXRBdHRyaWJ1dGUoXFxcImRhdGEtXFxcIiArIGIpKSBnID0gaDtcXG4gICAgICAgICAgICBlbHNlIGlmIChoID0gYS5nZXRBdHRyaWJ1dGUoYikpIGcgPSBoO1xcbiAgICAgICAgaWYgKCFnICYmIGYudXNlRm9yY2VkTGlua1RyYWNraW5nICYmIGUgJiYgKGcgPSBcXFwiXFxcIiwgZCA9IGEub25jbGljayA/IFxcXCJcXFwiICsgYS5vbmNsaWNrIDogXFxcIlxcXCIpKSB7XFxuICAgICAgICAgICAgYiA9IGQuaW5kZXhPZihjKTtcXG4gICAgICAgICAgICB2YXIgbCwgaztcXG4gICAgICAgICAgICBpZiAoMCA8PSBiKSB7XFxuICAgICAgICAgICAgICAgIGZvciAoYiArPSAxMDsgYiA8IGQubGVuZ3RoICYmIDAgPD0gXFxcIj0gXFxcXHRcXFxcclxcXFxuXFxcIi5pbmRleE9mKGQuY2hhckF0KGIpKTspIGIrKztcXG4gICAgICAgICAgICAgICAgaWYgKGIgPCBkLmxlbmd0aCkge1xcbiAgICAgICAgICAgICAgICAgICAgaCA9IGI7XFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGwgPSBrID0gMDsgaCA8IGQubGVuZ3RoICYmIChcXFwiO1xcXCIgIT0gZC5jaGFyQXQoaCkgfHwgbCk7KSBsID8gZC5jaGFyQXQoaCkgIT0gbCB8fCBrID8gayA9IFxcXCJcXFxcXFxcXFxcXCIgPT0gZC5jaGFyQXQoaCkgPyAhayA6IDAgOiBsID0gMCA6IChsID0gZC5jaGFyQXQoaCksICdcXFwiJyAhPSBsICYmIFxcXCInXFxcIiAhPSBsICYmIChsID0gMCkpLCBoKys7XFxuICAgICAgICAgICAgICAgICAgICBpZiAoZCA9IGQuc3Vic3RyaW5nKGIsIGgpKSBhLmUgPSBuZXcgRnVuY3Rpb24oXFxcInNcXFwiLCBcXFwidmFyIGU7dHJ5e3Mudy5cXFwiICsgYyArIFxcXCI9XFxcIiArIGQgKyBcXFwifWNhdGNoKGUpe31cXFwiKSwgYS5lKGYpXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gZyB8fCBlICYmIGYud1tjXVxcbiAgICB9XFxuXFxuICAgIGZ1bmN0aW9uIHIoYSwgZCwgYikge1xcbiAgICAgICAgdmFyIGM7XFxuICAgICAgICByZXR1cm4gKGMgPSBlW2RdKGEsIGIpKSAmJiAocCA/IChwID0gMCwgYykgOiBnKGsoYyksIGVbZCArIFxcXCJFeGNsdXNpb25zXFxcIl0pKVxcbiAgICB9XFxuXFxuICAgIGZ1bmN0aW9uIHMoYSwgZCwgYikge1xcbiAgICAgICAgdmFyIGM7XFxuICAgICAgICBpZiAoYSAmJiAhKDEgPT09IChjID0gYS5ub2RlVHlwZSkgJiYgKGMgPSBhLm5vZGVOYW1lKSAmJiAoYyA9IGMudG9VcHBlckNhc2UoKSkgJiYgdFtjXSkgJiYgKDEgPT09IGEubm9kZVR5cGUgJiYgKGMgPSBhLm5vZGVWYWx1ZSkgJiYgKGRbZC5sZW5ndGhdID0gYyksIGIuYSB8fFxcbiAgICAgICAgICAgICAgICBiLnQgfHwgYi5zIHx8ICFhLmdldEF0dHJpYnV0ZSB8fCAoKGMgPSBhLmdldEF0dHJpYnV0ZShcXFwiYWx0XFxcIikpID8gYi5hID0gYyA6IChjID0gYS5nZXRBdHRyaWJ1dGUoXFxcInRpdGxlXFxcIikpID8gYi50ID0gYyA6IFxcXCJJTUdcXFwiID09IChcXFwiXFxcIiArIGEubm9kZU5hbWUpLnRvVXBwZXJDYXNlKCkgJiYgKGMgPSBhLmdldEF0dHJpYnV0ZShcXFwic3JjXFxcIikgfHwgYS5zcmMpICYmIChiLnMgPSBjKSksIChjID0gYS5jaGlsZE5vZGVzKSAmJiBjLmxlbmd0aCkpXFxuICAgICAgICAgICAgZm9yIChhID0gMDsgYSA8IGMubGVuZ3RoOyBhKyspIHMoY1thXSwgZCwgYilcXG4gICAgfVxcblxcbiAgICBmdW5jdGlvbiBrKGEpIHtcXG4gICAgICAgIGlmIChudWxsID09IGEgfHwgdm9pZCAwID09IGEpIHJldHVybiBhO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICByZXR1cm4gYS5yZXBsYWNlKFJlZ0V4cChcXFwiXltcXFxcXFxcXHNcXFxcXFxcXG5cXFxcXFxcXGZcXFxcXFxcXHJcXFxcXFxcXHRcXFxcdC1cXFxcciBcXFxcdTAwYTBcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDAtXFxcXHUyMDBhXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUyMDVmXFxcXHUzMDAwXFxcXHVmZWZmXStcXFwiLCBcXFwibWdcXFwiKSwgXFxcIlxcXCIpLnJlcGxhY2UoUmVnRXhwKFxcXCJbXFxcXFxcXFxzXFxcXFxcXFxuXFxcXFxcXFxmXFxcXFxcXFxyXFxcXFxcXFx0XFxcXHQtXFxcXHIgXFxcXHUwMGEwXFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwLVxcXFx1MjAwYVxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MjA1ZlxcXFx1MzAwMFxcXFx1ZmVmZl0rJFxcXCIsXFxuICAgICAgICAgICAgICAgIFxcXCJtZ1xcXCIpLCBcXFwiXFxcIikucmVwbGFjZShSZWdFeHAoXFxcIltcXFxcXFxcXHNcXFxcXFxcXG5cXFxcXFxcXGZcXFxcXFxcXHJcXFxcXFxcXHRcXFxcdC1cXFxcciBcXFxcdTAwYTBcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDAtXFxcXHUyMDBhXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUyMDVmXFxcXHUzMDAwXFxcXHVmZWZmXXsxLH1cXFwiLCBcXFwibWdcXFwiKSwgXFxcIiBcXFwiKS5zdWJzdHJpbmcoMCwgMjU0KVxcbiAgICAgICAgfSBjYXRjaCAoZCkge31cXG4gICAgfVxcbiAgICB2YXIgZSA9IHRoaXM7XFxuICAgIGUucyA9IGY7XFxuICAgIHZhciBfd2luZG93ID0gd2luZG93O1xcbiAgICBfd2luZG93LnNfY19pbiB8fCAoX3dpbmRvdy5zX2NfaWwgPSBbXSwgX3dpbmRvdy5zX2NfaW4gPSAwKTtcXG4gICAgZS5faWwgPSBfd2luZG93LnNfY19pbDtcXG4gICAgZS5faW4gPSBfd2luZG93LnNfY19pbjtcXG4gICAgZS5faWxbZS5faW5dID0gZTtcXG4gICAgX3dpbmRvdy5zX2NfaW4rKztcXG4gICAgZS5fYyA9IFxcXCJzX21cXFwiO1xcbiAgICBlLmMgPSB7fTtcXG4gICAgdmFyIHAgPSAwLFxcbiAgICAgICAgdCA9IHtcXG4gICAgICAgICAgICBTQ1JJUFQ6IDEsXFxuICAgICAgICAgICAgU1RZTEU6IDEsXFxuICAgICAgICAgICAgTElOSzogMSxcXG4gICAgICAgICAgICBDQU5WQVM6IDFcXG4gICAgICAgIH07XFxuICAgIGUuX2cgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICB2YXIgYSwgZCwgYiwgYyA9IGYuY29udGV4dERhdGEsXFxuICAgICAgICAgICAgZSA9IGYubGlua09iamVjdDtcXG4gICAgICAgIChhID0gZi5wYWdlTmFtZSB8fCBmLnBhZ2VVUkwpICYmIChkID0gcihlLCBcXFwibGlua1xcXCIsIGYubGlua05hbWUpKSAmJiAoYiA9IHIoZSwgXFxcInJlZ2lvblxcXCIpKSAmJiAoY1tcXFwiYS5hY3Rpdml0eW1hcC5wYWdlXFxcIl0gPSBhLnN1YnN0cmluZygwLFxcbiAgICAgICAgICAgIDI1NSksIGNbXFxcImEuYWN0aXZpdHltYXAubGlua1xcXCJdID0gMTI4IDwgZC5sZW5ndGggPyBkLnN1YnN0cmluZygwLCAxMjgpIDogZCwgY1tcXFwiYS5hY3Rpdml0eW1hcC5yZWdpb25cXFwiXSA9IDEyNyA8IGIubGVuZ3RoID8gYi5zdWJzdHJpbmcoMCwgMTI3KSA6IGIsIGNbXFxcImEuYWN0aXZpdHltYXAucGFnZUlEVHlwZVxcXCJdID0gZi5wYWdlTmFtZSA/IDEgOiAwKVxcbiAgICB9O1xcbiAgICBlLmxpbmsgPSBmdW5jdGlvbiAoYSwgZCkge1xcbiAgICAgICAgdmFyIGI7XFxuICAgICAgICBpZiAoZCkgYiA9IGcoayhkKSwgZS5saW5rRXhjbHVzaW9ucyk7XFxuICAgICAgICBlbHNlIGlmICgoYiA9IGEpICYmICEoYiA9IHEoYSwgXFxcInNPYmplY3RJZFxcXCIsIFxcXCJzLW9iamVjdC1pZFxcXCIsIFxcXCJzX29iamVjdElEXFxcIiwgMSkpKSB7XFxuICAgICAgICAgICAgdmFyIGMsIGY7XFxuICAgICAgICAgICAgKGYgPSBnKGsoYS5pbm5lclRleHQgfHwgYS50ZXh0Q29udGVudCksIGUubGlua0V4Y2x1c2lvbnMpKSB8fCAocyhhLCBjID0gW10sIGIgPSB7XFxuICAgICAgICAgICAgICAgIGE6IHZvaWQgMCxcXG4gICAgICAgICAgICAgICAgdDogdm9pZCAwLFxcbiAgICAgICAgICAgICAgICBzOiB2b2lkIDBcXG4gICAgICAgICAgICB9KSwgKGYgPSBnKGsoYy5qb2luKFxcXCJcXFwiKSkpKSB8fCAoZiA9IGcoayhiLmEgPyBiLmEgOiBiLnQgPyBiLnQgOiBiLnMgPyBiLnMgOiB2b2lkIDApKSkgfHwgIShjID0gKGMgPSBhLnRhZ05hbWUpICYmIGMudG9VcHBlckNhc2UgPyBjLnRvVXBwZXJDYXNlKCkgOlxcbiAgICAgICAgICAgICAgICBcXFwiXFxcIikgfHwgKFxcXCJJTlBVVFxcXCIgPT0gYyB8fCBcXFwiU1VCTUlUXFxcIiA9PSBjICYmIGEudmFsdWUgPyBmID0gZyhrKGEudmFsdWUpKSA6IFxcXCJJTUFHRVxcXCIgPT0gYyAmJiBhLnNyYyAmJiAoZiA9IGcoayhhLnNyYykpKSkpO1xcbiAgICAgICAgICAgIGIgPSBmXFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gYlxcbiAgICB9O1xcbiAgICBlLnJlZ2lvbiA9IGZ1bmN0aW9uIChhKSB7XFxuICAgICAgICBmb3IgKHZhciBkLCBiID0gZS5yZWdpb25JREF0dHJpYnV0ZSB8fCBcXFwiaWRcXFwiOyBhICYmIChhID0gYS5wYXJlbnROb2RlKTspIHtcXG4gICAgICAgICAgICBpZiAoZCA9IHEoYSwgYiwgYiwgYikpIHJldHVybiBkO1xcbiAgICAgICAgICAgIGlmIChcXFwiQk9EWVxcXCIgPT0gYS5ub2RlTmFtZSkgcmV0dXJuIFxcXCJCT0RZXFxcIlxcbiAgICAgICAgfVxcbiAgICB9XFxufVxcbi8qIEVuZCBBY3Rpdml0eU1hcCBNb2R1bGUgKi9cXG4vKlxcbiA9PT09PT09PT09PT09PSBETyBOT1QgQUxURVIgQU5ZVEhJTkcgQkVMT1cgVEhJUyBMSU5FICEgPT09PT09PT09PT09PT09XFxuXFxuQXBwTWVhc3VyZW1lbnQgZm9yIEphdmFTY3JpcHQgdmVyc2lvbjogMi4zLjBcXG5Db3B5cmlnaHQgMTk5Ni0yMDE2IEFkb2JlLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWRcXG5Nb3JlIGluZm8gYXZhaWxhYmxlIGF0IGh0dHA6Ly93d3cuYWRvYmUuY29tL21hcmtldGluZy1jbG91ZC5odG1sXFxuKi9cXG5mdW5jdGlvbiBBcHBNZWFzdXJlbWVudChyKSB7XFxuICAgIHZhciBhcHBNZWFzdXJlbWVudCA9IHRoaXM7XFxuICAgIGFwcE1lYXN1cmVtZW50LnZlcnNpb24gPSBcXFwiMi4zLjBcXFwiO1xcbiAgICB2YXIgX3dpbmRvdyA9IHdpbmRvdztcXG4gICAgLy8gc19jX2lsID0+IEluc3RhbmNlIExpc3RcXG4gICAgLy8gc19jX2luID0+IEluc3RhbmNlIE51bWJlclxcbiAgICBfd2luZG93LnNfY19pbiB8fCAoX3dpbmRvdy5zX2NfaWwgPSBbXSwgX3dpbmRvdy5zX2NfaW4gPSAwKTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuX2lsID0gX3dpbmRvdy5zX2NfaWw7XFxuICAgIGFwcE1lYXN1cmVtZW50Ll9pbiA9IF93aW5kb3cuc19jX2luO1xcbiAgICBhcHBNZWFzdXJlbWVudC5faWxbYXBwTWVhc3VyZW1lbnQuX2luXSA9IGFwcE1lYXN1cmVtZW50O1xcbiAgICBfd2luZG93LnNfY19pbisrO1xcbiAgICBhcHBNZWFzdXJlbWVudC5fYyA9IFxcXCJzX2NcXFwiO1xcbiAgICB2YXIgcCA9IF93aW5kb3cuQXBwTWVhc3VyZW1lbnQuUGI7XFxuICAgIHAgfHwgKHAgPSBudWxsKTtcXG4gICAgdmFyIG4gPSBfd2luZG93LFxcbiAgICAgICAgbSwgcztcXG4gICAgdHJ5IHtcXG4gICAgICAgIGZvciAobSA9IG4ucGFyZW50LCBzID0gbi5sb2NhdGlvbjsgbSAmJiBtLmxvY2F0aW9uICYmIHMgJiYgXFxcIlxcXCIgKyBtLmxvY2F0aW9uICE9IFxcXCJcXFwiICsgcyAmJiBuLmxvY2F0aW9uICYmIFxcXCJcXFwiICsgbS5sb2NhdGlvbiAhPSBcXFwiXFxcIiArIG4ubG9jYXRpb24gJiYgbS5sb2NhdGlvbi5ob3N0ID09IHMuaG9zdDspIG4gPSBtLCBtID0gbi5wYXJlbnRcXG4gICAgfSBjYXRjaCAodSkge31cXG4gICAgYXBwTWVhc3VyZW1lbnQuRiA9IGZ1bmN0aW9uIChhKSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGEpXFxuICAgICAgICB9IGNhdGNoIChiKSB7fVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5NYSA9IGZ1bmN0aW9uIChhKSB7XFxuICAgICAgICByZXR1cm4gXFxcIlxcXCIgKyBwYXJzZUludChhKSA9PSBcXFwiXFxcIiArIGFcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQucmVwbGFjZSA9IGZ1bmN0aW9uIChhLCBiLCBkKSB7XFxuICAgICAgICByZXR1cm4gIWEgfHxcXG4gICAgICAgICAgICAwID4gYS5pbmRleE9mKGIpID8gYSA6IGEuc3BsaXQoYikuam9pbihkKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5lc2NhcGUgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgdmFyIGIsIGQ7XFxuICAgICAgICBpZiAoIWMpIHJldHVybiBjO1xcbiAgICAgICAgYyA9IGVuY29kZVVSSUNvbXBvbmVudChjKTtcXG4gICAgICAgIGZvciAoYiA9IDA7IDcgPiBiOyBiKyspIGQgPSBcXFwiK34hKigpJ1xcXCIuc3Vic3RyaW5nKGIsIGIgKyAxKSwgMCA8PSBjLmluZGV4T2YoZCkgJiYgKGMgPSBhcHBNZWFzdXJlbWVudC5yZXBsYWNlKGMsIGQsIFxcXCIlXFxcIiArIGQuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSkpO1xcbiAgICAgICAgcmV0dXJuIGNcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQudW5lc2NhcGUgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgaWYgKCFjKSByZXR1cm4gYztcXG4gICAgICAgIGMgPSAwIDw9IGMuaW5kZXhPZihcXFwiK1xcXCIpID8gYXBwTWVhc3VyZW1lbnQucmVwbGFjZShjLCBcXFwiK1xcXCIsIFxcXCIgXFxcIikgOiBjO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGMpXFxuICAgICAgICB9IGNhdGNoIChiKSB7fVxcbiAgICAgICAgcmV0dXJuIHVuZXNjYXBlKGMpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LndiID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgdmFyIGMgPSBfd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxcbiAgICAgICAgICAgIGIgPSBhcHBNZWFzdXJlbWVudC5mcENvb2tpZURvbWFpblBlcmlvZHMsXFxuICAgICAgICAgICAgZDtcXG4gICAgICAgIGIgfHwgKGIgPSBhcHBNZWFzdXJlbWVudC5jb29raWVEb21haW5QZXJpb2RzKTtcXG4gICAgICAgIGlmIChjICYmICFhcHBNZWFzdXJlbWVudC5FYSAmJiAhL15bMC05Ll0rJC8udGVzdChjKSAmJlxcbiAgICAgICAgICAgIChiID0gYiA/IHBhcnNlSW50KGIpIDogMiwgYiA9IDIgPCBiID8gYiA6IDIsIGQgPSBjLmxhc3RJbmRleE9mKFxcXCIuXFxcIiksIDAgPD0gZCkpIHtcXG4gICAgICAgICAgICBmb3IgKDsgMCA8PSBkICYmIDEgPCBiOykgZCA9IGMubGFzdEluZGV4T2YoXFxcIi5cXFwiLCBkIC0gMSksIGItLTtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5FYSA9IDAgPCBkID8gYy5zdWJzdHJpbmcoZCkgOiBjXFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gYXBwTWVhc3VyZW1lbnQuRWFcXG4gICAgfTtcXG4gICAgLy9cXG4gICAgLy8gQ29va2llIFJlYWRcXG4gICAgLy9cXG4gICAgYXBwTWVhc3VyZW1lbnQuY19yID0gYXBwTWVhc3VyZW1lbnQuY29va2llUmVhZCA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBjID0gYXBwTWVhc3VyZW1lbnQuZXNjYXBlKGMpO1xcbiAgICAgICAgdmFyIGIgPSBcXFwiIFxcXCIgKyBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQuY29va2llLFxcbiAgICAgICAgICAgIGQgPSBiLmluZGV4T2YoXFxcIiBcXFwiICsgYyArIFxcXCI9XFxcIiksXFxuICAgICAgICAgICAgZiA9IDAgPiBkID8gZCA6IGIuaW5kZXhPZihcXFwiO1xcXCIsIGQpO1xcbiAgICAgICAgYyA9IDAgPiBkID8gXFxcIlxcXCIgOiBhcHBNZWFzdXJlbWVudC51bmVzY2FwZShiLnN1YnN0cmluZyhkICsgMiArIGMubGVuZ3RoLCAwID4gZiA/IGIubGVuZ3RoIDogZikpO1xcbiAgICAgICAgcmV0dXJuIFxcXCJbW0JdXVxcXCIgIT0gYyA/IGMgOiBcXFwiXFxcIlxcbiAgICB9O1xcbiAgICAvL1xcbiAgICAvLyBDb29raWUgV3JpdGVcXG4gICAgLy9cXG4gICAgYXBwTWVhc3VyZW1lbnQuY193ID0gYXBwTWVhc3VyZW1lbnQuY29va2llV3JpdGUgPSBmdW5jdGlvbiAoY29va2llTmFtZSwgY29va2llVmFsdWUsIGV4cGlyeSkge1xcbiAgICAgICAgY29uc29sZS5sb2coXFxcIldyaXRpbmcgY29va2llOiBcXFwiICsgY29va2llTmFtZSArIFxcXCI6IFxcXCIgKyBjb29raWVWYWx1ZSk7XFxuICAgICAgICB2YXIgZiA9IGFwcE1lYXN1cmVtZW50LndiKCksXFxuICAgICAgICAgICAgY29va2llTGlmZXRpbWUgPSBhcHBNZWFzdXJlbWVudC5jb29raWVMaWZldGltZSxcXG4gICAgICAgICAgICBnO1xcbiAgICAgICAgdmFyIGRvY3VtZW50Q29va2llID0gXFxcIlxcXCI7XFxuICAgICAgICBjb29raWVWYWx1ZSA9IFxcXCJcXFwiICsgY29va2llVmFsdWU7XFxuICAgICAgICBjb29raWVMaWZldGltZSA9IGNvb2tpZUxpZmV0aW1lID8gKFxcXCJcXFwiICsgY29va2llTGlmZXRpbWUpLnRvVXBwZXJDYXNlKCkgOiBcXFwiXFxcIjtcXG4gICAgICAgIGV4cGlyeSAmJiBcXFwiU0VTU0lPTlxcXCIgIT0gY29va2llTGlmZXRpbWUgJiYgXFxcIk5PTkVcXFwiICE9IGNvb2tpZUxpZmV0aW1lICYmICgoZyA9IFxcXCJcXFwiICE9IGNvb2tpZVZhbHVlID8gcGFyc2VJbnQoY29va2llTGlmZXRpbWUgPyBjb29raWVMaWZldGltZSA6IDApIDogLTYwKSA/XFxuICAgICAgICAgICAgKGV4cGlyeSA9IG5ldyBEYXRlLCBleHBpcnkuc2V0VGltZShleHBpcnkuZ2V0VGltZSgpICsgMUUzICogZykpIDpcXG4gICAgICAgICAgICAxID09IGV4cGlyeSAmJiAoZXhwaXJ5ID0gbmV3IERhdGUsIGcgPSBleHBpcnkuZ2V0WWVhcigpLCBleHBpcnkuc2V0WWVhcihnICsgNSArICgxOTAwID4gZyA/IDE5MDAgOiAwKSkpKTtcXG4gICAgICAgIHJldHVybiBjb29raWVOYW1lICYmIFxcXCJOT05FXFxcIiAhPSBjb29raWVMaWZldGltZSA/XFxuICAgICAgICAgICAgKGRvY3VtZW50Q29va2llID0gYXBwTWVhc3VyZW1lbnQuZXNjYXBlKGNvb2tpZU5hbWUpICsgXFxcIj1cXFwiICtcXG4gICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuZXNjYXBlKFxcXCJcXFwiICE9IGNvb2tpZVZhbHVlID8gY29va2llVmFsdWUgOiBcXFwiW1tCXV1cXFwiKSArXFxuICAgICAgICAgICAgICAgIFxcXCI7IHBhdGg9LztcXFwiICsgKGV4cGlyeSAmJiBcXFwiU0VTU0lPTlxcXCIgIT0gY29va2llTGlmZXRpbWUgPyBcXFwiIGV4cGlyZXM9XFxcIiArIGV4cGlyeS50b0dNVFN0cmluZygpICsgXFxcIjtcXFwiIDogXFxcIlxcXCIpICtcXG4gICAgICAgICAgICAgICAgKGYgPyBcXFwiIGRvbWFpbj1cXFwiICsgZiArIFxcXCI7XFxcIiA6IFxcXCJcXFwiKSxcXG4gICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuX2RvY3VtZW50LmNvb2tpZSA9IGRvY3VtZW50Q29va2llLFxcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcXFwiRGVzaXJlZCBjb29raWU6IFxcXCIgKyBkb2N1bWVudENvb2tpZSArIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiXFxcXG5Db29raWUgYXQgZW5kIG9mIHdyaXRlOiBcXFwiICsgYXBwTWVhc3VyZW1lbnQuY29va2llUmVhZChjb29raWVOYW1lKSArIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiXFxcXG5Eb2N1bWVudCBjb29raWUgXFxcIiArIGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC5jb29raWUpLFxcbiAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5jb29raWVSZWFkKGNvb2tpZU5hbWUpID09IGNvb2tpZVZhbHVlKSA6IDBcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuTCA9IFtdO1xcbiAgICBhcHBNZWFzdXJlbWVudC5pYSA9IGZ1bmN0aW9uIChjLCBiLCBkKSB7XFxuICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQuRmEpIHJldHVybiAwO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQubWF4RGVsYXkgfHwgKGFwcE1lYXN1cmVtZW50Lm1heERlbGF5ID0gMjUwKTtcXG4gICAgICAgIHZhciBmID0gMCxcXG4gICAgICAgICAgICBlID0gKG5ldyBEYXRlKS5nZXRUaW1lKCkgKyBhcHBNZWFzdXJlbWVudC5tYXhEZWxheSxcXG4gICAgICAgICAgICBnID0gYXBwTWVhc3VyZW1lbnQuX2RvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSxcXG4gICAgICAgICAgICBoID0gW1xcXCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXFxcIiwgXFxcInZpc2liaWxpdHljaGFuZ2VcXFwiXTtcXG4gICAgICAgIGcgfHwgKGcgPSBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQud2Via2l0VmlzaWJpbGl0eVN0YXRlKTtcXG4gICAgICAgIGlmIChnICYmIFxcXCJwcmVyZW5kZXJcXFwiID09IGcpIHtcXG4gICAgICAgICAgICBpZiAoIWFwcE1lYXN1cmVtZW50LmphKVxcbiAgICAgICAgICAgICAgICBmb3IgKGFwcE1lYXN1cmVtZW50LmphID0gMSwgZCA9IDA7IGQgPCBoLmxlbmd0aDsgZCsrKSBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihoW2RdLCBmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU7XFxuICAgICAgICAgICAgICAgICAgICBjIHx8IChjID0gYXBwTWVhc3VyZW1lbnQuX2RvY3VtZW50LndlYmtpdFZpc2liaWxpdHlTdGF0ZSk7XFxuICAgICAgICAgICAgICAgICAgICBcXFwidmlzaWJsZVxcXCIgPT0gYyAmJiAoYXBwTWVhc3VyZW1lbnQuamEgPSAwLCBhcHBNZWFzdXJlbWVudC5kZWxheVJlYWR5KCkpXFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIGYgPSAxO1xcbiAgICAgICAgICAgIGUgPSAwXFxuICAgICAgICB9IGVsc2UgZCB8fCBhcHBNZWFzdXJlbWVudC5wKFxcXCJfZFxcXCIpICYmIChmID0gMSk7XFxuICAgICAgICBmICYmIChhcHBNZWFzdXJlbWVudC5MLnB1c2goe1xcbiAgICAgICAgICAgIG06IGMsXFxuICAgICAgICAgICAgYTogYixcXG4gICAgICAgICAgICB0OiBlXFxuICAgICAgICB9KSwgYXBwTWVhc3VyZW1lbnQuamEgfHwgc2V0VGltZW91dChhcHBNZWFzdXJlbWVudC5kZWxheVJlYWR5LCBhcHBNZWFzdXJlbWVudC5tYXhEZWxheSkpO1xcbiAgICAgICAgcmV0dXJuIGZcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZGVsYXlSZWFkeSA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHZhciBjID0gKG5ldyBEYXRlKS5nZXRUaW1lKCksXFxuICAgICAgICAgICAgYiA9IDAsXFxuICAgICAgICAgICAgZDtcXG4gICAgICAgIGZvciAoYXBwTWVhc3VyZW1lbnQucChcXFwiX2RcXFwiKSA/IGIgPSAxIDogYXBwTWVhc3VyZW1lbnQueGEoKTsgMCA8IGFwcE1lYXN1cmVtZW50LkwubGVuZ3RoOykge1xcbiAgICAgICAgICAgIGQgPSBhcHBNZWFzdXJlbWVudC5MLnNoaWZ0KCk7XFxuICAgICAgICAgICAgaWYgKGIgJiYgIWQudCAmJiBkLnQgPiBjKSB7XFxuICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LkwudW5zaGlmdChkKTtcXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChhcHBNZWFzdXJlbWVudC5kZWxheVJlYWR5LCBwYXJzZUludChhcHBNZWFzdXJlbWVudC5tYXhEZWxheSAvIDIpKTtcXG4gICAgICAgICAgICAgICAgYnJlYWtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuRmEgPSAxO1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50W2QubV0uYXBwbHkoYXBwTWVhc3VyZW1lbnQsIGQuYSk7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuRmEgPSAwXFxuICAgICAgICB9XFxuICAgIH07XFxuICAgIC8vIENoYW5nZSByZXBvcnQgc3VpdGVzXFxuICAgIGFwcE1lYXN1cmVtZW50LnNldEFjY291bnQgPSBhcHBNZWFzdXJlbWVudC5zYSA9IGZ1bmN0aW9uIChyc2lkKSB7XFxuICAgICAgICB2YXIgYiwgZDtcXG4gICAgICAgIGlmICghYXBwTWVhc3VyZW1lbnQuaWEoXFxcInNldEFjY291bnRcXFwiLCBhcmd1bWVudHMpKVxcbiAgICAgICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC5hY2NvdW50ID0gcnNpZCwgYXBwTWVhc3VyZW1lbnQuYWxsQWNjb3VudHMpXFxuICAgICAgICAgICAgICAgIGZvciAoYiA9IGFwcE1lYXN1cmVtZW50LmFsbEFjY291bnRzLmNvbmNhdChyc2lkLnNwbGl0KFxcXCIsXFxcIikpLCBhcHBNZWFzdXJlbWVudC5hbGxBY2NvdW50cyA9IFtdLCBiLnNvcnQoKSwgZCA9IDA7IGQgPCBiLmxlbmd0aDsgZCsrKSAwICE9IGQgJiYgYltkIC0gMV0gPT0gYltkXSB8fCBhcHBNZWFzdXJlbWVudC5hbGxBY2NvdW50cy5wdXNoKGJbZF0pO1xcbiAgICAgICAgICAgIGVsc2UgYXBwTWVhc3VyZW1lbnQuYWxsQWNjb3VudHMgPSByc2lkLnNwbGl0KFxcXCIsXFxcIilcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZm9yZWFjaFZhciA9IGZ1bmN0aW9uIChjLCBiKSB7XFxuICAgICAgICB2YXIgZCwgZiwgZSwgZywgaCA9IFxcXCJcXFwiO1xcbiAgICAgICAgZSA9IGYgPSBcXFwiXFxcIjtcXG4gICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC5saWdodFByb2ZpbGVJRCkgZCA9IGFwcE1lYXN1cmVtZW50LlAsIChoID0gYXBwTWVhc3VyZW1lbnQubGlnaHRUcmFja1ZhcnMpICYmIChoID0gXFxcIixcXFwiICsgaCArIFxcXCIsXFxcIiArIGFwcE1lYXN1cmVtZW50Lm5hLmpvaW4oXFxcIixcXFwiKSArIFxcXCIsXFxcIik7XFxuICAgICAgICBlbHNlIHtcXG4gICAgICAgICAgICBkID0gYXBwTWVhc3VyZW1lbnQuZztcXG4gICAgICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQucGUgfHwgYXBwTWVhc3VyZW1lbnQubGlua1R5cGUpIGggPSBhcHBNZWFzdXJlbWVudC5saW5rVHJhY2tWYXJzLCBmID0gYXBwTWVhc3VyZW1lbnQubGlua1RyYWNrRXZlbnRzLFxcbiAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5wZSAmJiAoZSA9IGFwcE1lYXN1cmVtZW50LnBlLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgYXBwTWVhc3VyZW1lbnQucGUuc3Vic3RyaW5nKDEpLCBhcHBNZWFzdXJlbWVudFtlXSAmJiAoaCA9IGFwcE1lYXN1cmVtZW50W2VdLk5iLCBmID0gYXBwTWVhc3VyZW1lbnRbZV0uTWIpKTtcXG4gICAgICAgICAgICBoICYmIChoID0gXFxcIixcXFwiICsgaCArIFxcXCIsXFxcIiArIGFwcE1lYXN1cmVtZW50Lkguam9pbihcXFwiLFxcXCIpICsgXFxcIixcXFwiKTtcXG4gICAgICAgICAgICBmICYmIGggJiYgKGggKz0gXFxcIixldmVudHMsXFxcIilcXG4gICAgICAgIH1cXG4gICAgICAgIGIgJiYgKGIgPSBcXFwiLFxcXCIgKyBiICsgXFxcIixcXFwiKTtcXG4gICAgICAgIGZvciAoZiA9IDA7IGYgPCBkLmxlbmd0aDsgZisrKSBlID0gZFtmXSwgKGcgPSBhcHBNZWFzdXJlbWVudFtlXSkgJiYgKCFoIHx8IDAgPD0gaC5pbmRleE9mKFxcXCIsXFxcIiArIGUgKyBcXFwiLFxcXCIpKSAmJiAoIWIgfHwgMCA8PSBiLmluZGV4T2YoXFxcIixcXFwiICsgZSArIFxcXCIsXFxcIikpICYmIGMoZSwgZylcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuciA9IGZ1bmN0aW9uIChjLCBiLCBkLCBmLCBlKSB7XFxuICAgICAgICB2YXIgZyA9IFxcXCJcXFwiLFxcbiAgICAgICAgICAgIGgsIGwsIGssIHEsIG0gPSAwO1xcbiAgICAgICAgXFxcImNvbnRleHREYXRhXFxcIiA9PSBjICYmIChjID0gXFxcImNcXFwiKTtcXG4gICAgICAgIGlmIChiKSB7XFxuICAgICAgICAgICAgZm9yIChoIGluIGIpXFxuICAgICAgICAgICAgICAgIGlmICghKE9iamVjdC5wcm90b3R5cGVbaF0gfHwgZSAmJiBoLnN1YnN0cmluZygwLCBlLmxlbmd0aCkgIT0gZSkgJiYgYltoXSAmJiAoIWQgfHwgMCA8PSBkLmluZGV4T2YoXFxcIixcXFwiICsgKGYgPyBmICsgXFxcIi5cXFwiIDogXFxcIlxcXCIpICsgaCArIFxcXCIsXFxcIikpKSB7XFxuICAgICAgICAgICAgICAgICAgICBrID0gITE7XFxuICAgICAgICAgICAgICAgICAgICBpZiAobSlcXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGwgPSAwOyBsIDwgbS5sZW5ndGg7IGwrKykgaC5zdWJzdHJpbmcoMCxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbVtsXS5sZW5ndGgpID09IG1bbF0gJiYgKGsgPSAhMCk7XFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWsgJiYgKFxcXCJcXFwiID09IGcgJiYgKGcgKz0gXFxcIiZcXFwiICsgYyArIFxcXCIuXFxcIiksIGwgPSBiW2hdLCBlICYmIChoID0gaC5zdWJzdHJpbmcoZS5sZW5ndGgpKSwgMCA8IGgubGVuZ3RoKSlcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoayA9IGguaW5kZXhPZihcXFwiLlxcXCIpLCAwIDwgaykgbCA9IGguc3Vic3RyaW5nKDAsIGspLCBrID0gKGUgPyBlIDogXFxcIlxcXCIpICsgbCArIFxcXCIuXFxcIiwgbSB8fCAobSA9IFtdKSwgbS5wdXNoKGspLCBnICs9IGFwcE1lYXN1cmVtZW50LnIobCwgYiwgZCwgZiwgayk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXFxcImJvb2xlYW5cXFwiID09IHR5cGVvZiBsICYmIChsID0gbCA/IFxcXCJ0cnVlXFxcIiA6IFxcXCJmYWxzZVxcXCIpLCBsKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxcXCJyZXRyaWV2ZUxpZ2h0RGF0YVxcXCIgPT0gZiAmJiAwID4gZS5pbmRleE9mKFxcXCIuY29udGV4dERhdGEuXFxcIikpIHN3aXRjaCAoayA9IGguc3Vic3RyaW5nKDAsIDQpLCBxID0gaC5zdWJzdHJpbmcoNCksIGgpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwidHJhbnNhY3Rpb25JRFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoID0gXFxcInhhY3RcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImNoYW5uZWxcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IFxcXCJjaFxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiY2FtcGFpZ25cXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IFxcXCJ2MFxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50Lk1hKHEpICYmIChcXFwicHJvcFxcXCIgPT0gayA/IGggPSBcXFwiY1xcXCIgKyBxIDogXFxcImVWYXJcXFwiID09IGsgPyBoID0gXFxcInZcXFwiICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxIDogXFxcImxpc3RcXFwiID09IGsgPyBoID0gXFxcImxcXFwiICsgcSA6IFxcXCJoaWVyXFxcIiA9PSBrICYmIChoID0gXFxcImhcXFwiICsgcSwgbCA9IGwuc3Vic3RyaW5nKDAsIDI1NSkpKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICBnICs9IFxcXCImXFxcIiArIGFwcE1lYXN1cmVtZW50LmVzY2FwZShoKSArIFxcXCI9XFxcIiArIGFwcE1lYXN1cmVtZW50LmVzY2FwZShsKVxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxcIlxcXCIgIT0gZyAmJiAoZyArPSBcXFwiJi5cXFwiICsgYylcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBnXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LnVzZVBvc3RiYWNrcyA9IDA7XFxuICAgIGFwcE1lYXN1cmVtZW50LnpiID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgdmFyIGMgPSBcXFwiXFxcIixcXG4gICAgICAgICAgICBiLCBkLCBmLCBlLCBnLCBoLCBsLCBrLCBxID0gXFxcIlxcXCIsXFxuICAgICAgICAgICAgbSA9IFxcXCJcXFwiLFxcbiAgICAgICAgICAgIG4gPSBlID0gXFxcIlxcXCI7XFxuICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQubGlnaHRQcm9maWxlSUQpIGIgPSBhcHBNZWFzdXJlbWVudC5QLCAocSA9IGFwcE1lYXN1cmVtZW50LmxpZ2h0VHJhY2tWYXJzKSAmJiAocSA9IFxcXCIsXFxcIiArIHEgKyBcXFwiLFxcXCIgKyBhcHBNZWFzdXJlbWVudC5uYS5qb2luKFxcXCIsXFxcIikgKyBcXFwiLFxcXCIpO1xcbiAgICAgICAgZWxzZSB7XFxuICAgICAgICAgICAgYiA9IGFwcE1lYXN1cmVtZW50Lmc7XFxuICAgICAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LnBlIHx8IGFwcE1lYXN1cmVtZW50LmxpbmtUeXBlKSBxID0gYXBwTWVhc3VyZW1lbnQubGlua1RyYWNrVmFycywgbSA9IGFwcE1lYXN1cmVtZW50LmxpbmtUcmFja0V2ZW50cywgYXBwTWVhc3VyZW1lbnQucGUgJiYgKGUgPSBhcHBNZWFzdXJlbWVudC5wZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIGFwcE1lYXN1cmVtZW50LnBlLnN1YnN0cmluZygxKSwgYXBwTWVhc3VyZW1lbnRbZV0gJiYgKHEgPSBhcHBNZWFzdXJlbWVudFtlXS5OYiwgbSA9IGFwcE1lYXN1cmVtZW50W2VdLk1iKSk7XFxuICAgICAgICAgICAgcSAmJiAocSA9IFxcXCIsXFxcIiArIHEgKyBcXFwiLFxcXCIgKyBhcHBNZWFzdXJlbWVudC5ILmpvaW4oXFxcIixcXFwiKSArIFxcXCIsXFxcIik7XFxuICAgICAgICAgICAgbSAmJiAobSA9IFxcXCIsXFxcIiArIG0gKyBcXFwiLFxcXCIsIHEgJiYgKHEgKz1cXG4gICAgICAgICAgICAgICAgXFxcIixldmVudHMsXFxcIikpO1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmV2ZW50czIgJiYgKG4gKz0gKFxcXCJcXFwiICE9IG4gPyBcXFwiLFxcXCIgOiBcXFwiXFxcIikgKyBhcHBNZWFzdXJlbWVudC5ldmVudHMyKVxcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LnZpc2l0b3IgJiYgYXBwTWVhc3VyZW1lbnQudmlzaXRvci5nZXRDdXN0b21lcklEcykge1xcbiAgICAgICAgICAgIGUgPSBwO1xcbiAgICAgICAgICAgIGlmIChnID0gYXBwTWVhc3VyZW1lbnQudmlzaXRvci5nZXRDdXN0b21lcklEcygpKVxcbiAgICAgICAgICAgICAgICBmb3IgKGQgaW4gZykgT2JqZWN0LnByb3RvdHlwZVtkXSB8fCAoZiA9IGdbZF0sIFxcXCJvYmplY3RcXFwiID09IHR5cGVvZiBmICYmIChlIHx8IChlID0ge30pLCBmLmlkICYmIChlW2QgKyBcXFwiLmlkXFxcIl0gPSBmLmlkKSwgZi5hdXRoU3RhdGUgJiYgKGVbZCArIFxcXCIuYXNcXFwiXSA9IGYuYXV0aFN0YXRlKSkpO1xcbiAgICAgICAgICAgIGUgJiYgKGMgKz0gYXBwTWVhc3VyZW1lbnQucihcXFwiY2lkXFxcIiwgZSkpXFxuICAgICAgICB9XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5BdWRpZW5jZU1hbmFnZW1lbnQgJiYgYXBwTWVhc3VyZW1lbnQuQXVkaWVuY2VNYW5hZ2VtZW50LmlzUmVhZHkoKSAmJiAoYyArPSBhcHBNZWFzdXJlbWVudC5yKFxcXCJkXFxcIiwgYXBwTWVhc3VyZW1lbnQuQXVkaWVuY2VNYW5hZ2VtZW50LmdldEV2ZW50Q2FsbENvbmZpZ1BhcmFtcygpKSk7XFxuICAgICAgICBmb3IgKGQgPSAwOyBkIDwgYi5sZW5ndGg7IGQrKykge1xcbiAgICAgICAgICAgIGUgPSBiW2RdO1xcbiAgICAgICAgICAgIGcgPSBhcHBNZWFzdXJlbWVudFtlXTtcXG4gICAgICAgICAgICBmID0gZS5zdWJzdHJpbmcoMCwgNCk7XFxuICAgICAgICAgICAgaCA9IGUuc3Vic3RyaW5nKDQpO1xcbiAgICAgICAgICAgIGcgfHwgKFxcXCJldmVudHNcXFwiID09IGUgJiYgbiA/IChnID0gbiwgbiA9XFxuICAgICAgICAgICAgICAgIFxcXCJcXFwiKSA6IFxcXCJtYXJrZXRpbmdDbG91ZE9yZ0lEXFxcIiA9PSBlICYmIGFwcE1lYXN1cmVtZW50LnZpc2l0b3IgJiYgKGcgPSBhcHBNZWFzdXJlbWVudC52aXNpdG9yLm1hcmtldGluZ0Nsb3VkT3JnSUQpKTtcXG4gICAgICAgICAgICBpZiAoZyAmJiAoIXEgfHwgMCA8PSBxLmluZGV4T2YoXFxcIixcXFwiICsgZSArIFxcXCIsXFxcIikpKSB7XFxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZSkge1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiY3VzdG9tZXJQZXJzcGVjdGl2ZVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJjcFxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJtYXJrZXRpbmdDbG91ZE9yZ0lEXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcIm1jb3JnaWRcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwic3VwcGxlbWVudGFsRGF0YUlEXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcInNkaWRcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwidGltZXN0YW1wXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcInRzXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImR5bmFtaWNWYXJpYWJsZVByZWZpeFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJEXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcInZpc2l0b3JJRFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJ2aWRcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwibWFya2V0aW5nQ2xvdWRWaXNpdG9ySURcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcXFwibWlkXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImFuYWx5dGljc1Zpc2l0b3JJRFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJhaWRcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiYXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50XFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImFhbWxoXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImF1ZGllbmNlTWFuYWdlckJsb2JcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiYWFtYlxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJhdXRoU3RhdGVcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcXFwiYXNcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwicGFnZVVSTFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJnXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICAyNTUgPCBnLmxlbmd0aCAmJiAoYXBwTWVhc3VyZW1lbnQucGFnZVVSTFJlc3QgPSBnLnN1YnN0cmluZygyNTUpLCBnID0gZy5zdWJzdHJpbmcoMCwgMjU1KSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJwYWdlVVJMUmVzdFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCItZ1xcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJyZWZlcnJlclxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJyXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcInZta1xcXCI6XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJ2aXNpdG9yTWlncmF0aW9uS2V5XFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcInZtdFxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJ2aXNpdG9yTWlncmF0aW9uU2VydmVyXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcInZtZlxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuc3NsICYmIGFwcE1lYXN1cmVtZW50LnZpc2l0b3JNaWdyYXRpb25TZXJ2ZXJTZWN1cmUgJiYgKGcgPSBcXFwiXFxcIik7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJ2aXNpdG9yTWlncmF0aW9uU2VydmVyU2VjdXJlXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcInZtZlxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgIWFwcE1lYXN1cmVtZW50LnNzbCAmJiBhcHBNZWFzdXJlbWVudC52aXNpdG9yTWlncmF0aW9uU2VydmVyICYmIChnID0gXFxcIlxcXCIpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiY2hhclNldFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJjZVxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJ2aXNpdG9yTmFtZXNwYWNlXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcIm5zXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImNvb2tpZURvbWFpblBlcmlvZHNcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiY2RwXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImNvb2tpZUxpZmV0aW1lXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImNsXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcInZhcmlhYmxlUHJvdmlkZXJcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcXFwidnZwXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImN1cnJlbmN5Q29kZVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJjY1xcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJjaGFubmVsXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImNoXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcInRyYW5zYWN0aW9uSURcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcXFwieGFjdFxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJjYW1wYWlnblxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJ2MFxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJsYXRpdHVkZVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJsYXRcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwibG9uZ2l0dWRlXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImxvblxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJyZXNvbHV0aW9uXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcInNcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiY29sb3JEZXB0aFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJjXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImphdmFzY3JpcHRWZXJzaW9uXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImpcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiamF2YUVuYWJsZWRcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcXFwidlxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJjb29raWVzRW5hYmxlZFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJrXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImJyb3dzZXJXaWR0aFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJid1xcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJicm93c2VySGVpZ2h0XFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImJoXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImNvbm5lY3Rpb25UeXBlXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImN0XFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImhvbWVwYWdlXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcImhwXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcImV2ZW50c1xcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgbiAmJiAoZyArPSAoXFxcIlxcXCIgIT0gZyA/IFxcXCIsXFxcIiA6IFxcXCJcXFwiKSArIG4pO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGggPSBnLnNwbGl0KFxcXCIsXFxcIiksIGcgPSBcXFwiXFxcIiwgZiA9IDA7IGYgPCBoLmxlbmd0aDsgZisrKSBsID0gaFtmXSwgayA9IGwuaW5kZXhPZihcXFwiPVxcXCIpLCAwIDw9IGsgJiYgKGwgPSBsLnN1YnN0cmluZygwLCBrKSksIGsgPSBsLmluZGV4T2YoXFxcIjpcXFwiKSwgMCA8PSBrICYmIChsID0gbC5zdWJzdHJpbmcoMCwgaykpLCAwIDw9IG0uaW5kZXhPZihcXFwiLFxcXCIgKyBsICsgXFxcIixcXFwiKSAmJiAoZyArPSAoZyA/IFxcXCIsXFxcIiA6IFxcXCJcXFwiKSArIGhbZl0pO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiZXZlbnRzMlxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IFxcXCJcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiY29udGV4dERhdGFcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgKz0gYXBwTWVhc3VyZW1lbnQucihcXFwiY1xcXCIsIGFwcE1lYXN1cmVtZW50W2VdLCBxLCBlKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBnID0gXFxcIlxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJsaWdodFByb2ZpbGVJRFxcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJtdHBcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwibGlnaHRTdG9yZUZvclNlY29uZHNcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcXFwibXRzc1xcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQubGlnaHRQcm9maWxlSUQgfHwgKGcgPSBcXFwiXFxcIik7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJsaWdodEluY3JlbWVudEJ5XFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID1cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcIm10aVxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQubGlnaHRQcm9maWxlSUQgfHwgKGcgPSBcXFwiXFxcIik7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJyZXRyaWV2ZUxpZ2h0UHJvZmlsZXNcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcXFwibXRzclxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJkZWxldGVMaWdodFByb2ZpbGVzXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXFxcIm10c2RcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwicmV0cmlldmVMaWdodERhdGFcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LnJldHJpZXZlTGlnaHRQcm9maWxlcyAmJiAoYyArPSBhcHBNZWFzdXJlbWVudC5yKFxcXCJtdHNcXFwiLCBhcHBNZWFzdXJlbWVudFtlXSwgcSwgZSkpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBcXFwiXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuTWEoaCkgJiYgKFxcXCJwcm9wXFxcIiA9PSBmID8gZSA9IFxcXCJjXFxcIiArIGggOiBcXFwiZVZhclxcXCIgPT0gZiA/IGUgPSBcXFwidlxcXCIgKyBoIDogXFxcImxpc3RcXFwiID09IGYgPyBlID0gXFxcImxcXFwiICsgaCA6IFxcXCJoaWVyXFxcIiA9PSBmICYmIChlID0gXFxcImhcXFwiICsgaCwgZyA9IGcuc3Vic3RyaW5nKDAsIDI1NSkpKVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGcgJiYgKGMgKz0gXFxcIiZcXFwiICsgZSArIFxcXCI9XFxcIiArIChcXFwicGV2XFxcIiAhPSBlLnN1YnN0cmluZygwLCAzKSA/IGFwcE1lYXN1cmVtZW50LmVzY2FwZShnKSA6IGcpKVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcXFwicGV2M1xcXCIgPT0gZSAmJiBhcHBNZWFzdXJlbWVudC5lICYmIChjICs9IGFwcE1lYXN1cmVtZW50LmUpXFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gY1xcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5EID0gZnVuY3Rpb24gKGEpIHtcXG4gICAgICAgIHZhciBiID0gYS50YWdOYW1lO1xcbiAgICAgICAgaWYgKFxcXCJ1bmRlZmluZWRcXFwiICE9IFxcXCJcXFwiICsgYS5TYiB8fCBcXFwidW5kZWZpbmVkXFxcIiAhPSBcXFwiXFxcIiArIGEuSWIgJiYgXFxcIkhUTUxcXFwiICE9XFxuICAgICAgICAgICAgKFxcXCJcXFwiICsgYS5JYikudG9VcHBlckNhc2UoKSkgcmV0dXJuIFxcXCJcXFwiO1xcbiAgICAgICAgYiA9IGIgJiYgYi50b1VwcGVyQ2FzZSA/IGIudG9VcHBlckNhc2UoKSA6IFxcXCJcXFwiO1xcbiAgICAgICAgXFxcIlNIQVBFXFxcIiA9PSBiICYmIChiID0gXFxcIlxcXCIpO1xcbiAgICAgICAgYiAmJiAoKFxcXCJJTlBVVFxcXCIgPT0gYiB8fCBcXFwiQlVUVE9OXFxcIiA9PSBiKSAmJiBhLnR5cGUgJiYgYS50eXBlLnRvVXBwZXJDYXNlID8gYiA9IGEudHlwZS50b1VwcGVyQ2FzZSgpIDogIWIgJiYgYS5ocmVmICYmIChiID0gXFxcIkFcXFwiKSk7XFxuICAgICAgICByZXR1cm4gYlxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5JYSA9IGZ1bmN0aW9uIChhKSB7XFxuICAgICAgICB2YXIgYiA9IF93aW5kb3cubG9jYXRpb24sXFxuICAgICAgICAgICAgZCA9IGEuaHJlZiA/IGEuaHJlZiA6IFxcXCJcXFwiLFxcbiAgICAgICAgICAgIGYsIGUsIGc7XFxuICAgICAgICBmID0gZC5pbmRleE9mKFxcXCI6XFxcIik7XFxuICAgICAgICBlID0gZC5pbmRleE9mKFxcXCI/XFxcIik7XFxuICAgICAgICBnID0gZC5pbmRleE9mKFxcXCIvXFxcIik7XFxuICAgICAgICBkICYmICgwID4gZiB8fCAwIDw9IGUgJiYgZiA+IGUgfHwgMCA8PSBnICYmIGYgPiBnKSAmJiAoZSA9IGEucHJvdG9jb2wgJiYgMSA8IGEucHJvdG9jb2wubGVuZ3RoID8gYS5wcm90b2NvbCA6IGIucHJvdG9jb2wgPyBiLnByb3RvY29sIDogXFxcIlxcXCIsIGYgPSBiLnBhdGhuYW1lLmxhc3RJbmRleE9mKFxcXCIvXFxcIiksIGQgPSAoZSA/IGUgKyBcXFwiLy9cXFwiIDogXFxcIlxcXCIpICsgKGEuaG9zdCA/IGEuaG9zdCA6IGIuaG9zdCA/IGIuaG9zdCA6IFxcXCJcXFwiKSArIChcXFwiL1xcXCIgIT0gZC5zdWJzdHJpbmcoMCxcXG4gICAgICAgICAgICAxKSA/IGIucGF0aG5hbWUuc3Vic3RyaW5nKDAsIDAgPiBmID8gMCA6IGYpICsgXFxcIi9cXFwiIDogXFxcIlxcXCIpICsgZCk7XFxuICAgICAgICByZXR1cm4gZFxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5NID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgIHZhciBiID0gYXBwTWVhc3VyZW1lbnQuRChjKSxcXG4gICAgICAgICAgICBkLCBmLCBlID0gXFxcIlxcXCIsXFxuICAgICAgICAgICAgZyA9IDA7XFxuICAgICAgICByZXR1cm4gYiAmJiAoZCA9IGMucHJvdG9jb2wsIGYgPSBjLm9uY2xpY2ssICFjLmhyZWYgfHwgXFxcIkFcXFwiICE9IGIgJiYgXFxcIkFSRUFcXFwiICE9IGIgfHwgZiAmJiBkICYmICEoMCA+IGQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFxcXCJqYXZhc2NyaXB0XFxcIikpID8gZiA/IChlID0gYXBwTWVhc3VyZW1lbnQucmVwbGFjZShhcHBNZWFzdXJlbWVudC5yZXBsYWNlKGFwcE1lYXN1cmVtZW50LnJlcGxhY2UoYXBwTWVhc3VyZW1lbnQucmVwbGFjZShcXFwiXFxcIiArIGYsIFxcXCJcXFxcclxcXCIsIFxcXCJcXFwiKSwgXFxcIlxcXFxuXFxcIiwgXFxcIlxcXCIpLCBcXFwiXFxcXHRcXFwiLCBcXFwiXFxcIiksIFxcXCIgXFxcIiwgXFxcIlxcXCIpLCBnID0gMikgOiBcXFwiSU5QVVRcXFwiID09IGIgfHwgXFxcIlNVQk1JVFxcXCIgPT0gYiA/IChjLnZhbHVlID8gZSA9IGMudmFsdWUgOiBjLmlubmVyVGV4dCA/IGUgPSBjLmlubmVyVGV4dCA6IGMudGV4dENvbnRlbnQgJiYgKGUgPSBjLnRleHRDb250ZW50KSwgZyA9IDMpIDogXFxcIklNQUdFXFxcIiA9PSBiICYmIGMuc3JjICYmIChlID0gYy5zcmMpIDogZSA9IGFwcE1lYXN1cmVtZW50LklhKGMpLCBlKSA/IHtcXG4gICAgICAgICAgICBpZDogZS5zdWJzdHJpbmcoMCwgMTAwKSxcXG4gICAgICAgICAgICB0eXBlOiBnXFxuICAgICAgICB9IDogMFxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5RYiA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBmb3IgKHZhciBiID1cXG4gICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuRChjKSwgZCA9IGFwcE1lYXN1cmVtZW50Lk0oYyk7IGMgJiYgIWQgJiYgXFxcIkJPRFlcXFwiICE9IGI7KVxcbiAgICAgICAgICAgIGlmIChjID0gYy5wYXJlbnRFbGVtZW50ID8gYy5wYXJlbnRFbGVtZW50IDogYy5wYXJlbnROb2RlKSBiID0gYXBwTWVhc3VyZW1lbnQuRChjKSwgZCA9IGFwcE1lYXN1cmVtZW50Lk0oYyk7XFxuICAgICAgICBkICYmIFxcXCJCT0RZXFxcIiAhPSBiIHx8IChjID0gMCk7XFxuICAgICAgICBjICYmIChiID0gYy5vbmNsaWNrID8gXFxcIlxcXCIgKyBjLm9uY2xpY2sgOiBcXFwiXFxcIiwgMCA8PSBiLmluZGV4T2YoXFxcIi50bChcXFwiKSB8fCAwIDw9IGIuaW5kZXhPZihcXFwiLnRyYWNrTGluayhcXFwiKSkgJiYgKGMgPSAwKTtcXG4gICAgICAgIHJldHVybiBjXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LkhiID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgdmFyIGMsIGIsIGQgPSBhcHBNZWFzdXJlbWVudC5saW5rT2JqZWN0LFxcbiAgICAgICAgICAgIGYgPSBhcHBNZWFzdXJlbWVudC5saW5rVHlwZSxcXG4gICAgICAgICAgICBlID0gYXBwTWVhc3VyZW1lbnQubGlua1VSTCxcXG4gICAgICAgICAgICBnLCBoO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQub2EgPSAxO1xcbiAgICAgICAgZCB8fCAoYXBwTWVhc3VyZW1lbnQub2EgPSAwLCBkID0gYXBwTWVhc3VyZW1lbnQuY2xpY2tPYmplY3QpO1xcbiAgICAgICAgaWYgKGQpIHtcXG4gICAgICAgICAgICBjID0gYXBwTWVhc3VyZW1lbnQuRChkKTtcXG4gICAgICAgICAgICBmb3IgKGIgPSBhcHBNZWFzdXJlbWVudC5NKGQpOyBkICYmICFiICYmIFxcXCJCT0RZXFxcIiAhPSBjOylcXG4gICAgICAgICAgICAgICAgaWYgKGQgPSBkLnBhcmVudEVsZW1lbnQgPyBkLnBhcmVudEVsZW1lbnQgOiBkLnBhcmVudE5vZGUpIGMgPSBhcHBNZWFzdXJlbWVudC5EKGQpLCBiID0gYXBwTWVhc3VyZW1lbnQuTShkKTtcXG4gICAgICAgICAgICBiICYmIFxcXCJCT0RZXFxcIiAhPSBjIHx8IChkID0gMCk7XFxuICAgICAgICAgICAgaWYgKGQgJiYgIWFwcE1lYXN1cmVtZW50LmxpbmtPYmplY3QpIHtcXG4gICAgICAgICAgICAgICAgdmFyIGwgPSBkLm9uY2xpY2sgPyBcXFwiXFxcIiArIGQub25jbGljayA6XFxuICAgICAgICAgICAgICAgICAgICBcXFwiXFxcIjtcXG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gbC5pbmRleE9mKFxcXCIudGwoXFxcIikgfHwgMCA8PSBsLmluZGV4T2YoXFxcIi50cmFja0xpbmsoXFxcIikpIGQgPSAwXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBlbHNlIGFwcE1lYXN1cmVtZW50Lm9hID0gMTtcXG4gICAgICAgICFlICYmIGQgJiYgKGUgPSBhcHBNZWFzdXJlbWVudC5JYShkKSk7XFxuICAgICAgICBlICYmICFhcHBNZWFzdXJlbWVudC5saW5rTGVhdmVRdWVyeVN0cmluZyAmJiAoZyA9IGUuaW5kZXhPZihcXFwiP1xcXCIpLCAwIDw9IGcgJiYgKGUgPSBlLnN1YnN0cmluZygwLCBnKSkpO1xcbiAgICAgICAgaWYgKCFmICYmIGUpIHtcXG4gICAgICAgICAgICB2YXIgbSA9IDAsXFxuICAgICAgICAgICAgICAgIHEgPSAwLFxcbiAgICAgICAgICAgICAgICBuO1xcbiAgICAgICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC50cmFja0Rvd25sb2FkTGlua3MgJiYgYXBwTWVhc3VyZW1lbnQubGlua0Rvd25sb2FkRmlsZVR5cGVzKVxcbiAgICAgICAgICAgICAgICBmb3IgKGwgPSBlLnRvTG93ZXJDYXNlKCksIGcgPSBsLmluZGV4T2YoXFxcIj9cXFwiKSwgaCA9IGwuaW5kZXhPZihcXFwiI1xcXCIpLCAwIDw9IGcgPyAwIDw9IGggJiYgaCA8IGcgJiYgKGcgPSBoKSA6IGcgPSBoLCAwIDw9IGcgJiYgKGwgPSBsLnN1YnN0cmluZygwLCBnKSksIGcgPSBhcHBNZWFzdXJlbWVudC5saW5rRG93bmxvYWRGaWxlVHlwZXMudG9Mb3dlckNhc2UoKS5zcGxpdChcXFwiLFxcXCIpLCBoID0gMDsgaCA8IGcubGVuZ3RoOyBoKyspKG4gPSBnW2hdKSAmJiBsLnN1YnN0cmluZyhsLmxlbmd0aCAtIChuLmxlbmd0aCArIDEpKSA9PSBcXFwiLlxcXCIgKyBuICYmIChmID0gXFxcImRcXFwiKTtcXG4gICAgICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQudHJhY2tFeHRlcm5hbExpbmtzICYmXFxuICAgICAgICAgICAgICAgICFmICYmIChsID0gZS50b0xvd2VyQ2FzZSgpLCBhcHBNZWFzdXJlbWVudC5MYShsKSAmJiAoYXBwTWVhc3VyZW1lbnQubGlua0ludGVybmFsRmlsdGVycyB8fCAoYXBwTWVhc3VyZW1lbnQubGlua0ludGVybmFsRmlsdGVycyA9IF93aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpLCBnID0gMCwgYXBwTWVhc3VyZW1lbnQubGlua0V4dGVybmFsRmlsdGVycyA/IChnID0gYXBwTWVhc3VyZW1lbnQubGlua0V4dGVybmFsRmlsdGVycy50b0xvd2VyQ2FzZSgpLnNwbGl0KFxcXCIsXFxcIiksIG0gPSAxKSA6IGFwcE1lYXN1cmVtZW50LmxpbmtJbnRlcm5hbEZpbHRlcnMgJiYgKGcgPSBhcHBNZWFzdXJlbWVudC5saW5rSW50ZXJuYWxGaWx0ZXJzLnRvTG93ZXJDYXNlKCkuc3BsaXQoXFxcIixcXFwiKSksIGcpKSkge1xcbiAgICAgICAgICAgICAgICBmb3IgKGggPSAwOyBoIDwgZy5sZW5ndGg7IGgrKykgbiA9IGdbaF0sIDAgPD0gbC5pbmRleE9mKG4pICYmIChxID0gMSk7XFxuICAgICAgICAgICAgICAgIHEgPyBtICYmIChmID0gXFxcImVcXFwiKSA6IG0gfHwgKGYgPSBcXFwiZVxcXCIpXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQubGlua09iamVjdCA9IGQ7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5saW5rVVJMID0gZTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmxpbmtUeXBlID0gZjtcXG4gICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC50cmFja0NsaWNrTWFwIHx8IGFwcE1lYXN1cmVtZW50LnRyYWNrSW5saW5lU3RhdHMpIGFwcE1lYXN1cmVtZW50LmUgPSBcXFwiXFxcIiwgZCAmJiAoZiA9IGFwcE1lYXN1cmVtZW50LnBhZ2VOYW1lLCBlID0gMSwgZCA9IGQuc291cmNlSW5kZXgsIGYgfHwgKGYgPSBhcHBNZWFzdXJlbWVudC5wYWdlVVJMLCBlID0gMCksIF93aW5kb3cuc19vYmplY3RJRCAmJiAoYi5pZCA9XFxuICAgICAgICAgICAgX3dpbmRvdy5zX29iamVjdElELCBkID0gYi50eXBlID0gMSksIGYgJiYgYiAmJiBiLmlkICYmIGMgJiYgKGFwcE1lYXN1cmVtZW50LmUgPSBcXFwiJnBpZD1cXFwiICsgYXBwTWVhc3VyZW1lbnQuZXNjYXBlKGYuc3Vic3RyaW5nKDAsIDI1NSkpICsgKGUgPyBcXFwiJnBpZHQ9XFxcIiArIGUgOiBcXFwiXFxcIikgKyBcXFwiJm9pZD1cXFwiICsgYXBwTWVhc3VyZW1lbnQuZXNjYXBlKGIuaWQuc3Vic3RyaW5nKDAsIDEwMCkpICsgKGIudHlwZSA/IFxcXCImb2lkdD1cXFwiICsgYi50eXBlIDogXFxcIlxcXCIpICsgXFxcIiZvdD1cXFwiICsgYyArIChkID8gXFxcIiZvaT1cXFwiICsgZCA6IFxcXCJcXFwiKSkpXFxuICAgIH07XFxuXFxuICAgIGFwcE1lYXN1cmVtZW50LkFiID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgdmFyIGMgPSBhcHBNZWFzdXJlbWVudC5vYSxcXG4gICAgICAgICAgICBiID0gYXBwTWVhc3VyZW1lbnQubGlua1R5cGUsXFxuICAgICAgICAgICAgZCA9IGFwcE1lYXN1cmVtZW50LmxpbmtVUkwsXFxuICAgICAgICAgICAgZiA9IGFwcE1lYXN1cmVtZW50LmxpbmtOYW1lO1xcbiAgICAgICAgYiAmJiAoZCB8fCBmKSAmJiAoYiA9IGIudG9Mb3dlckNhc2UoKSwgXFxcImRcXFwiICE9IGIgJiYgXFxcImVcXFwiICE9IGIgJiYgKGIgPSBcXFwib1xcXCIpLCBhcHBNZWFzdXJlbWVudC5wZSA9IFxcXCJsbmtfXFxcIiArIGIsIGFwcE1lYXN1cmVtZW50LnBldjEgPSBkID8gYXBwTWVhc3VyZW1lbnQuZXNjYXBlKGQpIDogXFxcIlxcXCIsIGFwcE1lYXN1cmVtZW50LnBldjIgPSBmID8gYXBwTWVhc3VyZW1lbnQuZXNjYXBlKGYpIDogXFxcIlxcXCIsIGMgPSAxKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmFib3J0ICYmIChjID0gMCk7XFxuICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQudHJhY2tDbGlja01hcCB8fCBhcHBNZWFzdXJlbWVudC50cmFja0lubGluZVN0YXRzIHx8IGFwcE1lYXN1cmVtZW50LkFjdGl2aXR5TWFwKSB7XFxuICAgICAgICAgICAgdmFyIGIgPSB7fSxcXG4gICAgICAgICAgICAgICAgZCA9IDAsXFxuICAgICAgICAgICAgICAgIGUgPSBhcHBNZWFzdXJlbWVudC5jb29raWVSZWFkKFxcXCJzX3NxXFxcIiksXFxuICAgICAgICAgICAgICAgIGcgPSBlID8gZS5zcGxpdChcXFwiJlxcXCIpIDpcXG4gICAgICAgICAgICAgICAgMCxcXG4gICAgICAgICAgICAgICAgaCwgbCwgaywgZSA9IDA7XFxuICAgICAgICAgICAgaWYgKGcpXFxuICAgICAgICAgICAgICAgIGZvciAoaCA9IDA7IGggPCBnLmxlbmd0aDsgaCsrKSBsID0gZ1toXS5zcGxpdChcXFwiPVxcXCIpLCBmID0gYXBwTWVhc3VyZW1lbnQudW5lc2NhcGUobFswXSkuc3BsaXQoXFxcIixcXFwiKSwgbCA9IGFwcE1lYXN1cmVtZW50LnVuZXNjYXBlKGxbMV0pLCBiW2xdID0gZjtcXG4gICAgICAgICAgICBmID0gYXBwTWVhc3VyZW1lbnQuYWNjb3VudC5zcGxpdChcXFwiLFxcXCIpO1xcbiAgICAgICAgICAgIGggPSB7fTtcXG4gICAgICAgICAgICBmb3IgKGsgaW4gYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGEpIGsgJiYgIU9iamVjdC5wcm90b3R5cGVba10gJiYgXFxcImEuYWN0aXZpdHltYXAuXFxcIiA9PSBrLnN1YnN0cmluZygwLCAxNCkgJiYgKGhba10gPSBhcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YVtrXSwgYXBwTWVhc3VyZW1lbnQuY29udGV4dERhdGFba10gPSBcXFwiXFxcIik7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuZSA9IGFwcE1lYXN1cmVtZW50LnIoXFxcImNcXFwiLCBoKSArIChhcHBNZWFzdXJlbWVudC5lID8gYXBwTWVhc3VyZW1lbnQuZSA6IFxcXCJcXFwiKTtcXG4gICAgICAgICAgICBpZiAoYyB8fCBhcHBNZWFzdXJlbWVudC5lKSB7XFxuICAgICAgICAgICAgICAgIGMgJiYgIWFwcE1lYXN1cmVtZW50LmUgJiYgKGUgPSAxKTtcXG4gICAgICAgICAgICAgICAgZm9yIChsIGluIGIpXFxuICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGVbbF0pXFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGYubGVuZ3RoOyBrKyspXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZSAmJiAoZyA9IGJbbF0uam9pbihcXFwiLFxcXCIpLCBnID09IGFwcE1lYXN1cmVtZW50LmFjY291bnQgJiYgKGFwcE1lYXN1cmVtZW50LmUgKz0gKFxcXCImXFxcIiAhPSBsLmNoYXJBdCgwKSA/IFxcXCImXFxcIiA6IFxcXCJcXFwiKSArIGwsIGJbbF0gPSBbXSwgZCA9IDEpKSwgaCA9IDA7IGggPCBiW2xdLmxlbmd0aDsgaCsrKSBnID0gYltsXVtoXSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPT0gZltrXSAmJiAoZSAmJiAoYXBwTWVhc3VyZW1lbnQuZSArPSBcXFwiJnU9XFxcIiArIGFwcE1lYXN1cmVtZW50LmVzY2FwZShnKSArIChcXFwiJlxcXCIgIT0gbC5jaGFyQXQoMCkgPyBcXFwiJlxcXCIgOiBcXFwiXFxcIikgKyBsICsgXFxcIiZ1PTBcXFwiKSwgYltsXS5zcGxpY2UoaCwgMSksIGQgPSAxKTtcXG4gICAgICAgICAgICAgICAgYyB8fCAoZCA9IDEpO1xcbiAgICAgICAgICAgICAgICBpZiAoZCkge1xcbiAgICAgICAgICAgICAgICAgICAgZSA9IFxcXCJcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgaCA9IDI7XFxuICAgICAgICAgICAgICAgICAgICAhYyAmJiBhcHBNZWFzdXJlbWVudC5lICYmIChlID0gYXBwTWVhc3VyZW1lbnQuZXNjYXBlKGYuam9pbihcXFwiLFxcXCIpKSArIFxcXCI9XFxcIiArIGFwcE1lYXN1cmVtZW50LmVzY2FwZShhcHBNZWFzdXJlbWVudC5lKSwgaCA9IDEpO1xcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsIGluIGIpICFPYmplY3QucHJvdG90eXBlW2xdICYmIDAgPCBoICYmIDAgPCBiW2xdLmxlbmd0aCAmJiAoZSArPSAoZSA/IFxcXCImXFxcIiA6IFxcXCJcXFwiKSArIGFwcE1lYXN1cmVtZW50LmVzY2FwZShiW2xdLmpvaW4oXFxcIixcXFwiKSkgKyBcXFwiPVxcXCIgKyBhcHBNZWFzdXJlbWVudC5lc2NhcGUobCksIGgtLSk7XFxuICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5jb29raWVXcml0ZShcXFwic19zcVxcXCIsIGUpXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gY1xcbiAgICB9O1xcbiAgICAvL1xcbiAgICAvLyBQcmVwYXJlIHF1ZXJ5IHBhcmFtc1xcbiAgICAvL1xcbiAgICBhcHBNZWFzdXJlbWVudC5CYiA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIGlmICghYXBwTWVhc3VyZW1lbnQuTGIpIHtcXG4gICAgICAgICAgICB2YXIgYyA9IG5ldyBEYXRlLFxcbiAgICAgICAgICAgICAgICBiID0gbi5sb2NhdGlvbixcXG4gICAgICAgICAgICAgICAgZCwgZiwgZSA9IGYgPSBkID0gXFxcIlxcXCIsXFxuICAgICAgICAgICAgICAgIGcgPSBcXFwiXFxcIixcXG4gICAgICAgICAgICAgICAgaCA9IFxcXCJcXFwiLFxcbiAgICAgICAgICAgICAgICBsID0gXFxcIjEuMlxcXCIsXFxuICAgICAgICAgICAgICAgIC8vIFRPRE86ICEhISBUaGlzIGFwcGVhcnMgdG8gYmUgdGhlIHByb2JsZW1hdGljIHBhcmFtXFxuICAgICAgICAgICAgICAgIGsgPSBhcHBNZWFzdXJlbWVudC5jb29raWVXcml0ZShcXFwic19jY1xcXCIsIFxcXCJ0cnVlXFxcIiwgMCkgPyBcXFwiWVxcXCIgOiBcXFwiTlxcXCIsXFxuICAgICAgICAgICAgICAgIG0gPSBcXFwiXFxcIixcXG4gICAgICAgICAgICAgICAgcCA9IFxcXCJcXFwiO1xcbiAgICAgICAgICAgIGlmIChjLnNldFVUQ0RhdGUgJiYgKGwgPSBcXFwiMS4zXFxcIiwgKDApLnRvUHJlY2lzaW9uICYmXFxuICAgICAgICAgICAgICAgICAgICAobCA9IFxcXCIxLjVcXFwiLCBjID0gW10sIGMuZm9yRWFjaCkpKSB7XFxuICAgICAgICAgICAgICAgIGwgPSBcXFwiMS42XFxcIjtcXG4gICAgICAgICAgICAgICAgZiA9IDA7XFxuICAgICAgICAgICAgICAgIGQgPSB7fTtcXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIGYgPSBuZXcgSXRlcmF0b3IoZCksIGYubmV4dCAmJiAobCA9IFxcXCIxLjdcXFwiLCBjLnJlZHVjZSAmJiAobCA9IFxcXCIxLjhcXFwiLCBsLnRyaW0gJiYgKGwgPSBcXFwiMS44LjFcXFwiLCBEYXRlLnBhcnNlICYmIChsID0gXFxcIjEuOC4yXFxcIiwgT2JqZWN0LmNyZWF0ZSAmJiAobCA9IFxcXCIxLjguNVxcXCIpKSkpKVxcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChyKSB7fVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBkID0gc2NyZWVuLndpZHRoICsgXFxcInhcXFwiICsgc2NyZWVuLmhlaWdodDtcXG4gICAgICAgICAgICBlID0gbmF2aWdhdG9yLmphdmFFbmFibGVkKCkgPyBcXFwiWVxcXCIgOiBcXFwiTlxcXCI7XFxuICAgICAgICAgICAgZiA9IHNjcmVlbi5waXhlbERlcHRoID8gc2NyZWVuLnBpeGVsRGVwdGggOiBzY3JlZW4uY29sb3JEZXB0aDtcXG4gICAgICAgICAgICBnID0gYXBwTWVhc3VyZW1lbnQudy5pbm5lcldpZHRoID8gYXBwTWVhc3VyZW1lbnQudy5pbm5lcldpZHRoIDogYXBwTWVhc3VyZW1lbnQuX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcXG4gICAgICAgICAgICBoID0gYXBwTWVhc3VyZW1lbnQudy5pbm5lckhlaWdodCA/IGFwcE1lYXN1cmVtZW50LncuaW5uZXJIZWlnaHQgOiBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5iLmFkZEJlaGF2aW9yKFxcXCIjZGVmYXVsdCNob21lUGFnZVxcXCIpLCBtID0gYXBwTWVhc3VyZW1lbnQuYi5SYihiKSA/IFxcXCJZXFxcIiA6IFxcXCJOXFxcIlxcbiAgICAgICAgICAgIH0gY2F0Y2ggKHMpIHt9XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuYi5hZGRCZWhhdmlvcihcXFwiI2RlZmF1bHQjY2xpZW50Q2Fwc1xcXCIpLFxcbiAgICAgICAgICAgICAgICAgICAgcCA9IGFwcE1lYXN1cmVtZW50LmIuY29ubmVjdGlvblR5cGVcXG4gICAgICAgICAgICB9IGNhdGNoICh0KSB7fVxcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LnJlc29sdXRpb24gPSBkO1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmNvbG9yRGVwdGggPSBmO1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmphdmFzY3JpcHRWZXJzaW9uID0gbDtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5qYXZhRW5hYmxlZCA9IGU7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuY29va2llc0VuYWJsZWQgPSBrO1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmJyb3dzZXJXaWR0aCA9IGc7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuYnJvd3NlckhlaWdodCA9IGg7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuY29ubmVjdGlvblR5cGUgPSBwO1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmhvbWVwYWdlID0gbTtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5MYiA9IDFcXG4gICAgICAgIH1cXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuUSA9IHt9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5sb2FkTW9kdWxlID0gZnVuY3Rpb24gKGMsIGIpIHtcXG4gICAgICAgIHZhciBkID0gYXBwTWVhc3VyZW1lbnQuUVtjXTtcXG4gICAgICAgIGlmICghZCkge1xcbiAgICAgICAgICAgIGQgPSBfd2luZG93W1xcXCJBcHBNZWFzdXJlbWVudF9Nb2R1bGVfXFxcIiArIGNdID8gbmV3IF93aW5kb3dbXFxcIkFwcE1lYXN1cmVtZW50X01vZHVsZV9cXFwiICsgY10oYXBwTWVhc3VyZW1lbnQpIDoge307XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuUVtjXSA9IGFwcE1lYXN1cmVtZW50W2NdID0gZDtcXG4gICAgICAgICAgICBkLmViID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5pYlxcbiAgICAgICAgICAgIH07XFxuICAgICAgICAgICAgZC5qYiA9IGZ1bmN0aW9uIChiKSB7XFxuICAgICAgICAgICAgICAgIGlmIChkLmliID0gYikgYXBwTWVhc3VyZW1lbnRbYyArIFxcXCJfb25Mb2FkXFxcIl0gPSBiLCBhcHBNZWFzdXJlbWVudC5pYShjICsgXFxcIl9vbkxvYWRcXFwiLCBbYXBwTWVhc3VyZW1lbnQsIGRdLCAxKSB8fCBiKGFwcE1lYXN1cmVtZW50LCBkKVxcbiAgICAgICAgICAgIH07XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5ID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIFxcXCJvbkxvYWRcXFwiLCB7XFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGQuZWIsXFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGQuamJcXG4gICAgICAgICAgICAgICAgfSkgOiBkLl9vbGMgPSAxXFxuICAgICAgICAgICAgfSBjYXRjaCAoZikge1xcbiAgICAgICAgICAgICAgICBkLl9vbGMgPSAxXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgYiAmJiAoYXBwTWVhc3VyZW1lbnRbYyArIFxcXCJfb25Mb2FkXFxcIl0gPSBiLCBhcHBNZWFzdXJlbWVudC5pYShjICsgXFxcIl9vbkxvYWRcXFwiLCBbYXBwTWVhc3VyZW1lbnQsIGRdLCAxKSB8fCBiKGFwcE1lYXN1cmVtZW50LCBkKSlcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQucCA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICB2YXIgYiwgZDtcXG4gICAgICAgIGZvciAoYiBpbiBhcHBNZWFzdXJlbWVudC5RKVxcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZVtiXSAmJiAoZCA9IGFwcE1lYXN1cmVtZW50LlFbYl0pICYmIChkLl9vbGMgJiYgZC5vbkxvYWQgJiYgKGQuX29sYyA9IDAsIGQub25Mb2FkKGFwcE1lYXN1cmVtZW50LCBkKSksIGRbY10gJiYgZFtjXSgpKSkgcmV0dXJuIDE7XFxuICAgICAgICByZXR1cm4gMFxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5EYiA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHZhciBjID0gTWF0aC5mbG9vcigxRTEzICogTWF0aC5yYW5kb20oKSksXFxuICAgICAgICAgICAgYiA9IGFwcE1lYXN1cmVtZW50LnZpc2l0b3JTYW1wbGluZyxcXG4gICAgICAgICAgICBkID0gYXBwTWVhc3VyZW1lbnQudmlzaXRvclNhbXBsaW5nR3JvdXAsXFxuICAgICAgICAgICAgZCA9IFxcXCJzX3Zzbl9cXFwiICsgKGFwcE1lYXN1cmVtZW50LnZpc2l0b3JOYW1lc3BhY2UgPyBhcHBNZWFzdXJlbWVudC52aXNpdG9yTmFtZXNwYWNlIDogYXBwTWVhc3VyZW1lbnQuYWNjb3VudCkgKyAoZCA/IFxcXCJfXFxcIiArIGQgOiBcXFwiXFxcIiksXFxuICAgICAgICAgICAgZiA9IGFwcE1lYXN1cmVtZW50LmNvb2tpZVJlYWQoZCk7XFxuICAgICAgICBpZiAoYikge1xcbiAgICAgICAgICAgIGIgKj0gMTAwO1xcbiAgICAgICAgICAgIGYgJiYgKGYgPSBwYXJzZUludChmKSk7XFxuICAgICAgICAgICAgaWYgKCFmKSB7XFxuICAgICAgICAgICAgICAgIGlmICghYXBwTWVhc3VyZW1lbnQuY29va2llV3JpdGUoZCxcXG4gICAgICAgICAgICAgICAgICAgICAgICBjKSkgcmV0dXJuIDA7XFxuICAgICAgICAgICAgICAgIGYgPSBjXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmIChmICUgMUU0ID4gYikgcmV0dXJuIDBcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiAxXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LlIgPSBmdW5jdGlvbiAoYywgYikge1xcbiAgICAgICAgdmFyIGQsIGYsIGUsIGcsIGgsIGw7XFxuICAgICAgICBmb3IgKGQgPSAwOyAyID4gZDsgZCsrKVxcbiAgICAgICAgICAgIGZvciAoZiA9IDAgPCBkID8gYXBwTWVhc3VyZW1lbnQuQWEgOiBhcHBNZWFzdXJlbWVudC5nLCBlID0gMDsgZSA8IGYubGVuZ3RoOyBlKyspXFxuICAgICAgICAgICAgICAgIGlmIChnID0gZltlXSwgKGggPSBjW2ddKSB8fCBjW1xcXCIhXFxcIiArIGddKSB7XFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWIgJiYgKFxcXCJjb250ZXh0RGF0YVxcXCIgPT0gZyB8fCBcXFwicmV0cmlldmVMaWdodERhdGFcXFwiID09IGcpICYmIGFwcE1lYXN1cmVtZW50W2ddKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobCBpbiBhcHBNZWFzdXJlbWVudFtnXSkgaFtsXSB8fCAoaFtsXSA9IGFwcE1lYXN1cmVtZW50W2ddW2xdKTtcXG4gICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50W2ddID0gaFxcbiAgICAgICAgICAgICAgICB9XFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LlZhID0gZnVuY3Rpb24gKGMsIGIpIHtcXG4gICAgICAgIHZhciBkLCBmLCBlLCBnO1xcbiAgICAgICAgZm9yIChkID0gMDsgMiA+IGQ7IGQrKylcXG4gICAgICAgICAgICBmb3IgKGYgPSAwIDwgZCA/IGFwcE1lYXN1cmVtZW50LkFhIDogYXBwTWVhc3VyZW1lbnQuZywgZSA9IDA7IGUgPCBmLmxlbmd0aDsgZSsrKSBnID0gZltlXSwgY1tnXSA9IGFwcE1lYXN1cmVtZW50W2ddLCBiIHx8IGNbZ10gfHwgKGNbXFxcIiFcXFwiICsgZ10gPSAxKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC52YiA9IGZ1bmN0aW9uIChhKSB7XFxuICAgICAgICB2YXIgYiwgZCwgZiwgZSwgZywgaCA9IDAsXFxuICAgICAgICAgICAgbCwgayA9IFxcXCJcXFwiLFxcbiAgICAgICAgICAgIG0gPSBcXFwiXFxcIjtcXG4gICAgICAgIGlmIChhICYmIDI1NSA8IGEubGVuZ3RoICYmIChiID0gXFxcIlxcXCIgKyBhLCBkID0gYi5pbmRleE9mKFxcXCI/XFxcIiksIDAgPCBkICYmIChsID0gYi5zdWJzdHJpbmcoZCArXFxuICAgICAgICAgICAgICAgIDEpLCBiID0gYi5zdWJzdHJpbmcoMCwgZCksIGUgPSBiLnRvTG93ZXJDYXNlKCksIGYgPSAwLCBcXFwiaHR0cDovL1xcXCIgPT0gZS5zdWJzdHJpbmcoMCwgNykgPyBmICs9IDcgOiBcXFwiaHR0cHM6Ly9cXFwiID09IGUuc3Vic3RyaW5nKDAsIDgpICYmIChmICs9IDgpLCBkID0gZS5pbmRleE9mKFxcXCIvXFxcIiwgZiksIDAgPCBkICYmIChlID0gZS5zdWJzdHJpbmcoZiwgZCksIGcgPSBiLnN1YnN0cmluZyhkKSwgYiA9IGIuc3Vic3RyaW5nKDAsIGQpLCAwIDw9IGUuaW5kZXhPZihcXFwiZ29vZ2xlXFxcIikgPyBoID0gXFxcIixxLGllLHN0YXJ0LHNlYXJjaF9rZXksd29yZCxrdyxjZCxcXFwiIDogMCA8PSBlLmluZGV4T2YoXFxcInlhaG9vLmNvXFxcIikgJiYgKGggPSBcXFwiLHAsZWksXFxcIiksIGggJiYgbCkpKSkge1xcbiAgICAgICAgICAgIGlmICgoYSA9IGwuc3BsaXQoXFxcIiZcXFwiKSkgJiYgMSA8IGEubGVuZ3RoKSB7XFxuICAgICAgICAgICAgICAgIGZvciAoZiA9IDA7IGYgPCBhLmxlbmd0aDsgZisrKSBlID0gYVtmXSwgZCA9IGUuaW5kZXhPZihcXFwiPVxcXCIpLCAwIDwgZCAmJiAwIDw9IGguaW5kZXhPZihcXFwiLFxcXCIgKyBlLnN1YnN0cmluZygwLCBkKSArIFxcXCIsXFxcIikgPyBrICs9IChrID8gXFxcIiZcXFwiIDogXFxcIlxcXCIpICsgZSA6IG0gKz0gKG0gPyBcXFwiJlxcXCIgOiBcXFwiXFxcIikgKyBlO1xcbiAgICAgICAgICAgICAgICBrICYmIG0gPyBsID0gayArIFxcXCImXFxcIiArIG0gOiBtID0gXFxcIlxcXCJcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZCA9IDI1MyAtIChsLmxlbmd0aCAtIG0ubGVuZ3RoKSAtXFxuICAgICAgICAgICAgICAgIGIubGVuZ3RoO1xcbiAgICAgICAgICAgIGEgPSBiICsgKDAgPCBkID8gZy5zdWJzdHJpbmcoMCwgZCkgOiBcXFwiXFxcIikgKyBcXFwiP1xcXCIgKyBsXFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gYVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5hYiA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICB2YXIgYiA9IGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUsXFxuICAgICAgICAgICAgZCA9IFtcXFwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVxcXCIsIFxcXCJ2aXNpYmlsaXR5Y2hhbmdlXFxcIl07XFxuICAgICAgICBiIHx8IChiID0gYXBwTWVhc3VyZW1lbnQuX2RvY3VtZW50LndlYmtpdFZpc2liaWxpdHlTdGF0ZSk7XFxuICAgICAgICBpZiAoYiAmJiBcXFwicHJlcmVuZGVyXFxcIiA9PSBiKSB7XFxuICAgICAgICAgICAgaWYgKGMpXFxuICAgICAgICAgICAgICAgIGZvciAoYiA9IDA7IGIgPCBkLmxlbmd0aDsgYisrKSBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihkW2JdLCBmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU7XFxuICAgICAgICAgICAgICAgICAgICBiIHx8IChiID0gYXBwTWVhc3VyZW1lbnQuX2RvY3VtZW50LndlYmtpdFZpc2liaWxpdHlTdGF0ZSk7XFxuICAgICAgICAgICAgICAgICAgICBcXFwidmlzaWJsZVxcXCIgPT0gYiAmJiBjKClcXG4gICAgICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgcmV0dXJuICExXFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gITBcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZWEgPSAhMTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuSiA9ICExO1xcbiAgICBhcHBNZWFzdXJlbWVudC5sYiA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LkogPSAhMDtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmooKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5jYSA9ICExO1xcbiAgICBhcHBNZWFzdXJlbWVudC5WID0gITE7XFxuICAgIGFwcE1lYXN1cmVtZW50LmhiID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50Lm1hcmtldGluZ0Nsb3VkVmlzaXRvcklEID0gYztcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LlYgPSAhMDtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmooKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5mYSA9ICExO1xcbiAgICBhcHBNZWFzdXJlbWVudC5XID0gITE7XFxuICAgIGFwcE1lYXN1cmVtZW50Lm1iID1cXG4gICAgICAgIGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQudmlzaXRvck9wdGVkT3V0ID0gYztcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5XID0gITA7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuaigpXFxuICAgICAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5aID0gITE7XFxuICAgIGFwcE1lYXN1cmVtZW50LlMgPSAhMTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuWGEgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuYW5hbHl0aWNzVmlzaXRvcklEID0gYztcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LlMgPSAhMDtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmooKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5iYSA9ICExO1xcbiAgICBhcHBNZWFzdXJlbWVudC5VID0gITE7XFxuICAgIGFwcE1lYXN1cmVtZW50LlphID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludCA9IGM7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5VID0gITA7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5qKClcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuYWEgPSAhMTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuVCA9ICExO1xcbiAgICBhcHBNZWFzdXJlbWVudC5ZYSA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5hdWRpZW5jZU1hbmFnZXJCbG9iID0gYztcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LlQgPSAhMDtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmooKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC4kYSA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5tYXhEZWxheSB8fCAoYXBwTWVhc3VyZW1lbnQubWF4RGVsYXkgPSAyNTApO1xcbiAgICAgICAgcmV0dXJuIGFwcE1lYXN1cmVtZW50LnAoXFxcIl9kXFxcIikgPyAoYyAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcXG4gICAgICAgICAgICBjKClcXG4gICAgICAgIH0sIGFwcE1lYXN1cmVtZW50Lm1heERlbGF5KSwgITEpIDogITBcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZGEgPSAhMTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuSSA9ICExO1xcbiAgICBhcHBNZWFzdXJlbWVudC54YSA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LkkgPSAhMDtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmooKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5pc1JlYWR5VG9UcmFjayA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHZhciBjID0gITAsXFxuICAgICAgICAgICAgYiA9IGFwcE1lYXN1cmVtZW50LnZpc2l0b3IsXFxuICAgICAgICAgICAgZCwgZiwgZTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmVhIHx8IGFwcE1lYXN1cmVtZW50LkogfHwgKGFwcE1lYXN1cmVtZW50LmFiKGFwcE1lYXN1cmVtZW50LmxiKSA/IGFwcE1lYXN1cmVtZW50LkogPSAhMCA6IGFwcE1lYXN1cmVtZW50LmVhID0gITApO1xcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LmVhICYmICFhcHBNZWFzdXJlbWVudC5KKSByZXR1cm4gITE7XFxuICAgICAgICBiICYmIGIuaXNBbGxvd2VkKCkgJiYgKGFwcE1lYXN1cmVtZW50LmNhIHx8IGFwcE1lYXN1cmVtZW50Lm1hcmtldGluZ0Nsb3VkVmlzaXRvcklEIHx8ICFiLmdldE1hcmtldGluZ0Nsb3VkVmlzaXRvcklEIHx8IChhcHBNZWFzdXJlbWVudC5jYSA9ICEwLCBhcHBNZWFzdXJlbWVudC5tYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCA9IGIuZ2V0TWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQoW2FwcE1lYXN1cmVtZW50LCBhcHBNZWFzdXJlbWVudC5oYl0pLCBhcHBNZWFzdXJlbWVudC5tYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCAmJiAoYXBwTWVhc3VyZW1lbnQuViA9ICEwKSksIGFwcE1lYXN1cmVtZW50LmZhIHx8IGFwcE1lYXN1cmVtZW50LnZpc2l0b3JPcHRlZE91dCB8fCAhYi5pc09wdGVkT3V0IHx8IChhcHBNZWFzdXJlbWVudC5mYSA9ICEwLCBhcHBNZWFzdXJlbWVudC52aXNpdG9yT3B0ZWRPdXQgPSBiLmlzT3B0ZWRPdXQoW2FwcE1lYXN1cmVtZW50LCBhcHBNZWFzdXJlbWVudC5tYl0pLCBhcHBNZWFzdXJlbWVudC52aXNpdG9yT3B0ZWRPdXQgIT0gcCAmJiAoYXBwTWVhc3VyZW1lbnQuVyA9ICEwKSksIGFwcE1lYXN1cmVtZW50LlogfHwgYXBwTWVhc3VyZW1lbnQuYW5hbHl0aWNzVmlzaXRvcklEIHx8ICFiLmdldEFuYWx5dGljc1Zpc2l0b3JJRCB8fCAoYXBwTWVhc3VyZW1lbnQuWiA9ICEwLCBhcHBNZWFzdXJlbWVudC5hbmFseXRpY3NWaXNpdG9ySUQgPSBiLmdldEFuYWx5dGljc1Zpc2l0b3JJRChbYXBwTWVhc3VyZW1lbnQsIGFwcE1lYXN1cmVtZW50LlhhXSksIGFwcE1lYXN1cmVtZW50LmFuYWx5dGljc1Zpc2l0b3JJRCAmJiAoYXBwTWVhc3VyZW1lbnQuUyA9ICEwKSksIGFwcE1lYXN1cmVtZW50LmJhIHx8XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuYXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50IHx8ICFiLmdldEF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludCB8fCAoYXBwTWVhc3VyZW1lbnQuYmEgPSAhMCwgYXBwTWVhc3VyZW1lbnQuYXVkaWVuY2VNYW5hZ2VyTG9jYXRpb25IaW50ID0gYi5nZXRBdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQoW2FwcE1lYXN1cmVtZW50LCBhcHBNZWFzdXJlbWVudC5aYV0pLCBhcHBNZWFzdXJlbWVudC5hdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQgJiYgKGFwcE1lYXN1cmVtZW50LlUgPSAhMCkpLCBhcHBNZWFzdXJlbWVudC5hYSB8fCBhcHBNZWFzdXJlbWVudC5hdWRpZW5jZU1hbmFnZXJCbG9iIHx8ICFiLmdldEF1ZGllbmNlTWFuYWdlckJsb2IgfHwgKGFwcE1lYXN1cmVtZW50LmFhID0gITAsIGFwcE1lYXN1cmVtZW50LmF1ZGllbmNlTWFuYWdlckJsb2IgPSBiLmdldEF1ZGllbmNlTWFuYWdlckJsb2IoW2FwcE1lYXN1cmVtZW50LCBhcHBNZWFzdXJlbWVudC5ZYV0pLCBhcHBNZWFzdXJlbWVudC5hdWRpZW5jZU1hbmFnZXJCbG9iICYmIChhcHBNZWFzdXJlbWVudC5UID0gITApKSwgYyA9IGFwcE1lYXN1cmVtZW50LmNhICYmICFhcHBNZWFzdXJlbWVudC5WICYmICFhcHBNZWFzdXJlbWVudC5tYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCwgYiA9IGFwcE1lYXN1cmVtZW50LlogJiYgIWFwcE1lYXN1cmVtZW50LlMgJiYgIWFwcE1lYXN1cmVtZW50LmFuYWx5dGljc1Zpc2l0b3JJRCwgZCA9IGFwcE1lYXN1cmVtZW50LmJhICYmICFhcHBNZWFzdXJlbWVudC5VICYmICFhcHBNZWFzdXJlbWVudC5hdWRpZW5jZU1hbmFnZXJMb2NhdGlvbkhpbnQsIGYgPSBhcHBNZWFzdXJlbWVudC5hYSAmJiAhYXBwTWVhc3VyZW1lbnQuVCAmJiAhYXBwTWVhc3VyZW1lbnQuYXVkaWVuY2VNYW5hZ2VyQmxvYixcXG4gICAgICAgICAgICBlID0gYXBwTWVhc3VyZW1lbnQuZmEgJiYgIWFwcE1lYXN1cmVtZW50LlcsIGMgPSBjIHx8IGIgfHwgZCB8fCBmIHx8IGUgPyAhMSA6ICEwKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmRhIHx8IGFwcE1lYXN1cmVtZW50LkkgfHwgKGFwcE1lYXN1cmVtZW50LiRhKGFwcE1lYXN1cmVtZW50LnhhKSA/IGFwcE1lYXN1cmVtZW50LkkgPSAhMCA6IGFwcE1lYXN1cmVtZW50LmRhID0gITApO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuZGEgJiYgIWFwcE1lYXN1cmVtZW50LkkgJiYgKGMgPSAhMSk7XFxuICAgICAgICByZXR1cm4gY1xcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5vID0gcDtcXG4gICAgYXBwTWVhc3VyZW1lbnQudSA9IDA7XFxuICAgIGFwcE1lYXN1cmVtZW50LmNhbGxiYWNrV2hlblJlYWR5VG9UcmFjayA9IGZ1bmN0aW9uIChjLCBiLCBkKSB7XFxuICAgICAgICB2YXIgZjtcXG4gICAgICAgIGYgPSB7fTtcXG4gICAgICAgIGYucWIgPSBjO1xcbiAgICAgICAgZi5wYiA9IGI7XFxuICAgICAgICBmLm5iID0gZDtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50Lm8gPT0gcCAmJiAoYXBwTWVhc3VyZW1lbnQubyA9IFtdKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50Lm8ucHVzaChmKTtcXG4gICAgICAgIDAgPT0gYXBwTWVhc3VyZW1lbnQudSAmJiAoYXBwTWVhc3VyZW1lbnQudSA9IHNldEludGVydmFsKGFwcE1lYXN1cmVtZW50LmosIDEwMCkpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LmogPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICB2YXIgYztcXG4gICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC5pc1JlYWR5VG9UcmFjaygpICYmIChhcHBNZWFzdXJlbWVudC5rYigpLCBhcHBNZWFzdXJlbWVudC5vICE9IHApKVxcbiAgICAgICAgICAgIGZvciAoOyAwIDwgYXBwTWVhc3VyZW1lbnQuby5sZW5ndGg7KSBjID0gYXBwTWVhc3VyZW1lbnQuby5zaGlmdCgpLCBjLnBiLmFwcGx5KGMucWIsIGMubmIpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LmtiID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQudSAmJiAoY2xlYXJJbnRlcnZhbChhcHBNZWFzdXJlbWVudC51KSwgYXBwTWVhc3VyZW1lbnQudSA9IDApXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LmZiID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgIHZhciBiLCBkLCBmID0gcCxcXG4gICAgICAgICAgICBlID0gcDtcXG4gICAgICAgIGlmICghYXBwTWVhc3VyZW1lbnQuaXNSZWFkeVRvVHJhY2soKSkge1xcbiAgICAgICAgICAgIGIgPSBbXTtcXG4gICAgICAgICAgICBpZiAoYyAhPSBwKVxcbiAgICAgICAgICAgICAgICBmb3IgKGQgaW4gZiA9IHt9LCBjKSBmW2RdID0gY1tkXTtcXG4gICAgICAgICAgICBlID0ge307XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuVmEoZSwgITApO1xcbiAgICAgICAgICAgIGIucHVzaChmKTtcXG4gICAgICAgICAgICBiLnB1c2goZSk7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuY2FsbGJhY2tXaGVuUmVhZHlUb1RyYWNrKGFwcE1lYXN1cmVtZW50LCBhcHBNZWFzdXJlbWVudC50cmFjaywgYik7XFxuICAgICAgICAgICAgcmV0dXJuICEwXFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gITFcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQueGIgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICB2YXIgYyA9IGFwcE1lYXN1cmVtZW50LmNvb2tpZVJlYWQoXFxcInNfZmlkXFxcIiksXFxuICAgICAgICAgICAgYiA9IFxcXCJcXFwiLFxcbiAgICAgICAgICAgIGQgPSBcXFwiXFxcIixcXG4gICAgICAgICAgICBmO1xcbiAgICAgICAgZiA9IDg7XFxuICAgICAgICB2YXIgZSA9IDQ7XFxuICAgICAgICBpZiAoIWMgfHwgMCA+IGMuaW5kZXhPZihcXFwiLVxcXCIpKSB7XFxuICAgICAgICAgICAgZm9yIChjID0gMDsgMTYgPiBjOyBjKyspIGYgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBmKSwgYiArPSBcXFwiMDEyMzQ1Njc4OUFCQ0RFRlxcXCIuc3Vic3RyaW5nKGYsIGYgKyAxKSwgZiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGUpLCBkICs9IFxcXCIwMTIzNDU2Nzg5QUJDREVGXFxcIi5zdWJzdHJpbmcoZiwgZiArIDEpLCBmID0gZSA9IDE2O1xcbiAgICAgICAgICAgIGMgPSBiICsgXFxcIi1cXFwiICsgZFxcbiAgICAgICAgfVxcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuY29va2llV3JpdGUoXFxcInNfZmlkXFxcIiwgYywgMSkgfHwgKGMgPSAwKTtcXG4gICAgICAgIHJldHVybiBjXFxuICAgIH07XFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gICAgLy8gVHJhY2sgUGFnZSBWaWV3XFxuICAgIC8vIGh0dHBzOi8vbWFya2V0aW5nLmFkb2JlLmNvbS9yZXNvdXJjZXMvaGVscC9lbl9VUy9zYy9pbXBsZW1lbnQvZnVuY3Rpb25fdC5odG1sXFxuICAgIGFwcE1lYXN1cmVtZW50LnQgPSBhcHBNZWFzdXJlbWVudC50cmFjayA9IGZ1bmN0aW9uIChjLCBiKSB7XFxuICAgICAgICB2YXIgZCxcXG4gICAgICAgICAgICB0aW1lc3RhbXAgPSBuZXcgRGF0ZSxcXG4gICAgICAgICAgICAvLyBlID0+IFJhbmRvbWx5IGdlbmVyYXRlZCB2aXNpdG9yIElEP1xcbiAgICAgICAgICAgIGUgPSBcXFwic1xcXCIgKyBNYXRoLmZsb29yKHRpbWVzdGFtcC5nZXRUaW1lKCkgLyAxMDhFNSkgJSAxMCArXFxuICAgICAgICAgICAgTWF0aC5mbG9vcigxRTEzICogTWF0aC5yYW5kb20oKSksXFxuICAgICAgICAgICAgLy8gZyA9PiB1cmwgZXNjYXBlZCB0aW1lc3RhbXAgcXVlcnkgcGFyYW1cXG4gICAgICAgICAgICBnID0gdGltZXN0YW1wLmdldFllYXIoKSxcXG4gICAgICAgICAgICBnID0gXFxcInQ9XFxcIiArIGFwcE1lYXN1cmVtZW50LmVzY2FwZSh0aW1lc3RhbXAuZ2V0RGF0ZSgpICtcXG4gICAgICAgICAgICAgICAgXFxcIi9cXFwiICsgdGltZXN0YW1wLmdldE1vbnRoKCkgKyBcXFwiL1xcXCIgKyAoMTkwMCA+IGcgPyBnICsgMTkwMCA6IGcpICtcXG4gICAgICAgICAgICAgICAgXFxcIiBcXFwiICsgdGltZXN0YW1wLmdldEhvdXJzKCkgKyBcXFwiOlxcXCIgKyB0aW1lc3RhbXAuZ2V0TWludXRlcygpICsgXFxcIjpcXFwiICtcXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wLmdldFNlY29uZHMoKSArIFxcXCIgXFxcIiArIHRpbWVzdGFtcC5nZXREYXkoKSArIFxcXCIgXFxcIiArIHRpbWVzdGFtcC5nZXRUaW1lem9uZU9mZnNldCgpKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LnZpc2l0b3IgJiYgYXBwTWVhc3VyZW1lbnQudmlzaXRvci5nZXRBdXRoU3RhdGUgJiYgKGFwcE1lYXN1cmVtZW50LmF1dGhTdGF0ZSA9IGFwcE1lYXN1cmVtZW50LnZpc2l0b3IuZ2V0QXV0aFN0YXRlKCkpO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQucChcXFwiX3NcXFwiKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmZiKGMpIHx8XFxuICAgICAgICAgICAgKGIgJiYgYXBwTWVhc3VyZW1lbnQuUihiKSxcXG4gICAgICAgICAgICAgICAgYyAmJlxcbiAgICAgICAgICAgICAgICAoZCA9IHt9LFxcbiAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuVmEoZCwgMCksXFxuICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5SKGMpKSxcXG4gICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuRGIoKSAmJlxcbiAgICAgICAgICAgICAgICAhYXBwTWVhc3VyZW1lbnQudmlzaXRvck9wdGVkT3V0ICYmXFxuICAgICAgICAgICAgICAgIChhcHBNZWFzdXJlbWVudC5hbmFseXRpY3NWaXNpdG9ySUQgfHwgYXBwTWVhc3VyZW1lbnQubWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgfHxcXG4gICAgICAgICAgICAgICAgICAgIChhcHBNZWFzdXJlbWVudC5maWQgPSBhcHBNZWFzdXJlbWVudC54YigpKSxcXG4gICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LkhiKCksXFxuICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC51c2VQbHVnaW5zICYmXFxuICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5kb1BsdWdpbnMgJiZcXG4gICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmRvUGx1Z2lucyhhcHBNZWFzdXJlbWVudCksXFxuICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5hY2NvdW50ICYmXFxuICAgICAgICAgICAgICAgICAgICAoYXBwTWVhc3VyZW1lbnQuYWJvcnQgfHxcXG4gICAgICAgICAgICAgICAgICAgICAgICAoYXBwTWVhc3VyZW1lbnQudHJhY2tPZmZsaW5lICYmXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFhcHBNZWFzdXJlbWVudC50aW1lc3RhbXAgJiZcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFwcE1lYXN1cmVtZW50LnRpbWVzdGFtcCA9IE1hdGguZmxvb3IodGltZXN0YW1wLmdldFRpbWUoKSAvIDFFMykpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAgPSBfd2luZG93LmxvY2F0aW9uLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5wYWdlVVJMIHx8XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhcHBNZWFzdXJlbWVudC5wYWdlVVJMID0gdGltZXN0YW1wLmhyZWYgPyB0aW1lc3RhbXAuaHJlZiA6IHRpbWVzdGFtcCksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LnJlZmVycmVyIHx8XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LldhIHx8XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aW1lc3RhbXAgPSBhcHBNZWFzdXJlbWVudC5VdGlsLmdldFF1ZXJ5UGFyYW0oXFxcImFkb2JlX21jX3JlZlxcXCIsIG51bGwsIG51bGwsICEwKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LnJlZmVycmVyID0gdGltZXN0YW1wIHx8XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIDAgPT09IHRpbWVzdGFtcCA/IHZvaWQgMCA9PT0gdGltZXN0YW1wID8gXFxcIlxcXCIgOiB0aW1lc3RhbXAgOiBuLmRvY3VtZW50LnJlZmVycmVyKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuV2EgPSAxLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5yZWZlcnJlciA9IGFwcE1lYXN1cmVtZW50LnZiKGFwcE1lYXN1cmVtZW50LnJlZmVycmVyKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQucChcXFwiX2dcXFwiKSksXFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuQWIoKSAmJlxcbiAgICAgICAgICAgICAgICAgICAgICAgICFhcHBNZWFzdXJlbWVudC5hYm9ydCAmJlxcbiAgICAgICAgICAgICAgICAgICAgICAgIChhcHBNZWFzdXJlbWVudC52aXNpdG9yICYmICFhcHBNZWFzdXJlbWVudC5zdXBwbGVtZW50YWxEYXRhSUQgJiYgYXBwTWVhc3VyZW1lbnQudmlzaXRvci5nZXRTdXBwbGVtZW50YWxEYXRhSUQgJiZcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFwcE1lYXN1cmVtZW50LnN1cHBsZW1lbnRhbERhdGFJRCA9IGFwcE1lYXN1cmVtZW50LnZpc2l0b3IuZ2V0U3VwcGxlbWVudGFsRGF0YUlEKFxcXCJBcHBNZWFzdXJlbWVudDpcXFwiICsgYXBwTWVhc3VyZW1lbnQuX2luLCBhcHBNZWFzdXJlbWVudC5leHBlY3RTdXBwbGVtZW50YWxEYXRhID8gITEgOiAhMCkpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBRdWVyeSBwYXJhbSBzZXR1cFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5CYigpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnICs9IGFwcE1lYXN1cmVtZW50LnpiKCksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LkdiKGUsIGcpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5wKFxcXCJfdFxcXCIpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5yZWZlcnJlciA9IFxcXCJcXFwiKSkpLFxcbiAgICAgICAgICAgICAgICBjICYmXFxuICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LlIoZCwgMSkpO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuYWJvcnQgPSBhcHBNZWFzdXJlbWVudC5zdXBwbGVtZW50YWxEYXRhSUQgPSBhcHBNZWFzdXJlbWVudC50aW1lc3RhbXAgPSBhcHBNZWFzdXJlbWVudC5wYWdlVVJMUmVzdCA9IGFwcE1lYXN1cmVtZW50LmxpbmtPYmplY3QgPSBhcHBNZWFzdXJlbWVudC5jbGlja09iamVjdCA9IGFwcE1lYXN1cmVtZW50LmxpbmtVUkwgPSBhcHBNZWFzdXJlbWVudC5saW5rTmFtZSA9IGFwcE1lYXN1cmVtZW50LmxpbmtUeXBlID0gX3dpbmRvdy5zX29iamVjdElEID0gYXBwTWVhc3VyZW1lbnQucGUgPSBhcHBNZWFzdXJlbWVudC5wZXYxID0gYXBwTWVhc3VyZW1lbnQucGV2MiA9IGFwcE1lYXN1cmVtZW50LnBldjMgPSBhcHBNZWFzdXJlbWVudC5lID0gYXBwTWVhc3VyZW1lbnQubGlnaHRQcm9maWxlSUQgPSAwXFxuICAgIH07XFxuXFxuICAgIGFwcE1lYXN1cmVtZW50LnphID0gW107XFxuICAgIGFwcE1lYXN1cmVtZW50LnJlZ2lzdGVyUHJlVHJhY2tDYWxsYmFjayA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBmb3IgKHZhciBiID0gW10sIGQgPSAxOyBkIDwgYXJndW1lbnRzLmxlbmd0aDsgZCsrKSBiLnB1c2goYXJndW1lbnRzW2RdKTtcXG4gICAgICAgIFxcXCJmdW5jdGlvblxcXCIgPT0gdHlwZW9mIGMgPyBhcHBNZWFzdXJlbWVudC56YS5wdXNoKFtjLCBiXSkgOiBhcHBNZWFzdXJlbWVudC5kZWJ1Z1RyYWNraW5nICYmIGFwcE1lYXN1cmVtZW50LkYoXFxcIkRFQlVHOiBOb24gZnVuY3Rpb24gdHlwZSBwYXNzZWQgdG8gcmVnaXN0ZXJQcmVUcmFja0NhbGxiYWNrXFxcIilcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuY2IgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQud2EoYXBwTWVhc3VyZW1lbnQuemEsXFxuICAgICAgICAgICAgYylcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQueWEgPSBbXTtcXG4gICAgYXBwTWVhc3VyZW1lbnQucmVnaXN0ZXJQb3N0VHJhY2tDYWxsYmFjayA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBmb3IgKHZhciBiID0gW10sIGQgPSAxOyBkIDwgYXJndW1lbnRzLmxlbmd0aDsgZCsrKSBiLnB1c2goYXJndW1lbnRzW2RdKTtcXG4gICAgICAgIFxcXCJmdW5jdGlvblxcXCIgPT0gdHlwZW9mIGMgPyBhcHBNZWFzdXJlbWVudC55YS5wdXNoKFtjLCBiXSkgOiBhcHBNZWFzdXJlbWVudC5kZWJ1Z1RyYWNraW5nICYmIGFwcE1lYXN1cmVtZW50LkYoXFxcIkRFQlVHOiBOb24gZnVuY3Rpb24gdHlwZSBwYXNzZWQgdG8gcmVnaXN0ZXJQb3N0VHJhY2tDYWxsYmFja1xcXCIpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LmJiID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LndhKGFwcE1lYXN1cmVtZW50LnlhLCBjKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC53YSA9IGZ1bmN0aW9uIChjLCBiKSB7XFxuICAgICAgICBpZiAoXFxcIm9iamVjdFxcXCIgPT0gdHlwZW9mIGMpXFxuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBjLmxlbmd0aDsgZCsrKSB7XFxuICAgICAgICAgICAgICAgIHZhciBmID0gY1tkXVswXSxcXG4gICAgICAgICAgICAgICAgICAgIGUgPSBjW2RdWzFdO1xcbiAgICAgICAgICAgICAgICBlLnVuc2hpZnQoYik7XFxuICAgICAgICAgICAgICAgIGlmIChcXFwiZnVuY3Rpb25cXFwiID09IHR5cGVvZiBmKSB0cnkge1xcbiAgICAgICAgICAgICAgICAgICAgZi5hcHBseShudWxsLCBlKVxcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChnKSB7XFxuICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5kZWJ1Z1RyYWNraW5nICYmIGFwcE1lYXN1cmVtZW50LkYoZy5tZXNzYWdlKVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICB9O1xcbiAgICAvLyBMaW5rIFRyYWNraW5nIGZvciB0cmFja2luZyBleGl0cyBhbmQgZmlsZSBkb3dubG9hZHNcXG4gICAgLy8gaHR0cHM6Ly9tYXJrZXRpbmcuYWRvYmUuY29tL3Jlc291cmNlcy9oZWxwL2VuX1VTL3NjL2ltcGxlbWVudC9mdW5jdGlvbl90bC5odG1sXFxuICAgIGFwcE1lYXN1cmVtZW50LnRsID0gYXBwTWVhc3VyZW1lbnQudHJhY2tMaW5rID0gZnVuY3Rpb24gKGMsIGIsIGQsIGYsIGUpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmxpbmtPYmplY3QgPVxcbiAgICAgICAgICAgIGM7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5saW5rVHlwZSA9IGI7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5saW5rTmFtZSA9IGQ7XFxuICAgICAgICBlICYmIChhcHBNZWFzdXJlbWVudC5sID0gYywgYXBwTWVhc3VyZW1lbnQuQSA9IGUpO1xcbiAgICAgICAgcmV0dXJuIGFwcE1lYXN1cmVtZW50LnRyYWNrKGYpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LnRyYWNrTGlnaHQgPSBmdW5jdGlvbiAoYywgYiwgZCwgZikge1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQubGlnaHRQcm9maWxlSUQgPSBjO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQubGlnaHRTdG9yZUZvclNlY29uZHMgPSBiO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQubGlnaHRJbmNyZW1lbnRCeSA9IGQ7XFxuICAgICAgICByZXR1cm4gYXBwTWVhc3VyZW1lbnQudHJhY2soZilcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuY2xlYXJWYXJzID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgdmFyIGMsIGI7XFxuICAgICAgICBmb3IgKGMgPSAwOyBjIDwgYXBwTWVhc3VyZW1lbnQuZy5sZW5ndGg7IGMrKylcXG4gICAgICAgICAgICBpZiAoYiA9IGFwcE1lYXN1cmVtZW50LmdbY10sIFxcXCJwcm9wXFxcIiA9PSBiLnN1YnN0cmluZygwLCA0KSB8fCBcXFwiZVZhclxcXCIgPT0gYi5zdWJzdHJpbmcoMCwgNCkgfHwgXFxcImhpZXJcXFwiID09IGIuc3Vic3RyaW5nKDAsIDQpIHx8IFxcXCJsaXN0XFxcIiA9PSBiLnN1YnN0cmluZygwLCA0KSB8fCBcXFwiY2hhbm5lbFxcXCIgPT0gYiB8fCBcXFwiZXZlbnRzXFxcIiA9PSBiIHx8IFxcXCJldmVudExpc3RcXFwiID09IGIgfHwgXFxcInByb2R1Y3RzXFxcIiA9PSBiIHx8IFxcXCJwcm9kdWN0TGlzdFxcXCIgPT0gYiB8fCBcXFwicHVyY2hhc2VJRFxcXCIgPT0gYiB8fCBcXFwidHJhbnNhY3Rpb25JRFxcXCIgPT0gYiB8fCBcXFwic3RhdGVcXFwiID09IGIgfHwgXFxcInppcFxcXCIgPT0gYiB8fCBcXFwiY2FtcGFpZ25cXFwiID09IGIpIGFwcE1lYXN1cmVtZW50W2JdID1cXG4gICAgICAgICAgICAgICAgdm9pZCAwXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LnRhZ0NvbnRhaW5lck1hcmtlciA9IFxcXCJcXFwiO1xcbiAgICBhcHBNZWFzdXJlbWVudC5HYiA9IGZ1bmN0aW9uIChjLCBiKSB7XFxuICAgICAgICB2YXIgZCwgZiA9IGFwcE1lYXN1cmVtZW50LnRyYWNraW5nU2VydmVyO1xcbiAgICAgICAgZCA9IFxcXCJcXFwiO1xcbiAgICAgICAgdmFyIGUgPSBhcHBNZWFzdXJlbWVudC5kYyxcXG4gICAgICAgICAgICBnID0gXFxcInNjLlxcXCIsXFxuICAgICAgICAgICAgaCA9IGFwcE1lYXN1cmVtZW50LnZpc2l0b3JOYW1lc3BhY2U7XFxuICAgICAgICBmID8gYXBwTWVhc3VyZW1lbnQudHJhY2tpbmdTZXJ2ZXJTZWN1cmUgJiYgYXBwTWVhc3VyZW1lbnQuc3NsICYmIChmID0gYXBwTWVhc3VyZW1lbnQudHJhY2tpbmdTZXJ2ZXJTZWN1cmUpIDogKGggfHwgKGggPSBhcHBNZWFzdXJlbWVudC5hY2NvdW50LCBmID0gaC5pbmRleE9mKFxcXCIsXFxcIiksIDAgPD0gZiAmJiAoaCA9IGguc3Vic3RyaW5nKDAsIGYpKSwgaCA9IGgucmVwbGFjZSgvW15BLVphLXowLTldL2csIFxcXCJcXFwiKSksIGQgfHwgKGQgPSBcXFwiMm83Lm5ldFxcXCIpLCBlID0gZSA/IChcXFwiXFxcIiArIGUpLnRvTG93ZXJDYXNlKCkgOiBcXFwiZDFcXFwiLCBcXFwiMm83Lm5ldFxcXCIgPT0gZCAmJiAoXFxcImQxXFxcIiA9PSBlID8gZSA9IFxcXCIxMTJcXFwiIDogXFxcImQyXFxcIiA9PSBlICYmIChlID0gXFxcIjEyMlxcXCIpLCBnID0gXFxcIlxcXCIpLCBmID0gaCArIFxcXCIuXFxcIiArIGUgKyBcXFwiLlxcXCIgKyBnICsgZCk7XFxuICAgICAgICBkID0gYXBwTWVhc3VyZW1lbnQuc3NsID8gXFxcImh0dHBzOi8vXFxcIiA6IFxcXCJodHRwOi8vXFxcIjtcXG4gICAgICAgIGUgPSBhcHBNZWFzdXJlbWVudC5BdWRpZW5jZU1hbmFnZW1lbnQgJiYgYXBwTWVhc3VyZW1lbnQuQXVkaWVuY2VNYW5hZ2VtZW50LmlzUmVhZHkoKSB8fCAwICE9IGFwcE1lYXN1cmVtZW50LnVzZVBvc3RiYWNrcztcXG4gICAgICAgIGQgKz1cXG4gICAgICAgICAgICBmICsgXFxcIi9iL3NzL1xcXCIgKyBhcHBNZWFzdXJlbWVudC5hY2NvdW50ICsgXFxcIi9cXFwiICsgKGFwcE1lYXN1cmVtZW50Lm1vYmlsZSA/IFxcXCI1LlxcXCIgOiBcXFwiXFxcIikgKyAoZSA/IFxcXCIxMFxcXCIgOiBcXFwiMVxcXCIpICsgXFxcIi9KUy1cXFwiICsgYXBwTWVhc3VyZW1lbnQudmVyc2lvbiArIChhcHBNZWFzdXJlbWVudC5LYiA/IFxcXCJUXFxcIiA6IFxcXCJcXFwiKSArIChhcHBNZWFzdXJlbWVudC50YWdDb250YWluZXJNYXJrZXIgPyBcXFwiLVxcXCIgKyBhcHBNZWFzdXJlbWVudC50YWdDb250YWluZXJNYXJrZXIgOiBcXFwiXFxcIikgKyBcXFwiL1xcXCIgKyBjICsgXFxcIj9BUUI9MSZuZGg9MSZwZj0xJlxcXCIgKyAoZSA/IFxcXCJjYWxsYmFjaz1zX2NfaWxbXFxcIiArIGFwcE1lYXN1cmVtZW50Ll9pbiArIFxcXCJdLmRvUG9zdGJhY2tzJmV0PTEmXFxcIiA6IFxcXCJcXFwiKSArIGIgKyBcXFwiJkFRRT0xXFxcIjtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmNiKGQpO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQudGIoZCk7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5rYSgpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LlVhID0gL3soJT8pKC4qPykoJT8pfS87XFxuICAgIGFwcE1lYXN1cmVtZW50Lk9iID0gUmVnRXhwKGFwcE1lYXN1cmVtZW50LlVhLnNvdXJjZSwgXFxcImdcXFwiKTtcXG4gICAgYXBwTWVhc3VyZW1lbnQudWIgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgaWYgKFxcXCJvYmplY3RcXFwiID09IHR5cGVvZiBjLmRlc3RzKVxcbiAgICAgICAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYy5kZXN0cy5sZW5ndGg7ICsrYikge1xcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGMuZGVzdHNbYl07XFxuICAgICAgICAgICAgICAgIGlmIChcXFwic3RyaW5nXFxcIiA9PSB0eXBlb2YgZC5jICYmIFxcXCJhYS5cXFwiID09IGQuaWQuc3Vic3RyKDAsIDMpKVxcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZiA9IGQuYy5tYXRjaChhcHBNZWFzdXJlbWVudC5PYiksIGUgPSAwOyBlIDwgZi5sZW5ndGg7ICsrZSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnID1cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZltlXSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGcubWF0Y2goYXBwTWVhc3VyZW1lbnQuVWEpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrID0gXFxcIlxcXCI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgXFxcIiVcXFwiID09IGhbMV0gJiYgXFxcInRpbWV6b25lX29mZnNldFxcXCIgPT0gaFsyXSA/IGsgPSAobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkgOiBcXFwiJVxcXCIgPT0gaFsxXSAmJiBcXFwidGltZXN0YW1welxcXCIgPT0gaFsyXSAmJiAoayA9IGFwcE1lYXN1cmVtZW50LnliKCkpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuYyA9IGQuYy5yZXBsYWNlKGcsIGFwcE1lYXN1cmVtZW50LmVzY2FwZShrKSlcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LnliID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgdmFyIGMgPSBuZXcgRGF0ZSxcXG4gICAgICAgICAgICBiID0gbmV3IERhdGUoNkU0ICogTWF0aC5hYnMoYy5nZXRUaW1lem9uZU9mZnNldCgpKSk7XFxuICAgICAgICByZXR1cm4gYXBwTWVhc3VyZW1lbnQuayg0LCBjLmdldEZ1bGxZZWFyKCkpICsgXFxcIi1cXFwiICsgYXBwTWVhc3VyZW1lbnQuaygyLCBjLmdldE1vbnRoKCkgKyAxKSArIFxcXCItXFxcIiArIGFwcE1lYXN1cmVtZW50LmsoMiwgYy5nZXREYXRlKCkpICsgXFxcIlRcXFwiICsgYXBwTWVhc3VyZW1lbnQuaygyLCBjLmdldEhvdXJzKCkpICsgXFxcIjpcXFwiICsgYXBwTWVhc3VyZW1lbnQuaygyLCBjLmdldE1pbnV0ZXMoKSkgKyBcXFwiOlxcXCIgKyBhcHBNZWFzdXJlbWVudC5rKDIsIGMuZ2V0U2Vjb25kcygpKSArICgwIDwgYy5nZXRUaW1lem9uZU9mZnNldCgpID8gXFxcIi1cXFwiIDogXFxcIitcXFwiKSArIGFwcE1lYXN1cmVtZW50LmsoMiwgYi5nZXRVVENIb3VycygpKSArIFxcXCI6XFxcIiArIGFwcE1lYXN1cmVtZW50LmsoMiwgYi5nZXRVVENNaW51dGVzKCkpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LmsgPSBmdW5jdGlvbiAoYSxcXG4gICAgICAgIGIpIHtcXG4gICAgICAgIHJldHVybiAoQXJyYXkoYSArIDEpLmpvaW4oMCkgKyBiKS5zbGljZSgtYSlcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQudGEgPSB7fTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZG9Qb3N0YmFja3MgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgaWYgKFxcXCJvYmplY3RcXFwiID09IHR5cGVvZiBjKVxcbiAgICAgICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC51YihjKSwgXFxcIm9iamVjdFxcXCIgPT0gdHlwZW9mIGFwcE1lYXN1cmVtZW50LkF1ZGllbmNlTWFuYWdlbWVudCAmJiBcXFwiZnVuY3Rpb25cXFwiID09IHR5cGVvZiBhcHBNZWFzdXJlbWVudC5BdWRpZW5jZU1hbmFnZW1lbnQuaXNSZWFkeSAmJiBhcHBNZWFzdXJlbWVudC5BdWRpZW5jZU1hbmFnZW1lbnQuaXNSZWFkeSgpICYmIFxcXCJmdW5jdGlvblxcXCIgPT0gdHlwZW9mIGFwcE1lYXN1cmVtZW50LkF1ZGllbmNlTWFuYWdlbWVudC5wYXNzRGF0YSkgYXBwTWVhc3VyZW1lbnQuQXVkaWVuY2VNYW5hZ2VtZW50LnBhc3NEYXRhKGMpO1xcbiAgICAgICAgICAgIGVsc2UgaWYgKFxcXCJvYmplY3RcXFwiID09IHR5cGVvZiBjICYmIFxcXCJvYmplY3RcXFwiID09IHR5cGVvZiBjLmRlc3RzKVxcbiAgICAgICAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYy5kZXN0cy5sZW5ndGg7ICsrYikge1xcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGMuZGVzdHNbYl07XFxuICAgICAgICAgICAgICAgIFxcXCJvYmplY3RcXFwiID09IHR5cGVvZiBkICYmIFxcXCJzdHJpbmdcXFwiID09IHR5cGVvZiBkLmMgJiYgXFxcInN0cmluZ1xcXCIgPT0gdHlwZW9mIGQuaWQgJiYgXFxcImFhLlxcXCIgPT0gZC5pZC5zdWJzdHIoMCxcXG4gICAgICAgICAgICAgICAgICAgIDMpICYmIChhcHBNZWFzdXJlbWVudC50YVtkLmlkXSA9IG5ldyBJbWFnZSwgYXBwTWVhc3VyZW1lbnQudGFbZC5pZF0uYWx0ID0gXFxcIlxcXCIsIGFwcE1lYXN1cmVtZW50LnRhW2QuaWRdLnNyYyA9IGQuYylcXG4gICAgICAgICAgICB9XFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LnRiID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmkgfHwgYXBwTWVhc3VyZW1lbnQuQ2IoKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmkucHVzaChjKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50Lm1hID0gYXBwTWVhc3VyZW1lbnQuQygpO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuU2EoKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5DYiA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmkgPSBhcHBNZWFzdXJlbWVudC5FYigpO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuaSB8fCAoYXBwTWVhc3VyZW1lbnQuaSA9IFtdKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5FYiA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHZhciBjLCBiO1xcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LnJhKCkpIHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICAoYiA9IF93aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYXBwTWVhc3VyZW1lbnQucGEoKSkpICYmIChjID0gX3dpbmRvdy5KU09OLnBhcnNlKGIpKVxcbiAgICAgICAgICAgIH0gY2F0Y2ggKGQpIHt9XFxuICAgICAgICAgICAgcmV0dXJuIGNcXG4gICAgICAgIH1cXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQucmEgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICB2YXIgYyA9ICEwO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQudHJhY2tPZmZsaW5lICYmIGFwcE1lYXN1cmVtZW50Lm9mZmxpbmVGaWxlbmFtZSAmJiBfd2luZG93LmxvY2FsU3RvcmFnZSAmJiBfd2luZG93LkpTT04gfHwgKGMgPSAhMSk7XFxuICAgICAgICByZXR1cm4gY1xcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5KYSA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHZhciBjID0gMDtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmkgJiYgKGMgPSBhcHBNZWFzdXJlbWVudC5pLmxlbmd0aCk7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5xICYmIGMrKztcXG4gICAgICAgIHJldHVybiBjXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LmthID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LnEgJiYgKGFwcE1lYXN1cmVtZW50LkIgJiYgYXBwTWVhc3VyZW1lbnQuQi5jb21wbGV0ZSAmJiBhcHBNZWFzdXJlbWVudC5CLkcgJiYgYXBwTWVhc3VyZW1lbnQuQi52YSgpLFxcbiAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5xKSkgcmV0dXJuO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuS2EgPSBwO1xcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LnFhKSBhcHBNZWFzdXJlbWVudC5tYSA+IGFwcE1lYXN1cmVtZW50Lk8gJiYgYXBwTWVhc3VyZW1lbnQuUWEoYXBwTWVhc3VyZW1lbnQuaSksIGFwcE1lYXN1cmVtZW50LnVhKDUwMCk7XFxuICAgICAgICBlbHNlIHtcXG4gICAgICAgICAgICB2YXIgYyA9IGFwcE1lYXN1cmVtZW50Lm9iKCk7XFxuICAgICAgICAgICAgaWYgKDAgPCBjKSBhcHBNZWFzdXJlbWVudC51YShjKTtcXG4gICAgICAgICAgICBlbHNlIGlmIChjID0gYXBwTWVhc3VyZW1lbnQuR2EoKSkgYXBwTWVhc3VyZW1lbnQucSA9IDEsIGFwcE1lYXN1cmVtZW50LkZiKGMpLCBhcHBNZWFzdXJlbWVudC5KYihjKVxcbiAgICAgICAgfVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC51YSA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5LYSB8fCAoYyB8fCAoYyA9IDApLCBhcHBNZWFzdXJlbWVudC5LYSA9IHNldFRpbWVvdXQoYXBwTWVhc3VyZW1lbnQua2EsIGMpKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5vYiA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHZhciBjO1xcbiAgICAgICAgaWYgKCFhcHBNZWFzdXJlbWVudC50cmFja09mZmxpbmUgfHwgMCA+PSBhcHBNZWFzdXJlbWVudC5vZmZsaW5lVGhyb3R0bGVEZWxheSkgcmV0dXJuIDA7XFxuICAgICAgICBjID0gYXBwTWVhc3VyZW1lbnQuQygpIC0gYXBwTWVhc3VyZW1lbnQuUGE7XFxuICAgICAgICByZXR1cm4gYXBwTWVhc3VyZW1lbnQub2ZmbGluZVRocm90dGxlRGVsYXkgPCBjID8gMCA6IGFwcE1lYXN1cmVtZW50Lm9mZmxpbmVUaHJvdHRsZURlbGF5IC0gY1xcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5HYSA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIGlmICgwIDwgYXBwTWVhc3VyZW1lbnQuaS5sZW5ndGgpIHJldHVybiBhcHBNZWFzdXJlbWVudC5pLnNoaWZ0KClcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuRmIgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LmRlYnVnVHJhY2tpbmcpIHtcXG4gICAgICAgICAgICB2YXIgYiA9IFxcXCJBcHBNZWFzdXJlbWVudCBEZWJ1ZzogXFxcIiArIGM7XFxuICAgICAgICAgICAgYyA9IGMuc3BsaXQoXFxcIiZcXFwiKTtcXG4gICAgICAgICAgICB2YXIgZDtcXG4gICAgICAgICAgICBmb3IgKGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykgYiArPVxcbiAgICAgICAgICAgICAgICBcXFwiXFxcXG5cXFxcdFxcXCIgKyBhcHBNZWFzdXJlbWVudC51bmVzY2FwZShjW2RdKTtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5GKGIpXFxuICAgICAgICB9XFxuICAgIH07XFxuICAgIC8vIEdldCBJRFxcbiAgICBhcHBNZWFzdXJlbWVudC5nYiA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHJldHVybiBhcHBNZWFzdXJlbWVudC5tYXJrZXRpbmdDbG91ZFZpc2l0b3JJRCB8fCBhcHBNZWFzdXJlbWVudC5hbmFseXRpY3NWaXNpdG9ySURcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZ2V0SWQgPSBhcHBNZWFzdXJlbWVudC5nYjtcXG4gICAgYXBwTWVhc3VyZW1lbnQuWSA9ICExO1xcbiAgICB2YXIgdDtcXG4gICAgdHJ5IHtcXG4gICAgICAgIHQgPSBKU09OLnBhcnNlKCd7XFxcInhcXFwiOlxcXCJ5XFxcIn0nKVxcbiAgICB9IGNhdGNoICh3KSB7XFxuICAgICAgICB0ID0gbnVsbFxcbiAgICB9XFxuICAgIHQgJiYgXFxcInlcXFwiID09IHQueCA/IChhcHBNZWFzdXJlbWVudC5ZID0gITAsIGFwcE1lYXN1cmVtZW50LlggPSBmdW5jdGlvbiAoYSkge1xcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYSlcXG4gICAgfSkgOiBfd2luZG93LiQgJiYgX3dpbmRvdy4kLnBhcnNlSlNPTiA/IChhcHBNZWFzdXJlbWVudC5YID0gZnVuY3Rpb24gKGEpIHtcXG4gICAgICAgIHJldHVybiBfd2luZG93LiQucGFyc2VKU09OKGEpXFxuICAgIH0sIGFwcE1lYXN1cmVtZW50LlkgPSAhMCkgOiBhcHBNZWFzdXJlbWVudC5YID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgcmV0dXJuIG51bGxcXG4gICAgfTtcXG4gICAgLy8gU2VuZCBIVFRQIFJlcXVlc3RcXG4gICAgYXBwTWVhc3VyZW1lbnQuSmIgPSBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgdmFyIF9yZXF1ZXN0LCBkLCBmO1xcblxcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuZ2V0SWQoKSAmJiAyMDQ3IDwgYy5sZW5ndGggJiZcXG4gICAgICAgICAgICAoXFxcInVuZGVmaW5lZFxcXCIgIT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmXFxuICAgICAgICAgICAgICAgIChfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJ3aXRoQ3JlZGVudGlhbHNcXFwiIGluIF9yZXF1ZXN0ID8gZCA9IDEgOiBfcmVxdWVzdCA9IDApLCBfcmVxdWVzdCB8fFxcbiAgICAgICAgICAgICAgICBcXFwidW5kZWZpbmVkXFxcIiA9PSB0eXBlb2YgWERvbWFpblJlcXVlc3QgfHxcXG4gICAgICAgICAgICAgICAgKF9yZXF1ZXN0ID0gbmV3IFhEb21haW5SZXF1ZXN0LCBkID0gMiksIF9yZXF1ZXN0ICYmXFxuICAgICAgICAgICAgICAgIChhcHBNZWFzdXJlbWVudC5BdWRpZW5jZU1hbmFnZW1lbnQgJiZcXG4gICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LkF1ZGllbmNlTWFuYWdlbWVudC5pc1JlYWR5KCkgfHxcXG4gICAgICAgICAgICAgICAgICAgIDAgIT0gYXBwTWVhc3VyZW1lbnQudXNlUG9zdGJhY2tzKSAmJlxcbiAgICAgICAgICAgICAgICAoYXBwTWVhc3VyZW1lbnQuWSA/IF9yZXF1ZXN0LkJhID0gITAgOiBfcmVxdWVzdCA9IDApKTtcXG5cXG4gICAgICAgICFfcmVxdWVzdCAmJiBhcHBNZWFzdXJlbWVudC5UYSAmJiAoYyA9IGMuc3Vic3RyaW5nKDAsIDIwNDcpKTtcXG5cXG4gICAgICAgICFfcmVxdWVzdCAmJiBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAmJlxcbiAgICAgICAgICAgICgwICE9IGFwcE1lYXN1cmVtZW50LnVzZVBvc3RiYWNrcyB8fFxcbiAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5BdWRpZW5jZU1hbmFnZW1lbnQgJiZcXG4gICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuQXVkaWVuY2VNYW5hZ2VtZW50LmlzUmVhZHkoKSkgJiZcXG4gICAgICAgICAgICAoX3JlcXVlc3QgPSBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiU0NSSVBUXFxcIikpICYmXFxuICAgICAgICAgICAgXFxcImFzeW5jXFxcIiBpbiBfcmVxdWVzdCAmJlxcbiAgICAgICAgICAgICgoZiA9XFxuICAgICAgICAgICAgICAgICAgICAoZiA9IGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiSEVBRFxcXCIpKSAmJlxcbiAgICAgICAgICAgICAgICAgICAgZlswXSA/IGZbMF0gOiBhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQuYm9keSkgP1xcbiAgICAgICAgICAgICAgICAoX3JlcXVlc3QudHlwZSA9IFxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiLCBfcmVxdWVzdC5zZXRBdHRyaWJ1dGUoXFxcImFzeW5jXFxcIiwgXFxcImFzeW5jXFxcIiksIGQgPSAzKSA6IF9yZXF1ZXN0ID0gMCk7XFxuXFxuICAgICAgICBfcmVxdWVzdCB8fCAoX3JlcXVlc3QgPSBuZXcgSW1hZ2UsIF9yZXF1ZXN0LmFsdCA9IFxcXCJcXFwiLCBfcmVxdWVzdC5hYm9ydCB8fCBcXFwidW5kZWZpbmVkXFxcIiA9PT0gdHlwZW9mIF93aW5kb3cuSW5zdGFsbFRyaWdnZXIgfHxcXG4gICAgICAgICAgICAoX3JlcXVlc3QuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LnNyYyA9IHBcXG4gICAgICAgICAgICB9KSk7XFxuICAgICAgICBfcmVxdWVzdC5EYSA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5HICYmIChjbGVhclRpbWVvdXQoX3JlcXVlc3QuRyksIF9yZXF1ZXN0LkcgPSAwKVxcbiAgICAgICAgICAgIH0gY2F0Y2ggKGEpIHt9XFxuICAgICAgICB9O1xcbiAgICAgICAgX3JlcXVlc3Qub25sb2FkID0gX3JlcXVlc3QudmEgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuYmIoYyk7XFxuICAgICAgICAgICAgX3JlcXVlc3QuRGEoKTtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5zYigpO1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmdhKCk7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQucSA9IDA7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQua2EoKTtcXG4gICAgICAgICAgICBpZiAoX3JlcXVlc3QuQmEpIHtcXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuQmEgPSAhMTtcXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmRvUG9zdGJhY2tzKGFwcE1lYXN1cmVtZW50LlgoX3JlcXVlc3QucmVzcG9uc2VUZXh0KSlcXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZCkge31cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9O1xcbiAgICAgICAgX3JlcXVlc3Qub25hYm9ydCA9IF9yZXF1ZXN0Lm9uZXJyb3IgPSBfcmVxdWVzdC5IYSA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgICAgICBfcmVxdWVzdC5EYSgpO1xcbiAgICAgICAgICAgIChhcHBNZWFzdXJlbWVudC50cmFja09mZmxpbmUgfHwgYXBwTWVhc3VyZW1lbnQucWEpICYmIGFwcE1lYXN1cmVtZW50LnEgJiYgYXBwTWVhc3VyZW1lbnQuaS51bnNoaWZ0KGFwcE1lYXN1cmVtZW50LnJiKTtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5xID0gMDtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5tYSA+IGFwcE1lYXN1cmVtZW50Lk8gJiYgYXBwTWVhc3VyZW1lbnQuUWEoYXBwTWVhc3VyZW1lbnQuaSk7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuZ2EoKTtcXG4gICAgICAgICAgICBhcHBNZWFzdXJlbWVudC51YSg1MDApXFxuICAgICAgICB9O1xcbiAgICAgICAgX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgICAgIDQgPT0gX3JlcXVlc3QucmVhZHlTdGF0ZSAmJiAoMjAwID09IF9yZXF1ZXN0LnN0YXR1cyA/IF9yZXF1ZXN0LnZhKCkgOiBfcmVxdWVzdC5IYSgpKVxcbiAgICAgICAgfTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LlBhID0gYXBwTWVhc3VyZW1lbnQuQygpO1xcbiAgICAgICAgaWYgKDEgPT0gZCB8fCAyID09IGQpIHtcXG4gICAgICAgICAgICB2YXIgZSA9IGMuaW5kZXhPZihcXFwiP1xcXCIpO1xcbiAgICAgICAgICAgIGYgPSBjLnN1YnN0cmluZygwLFxcbiAgICAgICAgICAgICAgICBlKTtcXG4gICAgICAgICAgICBlID0gYy5zdWJzdHJpbmcoZSArIDEpO1xcbiAgICAgICAgICAgIGUgPSBlLnJlcGxhY2UoLyZjYWxsYmFjaz1bYS16QS1aMC05Xy5cXFxcW1xcXFxdXSsvLCBcXFwiXFxcIik7XFxuICAgICAgICAgICAgMSA9PSBkID8gKF9yZXF1ZXN0Lm9wZW4oXFxcIlBPU1RcXFwiLCBmLCAhMCksIF9yZXF1ZXN0LnNlbmQoZSkpIDogMiA9PSBkICYmIChfcmVxdWVzdC5vcGVuKFxcXCJQT1NUXFxcIiwgZiksIF9yZXF1ZXN0LnNlbmQoZSkpXFxuICAgICAgICB9IGVsc2UgaWYgKF9yZXF1ZXN0LnNyYyA9IGMsIDMgPT0gZCkge1xcbiAgICAgICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC5OYSkgdHJ5IHtcXG4gICAgICAgICAgICAgICAgZi5yZW1vdmVDaGlsZChhcHBNZWFzdXJlbWVudC5OYSlcXG4gICAgICAgICAgICB9IGNhdGNoIChnKSB7fVxcbiAgICAgICAgICAgIGYuZmlyc3RDaGlsZCA/IGYuaW5zZXJ0QmVmb3JlKF9yZXF1ZXN0LCBmLmZpcnN0Q2hpbGQpIDogZi5hcHBlbmRDaGlsZChfcmVxdWVzdCk7XFxuICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuTmEgPSBhcHBNZWFzdXJlbWVudC5CXFxuICAgICAgICB9XFxuICAgICAgICBfcmVxdWVzdC5HID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgX3JlcXVlc3QuRyAmJiAoX3JlcXVlc3QuY29tcGxldGUgPyBfcmVxdWVzdC52YSgpIDogKGFwcE1lYXN1cmVtZW50LnRyYWNrT2ZmbGluZSAmJiBfcmVxdWVzdC5hYm9ydCAmJiBfcmVxdWVzdC5hYm9ydCgpLCBfcmVxdWVzdC5IYSgpKSlcXG4gICAgICAgIH0sIDVFMyk7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5yYiA9IGM7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5CID0gX3dpbmRvd1tcXFwic19pX1xcXCIgKyBhcHBNZWFzdXJlbWVudC5yZXBsYWNlKGFwcE1lYXN1cmVtZW50LmFjY291bnQsIFxcXCIsXFxcIiwgXFxcIl9cXFwiKV0gPSBfcmVxdWVzdDtcXG4gICAgICAgIGlmIChhcHBNZWFzdXJlbWVudC51c2VGb3JjZWRMaW5rVHJhY2tpbmcgJiYgYXBwTWVhc3VyZW1lbnQuSyB8fCBhcHBNZWFzdXJlbWVudC5BKSBhcHBNZWFzdXJlbWVudC5mb3JjZWRMaW5rVHJhY2tpbmdUaW1lb3V0IHx8IChhcHBNZWFzdXJlbWVudC5mb3JjZWRMaW5rVHJhY2tpbmdUaW1lb3V0ID1cXG4gICAgICAgICAgICAyNTApLCBhcHBNZWFzdXJlbWVudC5oYSA9IHNldFRpbWVvdXQoYXBwTWVhc3VyZW1lbnQuZ2EsIGFwcE1lYXN1cmVtZW50LmZvcmNlZExpbmtUcmFja2luZ1RpbWVvdXQpXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LnNiID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LnJhKCkgJiYgIShhcHBNZWFzdXJlbWVudC5PYSA+IGFwcE1lYXN1cmVtZW50Lk8pKSB0cnkge1xcbiAgICAgICAgICAgIF93aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYXBwTWVhc3VyZW1lbnQucGEoKSksIGFwcE1lYXN1cmVtZW50Lk9hID0gYXBwTWVhc3VyZW1lbnQuQygpXFxuICAgICAgICB9IGNhdGNoIChjKSB7fVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5RYSA9IGZ1bmN0aW9uIChjKSB7XFxuICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQucmEoKSkge1xcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LlNhKCk7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhcHBNZWFzdXJlbWVudC5wYSgpLCBfd2luZG93LkpTT04uc3RyaW5naWZ5KGMpKSwgYXBwTWVhc3VyZW1lbnQuTyA9IGFwcE1lYXN1cmVtZW50LkMoKVxcbiAgICAgICAgICAgIH0gY2F0Y2ggKGIpIHt9XFxuICAgICAgICB9XFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LlNhID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgaWYgKGFwcE1lYXN1cmVtZW50LnRyYWNrT2ZmbGluZSkge1xcbiAgICAgICAgICAgIGlmICghYXBwTWVhc3VyZW1lbnQub2ZmbGluZUxpbWl0IHx8IDAgPj0gYXBwTWVhc3VyZW1lbnQub2ZmbGluZUxpbWl0KSBhcHBNZWFzdXJlbWVudC5vZmZsaW5lTGltaXQgPSAxMDtcXG4gICAgICAgICAgICBmb3IgKDsgYXBwTWVhc3VyZW1lbnQuaS5sZW5ndGggPiBhcHBNZWFzdXJlbWVudC5vZmZsaW5lTGltaXQ7KSBhcHBNZWFzdXJlbWVudC5HYSgpXFxuICAgICAgICB9XFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LmZvcmNlT2ZmbGluZSA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LnFhID0gITBcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZm9yY2VPbmxpbmUgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5xYSA9ICExXFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LnBhID0gZnVuY3Rpb24gKCkge1xcbiAgICAgICAgcmV0dXJuIGFwcE1lYXN1cmVtZW50Lm9mZmxpbmVGaWxlbmFtZSArXFxuICAgICAgICAgICAgXFxcIi1cXFwiICsgYXBwTWVhc3VyZW1lbnQudmlzaXRvck5hbWVzcGFjZSArIGFwcE1lYXN1cmVtZW50LmFjY291bnRcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuQyA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHJldHVybiAobmV3IERhdGUpLmdldFRpbWUoKVxcbiAgICB9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5MYSA9IGZ1bmN0aW9uIChhKSB7XFxuICAgICAgICBhID0gYS50b0xvd2VyQ2FzZSgpO1xcbiAgICAgICAgcmV0dXJuIDAgIT0gYS5pbmRleE9mKFxcXCIjXFxcIikgJiYgMCAhPSBhLmluZGV4T2YoXFxcImFib3V0OlxcXCIpICYmIDAgIT0gYS5pbmRleE9mKFxcXCJvcGVyYTpcXFwiKSAmJiAwICE9IGEuaW5kZXhPZihcXFwiamF2YXNjcmlwdDpcXFwiKSA/ICEwIDogITFcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuc2V0VGFnQ29udGFpbmVyID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgIHZhciBiLCBkLCBmO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQuS2IgPSBjO1xcbiAgICAgICAgZm9yIChiID0gMDsgYiA8IGFwcE1lYXN1cmVtZW50Ll9pbC5sZW5ndGg7IGIrKylcXG4gICAgICAgICAgICBpZiAoKGQgPSBhcHBNZWFzdXJlbWVudC5faWxbYl0pICYmIFxcXCJzX2xcXFwiID09IGQuX2MgJiYgZC50YWdDb250YWluZXJOYW1lID09IGMpIHtcXG4gICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuUihkKTtcXG4gICAgICAgICAgICAgICAgaWYgKGQubG1xKVxcbiAgICAgICAgICAgICAgICAgICAgZm9yIChiID0gMDsgYiA8IGQubG1xLmxlbmd0aDsgYisrKSBmID0gZC5sbXFbYl0sIGFwcE1lYXN1cmVtZW50LmxvYWRNb2R1bGUoZi5uKTtcXG4gICAgICAgICAgICAgICAgaWYgKGQubWwpXFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGYgaW4gZC5tbClcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnRbZl0pXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoYiBpbiBjID0gYXBwTWVhc3VyZW1lbnRbZl0sIGYgPSBkLm1sW2ZdLCBmKSAhT2JqZWN0LnByb3RvdHlwZVtiXSAmJiAoXFxcImZ1bmN0aW9uXFxcIiAhPVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGZbYl0gfHwgMCA+IChcXFwiXFxcIiArIGZbYl0pLmluZGV4T2YoXFxcInNfY19pbFxcXCIpKSAmJiAoY1tiXSA9IGZbYl0pO1xcbiAgICAgICAgICAgICAgICBpZiAoZC5tbXEpXFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGIgPSAwOyBiIDwgZC5tbXEubGVuZ3RoOyBiKyspIGYgPSBkLm1tcVtiXSwgYXBwTWVhc3VyZW1lbnRbZi5tXSAmJiAoYyA9IGFwcE1lYXN1cmVtZW50W2YubV0sIGNbZi5mXSAmJiBcXFwiZnVuY3Rpb25cXFwiID09IHR5cGVvZiBjW2YuZl0gJiYgKGYuYSA/IGNbZi5mXS5hcHBseShjLCBmLmEpIDogY1tmLmZdLmFwcGx5KGMpKSk7XFxuICAgICAgICAgICAgICAgIGlmIChkLnRxKVxcbiAgICAgICAgICAgICAgICAgICAgZm9yIChiID0gMDsgYiA8IGQudHEubGVuZ3RoOyBiKyspIGFwcE1lYXN1cmVtZW50LnRyYWNrKGQudHFbYl0pO1xcbiAgICAgICAgICAgICAgICBkLnMgPSBhcHBNZWFzdXJlbWVudDtcXG4gICAgICAgICAgICAgICAgYnJlYWtcXG4gICAgICAgICAgICB9XFxuICAgIH07XFxuICAgIGFwcE1lYXN1cmVtZW50LlV0aWwgPSB7XFxuICAgICAgICB1cmxFbmNvZGU6IGFwcE1lYXN1cmVtZW50LmVzY2FwZSxcXG4gICAgICAgIHVybERlY29kZTogYXBwTWVhc3VyZW1lbnQudW5lc2NhcGUsXFxuICAgICAgICBjb29raWVSZWFkOiBhcHBNZWFzdXJlbWVudC5jb29raWVSZWFkLFxcbiAgICAgICAgY29va2llV3JpdGU6IGFwcE1lYXN1cmVtZW50LmNvb2tpZVdyaXRlLFxcbiAgICAgICAgZ2V0UXVlcnlQYXJhbTogZnVuY3Rpb24gKGMsIGIsIGQsIGYpIHtcXG4gICAgICAgICAgICB2YXIgZSwgZyA9IFxcXCJcXFwiO1xcbiAgICAgICAgICAgIGIgfHwgKGIgPSBhcHBNZWFzdXJlbWVudC5wYWdlVVJMID8gYXBwTWVhc3VyZW1lbnQucGFnZVVSTCA6IF93aW5kb3cubG9jYXRpb24pO1xcbiAgICAgICAgICAgIGQgPSBkID8gZCA6IFxcXCImXFxcIjtcXG4gICAgICAgICAgICBpZiAoIWMgfHwgIWIpIHJldHVybiBnO1xcbiAgICAgICAgICAgIGIgPSBcXFwiXFxcIiArIGI7XFxuICAgICAgICAgICAgZSA9IGIuaW5kZXhPZihcXFwiP1xcXCIpO1xcbiAgICAgICAgICAgIGlmICgwID5cXG4gICAgICAgICAgICAgICAgZSkgcmV0dXJuIGc7XFxuICAgICAgICAgICAgYiA9IGQgKyBiLnN1YnN0cmluZyhlICsgMSkgKyBkO1xcbiAgICAgICAgICAgIGlmICghZiB8fCAhKDAgPD0gYi5pbmRleE9mKGQgKyBjICsgZCkgfHwgMCA8PSBiLmluZGV4T2YoZCArIGMgKyBcXFwiPVxcXCIgKyBkKSkpIHtcXG4gICAgICAgICAgICAgICAgZSA9IGIuaW5kZXhPZihcXFwiI1xcXCIpO1xcbiAgICAgICAgICAgICAgICAwIDw9IGUgJiYgKGIgPSBiLnN1YnN0cigwLCBlKSArIGQpO1xcbiAgICAgICAgICAgICAgICBlID0gYi5pbmRleE9mKGQgKyBjICsgXFxcIj1cXFwiKTtcXG4gICAgICAgICAgICAgICAgaWYgKDAgPiBlKSByZXR1cm4gZztcXG4gICAgICAgICAgICAgICAgYiA9IGIuc3Vic3RyaW5nKGUgKyBkLmxlbmd0aCArIGMubGVuZ3RoICsgMSk7XFxuICAgICAgICAgICAgICAgIGUgPSBiLmluZGV4T2YoZCk7XFxuICAgICAgICAgICAgICAgIDAgPD0gZSAmJiAoYiA9IGIuc3Vic3RyaW5nKDAsIGUpKTtcXG4gICAgICAgICAgICAgICAgMCA8IGIubGVuZ3RoICYmIChnID0gYXBwTWVhc3VyZW1lbnQudW5lc2NhcGUoYikpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gZ1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuSCA9IFxcXCJzdXBwbGVtZW50YWxEYXRhSUQgdGltZXN0YW1wIGR5bmFtaWNWYXJpYWJsZVByZWZpeCB2aXNpdG9ySUQgbWFya2V0aW5nQ2xvdWRWaXNpdG9ySUQgYW5hbHl0aWNzVmlzaXRvcklEIGF1ZGllbmNlTWFuYWdlckxvY2F0aW9uSGludCBhdXRoU3RhdGUgZmlkIHZtayB2aXNpdG9yTWlncmF0aW9uS2V5IHZpc2l0b3JNaWdyYXRpb25TZXJ2ZXIgdmlzaXRvck1pZ3JhdGlvblNlcnZlclNlY3VyZSBjaGFyU2V0IHZpc2l0b3JOYW1lc3BhY2UgY29va2llRG9tYWluUGVyaW9kcyBmcENvb2tpZURvbWFpblBlcmlvZHMgY29va2llTGlmZXRpbWUgcGFnZU5hbWUgcGFnZVVSTCBjdXN0b21lclBlcnNwZWN0aXZlIHJlZmVycmVyIGNvbnRleHREYXRhIGN1cnJlbmN5Q29kZSBsaWdodFByb2ZpbGVJRCBsaWdodFN0b3JlRm9yU2Vjb25kcyBsaWdodEluY3JlbWVudEJ5IHJldHJpZXZlTGlnaHRQcm9maWxlcyBkZWxldGVMaWdodFByb2ZpbGVzIHJldHJpZXZlTGlnaHREYXRhXFxcIi5zcGxpdChcXFwiIFxcXCIpO1xcbiAgICBhcHBNZWFzdXJlbWVudC5nID0gYXBwTWVhc3VyZW1lbnQuSC5jb25jYXQoXFxcInB1cmNoYXNlSUQgdmFyaWFibGVQcm92aWRlciBjaGFubmVsIHNlcnZlciBwYWdlVHlwZSB0cmFuc2FjdGlvbklEIGNhbXBhaWduIHN0YXRlIHppcCBldmVudHMgZXZlbnRzMiBwcm9kdWN0cyBhdWRpZW5jZU1hbmFnZXJCbG9iIHRudFxcXCIuc3BsaXQoXFxcIiBcXFwiKSk7XFxuICAgIGFwcE1lYXN1cmVtZW50Lm5hID0gXFxcInRpbWVzdGFtcCBjaGFyU2V0IHZpc2l0b3JOYW1lc3BhY2UgY29va2llRG9tYWluUGVyaW9kcyBjb29raWVMaWZldGltZSBjb250ZXh0RGF0YSBsaWdodFByb2ZpbGVJRCBsaWdodFN0b3JlRm9yU2Vjb25kcyBsaWdodEluY3JlbWVudEJ5XFxcIi5zcGxpdChcXFwiIFxcXCIpO1xcbiAgICBhcHBNZWFzdXJlbWVudC5QID0gYXBwTWVhc3VyZW1lbnQubmEuc2xpY2UoMCk7XFxuICAgIGFwcE1lYXN1cmVtZW50LkFhID0gXFxcImFjY291bnQgYWxsQWNjb3VudHMgZGVidWdUcmFja2luZyB2aXNpdG9yIHZpc2l0b3JPcHRlZE91dCB0cmFja09mZmxpbmUgb2ZmbGluZUxpbWl0IG9mZmxpbmVUaHJvdHRsZURlbGF5IG9mZmxpbmVGaWxlbmFtZSB1c2VQbHVnaW5zIGRvUGx1Z2lucyBjb25maWdVUkwgdmlzaXRvclNhbXBsaW5nIHZpc2l0b3JTYW1wbGluZ0dyb3VwIGxpbmtPYmplY3QgY2xpY2tPYmplY3QgbGlua1VSTCBsaW5rTmFtZSBsaW5rVHlwZSB0cmFja0Rvd25sb2FkTGlua3MgdHJhY2tFeHRlcm5hbExpbmtzIHRyYWNrQ2xpY2tNYXAgdHJhY2tJbmxpbmVTdGF0cyBsaW5rTGVhdmVRdWVyeVN0cmluZyBsaW5rVHJhY2tWYXJzIGxpbmtUcmFja0V2ZW50cyBsaW5rRG93bmxvYWRGaWxlVHlwZXMgbGlua0V4dGVybmFsRmlsdGVycyBsaW5rSW50ZXJuYWxGaWx0ZXJzIHVzZUZvcmNlZExpbmtUcmFja2luZyBmb3JjZWRMaW5rVHJhY2tpbmdUaW1lb3V0IHRyYWNraW5nU2VydmVyIHRyYWNraW5nU2VydmVyU2VjdXJlIHNzbCBhYm9ydCBtb2JpbGUgZGMgbGlnaHRUcmFja1ZhcnMgbWF4RGVsYXkgZXhwZWN0U3VwcGxlbWVudGFsRGF0YSB1c2VQb3N0YmFja3MgcmVnaXN0ZXJQcmVUcmFja0NhbGxiYWNrIHJlZ2lzdGVyUG9zdFRyYWNrQ2FsbGJhY2sgQXVkaWVuY2VNYW5hZ2VtZW50XFxcIi5zcGxpdChcXFwiIFxcXCIpO1xcbiAgICBmb3IgKG0gPSAwOyAyNTAgPj0gbTsgbSsrKSA3NiA+IG0gJiYgKGFwcE1lYXN1cmVtZW50LmcucHVzaChcXFwicHJvcFxcXCIgKyBtKSwgYXBwTWVhc3VyZW1lbnQuUC5wdXNoKFxcXCJwcm9wXFxcIiArIG0pKSwgYXBwTWVhc3VyZW1lbnQuZy5wdXNoKFxcXCJlVmFyXFxcIiArIG0pLCBhcHBNZWFzdXJlbWVudC5QLnB1c2goXFxcImVWYXJcXFwiICsgbSksIDYgPiBtICYmIGFwcE1lYXN1cmVtZW50LmcucHVzaChcXFwiaGllclxcXCIgKyBtKSwgNCA+IG0gJiYgYXBwTWVhc3VyZW1lbnQuZy5wdXNoKFxcXCJsaXN0XFxcIiArIG0pO1xcbiAgICBtID0gXFxcInBlIHBldjEgcGV2MiBwZXYzIGxhdGl0dWRlIGxvbmdpdHVkZSByZXNvbHV0aW9uIGNvbG9yRGVwdGggamF2YXNjcmlwdFZlcnNpb24gamF2YUVuYWJsZWQgY29va2llc0VuYWJsZWQgYnJvd3NlcldpZHRoIGJyb3dzZXJIZWlnaHQgY29ubmVjdGlvblR5cGUgaG9tZXBhZ2UgcGFnZVVSTFJlc3QgbWFya2V0aW5nQ2xvdWRPcmdJRFxcXCIuc3BsaXQoXFxcIiBcXFwiKTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuZyA9IGFwcE1lYXN1cmVtZW50LmcuY29uY2F0KG0pO1xcbiAgICBhcHBNZWFzdXJlbWVudC5IID0gYXBwTWVhc3VyZW1lbnQuSC5jb25jYXQobSk7XFxuICAgIGFwcE1lYXN1cmVtZW50LnNzbCA9IDAgPD0gX3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXFxcImh0dHBzXFxcIik7XFxuICAgIGFwcE1lYXN1cmVtZW50LmNoYXJTZXQgPSBcXFwiVVRGLThcXFwiO1xcbiAgICBhcHBNZWFzdXJlbWVudC5jb250ZXh0RGF0YSA9IHt9O1xcbiAgICBhcHBNZWFzdXJlbWVudC5vZmZsaW5lVGhyb3R0bGVEZWxheSA9XFxuICAgICAgICAwO1xcbiAgICBhcHBNZWFzdXJlbWVudC5vZmZsaW5lRmlsZW5hbWUgPSBcXFwiQXBwTWVhc3VyZW1lbnQub2ZmbGluZVxcXCI7XFxuICAgIGFwcE1lYXN1cmVtZW50LlBhID0gMDtcXG4gICAgYXBwTWVhc3VyZW1lbnQubWEgPSAwO1xcbiAgICBhcHBNZWFzdXJlbWVudC5PID0gMDtcXG4gICAgYXBwTWVhc3VyZW1lbnQuT2EgPSAwO1xcbiAgICBhcHBNZWFzdXJlbWVudC5saW5rRG93bmxvYWRGaWxlVHlwZXMgPSBcXFwiZXhlLHppcCx3YXYsbXAzLG1vdixtcGcsYXZpLHdtdixwZGYsZG9jLGRvY3gseGxzLHhsc3gscHB0LHBwdHhcXFwiO1xcbiAgICBhcHBNZWFzdXJlbWVudC53ID0gX3dpbmRvdztcXG4gICAgYXBwTWVhc3VyZW1lbnQuZCA9IF93aW5kb3cuZG9jdW1lbnQ7XFxuICAgIGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudCA9IGFwcE1lYXN1cmVtZW50LmQ7XFxuICAgIHRyeSB7XFxuICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQuVGEgPSAhMSwgbmF2aWdhdG9yKSB7XFxuICAgICAgICAgICAgdmFyIHYgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xcbiAgICAgICAgICAgIGlmIChcXFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXFxcIiA9PSBuYXZpZ2F0b3IuYXBwTmFtZSB8fCAwIDw9IHYuaW5kZXhPZihcXFwiTVNJRSBcXFwiKSB8fCAwIDw9IHYuaW5kZXhPZihcXFwiVHJpZGVudC9cXFwiKSAmJiAwIDw9IHYuaW5kZXhPZihcXFwiV2luZG93cyBOVCA2XFxcIikpIGFwcE1lYXN1cmVtZW50LlRhID0gITBcXG4gICAgICAgIH1cXG4gICAgfSBjYXRjaCAoeCkge31cXG4gICAgYXBwTWVhc3VyZW1lbnQuZ2EgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5oYSAmJiAoX3dpbmRvdy5jbGVhclRpbWVvdXQoYXBwTWVhc3VyZW1lbnQuaGEpLCBhcHBNZWFzdXJlbWVudC5oYSA9IHApO1xcbiAgICAgICAgYXBwTWVhc3VyZW1lbnQubCAmJiBhcHBNZWFzdXJlbWVudC5LICYmIGFwcE1lYXN1cmVtZW50LmwuZGlzcGF0Y2hFdmVudChhcHBNZWFzdXJlbWVudC5LKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LkEgJiYgKFxcXCJmdW5jdGlvblxcXCIgPT0gdHlwZW9mIGFwcE1lYXN1cmVtZW50LkEgPyBhcHBNZWFzdXJlbWVudC5BKCkgOlxcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmwgJiYgYXBwTWVhc3VyZW1lbnQubC5ocmVmICYmIChhcHBNZWFzdXJlbWVudC5fZG9jdW1lbnQubG9jYXRpb24gPSBhcHBNZWFzdXJlbWVudC5sLmhyZWYpKTtcXG4gICAgICAgIGFwcE1lYXN1cmVtZW50LmwgPSBhcHBNZWFzdXJlbWVudC5LID0gYXBwTWVhc3VyZW1lbnQuQSA9IDBcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuUmEgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5iID0gYXBwTWVhc3VyZW1lbnQuX2RvY3VtZW50LmJvZHk7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5fYm9keSA9IGFwcE1lYXN1cmVtZW50LmI7XFxuICAgICAgICBhcHBNZWFzdXJlbWVudC5fYm9keSA/IChhcHBNZWFzdXJlbWVudC52ID0gZnVuY3Rpb24gKGMpIHtcXG4gICAgICAgICAgICB2YXIgYiwgZCwgZiwgZSwgZztcXG4gICAgICAgICAgICBpZiAoIShhcHBNZWFzdXJlbWVudC5kICYmIGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcXFwiY3BwWFljdG5yXFxcIikgfHwgYyAmJiBjW1xcXCJzX2ZlX1xcXCIgKyBhcHBNZWFzdXJlbWVudC5faW5dKSkge1xcbiAgICAgICAgICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQuQ2EpXFxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwTWVhc3VyZW1lbnQudXNlRm9yY2VkTGlua1RyYWNraW5nKSBhcHBNZWFzdXJlbWVudC5fYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGFwcE1lYXN1cmVtZW50LnYsICExKTtcXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50Ll9ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgYXBwTWVhc3VyZW1lbnQudiwgITApO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LkNhID0gYXBwTWVhc3VyZW1lbnQudXNlRm9yY2VkTGlua1RyYWNraW5nID0gMDtcXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgZWxzZSBhcHBNZWFzdXJlbWVudC51c2VGb3JjZWRMaW5rVHJhY2tpbmcgPSAwO1xcbiAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC5jbGlja09iamVjdCA9IGMuc3JjRWxlbWVudCA/IGMuc3JjRWxlbWVudCA6IGMudGFyZ2V0O1xcbiAgICAgICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcHBNZWFzdXJlbWVudC5jbGlja09iamVjdCB8fCBhcHBNZWFzdXJlbWVudC5OICYmIGFwcE1lYXN1cmVtZW50Lk4gPT0gYXBwTWVhc3VyZW1lbnQuY2xpY2tPYmplY3QgfHwgIShhcHBNZWFzdXJlbWVudC5jbGlja09iamVjdC50YWdOYW1lIHx8IGFwcE1lYXN1cmVtZW50LmNsaWNrT2JqZWN0LnBhcmVudEVsZW1lbnQgfHxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuY2xpY2tPYmplY3QucGFyZW50Tm9kZSkpIGFwcE1lYXN1cmVtZW50LmNsaWNrT2JqZWN0ID0gMDtcXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gYXBwTWVhc3VyZW1lbnQuTiA9IGFwcE1lYXN1cmVtZW50LmNsaWNrT2JqZWN0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmxhICYmIChjbGVhclRpbWVvdXQoYXBwTWVhc3VyZW1lbnQubGEpLCBhcHBNZWFzdXJlbWVudC5sYSA9IDApO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50LmxhID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50Lk4gPT0gaCAmJiAoYXBwTWVhc3VyZW1lbnQuTiA9IDApXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMUU0KTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBmID0gYXBwTWVhc3VyZW1lbnQuSmEoKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBNZWFzdXJlbWVudC50cmFjaygpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmIDwgYXBwTWVhc3VyZW1lbnQuSmEoKSAmJiBhcHBNZWFzdXJlbWVudC51c2VGb3JjZWRMaW5rVHJhY2tpbmcgJiYgYy50YXJnZXQpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChlID0gYy50YXJnZXQ7IGUgJiYgZSAhPSBhcHBNZWFzdXJlbWVudC5fYm9keSAmJiBcXFwiQVxcXCIgIT0gZS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgJiYgXFxcIkFSRUFcXFwiICE9IGUudGFnTmFtZS50b1VwcGVyQ2FzZSgpOykgZSA9IGUucGFyZW50Tm9kZTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgJiYgKGcgPSBlLmhyZWYsIGFwcE1lYXN1cmVtZW50LkxhKGcpIHx8IChnID0gMCksIGQgPSBlLnRhcmdldCwgYy50YXJnZXQuZGlzcGF0Y2hFdmVudCAmJiBnICYmICghZCB8fCBcXFwiX3NlbGZcXFwiID09IGQgfHwgXFxcIl90b3BcXFwiID09IGQgfHwgXFxcIl9wYXJlbnRcXFwiID09IGQgfHwgX3dpbmRvdy5uYW1lICYmIGQgPT0gX3dpbmRvdy5uYW1lKSkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC5jcmVhdGVFdmVudChcXFwiTW91c2VFdmVudHNcXFwiKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAobCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgX3dpbmRvdy5Nb3VzZUV2ZW50XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYikge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIuaW5pdE1vdXNlRXZlbnQoXFxcImNsaWNrXFxcIiwgYy5idWJibGVzLCBjLmNhbmNlbGFibGUsIGMudmlldywgYy5kZXRhaWwsIGMuc2NyZWVuWCwgYy5zY3JlZW5ZLCBjLmNsaWVudFgsIGMuY2xpZW50WSwgYy5jdHJsS2V5LCBjLmFsdEtleSwgYy5zaGlmdEtleSwgYy5tZXRhS2V5LCBjLmJ1dHRvbiwgYy5yZWxhdGVkVGFyZ2V0KVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKG0pIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IDBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiAmJiAoYltcXFwic19mZV9cXFwiICsgYXBwTWVhc3VyZW1lbnQuX2luXSA9IGIuc19mZSA9IDEsIGMuc3RvcFByb3BhZ2F0aW9uKCksIGMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICYmIGMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIGMucHJldmVudERlZmF1bHQoKSwgYXBwTWVhc3VyZW1lbnQubCA9IGMudGFyZ2V0LCBhcHBNZWFzdXJlbWVudC5LID0gYilcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAobikge1xcbiAgICAgICAgICAgICAgICAgICAgYXBwTWVhc3VyZW1lbnQuY2xpY2tPYmplY3QgPSAwXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LCBhcHBNZWFzdXJlbWVudC5fYm9keSAmJiBhcHBNZWFzdXJlbWVudC5fYm9keS5hdHRhY2hFdmVudCA/IGFwcE1lYXN1cmVtZW50Ll9ib2R5LmF0dGFjaEV2ZW50KFxcXCJvbmNsaWNrXFxcIiwgYXBwTWVhc3VyZW1lbnQudikgOiBhcHBNZWFzdXJlbWVudC5fYm9keSAmJiBhcHBNZWFzdXJlbWVudC5fYm9keS5hZGRFdmVudExpc3RlbmVyICYmIChuYXZpZ2F0b3IgJiYgKDAgPD0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFxcXCJXZWJLaXRcXFwiKSAmJlxcbiAgICAgICAgICAgIGFwcE1lYXN1cmVtZW50Ll9kb2N1bWVudC5jcmVhdGVFdmVudCB8fCAwIDw9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcXFwiRmlyZWZveC8yXFxcIikgJiYgX3dpbmRvdy5Nb3VzZUV2ZW50KSAmJiAoYXBwTWVhc3VyZW1lbnQuQ2EgPSAxLCBhcHBNZWFzdXJlbWVudC51c2VGb3JjZWRMaW5rVHJhY2tpbmcgPSAxLCBhcHBNZWFzdXJlbWVudC5fYm9keS5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGFwcE1lYXN1cmVtZW50LnYsICEwKSksIGFwcE1lYXN1cmVtZW50Ll9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgYXBwTWVhc3VyZW1lbnQudiwgITEpKSkgOiBzZXRUaW1lb3V0KGFwcE1lYXN1cmVtZW50LlJhLCAzMClcXG4gICAgfTtcXG4gICAgYXBwTWVhc3VyZW1lbnQuUmEoKTtcXG4gICAgciA/IGFwcE1lYXN1cmVtZW50LnNldEFjY291bnQocikgOiBhcHBNZWFzdXJlbWVudC5GKFxcXCJFcnJvciwgbWlzc2luZyBSZXBvcnQgU3VpdGUgSUQgaW4gQXBwTWVhc3VyZW1lbnQgaW5pdGlhbGl6YXRpb25cXFwiKTtcXG4gICAgYXBwTWVhc3VyZW1lbnQubG9hZE1vZHVsZShcXFwiQWN0aXZpdHlNYXBcXFwiKVxcbn1cXG5cXG4vLyBHZXRJbnN0YW5jZShSU0lEKVxcbmZ1bmN0aW9uIHNfZ2kocnNpZCkge1xcbiAgICB2YXIgYSwgayA9IHdpbmRvdy5zX2NfaWwsXFxuICAgICAgICBwLCBuLCBtID0gcnNpZC5zcGxpdChcXFwiLFxcXCIpLFxcbiAgICAgICAgcywgdSwgdCA9IDA7XFxuICAgIGlmIChrKVxcbiAgICAgICAgZm9yIChwID0gMDsgIXQgJiYgcCA8IGsubGVuZ3RoOykge1xcbiAgICAgICAgICAgIGEgPSBrW3BdO1xcbiAgICAgICAgICAgIGlmIChcXFwic19jXFxcIiA9PSBhLl9jICYmIChhLmFjY291bnQgfHwgYS5vdW4pKVxcbiAgICAgICAgICAgICAgICBpZiAoYS5hY2NvdW50ICYmIGEuYWNjb3VudCA9PSByc2lkKSB0ID0gMTtcXG4gICAgICAgICAgICAgICAgZWxzZVxcbiAgICAgICAgICAgICAgICAgICAgZm9yIChuID0gYS5hY2NvdW50ID8gYS5hY2NvdW50IDogYS5vdW4sIG4gPSBhLmFsbEFjY291bnRzID8gYS5hbGxBY2NvdW50cyA6IG4uc3BsaXQoXFxcIixcXFwiKSwgcyA9IDA7IHMgPCBtLmxlbmd0aDsgcysrKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodSA9IDA7IHUgPCBuLmxlbmd0aDsgdSsrKSBtW3NdID09IG5bdV0gJiYgKHQgPSAxKTtcXG4gICAgICAgICAgICBwKytcXG4gICAgICAgIH1cXG4gICAgdCB8fCAoYSA9IG5ldyBBcHBNZWFzdXJlbWVudChyc2lkKSk7XFxuICAgIHJldHVybiBhXFxufVxcbkFwcE1lYXN1cmVtZW50LmdldEluc3RhbmNlID0gc19naTtcXG53aW5kb3cuc19vYmplY3RJRCB8fCAod2luZG93LnNfb2JqZWN0SUQgPSAwKTtcXG5cXG5mdW5jdGlvbiBzX3BnaWNxKCkge1xcbiAgICB2YXIgciA9IHdpbmRvdyxcXG4gICAgICAgIGEgPSByLnNfZ2lxLFxcbiAgICAgICAgaywgcCwgbjtcXG4gICAgaWYgKGEpXFxuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgYS5sZW5ndGg7IGsrKykgcCA9IGFba10sIG4gPSBzX2dpKHAub3VuKSwgbi5zZXRBY2NvdW50KHAudW4pLCBuLnNldFRhZ0NvbnRhaW5lcihwLnRhZ0NvbnRhaW5lck5hbWUpO1xcbiAgICByLnNfZ2lxID0gMFxcbn1cXG5zX3BnaWNxKCk7XFxuXFxudHJ5IHtcXG4gICAgZXhwb3J0cy5BcHBNZWFzdXJlbWVudCA9IEFwcE1lYXN1cmVtZW50O1xcbn0gY2F0Y2ggKEVycm9yKSB7XFxuICAgIGNvbnNvbGUubG9nKFxcXCJub3Qgbm9kZSBlbnZcXFwiKTtcXG59XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3Jhdy1sb2FkZXIhLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL2FwcF9tZWFzdXJlbWVudC0yLjMuMC51bm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 18 */
/* unknown exports provided */
/* all exports used */
/*!**********************************************************************************!*\
  !*** ../~/script-loader!./integrations/adobe/lib/app_measurement-2.3.0.unmin.js ***!
  \**********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! !../~/script-loader/addScript.js */ 0)(__webpack_require__(/*! !../~/raw-loader!./integrations/adobe/lib/app_measurement-2.3.0.unmin.js */ 17))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL2FwcF9tZWFzdXJlbWVudC0yLjMuMC51bm1pbi5qcz82YjhiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcIiEhL3ZpZHlhcmQvR3VhcmR0b3dlci9ub2RlX21vZHVsZXMvc2NyaXB0LWxvYWRlci9hZGRTY3JpcHQuanNcIikocmVxdWlyZShcIiEhL3ZpZHlhcmQvR3VhcmR0b3dlci9ub2RlX21vZHVsZXMvcmF3LWxvYWRlci9pbmRleC5qcyEvdmlkeWFyZC9HdWFyZHRvd2VyL2NsaWVudC9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL2FwcF9tZWFzdXJlbWVudC0yLjMuMC51bm1pbi5qc1wiKSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9+L3NjcmlwdC1sb2FkZXIhLi9pbnRlZ3JhdGlvbnMvYWRvYmUvbGliL2FwcF9tZWFzdXJlbWVudC0yLjMuMC51bm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ })
/******/ ]);